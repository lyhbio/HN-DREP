"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[631],{37046:function(Dt,it,C){var p=C(80881),o=C(49865),t=C(88908),r=C(76867),n=C(39186),e=C(3023),s=p.Z.extend(function(){return{projectionMatrix:new o.Z,invProjectionMatrix:new o.Z,viewMatrix:new o.Z,frustum:new t.Z}},function(){this.update(!0)},{update:function(h){p.Z.prototype.update.call(this,h),o.Z.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),o.Z.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(h){o.Z.copy(this.viewMatrix,h),o.Z.invert(this.worldTransform,h),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(h){o.Z.copy(this.projectionMatrix,h),o.Z.invert(this.invProjectionMatrix,h),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var h=n.Z.create();return function(i,a){var l=a!==void 0?a:new r.Z,_=i.array[0],M=i.array[1];return n.Z.set(h,_,M,-1,1),n.Z.transformMat4(h,h,this.invProjectionMatrix.array),n.Z.transformMat4(h,h,this.worldTransform.array),e.Z.scale(l.origin.array,h,1/h[3]),n.Z.set(h,_,M,1,1),n.Z.transformMat4(h,h,this.invProjectionMatrix.array),n.Z.transformMat4(h,h,this.worldTransform.array),e.Z.scale(h,h,1/h[3]),e.Z.sub(l.direction.array,h,l.origin.array),e.Z.normalize(l.direction.array,l.direction.array),l.direction._dirty=!0,l.origin._dirty=!0,l}}()});it.Z=s},76728:function(Dt,it,C){var p=C(85038),o=C(88693),t=C(23044),r=C(29100),n="framebuffer",e="renderbuffer",s=e+"_width",h=e+"_height",i=e+"_attached",a="depthtexture_attached",l=t.Z.FRAMEBUFFER,_=t.Z.RENDERBUFFER,M=t.Z.DEPTH_ATTACHMENT,m=t.Z.COLOR_ATTACHMENT0,T=p.Z.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new r.Z,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(y){if(y.__currentFrameBuffer){if(y.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}y.__currentFrameBuffer=this;var A=y.gl;A.bindFramebuffer(l,this._getFrameBufferGL(y)),this._boundRenderer=y;var D=this._cache;D.put("viewport",y.viewport);var L=!1,I,F;for(var b in this._textures){L=!0;var O=this._textures[b];O&&(I=O.texture.width,F=O.texture.height,this._doAttach(y,O.texture,b,O.target))}this._width=I,this._height=F,!L&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?y.setViewport(this.viewport):y.setViewport(0,0,I,F,1);var P=D.get("attached_textures");if(P){for(var b in P)if(!this._textures[b]){var E=P[b];this._doDetach(A,b,E)}}if(!D.get(a)&&this.depthBuffer){D.miss(e)&&D.put(e,A.createRenderbuffer());var c=D.get(e);(I!==D.get(s)||F!==D.get(h))&&(A.bindRenderbuffer(_,c),A.renderbufferStorage(_,A.DEPTH_COMPONENT16,I,F),D.put(s,I),D.put(h,F),A.bindRenderbuffer(_,null)),D.get(i)||(A.framebufferRenderbuffer(l,M,_,c),D.put(i,!0))}},unbind:function(y){y.__currentFrameBuffer=null;var A=y.gl;A.bindFramebuffer(l,null),this._boundRenderer=null,this._cache.use(y.__uid__);var D=this._cache.get("viewport");D&&y.setViewport(D),this.updateMipmap(y)},updateMipmap:function(y){var A=y.gl;for(var D in this._textures){var L=this._textures[D];if(L){var I=L.texture;if(!I.NPOT&&I.useMipmap&&I.minFilter===o.Z.LINEAR_MIPMAP_LINEAR){var F=I.textureType==="textureCube"?t.Z.TEXTURE_CUBE_MAP:t.Z.TEXTURE_2D;A.bindTexture(F,I.getWebGLTexture(y)),A.generateMipmap(F),A.bindTexture(F,null)}}}},checkStatus:function(y){return y.checkFramebufferStatus(l)},_getFrameBufferGL:function(y){var A=this._cache;return A.use(y.__uid__),A.miss(n)&&A.put(n,y.gl.createFramebuffer()),A.get(n)},attach:function(y,A,D){if(!y.width)throw new Error("The texture attached to color buffer is not a valid.");A=A||m,D=D||t.Z.TEXTURE_2D;var L=this._boundRenderer,I=L&&L.gl,F;if(I){var b=this._cache;b.use(L.__uid__),F=b.get("attached_textures")}var O=this._textures[A];if(!(O&&O.target===D&&O.texture===y&&F&&F[A]!=null)){var P=!0;L&&(P=this._doAttach(L,y,A,D),this.viewport||L.setViewport(0,0,y.width,y.height,1)),P&&(this._textures[A]=this._textures[A]||{},this._textures[A].texture=y,this._textures[A].target=D)}},_doAttach:function(y,A,D,L){var I=y.gl,F=A.getWebGLTexture(y),b=this._cache.get("attached_textures");if(b&&b[D]){var O=b[D];if(O.texture===A&&O.target===L)return}D=+D;var P=!0;if(D===M||D===t.Z.DEPTH_STENCIL_ATTACHMENT){var E=y.getGLExtension("WEBGL_depth_texture");if(E||(console.error("Depth texture is not supported by the browser"),P=!1),A.format!==t.Z.DEPTH_COMPONENT&&A.format!==t.Z.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),P=!1),P){var c=this._cache.get(e);c&&(I.framebufferRenderbuffer(l,M,_,null),I.deleteRenderbuffer(c),this._cache.put(e,!1)),this._cache.put(i,!1),this._cache.put(a,!0)}}return I.framebufferTexture2D(l,D,L,F,0),b||(b={},this._cache.put("attached_textures",b)),b[D]=b[D]||{},b[D].texture=A,b[D].target=L,P},_doDetach:function(y,A,D){y.framebufferTexture2D(l,A,D,null,0);var L=this._cache.get("attached_textures");L&&L[A]&&(L[A]=null),(A===M||A===t.Z.DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(a,!1)},detach:function(y,A){if(this._textures[y]=null,this._boundRenderer){var D=this._cache;D.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,y,A)}},dispose:function(y){var A=y.gl,D=this._cache;D.use(y.__uid__);var L=D.get(e);L&&A.deleteRenderbuffer(L);var I=D.get(n);I&&A.deleteFramebuffer(I),D.deleteContext(y.__uid__),this._textures={}}});T.DEPTH_ATTACHMENT=M,T.COLOR_ATTACHMENT0=m,T.STENCIL_ATTACHMENT=t.Z.STENCIL_ATTACHMENT,T.DEPTH_STENCIL_ATTACHMENT=t.Z.DEPTH_STENCIL_ATTACHMENT,it.Z=T},11476:function(Dt,it,C){C.d(it,{Z:function(){return I}});var p=C(82544),o=C(3023),t=C(85822),r=C(37233),n=C(85038),e=C(23044),s=C(29100);function h(F){return{byte:p.Z.Int8Array,ubyte:p.Z.Uint8Array,short:p.Z.Int16Array,ushort:p.Z.Uint16Array}[F]||p.Z.Float32Array}function i(F){return"attr_"+F}function a(F,b,O,P){switch(this.name=F,this.type=b,this.size=O,this.semantic=P||"",this.value=null,O){case 1:this.get=function(E){return this.value[E]},this.set=function(E,c){this.value[E]=c},this.copy=function(E,c){this.value[E]=this.value[E]};break;case 2:this.get=function(E,c){var f=this.value;return c[0]=f[E*2],c[1]=f[E*2+1],c},this.set=function(E,c){var f=this.value;f[E*2]=c[0],f[E*2+1]=c[1]},this.copy=function(E,c){var f=this.value;c*=2,E*=2,f[E]=f[c],f[E+1]=f[c+1]};break;case 3:this.get=function(E,c){var f=E*3,u=this.value;return c[0]=u[f],c[1]=u[f+1],c[2]=u[f+2],c},this.set=function(E,c){var f=E*3,u=this.value;u[f]=c[0],u[f+1]=c[1],u[f+2]=c[2]},this.copy=function(E,c){var f=this.value;c*=3,E*=3,f[E]=f[c],f[E+1]=f[c+1],f[E+2]=f[c+2]};break;case 4:this.get=function(E,c){var f=this.value,u=E*4;return c[0]=f[u],c[1]=f[u+1],c[2]=f[u+2],c[3]=f[u+3],c},this.set=function(E,c){var f=this.value,u=E*4;f[u]=c[0],f[u+1]=c[1],f[u+2]=c[2],f[u+3]=c[3]},this.copy=function(E,c){var f=this.value;c*=4,E*=4,f[E]=f[c],f[E+1]=f[c+1],f[E+2]=f[c+2],f[E+3]=f[c+3]}}}a.prototype.init=function(F){if(!this.value||this.value.length!==F*this.size){var b=h(this.type);this.value=new b(F*this.size)}},a.prototype.fromArray=function(F){var b=h(this.type),O;if(F[0]&&F[0].length){var P=0,E=this.size;O=new b(F.length*E);for(var c=0;c<F.length;c++)for(var f=0;f<E;f++)O[P++]=F[c][f]}else O=new b(F);this.value=O},a.prototype.clone=function(F){var b=new a(this.name,this.type,this.size,this.semantic);return F&&console.warn("todo"),b};function l(F,b,O,P,E){this.name=F,this.type=b,this.buffer=O,this.size=P,this.semantic=E,this.symbol="",this.needsRemove=!1}function _(F){this.buffer=F,this.count=0}var M=n.Z.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new s.Z,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var F=this.getEnabledAttributes(),b=0;b<F.length;b++)this.dirtyAttribute(F[b]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(F){this._cache.dirtyAll(i(F)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(F,b){if(F<this.triangleCount&&F>=0){b||(b=[]);var O=this.indices;return b[0]=O[F*3],b[1]=O[F*3+1],b[2]=O[F*3+2],b}},setTriangleIndices:function(F,b){var O=this.indices;O[F*3]=b[0],O[F*3+1]=b[1],O[F*3+2]=b[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(F){var b,O=this.vertexCount>65535?p.Z.Uint32Array:p.Z.Uint16Array;if(F[0]&&F[0].length){var P=0,E=3;b=new O(F.length*E);for(var c=0;c<F.length;c++)for(var f=0;f<E;f++)b[P++]=F[c][f]}else b=new O(F);this.indices=b},createAttribute:function(F,b,O,P){var E=new a(F,b,O,P);return this.attributes[F]&&this.removeAttribute(F),this.attributes[F]=E,this._attributeList.push(F),E},removeAttribute:function(F){var b=this._attributeList,O=b.indexOf(F);return O>=0?(b.splice(O,1),delete this.attributes[F],!0):!1},getAttribute:function(F){return this.attributes[F]},getEnabledAttributes:function(){var F=this._enabledAttributes,b=this._attributeList;if(F)return F;for(var O=[],P=this.vertexCount,E=0;E<b.length;E++){var c=b[E],f=this.attributes[c];f.value&&f.value.length===P*f.size&&O.push(c)}return this._enabledAttributes=O,O},getBufferChunks:function(F){var b=this._cache;b.use(F.__uid__);var O=b.isDirty("attributes"),P=b.isDirty("indices");if(O||P){this._updateBuffer(F.gl,O,P);for(var E=this.getEnabledAttributes(),c=0;c<E.length;c++)b.fresh(i(E[c]));b.fresh("attributes"),b.fresh("indices")}return b.fresh("any"),b.get("chunks")},_updateBuffer:function(F,b,O){var P=this._cache,E=P.get("chunks"),c=!1;E||(E=[],E[0]={attributeBuffers:[],indicesBuffer:null},P.put("chunks",E),c=!0);var f=E[0],u=f.attributeBuffers,d=f.indicesBuffer;if(b||c){var v=this.getEnabledAttributes(),g={};if(!c)for(var R=0;R<u.length;R++)g[u[R].name]=u[R];for(var x=0;x<v.length;x++){var w=v[x],Z=this.attributes[w],N;c||(N=g[w]);var G;N?G=N.buffer:G=F.createBuffer(),P.isDirty(i(w))&&(F.bindBuffer(F.ARRAY_BUFFER,G),F.bufferData(F.ARRAY_BUFFER,Z.value,this.dynamic?F.DYNAMIC_DRAW:F.STATIC_DRAW)),u[x]=new l(w,Z.type,G,Z.size,Z.semantic)}for(var R=x;R<u.length;R++)F.deleteBuffer(u[R].buffer);u.length=x}this.isUseIndices()&&(O||c)&&(d||(d=new _(F.createBuffer()),f.indicesBuffer=d),d.count=this.indices.length,F.bindBuffer(F.ELEMENT_ARRAY_BUFFER,d.buffer),F.bufferData(F.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?F.DYNAMIC_DRAW:F.STATIC_DRAW))},dispose:function(F){var b=this._cache;b.use(F.__uid__);var O=b.get("chunks");if(O)for(var P=0;P<O.length;P++){for(var E=O[P],c=0;c<E.attributeBuffers.length;c++){var f=E.attributeBuffers[c];F.gl.deleteBuffer(f.buffer)}E.indicesBuffer&&F.gl.deleteBuffer(E.indicesBuffer.buffer)}if(this.__vaoCache){var u=F.getGLExtension("OES_vertex_array_object");for(var d in this.__vaoCache){var v=this.__vaoCache[d].vao;v&&u.deleteVertexArrayOES(v)}}this.__vaoCache={},b.deleteContext(F.__uid__)}});Object.defineProperty&&(Object.defineProperty(M.prototype,"vertexCount",{enumerable:!1,get:function(){var F=this.attributes[this.mainAttribute];return F||(F=this.attributes[this._attributeList[0]]),!F||!F.value?0:F.value.length/F.size}}),Object.defineProperty(M.prototype,"triangleCount",{enumerable:!1,get:function(){var F=this.indices;return F?F.length/3:0}})),M.STATIC_DRAW=e.Z.STATIC_DRAW,M.DYNAMIC_DRAW=e.Z.DYNAMIC_DRAW,M.STREAM_DRAW=e.Z.STREAM_DRAW,M.AttributeBuffer=l,M.IndicesBuffer=_,M.Attribute=a;var m=M,T=o.Z.create,y=o.Z.add,A=o.Z.set,D=m.Attribute,L=m.extend(function(){return{attributes:{position:new D("position","float",3,"POSITION"),texcoord0:new D("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new D("texcoord1","float",2,"TEXCOORD_1"),normal:new D("normal","float",3,"NORMAL"),tangent:new D("tangent","float",4,"TANGENT"),color:new D("color","float",4,"COLOR"),weight:new D("weight","float",3,"WEIGHT"),joint:new D("joint","float",4,"JOINT"),barycentric:new D("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var F=this.boundingBox;F||(F=this.boundingBox=new r.Z);var b=this.attributes.position.value;if(b&&b.length){var O=F.min,P=F.max,E=O.array,c=P.array;o.Z.set(E,b[0],b[1],b[2]),o.Z.set(c,b[0],b[1],b[2]);for(var f=3;f<b.length;){var u=b[f++],d=b[f++],v=b[f++];u<E[0]&&(E[0]=u),d<E[1]&&(E[1]=d),v<E[2]&&(E[2]=v),u>c[0]&&(c[0]=u),d>c[1]&&(c[1]=d),v>c[2]&&(c[2]=v)}O._dirty=!0,P._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var F=this.indices,b=this.attributes,O=b.position.value,P=b.normal.value;if(!P||P.length!==O.length)P=b.normal.value=new p.Z.Float32Array(O.length);else for(var E=0;E<P.length;E++)P[E]=0;for(var c=T(),f=T(),u=T(),d=T(),v=T(),g=T(),R=F?F.length:this.vertexCount,x,w,Z,N=0;N<R;){F?(x=F[N++],w=F[N++],Z=F[N++]):(x=N++,w=N++,Z=N++),A(c,O[x*3],O[x*3+1],O[x*3+2]),A(f,O[w*3],O[w*3+1],O[w*3+2]),A(u,O[Z*3],O[Z*3+1],O[Z*3+2]),o.Z.sub(d,c,f),o.Z.sub(v,f,u),o.Z.cross(g,d,v);for(var E=0;E<3;E++)P[x*3+E]=P[x*3+E]+g[E],P[w*3+E]=P[w*3+E]+g[E],P[Z*3+E]=P[Z*3+E]+g[E]}for(var E=0;E<P.length;)A(g,P[E],P[E+1],P[E+2]),o.Z.normalize(g,g),P[E++]=g[0],P[E++]=g[1],P[E++]=g[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var F=this.indices,b=this.attributes,O=b.position.value,P=b.normal.value,E=T(),c=T(),f=T(),u=T(),d=T(),v=T();P||(P=b.normal.value=new Float32Array(O.length));for(var g=F?F.length:this.vertexCount,R,x,w,Z=0;Z<g;){F?(R=F[Z++],x=F[Z++],w=F[Z++]):(R=Z++,x=Z++,w=Z++),A(E,O[R*3],O[R*3+1],O[R*3+2]),A(c,O[x*3],O[x*3+1],O[x*3+2]),A(f,O[w*3],O[w*3+1],O[w*3+2]),o.Z.sub(u,E,c),o.Z.sub(d,c,f),o.Z.cross(v,u,d),o.Z.normalize(v,v);for(var N=0;N<3;N++)P[R*3+N]=v[N],P[x*3+N]=v[N],P[w*3+N]=v[N]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var F=this.vertexCount,b=this.attributes;b.tangent.value||(b.tangent.value=new Float32Array(F*4));var O=b.texcoord0.value,P=b.position.value,E=b.tangent.value,c=b.normal.value;if(!O){console.warn("Geometry without texcoords can't generate tangents.");return}for(var f=[],u=[],d=0;d<F;d++)f[d]=[0,0,0],u[d]=[0,0,0];for(var v=[0,0,0],g=[0,0,0],R=this.indices,x=R?R.length:this.vertexCount,w,Z,N,d=0;d<x;){R?(w=R[d++],Z=R[d++],N=R[d++]):(w=d++,Z=d++,N=d++);var G=O[w*2],K=O[Z*2],J=O[N*2],U=O[w*2+1],H=O[Z*2+1],V=O[N*2+1],S=P[w*3],W=P[Z*3],B=P[N*3],X=P[w*3+1],Y=P[Z*3+1],et=P[N*3+1],z=P[w*3+2],k=P[Z*3+2],at=P[N*3+2],ft=W-S,_t=B-S,tt=Y-X,rt=et-X,ut=k-z,ct=at-z,st=K-G,dt=J-G,ht=H-U,xt=V-U,Rt=1/(st*xt-ht*dt);v[0]=(xt*ft-ht*_t)*Rt,v[1]=(xt*tt-ht*rt)*Rt,v[2]=(xt*ut-ht*ct)*Rt,g[0]=(st*_t-dt*ft)*Rt,g[1]=(st*rt-dt*tt)*Rt,g[2]=(st*ct-dt*ut)*Rt,y(f[w],f[w],v),y(f[Z],f[Z],v),y(f[N],f[N],v),y(u[w],u[w],g),y(u[Z],u[Z],g),y(u[N],u[N],g)}for(var mt=T(),St=T(),It=T(),d=0;d<F;d++){It[0]=c[d*3],It[1]=c[d*3+1],It[2]=c[d*3+2];var gt=f[d];o.Z.scale(mt,It,o.Z.dot(It,gt)),o.Z.sub(mt,gt,mt),o.Z.normalize(mt,mt),o.Z.cross(St,It,gt),E[d*4]=mt[0],E[d*4+1]=mt[1],E[d*4+2]=mt[2],E[d*4+3]=o.Z.dot(St,u[d])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return this.isUseIndices()?this.vertexCount===this.indices.length:!0},generateUniqueVertex:function(){if(!(!this.vertexCount||!this.indices)){this.indices.length>65535&&(this.indices=new p.Z.Uint32Array(this.indices));for(var F=this.attributes,b=this.indices,O=this.getEnabledAttributes(),P={},E=0;E<O.length;E++){var c=O[E];P[c]=F[c].value,F[c].init(this.indices.length)}for(var f=0,u=0;u<b.length;u++){for(var d=b[u],E=0;E<O.length;E++)for(var c=O[E],v=F[c].value,g=F[c].size,R=0;R<g;R++)v[f*g+R]=P[c][d*g+R];b[u]=f,f++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var F=this.attributes,b=F.barycentric.value,O=this.indices;if(!(b&&b.length===O.length*3)){b=F.barycentric.value=new Float32Array(O.length*3);for(var P=0;P<(O?O.length:this.vertexCount/3);)for(var E=0;E<3;E++){var c=O?O[P++]:P*3+E;b[c*3+E]=1}this.dirty()}}},applyTransform:function(F){var b=this.attributes,O=b.position.value,P=b.normal.value,E=b.tangent.value;F=F.array;var c=t.Z.create();t.Z.invert(c,F),t.Z.transpose(c,c);var f=o.Z.transformMat4,u=o.Z.forEach;u(O,3,0,null,f,F),P&&u(P,3,0,null,f,c),E&&u(E,4,0,null,f,c),this.boundingBox&&this.updateBoundingBox()},dispose:function(F){var b=this._cache;b.use(F.__uid__);var O=b.get("chunks");if(O)for(var P=0;P<O.length;P++){for(var E=O[P],c=0;c<E.attributeBuffers.length;c++){var f=E.attributeBuffers[c];F.gl.deleteBuffer(f.buffer)}E.indicesBuffer&&F.gl.deleteBuffer(E.indicesBuffer.buffer)}if(this.__vaoCache){var u=F.getGLExtension("OES_vertex_array_object");for(var d in this.__vaoCache){var v=this.__vaoCache[d].vao;v&&u.deleteVertexArrayOES(v)}}this.__vaoCache={},b.deleteContext(F.__uid__)}});L.STATIC_DRAW=m.STATIC_DRAW,L.DYNAMIC_DRAW=m.DYNAMIC_DRAW,L.STREAM_DRAW=m.STREAM_DRAW,L.AttributeBuffer=m.AttributeBuffer,L.IndicesBuffer=m.IndicesBuffer,L.Attribute=D;var I=L},92449:function(Dt,it,C){C.d(it,{Z:function(){return l}});var p=C(80881),o=C(60217),t=`vec3 calcAmbientSHLight(int idx, vec3 N) {
 int offset = 9 * idx;
 return ambientSHLightCoefficients[0]
 + ambientSHLightCoefficients[1] * N.x
 + ambientSHLightCoefficients[2] * N.y
 + ambientSHLightCoefficients[3] * N.z
 + ambientSHLightCoefficients[4] * N.x * N.z
 + ambientSHLightCoefficients[5] * N.z * N.y
 + ambientSHLightCoefficients[6] * N.y * N.x
 + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)
 + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);
}`,r="uniform vec3 ",n="uniform float ",e="@export clay.header.",s="@end",h=":unconfigurable;",i=[e+"directional_light",r+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+h,r+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+h,s,e+"ambient_light",r+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+h,s,e+"ambient_sh_light",r+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+h,r+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+h,t,s,e+"ambient_cubemap_light",r+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,s,e+"point_light",r+"pointLightPosition[POINT_LIGHT_COUNT]"+h,n+"pointLightRange[POINT_LIGHT_COUNT]"+h,r+"pointLightColor[POINT_LIGHT_COUNT]"+h,s,e+"spot_light",r+"spotLightPosition[SPOT_LIGHT_COUNT]"+h,r+"spotLightDirection[SPOT_LIGHT_COUNT]"+h,n+"spotLightRange[SPOT_LIGHT_COUNT]"+h,n+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+h,n+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+h,n+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+h,r+"spotLightColor[SPOT_LIGHT_COUNT]"+h,s].join(`
`);o.Z.import(i);var a=p.Z.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var _=p.Z.prototype.clone.call(this);return _.color=Array.prototype.slice.call(this.color),_.intensity=this.intensity,_.castShadow=this.castShadow,_.shadowResolution=this.shadowResolution,_}}),l=a},84708:function(Dt,it,C){C.d(it,{Z:function(){return c}});var p=C(85038),o=C(34635),t=C(60193),r={},n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function e(f){return f=Math.round(f),f<0?0:f>255?255:f}function s(f){return f=Math.round(f),f<0?0:f>360?360:f}function h(f){return f<0?0:f>1?1:f}function i(f){return f.length&&f.charAt(f.length-1)==="%"?e(parseFloat(f)/100*255):e(parseInt(f,10))}function a(f){return f.length&&f.charAt(f.length-1)==="%"?h(parseFloat(f)/100):h(parseFloat(f))}function l(f,u,d){return d<0?d+=1:d>1&&(d-=1),d*6<1?f+(u-f)*d*6:d*2<1?u:d*3<2?f+(u-f)*(2/3-d)*6:f}function _(f,u,d){return f+(u-f)*d}function M(f,u,d,v,g){return f[0]=u,f[1]=d,f[2]=v,f[3]=g,f}function m(f,u){return f[0]=u[0],f[1]=u[1],f[2]=u[2],f[3]=u[3],f}var T=new t.Z(20),y=null;function A(f,u){y&&m(y,u),y=T.put(f,y||u.slice())}r.parse=function(f,u){if(f){u=u||[];var d=T.get(f);if(d)return m(u,d);f=f+"";var v=f.replace(/ /g,"").toLowerCase();if(v in n)return m(u,n[v]),A(f,u),u;if(v.charAt(0)==="#"){if(v.length===4){var g=parseInt(v.substr(1),16);if(!(g>=0&&g<=4095)){M(u,0,0,0,1);return}return M(u,(g&3840)>>4|(g&3840)>>8,g&240|(g&240)>>4,g&15|(g&15)<<4,1),A(f,u),u}else if(v.length===7){var g=parseInt(v.substr(1),16);if(!(g>=0&&g<=16777215)){M(u,0,0,0,1);return}return M(u,(g&16711680)>>16,(g&65280)>>8,g&255,1),A(f,u),u}return}var R=v.indexOf("("),x=v.indexOf(")");if(R!==-1&&x+1===v.length){var w=v.substr(0,R),Z=v.substr(R+1,x-(R+1)).split(","),N=1;switch(w){case"rgba":if(Z.length!==4){M(u,0,0,0,1);return}N=a(Z.pop());case"rgb":if(Z.length!==3){M(u,0,0,0,1);return}return M(u,i(Z[0]),i(Z[1]),i(Z[2]),N),A(f,u),u;case"hsla":if(Z.length!==4){M(u,0,0,0,1);return}return Z[3]=a(Z[3]),D(Z,u),A(f,u),u;case"hsl":if(Z.length!==3){M(u,0,0,0,1);return}return D(Z,u),A(f,u),u;default:return}}M(u,0,0,0,1)}},r.parseToFloat=function(f,u){if(u=r.parse(f,u),!!u)return u[0]/=255,u[1]/=255,u[2]/=255,u};function D(f,u){var d=(parseFloat(f[0])%360+360)%360/360,v=a(f[1]),g=a(f[2]),R=g<=.5?g*(v+1):g+v-g*v,x=g*2-R;return u=u||[],M(u,e(l(x,R,d+1/3)*255),e(l(x,R,d)*255),e(l(x,R,d-1/3)*255),1),f.length===4&&(u[3]=f[3]),u}function L(f){if(f){var u=f[0]/255,d=f[1]/255,v=f[2]/255,g=Math.min(u,d,v),R=Math.max(u,d,v),x=R-g,w=(R+g)/2,Z,N;if(x===0)Z=0,N=0;else{w<.5?N=x/(R+g):N=x/(2-R-g);var G=((R-u)/6+x/2)/x,K=((R-d)/6+x/2)/x,J=((R-v)/6+x/2)/x;u===R?Z=J-K:d===R?Z=1/3+G-J:v===R&&(Z=2/3+K-G),Z<0&&(Z+=1),Z>1&&(Z-=1)}var U=[Z*360,N,w];return f[3]!=null&&U.push(f[3]),U}}r.lift=function(f,u){var d=r.parse(f);if(d){for(var v=0;v<3;v++)u<0?d[v]=d[v]*(1-u)|0:d[v]=(255-d[v])*u+d[v]|0;return r.stringify(d,d.length===4?"rgba":"rgb")}},r.toHex=function(f){var u=r.parse(f);if(u)return((1<<24)+(u[0]<<16)+(u[1]<<8)+ +u[2]).toString(16).slice(1)},r.fastLerp=function(f,u,d){if(!(!(u&&u.length)||!(f>=0&&f<=1))){d=d||[];var v=f*(u.length-1),g=Math.floor(v),R=Math.ceil(v),x=u[g],w=u[R],Z=v-g;return d[0]=e(_(x[0],w[0],Z)),d[1]=e(_(x[1],w[1],Z)),d[2]=e(_(x[2],w[2],Z)),d[3]=h(_(x[3],w[3],Z)),d}},r.fastMapToColor=r.fastLerp,r.lerp=function(f,u,d){if(!(!(u&&u.length)||!(f>=0&&f<=1))){var v=f*(u.length-1),g=Math.floor(v),R=Math.ceil(v),x=r.parse(u[g]),w=r.parse(u[R]),Z=v-g,N=r.stringify([e(_(x[0],w[0],Z)),e(_(x[1],w[1],Z)),e(_(x[2],w[2],Z)),h(_(x[3],w[3],Z))],"rgba");return d?{color:N,leftIndex:g,rightIndex:R,value:v}:N}},r.mapToColor=r.lerp,r.modifyHSL=function(f,u,d,v){if(f=r.parse(f),f)return f=L(f),u!=null&&(f[0]=s(u)),d!=null&&(f[1]=a(d)),v!=null&&(f[2]=a(v)),r.stringify(D(f),"rgba")},r.modifyAlpha=function(f,u){if(f=r.parse(f),f&&u!=null)return f[3]=h(u),r.stringify(f,"rgba")},r.stringify=function(f,u){if(!(!f||!f.length)){var d=f[0]+","+f[1]+","+f[2];return(u==="rgba"||u==="hsva"||u==="hsla")&&(d+=","+f[3]),u+"("+d+")"}};var I=r,F=I.parseToFloat,b={};function O(f){var u=Object.keys(f);u.sort();for(var d=[],v=0;v<u.length;v++){var g=u[v],R=f[g];R===null?d.push(g):d.push(g+" "+R.toString())}return d.join(`
`)}function P(f,u,d){d.sort();for(var v=[],g=0;g<d.length;g++){var R=d[g];v.push(R)}var x=O(f)+`
`+O(u)+`
`+v.join(`
`);if(b[x])return b[x];var w=o.Z.genGUID();return b[x]=w,w}var E=p.Z.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(f,u){u===void 0&&console.warn('Uniform value "'+f+'" is undefined');var d=this.uniforms[f];d&&(typeof u=="string"&&(u=F(u)||u),d.value=u,this.autoUpdateTextureStatus&&d.type==="t"&&(u?this.enableTexture(f):this.disableTexture(f)))},setUniforms:function(f){for(var u in f){var d=f[u];this.setUniform(u,d)}},isUniformEnabled:function(f){return this._enabledUniforms.indexOf(f)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(f,u){if(typeof f=="object")for(var d in f){var v=f[d];this.setUniform(d,v)}else this.setUniform(f,u)},get:function(f){var u=this.uniforms[f];if(u)return u.value},attachShader:function(f,u){var d=this.uniforms;this.uniforms=f.createUniforms(),this.shader=f;var v=this.uniforms;this._enabledUniforms=Object.keys(v),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(N){var G=this.uniforms[N].type;return G==="t"||G==="tv"},this);var g=this.vertexDefines,R=this.fragmentDefines;if(this.vertexDefines=o.Z.clone(f.vertexDefines),this.fragmentDefines=o.Z.clone(f.fragmentDefines),u){for(var x in d)v[x]&&(v[x].value=d[x].value);o.Z.defaults(this.vertexDefines,g),o.Z.defaults(this.fragmentDefines,R)}var w={};for(var Z in f.textures)w[Z]={shaderType:f.textures[Z].shaderType,type:f.textures[Z].type,enabled:u&&this._textureStatus[Z]?this._textureStatus[Z].enabled:!1};this._textureStatus=w,this._programKey=""},clone:function(){var f=new this.constructor({name:this.name,shader:this.shader});for(var u in this.uniforms)f.uniforms[u].value=this.uniforms[u].value;return f.depthTest=this.depthTest,f.depthMask=this.depthMask,f.transparent=this.transparent,f.blend=this.blend,f.vertexDefines=o.Z.clone(this.vertexDefines),f.fragmentDefines=o.Z.clone(this.fragmentDefines),f.enableTexture(this.getEnabledTextures()),f.precision=this.precision,f},define:function(f,u,d){var v=this.vertexDefines,g=this.fragmentDefines;f!=="vertex"&&f!=="fragment"&&f!=="both"&&arguments.length<3&&(d=u,u=f,f="both"),d=d!=null?d:null,(f==="vertex"||f==="both")&&v[u]!==d&&(v[u]=d,this._programKey=""),(f==="fragment"||f==="both")&&g[u]!==d&&(g[u]=d,f!=="both"&&(this._programKey=""))},undefine:function(f,u){f!=="vertex"&&f!=="fragment"&&f!=="both"&&arguments.length<2&&(u=f,f="both"),(f==="vertex"||f==="both")&&this.isDefined("vertex",u)&&(delete this.vertexDefines[u],this._programKey=""),(f==="fragment"||f==="both")&&this.isDefined("fragment",u)&&(delete this.fragmentDefines[u],f!=="both"&&(this._programKey=""))},isDefined:function(f,u){switch(f){case"vertex":return this.vertexDefines[u]!==void 0;case"fragment":return this.fragmentDefines[u]!==void 0}},getDefine:function(f,u){switch(f){case"vertex":return this.vertexDefines[u];case"fragment":return this.fragmentDefines[u]}},enableTexture:function(f){if(Array.isArray(f)){for(var u=0;u<f.length;u++)this.enableTexture(f[u]);return}var d=this._textureStatus[f];if(d){var v=d.enabled;v||(d.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var f=this._textureStatus;for(var u in f)f[u].enabled=!0;this._programKey=""},disableTexture:function(f){if(Array.isArray(f)){for(var u=0;u<f.length;u++)this.disableTexture(f[u]);return}var d=this._textureStatus[f];if(d){var v=!d.enabled;v||(d.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var f=this._textureStatus;for(var u in f)f[u].enabled=!1;this._programKey=""},isTextureEnabled:function(f){var u=this._textureStatus;return!!u[f]&&u[f].enabled},getEnabledTextures:function(){var f=[],u=this._textureStatus;for(var d in u)u[d].enabled&&f.push(d);return f},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=P(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),c=E},30420:function(Dt,it,C){var p=C(38934),o=C(23044),t=p.Z.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var r=p.Z.prototype.clone.call(this);return r.skeleton=this.skeleton,this.joints&&(r.joints=this.joints.slice()),r}});t.POINTS=o.Z.POINTS,t.LINES=o.Z.LINES,t.LINE_LOOP=o.Z.LINE_LOOP,t.LINE_STRIP=o.Z.LINE_STRIP,t.TRIANGLES=o.Z.TRIANGLES,t.TRIANGLE_STRIP=o.Z.TRIANGLE_STRIP,t.TRIANGLE_FAN=o.Z.TRIANGLE_FAN,t.BACK=o.Z.BACK,t.FRONT=o.Z.FRONT,t.FRONT_AND_BACK=o.Z.FRONT_AND_BACK,t.CW=o.Z.CW,t.CCW=o.Z.CCW,it.Z=t},80881:function(Dt,it,C){var p=C(85038),o=C(14147),t=C(13075),r=C(49865),n=C(85822),e=C(37233),s=0,h=p.Z.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+s++),this.position||(this.position=new o.Z),this.rotation||(this.rotation=new t.Z),this.scale||(this.scale=new o.Z(1,1,1)),this.worldTransform=new r.Z,this.localTransform=new r.Z,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(i){var a=this._scene;if(a){var l=a._nodeRepository;delete l[this.name],l[i]=this}this.name=i},add:function(i){var a=i._parent;if(a!==this){a&&a.remove(i),i._parent=this,this._children.push(i);var l=this._scene;l&&l!==i.scene&&i.traverse(this._addSelfToScene,this),i._needsUpdateWorldTransform=!0}},remove:function(i){var a=this._children,l=a.indexOf(i);l<0||(a.splice(l,1),i._parent=null,this._scene&&i.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var i=this._children,a=0;a<i.length;a++)i[a]._parent=null,this._scene&&i[a].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(i){i._scene.removeFromScene(i),i._scene=null},_addSelfToScene:function(i){this._scene.addToScene(i),i._scene=this._scene},isAncestor:function(i){for(var a=i._parent;a;){if(a===this)return!0;a=a._parent}return!1},children:function(){return this._children.slice()},childAt:function(i){return this._children[i]},getChildByName:function(i){for(var a=this._children,l=0;l<a.length;l++)if(a[l].name===i)return a[l]},getDescendantByName:function(i){for(var a=this._children,l=0;l<a.length;l++){var _=a[l];if(_.name===i)return _;var M=_.getDescendantByName(i);if(M)return M}},queryNode:function(i){if(i){for(var a=i.split("/"),l=this,_=0;_<a.length;_++){var M=a[_];if(M){for(var m=!1,T=l._children,y=0;y<T.length;y++){var A=T[y];if(A.name===M){l=A,m=!0;break}}if(!m)return}}return l}},getPath:function(i){if(!this._parent)return"/";for(var a=this._parent,l=this.name;a._parent&&(l=a.name+"/"+l,a._parent!=i);)a=a._parent;return!a._parent&&i?null:l},traverse:function(i,a){i.call(a,this);for(var l=this._children,_=0,M=l.length;_<M;_++)l[_].traverse(i,a)},eachChild:function(i,a){for(var l=this._children,_=0,M=l.length;_<M;_++){var m=l[_];i.call(a,m,_)}},setLocalTransform:function(i){n.Z.copy(this.localTransform.array,i.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(i){var a=i?null:this.scale;this.localTransform.decomposeMatrix(a,this.rotation,this.position)},setWorldTransform:function(i){n.Z.copy(this.worldTransform.array,i.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var i=n.Z.create();return function(a){var l=this.localTransform,_=this.worldTransform;this._parent?(n.Z.invert(i,this._parent.worldTransform.array),n.Z.multiply(l.array,i,_.array)):n.Z.copy(l.array,_.array);var M=a?null:this.scale;l.decomposeMatrix(M,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var i=this.position,a=this.rotation,l=this.scale;if(this.transformNeedsUpdate()){var _=this.localTransform.array;n.Z.fromRotationTranslation(_,a.array,i.array),n.Z.scale(_,_,l.array),a._dirty=!1,l._dirty=!1,i._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var i=this.localTransform.array,a=this.worldTransform.array;this._parent?n.Z.multiplyAffine(a,this._parent.worldTransform.array,i):n.Z.copy(a,i)},updateWorldTransform:function(){for(var i=this;i&&i.getParent()&&i.getParent().transformNeedsUpdate();)i=i.getParent();i.update()},update:function(i){this.autoUpdateLocalTransform?this.updateLocalTransform():i=!0,(i||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),i=!0,this._needsUpdateWorldTransform=!1);for(var a=this._children,l=0,_=a.length;l<_;l++)a[l].update(i)},getBoundingBox:function(){function i(M){return!M.invisible&&M.geometry}var a=new e.Z,l=new r.Z,_=new r.Z;return function(M,m){return m=m||new e.Z,M=M||i,this._parent?r.Z.invert(_,this._parent.worldTransform):r.Z.identity(_),this.traverse(function(T){T.geometry&&T.geometry.boundingBox&&(a.copy(T.geometry.boundingBox),r.Z.multiply(l,_,T.worldTransform),a.applyTransform(l),m.union(a))},this,i),m}}(),getWorldPosition:function(i){this.transformNeedsUpdate()&&this.updateWorldTransform();var a=this.worldTransform.array;if(i){var l=i.array;return l[0]=a[12],l[1]=a[13],l[2]=a[14],i}else return new o.Z(a[12],a[13],a[14])},clone:function(){var i=new this.constructor,a=this._children;i.setName(this.name),i.position.copy(this.position),i.rotation.copy(this.rotation),i.scale.copy(this.scale);for(var l=0;l<a.length;l++)i.add(a[l].clone());return i},rotateAround:function(){var i=new o.Z,a=new r.Z;return function(l,_,M){i.copy(this.position).subtract(l);var m=this.localTransform;m.identity(),m.translate(l),m.rotate(M,_),a.fromRotationTranslation(this.rotation,i),m.multiply(a),m.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var i=new r.Z;return function(a,l){i.lookAt(this.position,a,l||this.localTransform.y).invert(),this.setLocalTransform(i),this.target=a}}()});it.Z=h},38934:function(Dt,it,C){var p=C(80881),o=C(23044),t=p.Z.extend({material:null,geometry:null,mode:o.Z.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:o.Z.BACK,frontFace:o.Z.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(r){},afterRender:function(r,n){},getBoundingBox:function(r,n){return n=p.Z.prototype.getBoundingBox.call(this,r,n),this.geometry&&this.geometry.boundingBox&&n.union(this.geometry.boundingBox),n},clone:function(){var r=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var n=p.Z.prototype.clone.call(this);n.geometry=this.geometry,n.material=this.material;for(var e=0;e<r.length;e++){var s=r[e];n[s]!==this[s]&&(n[s]=this[s])}return n}}()});t.POINTS=o.Z.POINTS,t.LINES=o.Z.LINES,t.LINE_LOOP=o.Z.LINE_LOOP,t.LINE_STRIP=o.Z.LINE_STRIP,t.TRIANGLES=o.Z.TRIANGLES,t.TRIANGLE_STRIP=o.Z.TRIANGLE_STRIP,t.TRIANGLE_FAN=o.Z.TRIANGLE_FAN,t.BACK=o.Z.BACK,t.FRONT=o.Z.FRONT,t.FRONT_AND_BACK=o.Z.FRONT_AND_BACK,t.CW=o.Z.CW,t.CCW=o.Z.CCW,it.Z=t},17103:function(Dt,it,C){C.d(it,{Z:function(){return V}});var p=C(85038),o=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],t=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function r(S){for(var W={},B={},X=0;X<o.length;X++){var Y=o[X];z(Y)}for(var X=0;X<t.length;X++){var et=t[X];B[et]=S.getParameter(S[et])}this.getExtension=function(k){return k in W||z(k),W[k]},this.getParameter=function(k){return B[k]};function z(k){if(S.getExtension){var at=S.getExtension(k);at||(at=S.getExtension("MOZ_"+k)),at||(at=S.getExtension("WEBKIT_"+k)),W[k]=at}}}var n=r,e=C(23044),s=C(82544),h=C(84708),i=C(38077),a=1,l=2,_=3,M={};function m(S){for(var W=S.split(`
`),B=0,X=W.length;B<X;B++)W[B]=B+1+": "+W[B];return W.join(`
`)}function T(S,W,B){if(!S.getShaderParameter(W,S.COMPILE_STATUS))return[S.getShaderInfoLog(W),m(B)].join(`
`)}var y=new s.Z.Float32Array(16),A=p.Z.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(S){this._textureSlot=0,S.gl.useProgram(this._program)},hasUniform:function(S){var W=this._locations[S];return W!=null},useTextureSlot:function(S,W,B){W&&(S.gl.activeTexture(S.gl.TEXTURE0+B),W.isRenderable()?W.bind(S):W.unbind(S))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(S){this._textureSlot=S||0},takeCurrentTextureSlot:function(S,W){var B=this._textureSlot;return this.useTextureSlot(S,W,B),this._textureSlot++,B},setUniform:function(S,W,B,X){var Y=this._locations,et=Y[B];if(et==null)return!1;switch(W){case"m4":if(!(X instanceof Float32Array)){for(var z=0;z<X.length;z++)y[z]=X[z];X=y}S.uniformMatrix4fv(et,!1,X);break;case"2i":S.uniform2i(et,X[0],X[1]);break;case"2f":S.uniform2f(et,X[0],X[1]);break;case"3i":S.uniform3i(et,X[0],X[1],X[2]);break;case"3f":S.uniform3f(et,X[0],X[1],X[2]);break;case"4i":S.uniform4i(et,X[0],X[1],X[2],X[3]);break;case"4f":S.uniform4f(et,X[0],X[1],X[2],X[3]);break;case"1i":S.uniform1i(et,X);break;case"1f":S.uniform1f(et,X);break;case"1fv":S.uniform1fv(et,X);break;case"1iv":S.uniform1iv(et,X);break;case"2iv":S.uniform2iv(et,X);break;case"2fv":S.uniform2fv(et,X);break;case"3iv":S.uniform3iv(et,X);break;case"3fv":S.uniform3fv(et,X);break;case"4iv":S.uniform4iv(et,X);break;case"4fv":S.uniform4fv(et,X);break;case"m2":case"m2v":S.uniformMatrix2fv(et,!1,X);break;case"m3":case"m3v":S.uniformMatrix3fv(et,!1,X);break;case"m4v":if(Array.isArray(X)&&Array.isArray(X[0])){for(var k=new s.Z.Float32Array(X.length*16),at=0,z=0;z<X.length;z++)for(var ft=X[z],_t=0;_t<16;_t++)k[at++]=ft[_t];S.uniformMatrix4fv(et,!1,k)}else S.uniformMatrix4fv(et,!1,X);break}return!0},setUniformOfSemantic:function(S,W,B){var X=this.uniformSemantics[W];return X?this.setUniform(S,X.type,X.symbol,B):!1},enableAttributes:function(S,W,B){var X=S.gl,Y=this._program,et=this._locations,z;B?z=B.__enabledAttributeList:z=M[S.__uid__],z||(B?z=B.__enabledAttributeList=[]:z=M[S.__uid__]=[]);for(var k=[],at=0;at<W.length;at++){var ft=W[at];if(!this.attributes[ft]){k[at]=-1;continue}var _t=et[ft];if(_t==null){if(_t=X.getAttribLocation(Y,ft),_t===-1){k[at]=-1;continue}et[ft]=_t}k[at]=_t,z[_t]?z[_t]=l:z[_t]=a}for(var at=0;at<z.length;at++)switch(z[at]){case a:X.enableVertexAttribArray(at),z[at]=_;break;case l:z[at]=_;break;case _:X.disableVertexAttribArray(at),z[at]=0;break}return k},getAttribLocation:function(S,W){var B=this._locations,X=B[W];return X==null&&(X=S.getAttribLocation(this._program,W),B[W]=X),X},buildProgram:function(S,W,B,X){var Y=S.createShader(S.VERTEX_SHADER),et=S.createProgram();S.shaderSource(Y,B),S.compileShader(Y);var z=S.createShader(S.FRAGMENT_SHADER);S.shaderSource(z,X),S.compileShader(z);var k=T(S,Y,B);if(k||(k=T(S,z,X),k))return k;if(S.attachShader(et,Y),S.attachShader(et,z),W.attributeSemantics.POSITION)S.bindAttribLocation(et,0,W.attributeSemantics.POSITION.symbol);else{var at=Object.keys(this.attributes);S.bindAttribLocation(et,0,at[0])}if(S.linkProgram(et),S.deleteShader(Y),S.deleteShader(z),this._program=et,this.vertexCode=B,this.fragmentCode=X,!S.getProgramParameter(et,S.LINK_STATUS))return`Could not link program
`+S.getProgramInfoLog(et);for(var ft=0;ft<W.uniforms.length;ft++){var _t=W.uniforms[ft];this._locations[_t]=S.getUniformLocation(et,_t)}}}),D=A,L=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function I(S,W,B){function X(z,k,at,ft){var _t="";isNaN(k)&&(k in W?k=W[k]:k=Y[k]),isNaN(at)&&(at in W?at=W[at]:at=Y[at]);for(var tt=parseInt(k);tt<parseInt(at);tt++)_t+="{"+ft.replace(/float\s*\(\s*_idx_\s*\)/g,tt.toFixed(1)).replace(/_idx_/g,tt)+"}";return _t}var Y={};for(var et in B)Y[et+"_COUNT"]=B[et];return S.replace(L,X)}function F(S,W,B){var X=[];if(W)for(var Y in W){var et=W[Y];et>0&&X.push("#define "+Y.toUpperCase()+"_COUNT "+et)}if(B)for(var z=0;z<B.length;z++){var k=B[z];X.push("#define "+k.toUpperCase()+"_ENABLED")}for(var k in S){var at=S[k];at===null?X.push("#define "+k):X.push("#define "+k+" "+at.toString())}return X.join(`
`)}function b(S){for(var W=[],B=0;B<S.length;B++)W.push("#extension GL_"+S[B]+" : enable");return W.join(`
`)}function O(S){return["precision",S,"float"].join(" ")+`;
`+["precision",S,"int"].join(" ")+`;
`+["precision",S,"sampler2D"].join(" ")+`;
`}function P(S){this._renderer=S,this._cache={}}P.prototype.getProgram=function(S,W,B){var X=this._cache,Y=S.isSkinnedMesh&&S.isSkinnedMesh(),et=S.isInstancedMesh&&S.isInstancedMesh(),z="s"+W.shader.shaderID+"m"+W.getProgramKey();B&&(z+="se"+B.getProgramKey(S.lightGroup)),Y&&(z+=",sk"+S.joints.length),et&&(z+=",is");var mt=X[z];if(mt)return mt;var k=B?B.getLightsNumbers(S.lightGroup):{},at=this._renderer,ft=at.gl,_t=W.getEnabledTextures(),tt="";if(Y){var rt={SKINNING:null,JOINT_COUNT:S.joints.length};S.joints.length>at.getMaxJointNumber()&&(rt.USE_SKIN_MATRICES_TEXTURE=null),tt+=`
`+F(rt)+`
`}et&&(tt+=`
#define INSTANCING
`);var ut=tt+F(W.vertexDefines,k,_t),ct=tt+F(W.fragmentDefines,k,_t),st=ut+`
`+W.shader.vertex,dt=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(It){return at.getGLExtension(It)!=null});dt.indexOf("EXT_shader_texture_lod")>=0&&(ct+=`
#define SUPPORT_TEXTURE_LOD`),dt.indexOf("OES_standard_derivatives")>=0&&(ct+=`
#define SUPPORT_STANDARD_DERIVATIVES`);var ht=b(dt)+`
`+O(W.precision)+`
`+ct+`
`+W.shader.fragment,xt=I(st,W.vertexDefines,k),Rt=I(ht,W.fragmentDefines,k),mt=new D;mt.uniformSemantics=W.shader.uniformSemantics,mt.attributes=W.shader.attributes;var St=mt.buildProgram(ft,W.shader,xt,Rt);return mt.__error=St,X[z]=mt,mt};var E=P,c=C(60217),f=C(19671),u=C(85822),d=C(3023);c.Z.import(f.Z);var v=u.Z.create,g={};function R(S){return S.material}function x(S,W,B){return W.uniforms[B].value}function w(S,W,B,X){return B!==X}function Z(S){return!0}function N(){}var G={float:e.Z.FLOAT,byte:e.Z.BYTE,ubyte:e.Z.UNSIGNED_BYTE,short:e.Z.SHORT,ushort:e.Z.UNSIGNED_SHORT};function K(S,W,B){this.availableAttributes=S,this.availableAttributeSymbols=W,this.indicesBuffer=B,this.vao=null}function J(S){var W,B;this.bind=function(X){W||(W=s.Z.createCanvas(),W.width=W.height=1,W.getContext("2d"));var Y=X.gl,et=!B;et&&(B=Y.createTexture()),Y.bindTexture(Y.TEXTURE_2D,B),et&&Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Y.RGBA,Y.UNSIGNED_BYTE,W)},this.unbind=function(X){X.gl.bindTexture(X.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var U=p.Z.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=s.Z.createCanvas());var S=this.canvas;try{var W={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=S.getContext("webgl",W)||S.getContext("experimental-webgl",W),!this.gl)throw new Error;this._glinfo=new n(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(B){throw"Error creating WebGL Context "+B}this._programMgr=new E(this),this._placeholderTexture=new J(this)},{resize:function(S,W){var B=this.canvas,X=this.devicePixelRatio;S!=null?(B.style&&(B.style.width=S+"px",B.style.height=W+"px"),B.width=S*X,B.height=W*X,this._width=S,this._height=W):(this._width=B.width/X,this._height=B.height/X),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var S=this.viewport;return S.width/S.height},setDevicePixelRatio:function(S){this.devicePixelRatio=S,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(S){return this._glinfo.getExtension(S)},getGLParameter:function(S){return this._glinfo.getParameter(S)},setViewport:function(S,W,B,X,Y){if(typeof S=="object"){var et=S;S=et.x,W=et.y,B=et.width,X=et.height,Y=et.devicePixelRatio}Y=Y||this.devicePixelRatio,this.gl.viewport(S*Y,W*Y,B*Y,X*Y),this.viewport={x:S,y:W,width:B,height:X,devicePixelRatio:Y}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var S=this._clearStack.pop();this.clearColor=S.clearColor,this.clearBit=S.clearBit}},bindSceneRendering:function(S){this._sceneRendering=S},render:function(S,W,B,X){var Y=this.gl,et=this.clearColor;if(this.clearBit){Y.colorMask(!0,!0,!0,!0),Y.depthMask(!0);var z=this.viewport,k=!1,at=z.devicePixelRatio;(z.width!==this._width||z.height!==this._height||at&&at!==this.devicePixelRatio||z.x||z.y)&&(k=!0,Y.enable(Y.SCISSOR_TEST),Y.scissor(z.x*at,z.y*at,z.width*at,z.height*at)),Y.clearColor(et[0],et[1],et[2],et[3]),Y.clear(this.clearBit),k&&Y.disable(Y.SCISSOR_TEST)}if(B||S.update(!1),S.updateLights(),W=W||S.getMainCamera(),!W){console.error("Can't find camera in the scene.");return}W.update();var ft=S.updateRenderList(W,!0);this._sceneRendering=S;var _t=ft.opaque,tt=ft.transparent,rt=S.material;S.trigger("beforerender",this,S,W,ft),X?(this.renderPreZ(_t,S,W),Y.depthFunc(Y.LEQUAL)):Y.depthFunc(Y.LESS);for(var ut=v(),ct=d.Z.create(),st=0;st<tt.length;st++){var dt=tt[st];u.Z.multiplyAffine(ut,W.viewMatrix.array,dt.worldTransform.array),d.Z.transformMat4(ct,dt.position.array,ut),dt.__depth=ct[2]}this.renderPass(_t,W,{getMaterial:function(ht){return rt||ht.material},sortCompare:this.opaqueSortCompare}),this.renderPass(tt,W,{getMaterial:function(ht){return rt||ht.material},sortCompare:this.transparentSortCompare}),S.trigger("afterrender",this,S,W,ft),this._sceneRendering=null},getProgram:function(S,W,B){return W=W||S.material,this._programMgr.getProgram(S,W,B)},validateProgram:function(S){if(S.__error){var W=S.__error;if(g[S.__uid__])return;if(g[S.__uid__]=!0,this.throwError)throw new Error(W);this.trigger("error",W)}},updatePrograms:function(S,W,B){var X=B&&B.getMaterial||R;W=W||null;for(var Y=0;Y<S.length;Y++){var et=S[Y],z=X.call(this,et);if(Y>0){var k=S[Y-1],at=k.joints?k.joints.length:0,ft=et.joints?et.joints.length:0;if(ft===at&&et.material===k.material&&et.lightGroup===k.lightGroup){et.__program=k.__program;continue}}var _t=this._programMgr.getProgram(et,z,W);this.validateProgram(_t),et.__program=_t}},renderPass:function(S,W,B){this.trigger("beforerenderpass",this,S,W,B),B=B||{},B.getMaterial=B.getMaterial||R,B.getUniform=B.getUniform||x,B.isMaterialChanged=B.isMaterialChanged||w,B.beforeRender=B.beforeRender||N,B.afterRender=B.afterRender||N;var X=B.ifRender||Z;this.updatePrograms(S,this._sceneRendering,B),B.sortCompare&&S.sort(B.sortCompare);var Y=this.viewport,et=Y.devicePixelRatio,z=[Y.x*et,Y.y*et,Y.width*et,Y.height*et],k=this.devicePixelRatio,at=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*k,this._height*k],ft=[z[2],z[3]],_t=Date.now();W?(u.Z.copy(H.VIEW,W.viewMatrix.array),u.Z.copy(H.PROJECTION,W.projectionMatrix.array),u.Z.copy(H.VIEWINVERSE,W.worldTransform.array)):(u.Z.identity(H.VIEW),u.Z.identity(H.PROJECTION),u.Z.identity(H.VIEWINVERSE)),u.Z.multiply(H.VIEWPROJECTION,H.PROJECTION,H.VIEW),u.Z.invert(H.PROJECTIONINVERSE,H.PROJECTION),u.Z.invert(H.VIEWPROJECTIONINVERSE,H.VIEWPROJECTION);for(var tt=this.gl,rt=this._sceneRendering,ut,ct,st,dt,ht,xt,Rt,mt,St,It,gt,Tt,At=null,j=0;j<S.length;j++){var q=S[j],yt=q.worldTransform!=null,Mt;if(X(q)){yt&&(Mt=q.isSkinnedMesh&&q.isSkinnedMesh()?q.offsetMatrix?q.offsetMatrix.array:H.IDENTITY:q.worldTransform.array);var Q=q.geometry,$=B.getMaterial.call(this,q),nt=q.__program,lt=$.shader,Ct=Q.__uid__+"-"+nt.__uid__,Zt=Ct!==It;It=Ct,Zt&&At&&At.bindVertexArrayOES(null),yt&&(u.Z.copy(H.WORLD,Mt),u.Z.multiply(H.WORLDVIEWPROJECTION,H.VIEWPROJECTION,Mt),u.Z.multiplyAffine(H.WORLDVIEW,H.VIEW,Mt),(lt.matrixSemantics.WORLDINVERSE||lt.matrixSemantics.WORLDINVERSETRANSPOSE)&&u.Z.invert(H.WORLDINVERSE,Mt),(lt.matrixSemantics.WORLDVIEWINVERSE||lt.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&u.Z.invert(H.WORLDVIEWINVERSE,H.WORLDVIEW),(lt.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||lt.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&u.Z.invert(H.WORLDVIEWPROJECTIONINVERSE,H.WORLDVIEWPROJECTION)),q.beforeRender&&q.beforeRender(this),B.beforeRender.call(this,q,$,ut);var Ot=nt!==ct;Ot?(nt.bind(this),nt.setUniformOfSemantic(tt,"VIEWPORT",z),nt.setUniformOfSemantic(tt,"WINDOW_SIZE",at),W&&(nt.setUniformOfSemantic(tt,"NEAR",W.near),nt.setUniformOfSemantic(tt,"FAR",W.far)),nt.setUniformOfSemantic(tt,"DEVICEPIXELRATIO",et),nt.setUniformOfSemantic(tt,"TIME",_t),nt.setUniformOfSemantic(tt,"VIEWPORT_SIZE",ft),rt&&rt.setLightUniforms(nt,q.lightGroup,this)):nt=ct,(Ot||B.isMaterialChanged(q,st,$,ut))&&($.depthTest!==dt&&($.depthTest?tt.enable(tt.DEPTH_TEST):tt.disable(tt.DEPTH_TEST),dt=$.depthTest),$.depthMask!==ht&&(tt.depthMask($.depthMask),ht=$.depthMask),$.transparent!==St&&($.transparent?tt.enable(tt.BLEND):tt.disable(tt.BLEND),St=$.transparent),$.transparent&&($.blend?$.blend(tt):(tt.blendEquationSeparate(tt.FUNC_ADD,tt.FUNC_ADD),tt.blendFuncSeparate(tt.SRC_ALPHA,tt.ONE_MINUS_SRC_ALPHA,tt.ONE,tt.ONE_MINUS_SRC_ALPHA))),Tt=this._bindMaterial(q,$,nt,st||null,ut||null,ct||null,B.getUniform),ut=$);var bt=lt.matrixSemanticKeys;if(yt)for(var Ft=0;Ft<bt.length;Ft++){var zt=bt[Ft],Ht=lt.matrixSemantics[zt],kt=H[zt];if(Ht.isTranspose){var jt=H[Ht.semanticNoTranspose];u.Z.transpose(kt,jt)}nt.setUniform(tt,Ht.type,Ht.symbol,kt)}q.cullFace!==Rt&&(Rt=q.cullFace,tt.cullFace(Rt)),q.frontFace!==mt&&(mt=q.frontFace,tt.frontFace(mt)),q.culling!==xt&&(xt=q.culling,xt?tt.enable(tt.CULL_FACE):tt.disable(tt.CULL_FACE)),this._updateSkeleton(q,nt,Tt),Zt&&(gt=this._bindVAO(At,lt,Q,nt)),this._renderObject(q,gt,nt),B.afterRender(this,q),q.afterRender&&q.afterRender(this),ct=nt,st=q}}At&&At.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,S,W,B)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(S,W,B){var X=this.gl,Y=S.skeleton;if(Y)if(Y.update(),S.joints.length>this.getMaxJointNumber()){var et=Y.getSubSkinMatricesTexture(S.__uid__,S.joints);W.useTextureSlot(this,et,B),W.setUniform(X,"1i","skinMatricesTexture",B),W.setUniform(X,"1f","skinMatricesTextureSize",et.width)}else{var z=Y.getSubSkinMatrices(S.__uid__,S.joints);W.setUniformOfSemantic(X,"SKIN_MATRIX",z)}},_renderObject:function(S,W,B){var X=this.gl,Y=S.geometry,et=S.mode;et==null&&(et=4);var z=null,k=S.isInstancedMesh&&S.isInstancedMesh();if(k&&(z=this.getGLExtension("ANGLE_instanced_arrays"),!z)){console.warn("Device not support ANGLE_instanced_arrays extension");return}var at;if(k&&(at=this._bindInstancedAttributes(S,B,z)),W.indicesBuffer){var ft=this.getGLExtension("OES_element_index_uint"),_t=ft&&Y.indices instanceof Uint32Array,tt=_t?X.UNSIGNED_INT:X.UNSIGNED_SHORT;k?z.drawElementsInstancedANGLE(et,W.indicesBuffer.count,tt,0,S.getInstanceCount()):X.drawElements(et,W.indicesBuffer.count,tt,0)}else k?z.drawArraysInstancedANGLE(et,0,Y.vertexCount,S.getInstanceCount()):X.drawArrays(et,0,Y.vertexCount);if(k)for(var rt=0;rt<at.length;rt++)X.disableVertexAttribArray(at[rt])},_bindInstancedAttributes:function(S,W,B){for(var X=this.gl,Y=S.getInstancedAttributesBuffers(this),et=[],z=0;z<Y.length;z++){var k=Y[z],at=W.getAttribLocation(X,k.symbol);if(!(at<0)){var ft=G[k.type]||X.FLOAT;X.enableVertexAttribArray(at),X.bindBuffer(X.ARRAY_BUFFER,k.buffer),X.vertexAttribPointer(at,k.size,ft,!1,0,0),B.vertexAttribDivisorANGLE(at,k.divisor),et.push(at)}}return et},_bindMaterial:function(S,W,B,X,Y,et,z){for(var k=this.gl,at=et===B,ft=B.currentTextureSlot(),_t=W.getEnabledUniforms(),tt=W.getTextureUniforms(),rt=this._placeholderTexture,ut=0;ut<tt.length;ut++){var ct=tt[ut],st=z(S,W,ct),dt=W.uniforms[ct].type;if(dt==="t"&&st)st.__slot=-1;else if(dt==="tv")for(var ht=0;ht<st.length;ht++)st[ht]&&(st[ht].__slot=-1)}rt.__slot=-1;for(var ut=0;ut<_t.length;ut++){var ct=_t[ut],xt=W.uniforms[ct],st=z(S,W,ct),dt=xt.type,Rt=dt==="t";if(Rt&&(!st||!st.isRenderable())&&(st=rt),Y&&at){var mt=z(X,Y,ct);if(Rt&&(!mt||!mt.isRenderable())&&(mt=rt),mt===st){if(Rt)B.takeCurrentTextureSlot(this,null);else if(dt==="tv"&&st)for(var ht=0;ht<st.length;ht++)B.takeCurrentTextureSlot(this,null);continue}}if(st!=null)if(Rt)if(st.__slot<0){var St=B.currentTextureSlot(),It=B.setUniform(k,"1i",ct,St);It&&(B.takeCurrentTextureSlot(this,st),st.__slot=St)}else B.setUniform(k,"1i",ct,st.__slot);else if(Array.isArray(st)){if(st.length===0)continue;if(dt==="tv"){if(!B.hasUniform(ct))continue;for(var gt=[],ht=0;ht<st.length;ht++){var Tt=st[ht];if(Tt.__slot<0){var St=B.currentTextureSlot();gt.push(St),B.takeCurrentTextureSlot(this,Tt),Tt.__slot=St}else gt.push(Tt.__slot)}B.setUniform(k,"1iv",ct,gt)}else B.setUniform(k,xt.type,ct,st)}else B.setUniform(k,xt.type,ct,st)}var At=B.currentTextureSlot();return B.resetTextureSlot(ft),At},_bindVAO:function(S,W,B,X){var Y=!B.dynamic,et=this.gl,z=this.__uid__+"-"+X.__uid__,k=B.__vaoCache[z];if(!k){var at=B.getBufferChunks(this);if(!at||!at.length)return;for(var ft=at[0],_t=ft.attributeBuffers,mt=ft.indicesBuffer,Rt=[],tt=[],rt=0;rt<_t.length;rt++){var ut=_t[rt],ct=ut.name,st=ut.semantic,dt;if(st){var ht=W.attributeSemantics[st];dt=ht&&ht.symbol}else dt=ct;dt&&X.attributes[dt]&&(Rt.push(ut),tt.push(dt))}k=new K(Rt,tt,mt),Y&&(B.__vaoCache[z]=k)}var xt=!0;S&&Y&&(k.vao==null?k.vao=S.createVertexArrayOES():xt=!1,S.bindVertexArrayOES(k.vao));var Rt=k.availableAttributes,mt=k.indicesBuffer;if(xt){for(var St=X.enableAttributes(this,k.availableAttributeSymbols,S&&Y&&k),rt=0;rt<Rt.length;rt++){var It=St[rt];if(It!==-1){var ut=Rt[rt],gt=ut.buffer,Tt=ut.size,At=G[ut.type]||et.FLOAT;et.bindBuffer(et.ARRAY_BUFFER,gt),et.vertexAttribPointer(It,Tt,At,!1,0,0)}}B.isUseIndices()&&et.bindBuffer(et.ELEMENT_ARRAY_BUFFER,mt.buffer)}return k},renderPreZ:function(S,W,B){var X=this.gl,Y=this._prezMaterial||new h.Z({shader:new c.Z(c.Z.source("clay.prez.vertex"),c.Z.source("clay.prez.fragment"))});this._prezMaterial=Y,X.colorMask(!1,!1,!1,!1),X.depthMask(!0),this.renderPass(S,B,{ifRender:function(et){return!et.ignorePreZ},isMaterialChanged:function(et,z){var k=et.material,at=z.material;return k.get("diffuseMap")!==at.get("diffuseMap")||(k.get("alphaCutoff")||0)!==(at.get("alphaCutoff")||0)},getUniform:function(et,z,k){if(k==="alphaMap")return et.material.get("diffuseMap");if(k==="alphaCutoff"){if(et.material.isDefined("fragment","ALPHA_TEST")&&et.material.get("diffuseMap")){var at=et.material.get("alphaCutoff");return at||0}return 0}else return k==="uvRepeat"?et.material.get("uvRepeat"):k==="uvOffset"?et.material.get("uvOffset"):z.get(k)},getMaterial:function(){return Y},sort:this.opaqueSortCompare}),X.colorMask(!0,!0,!0,!0),X.depthMask(!0)},disposeScene:function(S){this.disposeNode(S,!0,!0),S.dispose()},disposeNode:function(S,W,B){S.getParent()&&S.getParent().remove(S);var X={};S.traverse(function(Y){var et=Y.material;if(Y.geometry&&W&&Y.geometry.dispose(this),B&&et&&!X[et.__uid__]){for(var z=et.getTextureUniforms(),k=0;k<z.length;k++){var at=z[k],ft=et.uniforms[at].value,_t=et.uniforms[at].type;if(ft){if(_t==="t")ft.dispose&&ft.dispose(this);else if(_t==="tv")for(var tt=0;tt<ft.length;tt++)ft[tt]&&ft[tt].dispose&&ft[tt].dispose(this)}}X[et.__uid__]=!0}Y.dispose&&Y.dispose(this)},this)},disposeGeometry:function(S){S.dispose(this)},disposeTexture:function(S){S.dispose(this)},disposeFrameBuffer:function(S){S.dispose(this)},dispose:function(){},screenToNDC:function(S,W,B){B||(B=new i.Z),W=this._height-W;var X=this.viewport,Y=B.array;return Y[0]=(S-X.x)/X.width,Y[0]=Y[0]*2-1,Y[1]=(W-X.y)/X.height,Y[1]=Y[1]*2-1,B}});U.opaqueSortCompare=U.prototype.opaqueSortCompare=function(S,W){return S.renderOrder===W.renderOrder?S.__program===W.__program?S.material===W.material?S.geometry.__uid__-W.geometry.__uid__:S.material.__uid__-W.material.__uid__:S.__program&&W.__program?S.__program.__uid__-W.__program.__uid__:0:S.renderOrder-W.renderOrder},U.transparentSortCompare=U.prototype.transparentSortCompare=function(S,W){return S.renderOrder===W.renderOrder?S.__depth===W.__depth?S.__program===W.__program?S.material===W.material?S.geometry.__uid__-W.geometry.__uid__:S.material.__uid__-W.material.__uid__:S.__program&&W.__program?S.__program.__uid__-W.__program.__uid__:0:S.__depth-W.__depth:S.renderOrder-W.renderOrder};var H={IDENTITY:v(),WORLD:v(),VIEW:v(),PROJECTION:v(),WORLDVIEW:v(),VIEWPROJECTION:v(),WORLDVIEWPROJECTION:v(),WORLDINVERSE:v(),VIEWINVERSE:v(),PROJECTIONINVERSE:v(),WORLDVIEWINVERSE:v(),VIEWPROJECTIONINVERSE:v(),WORLDVIEWPROJECTIONINVERSE:v(),WORLDTRANSPOSE:v(),VIEWTRANSPOSE:v(),PROJECTIONTRANSPOSE:v(),WORLDVIEWTRANSPOSE:v(),VIEWPROJECTIONTRANSPOSE:v(),WORLDVIEWPROJECTIONTRANSPOSE:v(),WORLDINVERSETRANSPOSE:v(),VIEWINVERSETRANSPOSE:v(),PROJECTIONINVERSETRANSPOSE:v(),WORLDVIEWINVERSETRANSPOSE:v(),VIEWPROJECTIONINVERSETRANSPOSE:v(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:v()};U.COLOR_BUFFER_BIT=e.Z.COLOR_BUFFER_BIT,U.DEPTH_BUFFER_BIT=e.Z.DEPTH_BUFFER_BIT,U.STENCIL_BUFFER_BIT=e.Z.STENCIL_BUFFER_BIT;var V=U},50908:function(Dt,it,C){var p=C(80881),o=C(92449),t=C(37046),r=C(37233),n=C(34635),e=C(85822),s=C(60193),h=C(49865),i=e.Z.create(),a=e.Z.create(),l={};function _(y){var A=[],D=Object.keys(y);D.sort();for(var L=0;L<D.length;L++){var I=D[L];A.push(I+" "+y[I])}var F=A.join(`
`);if(l[F])return l[F];var b=n.Z.genGUID();return l[F]=b,b}function M(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}M.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},M.prototype.add=function(y,A){A?this.transparent[this._transparentCount++]=y:this.opaque[this._opaqueCount++]=y},M.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var m=p.Z.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new r.Z,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new s.Z(20)}},function(){this._scene=this},{addToScene:function(y){y instanceof t.Z?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(y)):y instanceof o.Z&&this.lights.push(y),y.name&&(this._nodeRepository[y.name]=y)},removeFromScene:function(y){var A;y instanceof t.Z?(A=this._cameraList.indexOf(y),A>=0&&this._cameraList.splice(A,1)):y instanceof o.Z&&(A=this.lights.indexOf(y),A>=0&&this.lights.splice(A,1)),y.name&&delete this._nodeRepository[y.name]},getNode:function(y){return this._nodeRepository[y]},setMainCamera:function(y){var A=this._cameraList.indexOf(y);A>=0&&this._cameraList.splice(A,1),this._cameraList.unshift(y)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var y=this.lights;this._previousLightNumber=this._lightNumber;for(var A={},D=0;D<y.length;D++){var L=y[D];if(!L.invisible){var I=L.group;A[I]||(A[I]={}),A[I][L.type]=A[I][L.type]||0,A[I][L.type]++}}this._lightNumber=A;for(var F in A)this._lightProgramKeys[F]=_(A[F]);this._updateLightUniforms()},cloneNode:function(y){var A=y.clone(),D={};function L(I,F){D[I.__uid__]=F;for(var b=0;b<I._children.length;b++){var O=I._children[b],P=F._children[b];L(O,P)}}return L(y,A),A.traverse(function(I){I.skeleton&&(I.skeleton=I.skeleton.clone(D)),I.material&&(I.material=I.material.clone())}),A},updateRenderList:function(y,A){var D=y.__uid__,L=this._renderLists.get(D);L||(L=new M,this._renderLists.put(D,L)),L.startCount(),A&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var I=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,y,I,L,A),L.endCount(),L},getRenderList:function(y){return this._renderLists.get(y.__uid__)},_doUpdateRenderList:function(y,A,D,L,I){if(!y.invisible)for(var F=0;F<y._children.length;F++){var b=y._children[F];if(b.isRenderable()){var O=b.isSkinnedMesh()?i:b.worldTransform.array,P=b.geometry;e.Z.multiplyAffine(a,A.viewMatrix.array,O),(I&&!P.boundingBox||!this.isFrustumCulled(b,A,a))&&L.add(b,b.material.transparent||D)}b._children.length>0&&this._doUpdateRenderList(b,A,D,L,I)}},isFrustumCulled:function(){var y=new r.Z,A=new h.Z;return function(D,L,I){var F=D.boundingBox;if(F||(D.skeleton&&D.skeleton.boundingBox?F=D.skeleton.boundingBox:F=D.geometry.boundingBox),!F)return!1;if(A.array=I,y.transformFrom(F,A),D.castShadow&&this.viewBoundingBoxLastFrame.union(y),D.frustumCulling){if(!y.intersectBoundingBox(L.frustum.boundingBox))return!0;A.array=L.projectionMatrix.array,y.max.array[2]>0&&y.min.array[2]<0&&(y.max.array[2]=-1e-20),y.applyProjection(A);var b=y.min.array,O=y.max.array;if(O[0]<-1||b[0]>1||O[1]<-1||b[1]>1||O[2]<-1||b[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var y=this.lights;y.sort(T);var A=this._lightUniforms;for(var D in A)for(var L in A[D])A[D][L].value.length=0;for(var I=0;I<y.length;I++){var F=y[I];if(!F.invisible){var D=F.group;for(var L in F.uniformTemplates){var b=F.uniformTemplates[L],O=b.value(F);if(O!=null){A[D]||(A[D]={}),A[D][L]||(A[D][L]={type:"",value:[]});var P=A[D][L];switch(P.type=b.type+"v",b.type){case"1i":case"1f":case"t":P.value.push(O);break;case"2f":case"3f":case"4f":for(var E=0;E<O.length;E++)P.value.push(O[E]);break;default:console.error("Unkown light uniform type "+b.type)}}}}}},getLightGroups:function(){var y=[];for(var A in this._lightNumber)y.push(A);return y},getNumberChangedLightGroups:function(){var y=[];for(var A in this._lightNumber)this.isLightNumberChanged(A)&&y.push(A);return y},isLightNumberChanged:function(y){var A=this._previousLightNumber,D=this._lightNumber;for(var L in D[y])if(!A[y]||D[y][L]!==A[y][L])return!0;for(var L in A[y])if(!D[y]||D[y][L]!==A[y][L])return!0;return!1},getLightsNumbers:function(y){return this._lightNumber[y]},getProgramKey:function(y){return this._lightProgramKeys[y]},setLightUniforms:function(){function y(A,D,L){for(var I in A){var F=A[I];if(F.type==="tv"){if(!D.hasUniform(I))continue;for(var b=[],O=0;O<F.value.length;O++){var P=F.value[O],E=D.takeCurrentTextureSlot(L,P);b.push(E)}D.setUniform(L.gl,"1iv",I,b)}else D.setUniform(L.gl,F.type,I,F.value)}}return function(A,D,L){y(this._lightUniforms[D],A,L),y(this.shadowUniforms,A,L)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function T(y,A){if(A.castShadow&&!y.castShadow)return!0}it.Z=m},60217:function(Dt,it,C){var p=C(34635),o=C(82544),t=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,r=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,n=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,e={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function s(b){for(var O=[],P=0;P<b;P++)O[P]=0;return O}var h={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return s(2)},vec3:function(){return s(3)},vec4:function(){return s(4)},ivec2:function(){return s(2)},ivec3:function(){return s(3)},ivec4:function(){return s(4)},mat2:function(){return s(4)},mat3:function(){return s(9)},mat4:function(){return s(16)},array:function(){return[]}},i=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],a=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],l=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],_={vec4:4,vec3:3,vec2:2,float:1},M={},m={};function T(b,O){var P="vertex:"+b+"fragment:"+O;if(M[P])return M[P];var E=p.Z.genGUID();return M[P]=E,m[E]={vertex:b,fragment:O},E}function y(b){return b.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function A(){console.error("Wrong uniform/attributes syntax")}function D(b,O){for(var P=/[,=\(\):]/,E=O.replace(/:\s*\[\s*(.*)\s*\]/g,"="+b+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),c=[],f=0;f<E.length;f++)E[f].match(P)?c.push(E[f].charAt(0),E[f].slice(1)):c.push(E[f]);E=c;var u=0,d=1,v=2,g=3,R=4,x=5,w=u,Z={},N=null,G;K(E[0]);function K(H){H||A();var V=H.match(/\[(.*?)\]/);G=H.replace(/\[(.*?)\]/,""),Z[G]={},V&&(Z[G].isArray=!0,Z[G].arraySize=V[1])}for(var f=1;f<E.length;f++){var J=E[f];if(J){if(J==="="){if(w!==u&&w!==g){A();break}w=d;continue}else if(J===":"){w=R;continue}else if(J===","){if(w===v){if(!(N instanceof Array)){A();break}N.push(+E[++f])}else w=x;continue}else if(J===")"){Z[G].value=new o.Z.Float32Array(N),N=null,w=x;continue}else if(J==="("){if(w!==v){A();break}if(!(N instanceof Array)){A();break}N.push(+E[++f]);continue}else if(J.indexOf("vec")>=0){if(w!==d&&w!==R){A();break}w=v,N=[];continue}else if(w===d){b==="bool"?Z[G].value=J==="true":Z[G].value=parseFloat(J),N=null;continue}else if(w===R){var U=J;i.indexOf(U)>=0||a.indexOf(U)>=0||l.indexOf(U)>=0?Z[G].semantic=U:U==="ignore"||U==="unconfigurable"?Z[G].ignore=!0:b==="bool"?Z[G].value=U==="true":Z[G].value=parseFloat(U);continue}K(J),w=u}}return Z}function L(b,O){typeof b=="object"&&(O=b.fragment,b=b.vertex),b=y(b),O=y(O),this._shaderID=T(b,O),this._vertexCode=L.parseImport(b),this._fragmentCode=L.parseImport(O),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}L.prototype={constructor:L,createUniforms:function(){var b={};for(var O in this.uniformTemplates){var P=this.uniformTemplates[O];b[O]={type:P.type,value:P.value()}}return b},_parseImport:function(){this._vertexCode=L.parseImport(this.vertex),this._fragmentCode=L.parseImport(this.fragment)},_addSemanticUniform:function(b,O,P){if(i.indexOf(P)>=0)this.attributeSemantics[P]={symbol:b,type:O};else if(l.indexOf(P)>=0){var E=!1,c=P;P.match(/TRANSPOSE$/)&&(E=!0,c=P.slice(0,-9)),this.matrixSemantics[P]={symbol:b,type:O,isTranspose:E,semanticNoTranspose:c}}else a.indexOf(P)>=0&&(this.uniformSemantics[P]={symbol:b,type:O})},_addMaterialUniform:function(b,O,P,E,c,f){f[b]={type:P,value:c?h.array:E||h[O],semantic:null}},_parseUniforms:function(){var b={},O=this,P="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace(t,c),P="fragment",this._fragmentCode=this._fragmentCode.replace(t,c),O.matrixSemanticKeys=Object.keys(this.matrixSemantics);function E(f){return f!=null?function(){return f}:null}function c(f,u,d){var v=D(u,d),g=[];for(var R in v){var x=v[R],w=x.semantic,Z=R,N=e[u],G=E(v[R].value);v[R].isArray&&(Z+="["+v[R].arraySize+"]",N+="v"),g.push(Z),O._uniformList.push(R),x.ignore||((u==="sampler2D"||u==="samplerCube")&&(O.textures[R]={shaderType:P,type:u}),w?O._addSemanticUniform(R,N,w):O._addMaterialUniform(R,u,N,G,v[R].isArray,b))}return g.length>0?"uniform "+u+" "+g.join(",")+`;
`:""}this.uniformTemplates=b},_parseAttributes:function(){var b={},O=this;this._vertexCode=this._vertexCode.replace(r,P);function P(E,c,f){var u=D(c,f),d=_[c]||1,v=[];for(var g in u){var R=u[g].semantic;if(b[g]={type:"float",size:d,semantic:R||null},R){if(i.indexOf(R)<0)throw new Error('Unkown semantic "'+R+'"');O.attributeSemantics[R]={symbol:g,type:c}}v.push(g)}return"attribute "+c+" "+v.join(",")+`;
`}this.attributes=b},_parseDefines:function(){var b=this,O="vertex";this._vertexCode=this._vertexCode.replace(n,P),O="fragment",this._fragmentCode=this._fragmentCode.replace(n,P);function P(E,c,f){var u=O==="vertex"?b.vertexDefines:b.fragmentDefines;return u[c]||(f==="false"?u[c]=!1:f==="true"?u[c]=!0:u[c]=f?isNaN(parseFloat(f))?f.trim():parseFloat(f):null),""}},clone:function(){var b=m[this._shaderID],O=new L(b.vertex,b.fragment);return O}},Object.defineProperty&&(Object.defineProperty(L.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(L.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(L.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(L.prototype,"uniforms",{get:function(){return this._uniformList}}));var I=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;L.parseImport=function(b){return b=b.replace(I,function(c,P,E){var c=L.source(E);return c?L.parseImport(c):(console.error('Shader chunk "'+E+'" not existed in library'),"")}),b};var F=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;L.import=function(b){b.replace(F,function(O,P,E,f){var f=f.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(f){for(var u=E.split("."),d=L.codes,v=0,g;v<u.length-1;)g=u[v++],d[g]||(d[g]={}),d=d[g];g=u[v],d[g]=f}return f})},L.codes={},L.source=function(b){for(var O=b.split("."),P=L.codes,E=0;P&&E<O.length;){var c=O[E++];P=P[c]}return typeof P!="string"?(console.error('Shader "'+b+'" not existed in library'),""):P},it.Z=L},88693:function(Dt,it,C){var p=C(85038),o=C(23044),t=C(29100),r=p.Z.extend({width:512,height:512,type:o.Z.UNSIGNED_BYTE,format:o.Z.RGBA,wrapS:o.Z.REPEAT,wrapT:o.Z.REPEAT,minFilter:o.Z.LINEAR_MIPMAP_LINEAR,magFilter:o.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new t.Z},{getWebGLTexture:function(n){var e=n.gl,s=this._cache;return s.use(n.__uid__),s.miss("webgl_texture")&&s.put("webgl_texture",e.createTexture()),this.dynamic?this.update(n):s.isDirty()&&(this.update(n),s.fresh()),s.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(n){},updateCommon:function(n){var e=n.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===o.Z.DEPTH_COMPONENT&&(this.useMipmap=!1);var s=n.getGLExtension("EXT_sRGB");this.format===r.SRGB&&!s&&(this.format=r.RGB),this.format===r.SRGB_ALPHA&&!s&&(this.format=r.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?o.Z.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?o.Z.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var n=this.minFilter;return this.NPOT||!this.useMipmap?n===o.Z.NEAREST_MIPMAP_NEAREST||n===o.Z.NEAREST_MIPMAP_LINEAR?o.Z.NEAREST:n===o.Z.LINEAR_MIPMAP_LINEAR||n===o.Z.LINEAR_MIPMAP_NEAREST?o.Z.LINEAR:n:n},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(n){--n;for(var e=1;e<32;e<<=1)n=n|n>>e;return n+1},dispose:function(n){var e=this._cache;e.use(n.__uid__);var s=e.get("webgl_texture");s&&n.gl.deleteTexture(s),e.deleteContext(n.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n}}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n}}),r.BYTE=o.Z.BYTE,r.UNSIGNED_BYTE=o.Z.UNSIGNED_BYTE,r.SHORT=o.Z.SHORT,r.UNSIGNED_SHORT=o.Z.UNSIGNED_SHORT,r.INT=o.Z.INT,r.UNSIGNED_INT=o.Z.UNSIGNED_INT,r.FLOAT=o.Z.FLOAT,r.HALF_FLOAT=36193,r.UNSIGNED_INT_24_8_WEBGL=34042,r.DEPTH_COMPONENT=o.Z.DEPTH_COMPONENT,r.DEPTH_STENCIL=o.Z.DEPTH_STENCIL,r.ALPHA=o.Z.ALPHA,r.RGB=o.Z.RGB,r.RGBA=o.Z.RGBA,r.LUMINANCE=o.Z.LUMINANCE,r.LUMINANCE_ALPHA=o.Z.LUMINANCE_ALPHA,r.SRGB=35904,r.SRGB_ALPHA=35906,r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,r.NEAREST=o.Z.NEAREST,r.LINEAR=o.Z.LINEAR,r.NEAREST_MIPMAP_NEAREST=o.Z.NEAREST_MIPMAP_NEAREST,r.LINEAR_MIPMAP_NEAREST=o.Z.LINEAR_MIPMAP_NEAREST,r.NEAREST_MIPMAP_LINEAR=o.Z.NEAREST_MIPMAP_LINEAR,r.LINEAR_MIPMAP_LINEAR=o.Z.LINEAR_MIPMAP_LINEAR,r.REPEAT=o.Z.REPEAT,r.CLAMP_TO_EDGE=o.Z.CLAMP_TO_EDGE,r.MIRRORED_REPEAT=o.Z.MIRRORED_REPEAT,it.Z=r},75142:function(Dt,it,C){var p=C(88693),o=C(23044),t=C(82544),r=C(14983),n=r.Z.isPowerOfTwo;function e(i){return Math.pow(2,Math.round(Math.log(i)/Math.LN2))}function s(i,a){var l=e(i.width),_=e(i.height);a=a||document.createElement("canvas"),a.width=l,a.height=_;var M=a.getContext("2d");return M.drawImage(i.image,0,0,l,_),a}var h=p.Z.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(i){var a=i.gl;a.bindTexture(a.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(i);var l=this.format,_=this.type,M=!!(this.convertToPOT&&!this.mipmaps.length&&this.image&&(this.wrapS===p.Z.REPEAT||this.wrapT===p.Z.REPEAT)&&this.NPOT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,M?this.wrapS:this.getAvailableWrapS()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,M?this.wrapT:this.getAvailableWrapT()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,M?this.magFilter:this.getAvailableMagFilter()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,M?this.minFilter:this.getAvailableMinFilter());var m=i.getGLExtension("EXT_texture_filter_anisotropic");if(m&&this.anisotropic>1&&a.texParameterf(a.TEXTURE_2D,m.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),_===36193){var T=i.getGLExtension("OES_texture_half_float");T||(_=o.Z.FLOAT)}if(this.mipmaps.length)for(var y=this.width,A=this.height,D=0;D<this.mipmaps.length;D++){var L=this.mipmaps[D];this._updateTextureData(a,L,D,y,A,l,_,!1),y/=2,A/=2}else this._updateTextureData(a,this,0,this.width,this.height,l,_,M),this.useMipmap&&(!this.NPOT||M)&&a.generateMipmap(a.TEXTURE_2D);a.bindTexture(a.TEXTURE_2D,null)},_updateTextureData:function(i,a,l,_,M,m,T,y){if(a.image){var A=a.image;y&&(this._potCanvas=s(this,this._potCanvas),A=this._potCanvas),i.texImage2D(i.TEXTURE_2D,l,m,m,T,A)}else m<=p.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT&&m>=p.Z.COMPRESSED_RGB_S3TC_DXT1_EXT?i.compressedTexImage2D(i.TEXTURE_2D,l,m,_,M,0,a.pixels):i.texImage2D(i.TEXTURE_2D,l,m,_,M,0,m,T,a.pixels)},generateMipmap:function(i){var a=i.gl;this.useMipmap&&!this.NPOT&&(a.bindTexture(a.TEXTURE_2D,this._cache.get("webgl_texture")),a.generateMipmap(a.TEXTURE_2D))},isPowerOfTwo:function(){return n(this.width)&&n(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!!(this.width&&this.height)},bind:function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,this.getWebGLTexture(i))},unbind:function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,null)},load:function(i,a){var l=t.Z.createImage();a&&(l.crossOrigin=a);var _=this;return l.onload=function(){_.dirty(),_.trigger("success",_)},l.onerror=function(){_.trigger("error",_)},l.src=i,this.image=l,this}});Object.defineProperty(h.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(i){this.image?console.warn("Texture from image can't set width"):(this._width!==i&&this.dirty(),this._width=i)}}),Object.defineProperty(h.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(i){this.image?console.warn("Texture from image can't set height"):(this._height!==i&&this.dirty(),this._height=i)}}),it.Z=h},5847:function(Dt,it,C){var p=C(88693),o=C(23044),t=C(34635),r=C(14983),n=C(82544),e=r.Z.isPowerOfTwo,s=["px","nx","py","ny","pz","nz"],h=p.Z.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(a){var l=a.gl;l.bindTexture(l.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(a);var _=this.format,M=this.type;l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_S,this.getAvailableWrapS()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_T,this.getAvailableWrapT()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var m=a.getGLExtension("EXT_texture_filter_anisotropic");if(m&&this.anisotropic>1&&l.texParameterf(l.TEXTURE_CUBE_MAP,m.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),M===36193){var T=a.getGLExtension("OES_texture_half_float");T||(M=o.Z.FLOAT)}if(this.mipmaps.length)for(var y=this.width,A=this.height,D=0;D<this.mipmaps.length;D++){var L=this.mipmaps[D];this._updateTextureData(l,L,D,y,A,_,M),y/=2,A/=2}else this._updateTextureData(l,this,0,this.width,this.height,_,M),!this.NPOT&&this.useMipmap&&l.generateMipmap(l.TEXTURE_CUBE_MAP);l.bindTexture(l.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(a,l,_,M,m,T,y){for(var A=0;A<6;A++){var D=s[A],L=l.image&&l.image[D];L?a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+A,_,T,T,y,L):a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+A,_,T,M,m,0,T,y,l.pixels&&l.pixels[D])}},generateMipmap:function(a){var l=a.gl;this.useMipmap&&!this.NPOT&&(l.bindTexture(l.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),l.generateMipmap(l.TEXTURE_CUBE_MAP))},bind:function(a){a.gl.bindTexture(a.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(a))},unbind:function(a){a.gl.bindTexture(a.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?e(this.image.px.width)&&e(this.image.px.height):e(this.width)&&e(this.height)},isRenderable:function(){return this.image.px?i(this.image.px)&&i(this.image.nx)&&i(this.image.py)&&i(this.image.ny)&&i(this.image.pz)&&i(this.image.nz):!!(this.width&&this.height)},load:function(a,l){var _=0,M=this;return t.Z.each(a,function(m,T){var y=n.Z.createImage();l&&(y.crossOrigin=l),y.onload=function(){_--,_===0&&(M.dirty(),M.trigger("success",M))},y.onerror=function(){_--},_++,y.src=m,M.image[T]=y}),this}});Object.defineProperty(h.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(a){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==a&&this.dirty(),this._width=a)}}),Object.defineProperty(h.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(a){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==a&&this.dirty(),this._height=a)}});function i(a){return a.width>0&&a.height>0}it.Z=h},95347:function(Dt,it,C){var p=C(37046),o=p.Z.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=p.Z.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});it.Z=o},18850:function(Dt,it,C){var p=C(37046),o=p.Z.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,r=Math.atan(1/t[5])*2;this.fov=r/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=p.Z.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}});it.Z=o},80785:function(Dt,it,C){C.d(it,{Z:function(){return M}});var p=C(85038),o=C(95347),t=C(6132),r=C(60217),n=C(84708),e=C(30420),s=C(23044),h=`
@export clay.compositor.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
varying vec2 v_Texcoord;
void main()
{
 v_Texcoord = texcoord;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end`;r.Z.import(h);var i=new t.Z,a=new e.Z({geometry:i,frustumCulling:!1}),l=new o.Z,_=p.Z.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var m=new r.Z(r.Z.source("clay.compositor.vertex"),this.fragment),T=new n.Z({shader:m});T.enableTexturesAll(),this.material=T},{setUniform:function(m,T){this.material.setUniform(m,T)},getUniform:function(m){var T=this.material.uniforms[m];if(T)return T.value},attachOutput:function(m,T){this.outputs||(this.outputs={}),T=T||s.Z.COLOR_ATTACHMENT0,this.outputs[T]=m},detachOutput:function(m){for(var T in this.outputs)this.outputs[T]===m&&(this.outputs[T]=null)},bind:function(m,T){if(this.outputs)for(var y in this.outputs){var A=this.outputs[y];A&&T.attach(A,y)}T&&T.bind(m)},unbind:function(m,T){T.unbind(m)},render:function(m,T){var y=m.gl;if(T){this.bind(m,T);var A=m.getGLExtension("EXT_draw_buffers");if(A&&this.outputs){var D=[];for(var L in this.outputs)L=+L,L>=y.COLOR_ATTACHMENT0&&L<=y.COLOR_ATTACHMENT0+8&&D.push(L);A.drawBuffersEXT(D)}}this.trigger("beforerender",this,m);var I=this.clearDepth?y.DEPTH_BUFFER_BIT:0;if(y.depthMask(!0),this.clearColor){I=I|y.COLOR_BUFFER_BIT,y.colorMask(!0,!0,!0,!0);var F=this.clearColor;Array.isArray(F)&&y.clearColor(F[0],F[1],F[2],F[3])}y.clear(I),this.blendWithPrevious?(y.enable(y.BLEND),this.material.transparent=!0):(y.disable(y.BLEND),this.material.transparent=!1),this.renderQuad(m),this.trigger("afterrender",this,m),T&&this.unbind(m,T)},renderQuad:function(m){a.material=this.material,m.renderPass([a],l)},dispose:function(m){}}),M=_},9904:function(Dt,it,C){var p=C(75142),o=C(23044),t=C(34635),r=function(){this._pool={},this._allocatedTextures=[]};r.prototype={constructor:r,get:function(a){var l=s(a);this._pool.hasOwnProperty(l)||(this._pool[l]=[]);var _=this._pool[l];if(!_.length){var M=new p.Z(a);return this._allocatedTextures.push(M),M}return _.pop()},put:function(a){var l=s(a);this._pool.hasOwnProperty(l)||(this._pool[l]=[]);var _=this._pool[l];_.push(a)},clear:function(a){for(var l=0;l<this._allocatedTextures.length;l++)this._allocatedTextures[l].dispose(a);this._pool={},this._allocatedTextures=[]}};var n={width:512,height:512,type:o.Z.UNSIGNED_BYTE,format:o.Z.RGBA,wrapS:o.Z.CLAMP_TO_EDGE,wrapT:o.Z.CLAMP_TO_EDGE,minFilter:o.Z.LINEAR_MIPMAP_LINEAR,magFilter:o.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},e=Object.keys(n);function s(a){t.Z.defaultsWithPropList(a,n,e),h(a);for(var l="",_=0;_<e.length;_++){var M=e[_],m=a[M].toString();l+=m}return l}function h(a){var l=i(a.width,a.height);a.format===o.Z.DEPTH_COMPONENT&&(a.useMipmap=!1),(!l||!a.useMipmap)&&(a.minFilter==o.Z.NEAREST_MIPMAP_NEAREST||a.minFilter==o.Z.NEAREST_MIPMAP_LINEAR?a.minFilter=o.Z.NEAREST:(a.minFilter==o.Z.LINEAR_MIPMAP_LINEAR||a.minFilter==o.Z.LINEAR_MIPMAP_NEAREST)&&(a.minFilter=o.Z.LINEAR)),l||(a.wrapS=o.Z.CLAMP_TO_EDGE,a.wrapT=o.Z.CLAMP_TO_EDGE)}function i(a,l){return(a&a-1)===0&&(l&l-1)===0}it.Z=r},61857:function(Dt,it,C){C.d(it,{Z:function(){return et}});var p=C(34635),o=C(85038),t=o.Z.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(z,k){var at=this.outputs[z],ft=at.parameters,_t=at._parametersCopy;if(_t||(_t=at._parametersCopy={}),ft)for(var tt in ft)tt!=="width"&&tt!=="height"&&(_t[tt]=ft[tt]);var rt,ut;return ft.width instanceof Function?rt=ft.width.call(this,k):rt=ft.width,ft.height instanceof Function?ut=ft.height.call(this,k):ut=ft.height,(_t.width!==rt||_t.height!==ut)&&this._outputTextures[z]&&this._outputTextures[z].dispose(k.gl),_t.width=rt,_t.height=ut,_t},setParameter:function(z,k){},getParameter:function(z){},setParameters:function(z){for(var k in z)this.setParameter(k,z[k])},render:function(){},getOutput:function(z,k){if(k==null)return k=z,this._outputTextures[k];var at=this.outputs[k];if(at)return this._rendered?at.outputLastFrame?this._prevOutputTextures[k]:this._outputTextures[k]:this._rendering?(this._prevOutputTextures[k]||(this._prevOutputTextures[k]=this._compositor.allocateTexture(at.parameters||{})),this._prevOutputTextures[k]):(this.render(z),this._outputTextures[k])},removeReference:function(z){if(this._outputReferences[z]--,this._outputReferences[z]===0){var k=this.outputs[z];k.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}},link:function(z,k,at){this.inputLinks[z]={node:k,pin:at},k.outputLinks[at]||(k.outputLinks[at]=[]),k.outputLinks[at].push({node:this,pin:z}),this.pass.material.enableTexture(z)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(z){if(!this._rendering){this._rendering=!0;for(var k in this.inputLinks){var at=this.inputLinks[k];at.node.updateReference(at.pin)}this._rendering=!1}z&&this._outputReferences[z]++},beforeFrame:function(){this._rendered=!1;for(var z in this.outputLinks)this._outputReferences[z]=0},afterFrame:function(){for(var z in this.outputLinks)if(this._outputReferences[z]>0){var k=this.outputs[z];k.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}}}),r=t,n=o.Z.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(z){this.nodes.indexOf(z)>=0||(this.nodes.push(z),this._dirty=!0)},removeNode:function(z){typeof z=="string"&&(z=this.getNodeByName(z));var k=this.nodes.indexOf(z);k>=0&&(this.nodes.splice(k,1),this._dirty=!0)},getNodeByName:function(z){for(var k=0;k<this.nodes.length;k++)if(this.nodes[k].name===z)return this.nodes[k]},update:function(){for(var z=0;z<this.nodes.length;z++)this.nodes[z].clear();for(var z=0;z<this.nodes.length;z++){var k=this.nodes[z];if(k.inputs){for(var at in k.inputs)if(k.inputs[at]){if(k.pass&&!k.pass.material.isUniformEnabled(at)){console.warn("Pin "+k.name+"."+at+" not used.");continue}var ft=k.inputs[at],_t=this.findPin(ft);_t?k.link(at,_t.node,_t.pin):console.warn(typeof ft=="string"?"Node "+ft+" not exist":"Pin of "+ft.node+"."+ft.pin+" not exist")}}}},findPin:function(z){var k;if((typeof z=="string"||z instanceof r)&&(z={node:z}),typeof z.node=="string")for(var at=0;at<this.nodes.length;at++){var ft=this.nodes[at];ft.name===z.node&&(k=ft)}else k=z.node;if(k){var _t=z.pin;if(_t||k.outputs&&(_t=Object.keys(k.outputs)[0]),k.outputs[_t])return{node:k,pin:_t}}}}),e=n,s=C(9904),h=C(76728),i=e.extend(function(){return{_outputs:[],_texturePool:new s.Z,_frameBuffer:new h.Z({depthBuffer:!1})}},{addNode:function(z){e.prototype.addNode.call(this,z),z._compositor=this},render:function(z,k){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var at=0;at<this.nodes.length;at++)this.nodes[at].outputs||this._outputs.push(this.nodes[at])}for(var at=0;at<this.nodes.length;at++)this.nodes[at].beforeFrame();for(var at=0;at<this._outputs.length;at++)this._outputs[at].updateReference();for(var at=0;at<this._outputs.length;at++)this._outputs[at].render(z,k);for(var at=0;at<this.nodes.length;at++)this.nodes[at].afterFrame()},allocateTexture:function(z){return this._texturePool.get(z)},releaseTexture:function(z){this._texturePool.put(z)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(z){this._texturePool.clear(z)}}),a=i,l=C(23044),_=r.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new h.Z},{render:function(z){this._rendering=!0;var k=z.gl;this.trigger("beforerender");var at;if(!this.outputs)at=z.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);else{var ft=this.frameBuffer;for(var _t in this.outputs){var tt=this.updateParameter(_t,z),rt=this.outputs[_t],ut=this._compositor.allocateTexture(tt);this._outputTextures[_t]=ut;var ct=rt.attachment||k.COLOR_ATTACHMENT0;typeof ct=="string"&&(ct=k[ct]),ft.attach(ut,ct)}ft.bind(z);var st=z.getGLExtension("EXT_draw_buffers");if(st){var dt=[];for(var ct in this.outputs)ct=parseInt(ct),ct>=k.COLOR_ATTACHMENT0&&ct<=k.COLOR_ATTACHMENT0+8&&dt.push(ct);st.drawBuffersEXT(dt)}z.saveClear(),z.clearBit=l.Z.DEPTH_BUFFER_BIT|l.Z.COLOR_BUFFER_BIT,at=z.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),z.restoreClear(),ft.unbind(z)}this.trigger("afterrender",at),this._rendering=!1,this._rendered=!0}}),M=_,m=r.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(z,k){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),T=m,y=C(80785),A=r.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var z=new y.Z({fragment:this.shader});this.pass=z},{render:function(z,k){this.trigger("beforerender",z),this._rendering=!0;var at=z.gl;for(var ft in this.inputLinks){var _t=this.inputLinks[ft],tt=_t.node.getOutput(z,_t.pin);this.pass.setUniform(ft,tt)}if(!this.outputs)this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(z),this.pass.render(z,k);else{this.pass.outputs={};var rt={};for(var ut in this.outputs){var ct=this.updateParameter(ut,z);isNaN(ct.width)&&this.updateParameter(ut,z);var st=this.outputs[ut],dt=this._compositor.allocateTexture(ct);this._outputTextures[ut]=dt;var ht=st.attachment||at.COLOR_ATTACHMENT0;typeof ht=="string"&&(ht=at[ht]),rt[ht]=dt}this._compositor.getFrameBuffer().bind(z);for(var ht in rt)this._compositor.getFrameBuffer().attach(rt[ht],ht);this.pass.render(z),this._compositor.getFrameBuffer().updateMipmap(z)}for(var ft in this.inputLinks){var _t=this.inputLinks[ft];_t.node.removeReference(_t.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",z)},updateParameter:function(z,k){var at=this.outputs[z],ft=at.parameters,_t=at._parametersCopy;if(_t||(_t=at._parametersCopy={}),ft)for(var tt in ft)tt!=="width"&&tt!=="height"&&(_t[tt]=ft[tt]);var rt,ut;return typeof ft.width=="function"?rt=ft.width.call(this,k):rt=ft.width,typeof ft.height=="function"?ut=ft.height.call(this,k):ut=ft.height,rt=Math.ceil(rt),ut=Math.ceil(ut),(_t.width!==rt||_t.height!==ut)&&this._outputTextures[z]&&this._outputTextures[z].dispose(k),_t.width=rt,_t.height=ut,_t},setParameter:function(z,k){this.pass.setUniform(z,k)},getParameter:function(z){return this.pass.getUniform(z)},setParameters:function(z){for(var k in z)this.setParameter(k,z[k])},define:function(z,k){this.pass.material.define("fragment",z,k)},undefine:function(z){this.pass.material.undefine("fragment",z)},removeReference:function(z){if(this._outputReferences[z]--,this._outputReferences[z]===0){var k=this.outputs[z];k.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}},clear:function(){r.prototype.clear.call(this),this.pass.material.disableTexturesAll()}}),D=A,L=C(60217),I=C(88693),F=C(75142),b=C(5847),O=`@export clay.compositor.coloradjust
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float exposure : 0.0;
uniform float gamma : 1.0;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);
 color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 color = clamp( color * pow(2.0, exposure), 0.0, 1.0);
 color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);
 float luminance = dot( color, w );
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.brightness
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = tex.rgb + vec3(brightness);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.contrast
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float contrast : 1.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.exposure
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float exposure : 0.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb * pow(2.0, exposure);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.gamma
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float gamma : 1.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = pow(tex.rgb, vec3(gamma));
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.saturation
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb;
 float luminance = dot(color, w);
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end`,P=C(71364),E=`@export clay.compositor.hdr.log_lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 float luminance = dot(tex.rgb, w);
 luminance = log(luminance + 0.001);
 gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));
}
@end
@export clay.compositor.hdr.lum_adaption
varying vec2 v_Texcoord;
uniform sampler2D adaptedLum;
uniform sampler2D currentLum;
uniform float frameTime : 0.02;
@import clay.util.rgbm
void main()
{
 float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;
 float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);
 fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));
 gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));
}
@end
@export clay.compositor.lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord );
 float luminance = dot(tex.rgb, w);
 gl_FragColor = vec4(vec3(luminance), 1.0);
}
@end`,c=C(69663),f=`@export clay.compositor.vignette
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float darkness: 1;
uniform float offset: 1;
@import clay.util.rgbm
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = texel.rgb;
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);
 gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));
}
@end`,u=C(71032),d=C(61430),v=C(12045),g=C(85747),R=C(53746),x=`@export clay.compositor.lensflare
#define SAMPLE_NUMBER 8
uniform sampler2D texture;
uniform sampler2D lenscolor;
uniform vec2 textureSize : [512, 512];
uniform float dispersal : 0.3;
uniform float haloWidth : 0.4;
uniform float distortion : 1.0;
varying vec2 v_Texcoord;
@import clay.util.rgbm
vec4 textureDistorted(
 in vec2 texcoord,
 in vec2 direction,
 in vec3 distortion
) {
 return vec4(
 decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,
 1.0
 );
}
void main()
{
 vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;
 vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;
 vec2 haloVec = normalize(ghostVec) * haloWidth;
 vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);
 vec4 result = vec4(0.0);
 for (int i = 0; i < SAMPLE_NUMBER; i++)
 {
 vec2 offset = fract(texcoord + ghostVec * float(i));
 float weight = length(vec2(0.5) - offset) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 }
 result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));
 float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 vec2 offset = fract(texcoord + haloVec);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 gl_FragColor = result;
}
@end`,w=C(34725),Z=C(14289);function N(z){z.import(O),z.import(P.Z),z.import(E),z.import(c.Z),z.import(f),z.import(u.Z),z.import(d.Z),z.import(v.Z),z.import(g.Z),z.import(R.Z),z.import(x),z.import(w.Z),z.import(Z.Z)}N(L.Z);var G=/^#source\((.*?)\)/;function K(z,k){var at=new a;k=k||{};var ft={textures:{},parameters:{}},_t=function(ut,ct){for(var st=0;st<z.nodes.length;st++){var dt=z.nodes[st],ht=J(dt,ft,k);ht&&at.addNode(ht)}};for(var tt in z.parameters){var rt=z.parameters[tt];ft.parameters[tt]=V(rt)}return S(z,ft,k,function(ut){ft.textures=ut,_t()}),at}function J(z,k,at){var ft=z.type||"filter",_t,tt,rt;if(ft==="filter"){var ut=z.shader.trim(),ct=G.exec(ut);if(ct?_t=L.Z.source(ct[1].trim()):ut.charAt(0)==="#"&&(_t=k.shaders[ut.substr(1)]),_t||(_t=ut),!_t)return}if(z.inputs){tt={};for(var st in z.inputs)typeof z.inputs[st]=="string"?tt[st]=z.inputs[st]:tt[st]={node:z.inputs[st].node,pin:z.inputs[st].pin}}if(z.outputs){rt={};for(var st in z.outputs){var dt=z.outputs[st];rt[st]={},dt.attachment!=null&&(rt[st].attachment=dt.attachment),dt.keepLastFrame!=null&&(rt[st].keepLastFrame=dt.keepLastFrame),dt.outputLastFrame!=null&&(rt[st].outputLastFrame=dt.outputLastFrame),dt.parameters&&(rt[st].parameters=V(dt.parameters))}}var ht;if(ft==="scene"?ht=new M({name:z.name,scene:at.scene,camera:at.camera,outputs:rt}):ft==="texture"?ht=new T({name:z.name,outputs:rt}):ht=new D({name:z.name,shader:_t,inputs:tt,outputs:rt}),ht){if(z.parameters)for(var st in z.parameters){var xt=z.parameters[st];typeof xt=="string"?(xt=xt.trim(),xt.charAt(0)==="#"?xt=k.textures[xt.substr(1)]:ht.on("beforerender",W(st,X(xt)))):typeof xt=="function"&&ht.on("beforerender",xt),ht.setParameter(st,xt)}if(z.defines&&ht.pass)for(var st in z.defines){var xt=z.defines[st];ht.pass.material.define("fragment",st,xt)}}return ht}function U(z,k){return z}function H(z,k){return k}function V(z){var k={};if(!z)return k;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(ft){var _t=z[ft];_t!=null&&(typeof _t=="string"&&(_t=I.Z[_t]),k[ft]=_t)});var at=z.scale||1;return["width","height"].forEach(function(ft){if(z[ft]!=null){var _t=z[ft];typeof _t=="string"?(_t=_t.trim(),k[ft]=B(ft,X(_t),at)):k[ft]=_t}}),k.width||(k.width=U),k.height||(k.height=H),z.useMipmap!=null&&(k.useMipmap=z.useMipmap),k}function S(z,k,at,ft){if(!z.textures){ft({});return}var _t={},tt=0,rt=!1,ut=at.textureRootPath;p.Z.each(z.textures,function(ct,st){var dt,ht=ct.path,xt=V(ct.parameters);if(Array.isArray(ht)&&ht.length===6)ut&&(ht=ht.map(function(Rt){return p.Z.relative2absolute(Rt,ut)})),dt=new b.Z(xt);else if(typeof ht=="string")ut&&(ht=p.Z.relative2absolute(ht,ut)),dt=new F.Z(xt);else return;dt.load(ht),tt++,dt.once("success",function(){_t[st]=dt,tt--,tt===0&&(ft(_t),rt=!0)})}),tt===0&&!rt&&ft(_t)}function W(z,k){return function(at){var ft=at.getDevicePixelRatio(),_t=at.getWidth(),tt=at.getHeight(),rt=k(_t,tt,ft);this.setParameter(z,rt)}}function B(z,k,at){return at=at||1,function(ft){var _t=ft.getDevicePixelRatio(),tt=ft.getWidth()*at,rt=ft.getHeight()*at;return k(tt,rt,_t)}}function X(z){var k=/^expr\((.*)\)$/.exec(z);if(k)try{var at=new Function("width","height","dpr","return "+k[1]);return at(1,1),at}catch(ft){throw new Error("Invalid expression.")}}var Y=K,et=Y},85038:function(Dt,it,C){C.d(it,{Z:function(){return h}});function p(i,a,l){typeof a=="object"&&(l=a,a=null);var _=this,M;if(!(i instanceof Function)){M=[];for(var m in i)i.hasOwnProperty(m)&&M.push(m)}var T=function(A){if(_.apply(this,arguments),i instanceof Function?o(this,i.call(this,A)):t(this,i,M),this.constructor===T)for(var D=T.__initializers__,L=0;L<D.length;L++)D[L].apply(this,arguments)};T.__super__=_,_.__initializers__?T.__initializers__=_.__initializers__.slice():T.__initializers__=[],a&&T.__initializers__.push(a);var y=function(){};return y.prototype=_.prototype,T.prototype=new y,T.prototype.constructor=T,o(T.prototype,l),T.extend=_.extend,T.derive=_.extend,T}function o(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l])}function t(i,a,l){for(var _=0;_<l.length;_++){var M=l[_];i[M]=a[M]}}var r={extend:p,derive:p},n=C(18167),e=C(34635),s=function(){this.__uid__=e.Z.genGUID()};s.__initializers__=[function(i){e.Z.extend(this,i)}],e.Z.extend(s,r),e.Z.extend(s.prototype,n.Z);var h=s},29100:function(Dt,it){var C="__dt__",p=function(){this._contextId=0,this._caches=[],this._context={}};p.prototype={use:function(o,t){var r=this._caches;r[o]||(r[o]={},t&&(r[o]=t())),this._contextId=o,this._context=r[o]},put:function(o,t){this._context[o]=t},get:function(o){return this._context[o]},dirty:function(o){o=o||"";var t=C+o;this.put(t,!0)},dirtyAll:function(o){o=o||"";for(var t=C+o,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!0)},fresh:function(o){o=o||"";var t=C+o;this.put(t,!1)},freshAll:function(o){o=o||"";for(var t=C+o,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!1)},isDirty:function(o){o=o||"";var t=C+o,r=this._context;return!r.hasOwnProperty(t)||r[t]===!0},deleteContext:function(o){delete this._caches[o],this._context={}},delete:function(o){delete this._context[o]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(o,t){var r=Object.keys(this._caches);r.forEach(function(n){o&&o.call(t,n)})},miss:function(o){return!this._context.hasOwnProperty(o)}},p.prototype.constructor=p,it.Z=p},60193:function(Dt,it,C){C.d(it,{Z:function(){return r}});var p=function(){this.head=null,this.tail=null,this._length=0};p.prototype.insert=function(n){var e=new p.Entry(n);return this.insertEntry(e),e},p.prototype.insertAt=function(n,e){if(!(n<0)){for(var s=this.head,h=0;s&&h!=n;)s=s.next,h++;if(s){var i=new p.Entry(e),a=s.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=s,s.prev=i}else this.insert(e)}},p.prototype.insertBeforeEntry=function(n,e){var s=new p.Entry(n),h=e.prev;h?(h.next=s,s.prev=h):this.head=s,s.next=e,e.prev=s,this._length++},p.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,this.tail=n):this.head=this.tail=n,this._length++},p.prototype.remove=function(n){var e=n.prev,s=n.next;e?e.next=s:this.head=s,s?s.prev=e:this.tail=e,n.next=n.prev=null,this._length--},p.prototype.removeAt=function(n){if(!(n<0)){for(var e=this.head,s=0;e&&s!=n;)e=e.next,s++;if(e)return this.remove(e),e.value}},p.prototype.getHead=function(){if(this.head)return this.head.value},p.prototype.getTail=function(){if(this.tail)return this.tail.value},p.prototype.getAt=function(n){if(!(n<0)){for(var e=this.head,s=0;e&&s!=n;)e=e.next,s++;return e.value}},p.prototype.indexOf=function(n){for(var e=this.head,s=0;e;){if(e.value===n)return s;e=e.next,s++}},p.prototype.length=function(){return this._length},p.prototype.isEmpty=function(){return this._length===0},p.prototype.forEach=function(n,e){for(var s=this.head,h=0,i=typeof e!="undefined";s;)i?n.call(e,s.value,h):n(s.value,h),s=s.next,h++},p.prototype.clear=function(){this.tail=this.head=null,this._length=0},p.Entry=function(n){this.value=n,this.next=null,this.prev=null};var o=p,t=function(n){this._list=new o,this._map={},this._maxSize=n||10};t.prototype.setMaxSize=function(n){this._maxSize=n},t.prototype.put=function(n,e){if(!this._map.hasOwnProperty(n)){var s=this._list.length();if(s>=this._maxSize&&s>0){var h=this._list.head;this._list.remove(h),delete this._map[h.key]}var i=this._list.insert(e);i.key=n,this._map[n]=i}},t.prototype.get=function(n){var e=this._map[n];if(this._map.hasOwnProperty(n))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},t.prototype.remove=function(n){var e=this._map[n];typeof e!="undefined"&&(delete this._map[n],this._list.remove(e))},t.prototype.clear=function(){this._list.clear(),this._map={}};var r=t},23044:function(Dt,it){it.Z={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},18167:function(Dt,it){function C(o,t){this.action=o,this.context=t}var p={trigger:function(o){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(o)){var t=this.__handlers__[o],r=t.length,n=-1,e=arguments;switch(e.length){case 1:for(;++n<r;)t[n].action.call(t[n].context);return;case 2:for(;++n<r;)t[n].action.call(t[n].context,e[1]);return;case 3:for(;++n<r;)t[n].action.call(t[n].context,e[1],e[2]);return;case 4:for(;++n<r;)t[n].action.call(t[n].context,e[1],e[2],e[3]);return;case 5:for(;++n<r;)t[n].action.call(t[n].context,e[1],e[2],e[3],e[4]);return;default:for(;++n<r;)t[n].action.apply(t[n].context,Array.prototype.slice.call(e,1));return}}},on:function(o,t,r){if(!(!o||!t)){var n=this.__handlers__||(this.__handlers__={});if(!n[o])n[o]=[];else if(this.has(o,t))return;var e=new C(t,r||this);return n[o].push(e),this}},once:function(o,t,r){if(!o||!t)return;var n=this;function e(){n.off(o,e),t.apply(this,arguments)}return this.on(o,e,r)},before:function(o,t,r){if(!(!o||!t))return o="before"+o,this.on(o,t,r)},after:function(o,t,r){if(!(!o||!t))return o="after"+o,this.on(o,t,r)},success:function(o,t){return this.once("success",o,t)},error:function(o,t){return this.once("error",o,t)},off:function(o,t){var r=this.__handlers__||(this.__handlers__={});if(!t){r[o]=[];return}if(r[o]){for(var n=r[o],e=[],s=0;s<n.length;s++)t&&n[s].action!==t&&e.push(n[s]);r[o]=e}return this},has:function(o,t){var r=this.__handlers__;if(!r||!r[o])return!1;for(var n=r[o],e=0;e<n.length;e++)if(n[e].action===t)return!0}};it.Z=p},34635:function(Dt,it){var C=0,p=Array.prototype,o=p.forEach,t={genGUID:function(){return++C},relative2absolute:function(r,n){if(!n||r.match(/^\//))return r;for(var e=r.split("/"),s=n.split("/"),h=e[0];h==="."||h==="..";)h===".."&&s.pop(),e.shift(),h=e[0];return s.join("/")+"/"+e.join("/")},extend:function(r,n){if(n)for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},defaults:function(r,n){if(n)for(var e in n)r[e]===void 0&&(r[e]=n[e]);return r},extendWithPropList:function(r,n,e){if(n)for(var s=0;s<e.length;s++){var h=e[s];r[h]=n[h]}return r},defaultsWithPropList:function(r,n,e){if(n)for(var s=0;s<e.length;s++){var h=e[s];r[h]==null&&(r[h]=n[h])}return r},each:function(r,n,e){if(r&&n)if(r.forEach&&r.forEach===o)r.forEach(n,e);else if(r.length===+r.length)for(var s=0,h=r.length;s<h;s++)n.call(e,r[s],s,r);else for(var i in r)r.hasOwnProperty(i)&&n.call(e,r[i],i,r)},isObject:function(r){return r===Object(r)},isArray:function(r){return Array.isArray(r)},isArrayLike:function(r){return r?r.length===+r.length:!1},clone:function(r){if(t.isObject(r)){if(t.isArray(r))return r.slice();if(t.isArrayLike(r)){for(var n=new r.constructor(r.length),e=0;e<r.length;e++)n[e]=r[e];return n}else return t.extend({},r)}else return r}};it.Z=t},82544:function(Dt,it,C){C.d(it,{Z:function(){return e}});function p(s){var h=new XMLHttpRequest;h.open("get",s.url),h.responseType=s.responseType||"text",s.onprogress&&(h.onprogress=function(i){if(i.lengthComputable){var a=i.loaded/i.total;s.onprogress(a,i.loaded,i.total)}else s.onprogress(null)}),h.onload=function(i){h.status>=400?s.onerror&&s.onerror():s.onload&&s.onload(h.response)},s.onerror&&(h.onerror=s.onerror),h.send(null)}var o={get:p},t,r={};r.supportWebGL=function(){if(t==null)try{var s=document.createElement("canvas"),h=s.getContext("webgl")||s.getContext("experimental-webgl");if(!h)throw new Error}catch(i){t=!1}return t},r.Int8Array=typeof Int8Array=="undefined"?Array:Int8Array,r.Uint8Array=typeof Uint8Array=="undefined"?Array:Uint8Array,r.Uint16Array=typeof Uint16Array=="undefined"?Array:Uint16Array,r.Uint32Array=typeof Uint32Array=="undefined"?Array:Uint32Array,r.Int16Array=typeof Int16Array=="undefined"?Array:Int16Array,r.Float32Array=typeof Float32Array=="undefined"?Array:Float32Array,r.Float64Array=typeof Float64Array=="undefined"?Array:Float64Array;var n={};typeof window!="undefined"?n=window:typeof C.g!="undefined"&&(n=C.g),r.requestAnimationFrame=n.requestAnimationFrame||n.msRequestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(s){setTimeout(s,16)},r.createCanvas=function(){return document.createElement("canvas")},r.createImage=function(){return new n.Image},r.request={get:o.get},r.addEventListener=function(s,h,i,a){s.addEventListener(h,i,a)},r.removeEventListener=function(s,h,i){s.removeEventListener(h,i)};var e=r},43938:function(Dt,it,C){C.d(it,{Z:function(){return a}});var p=C(97410),o=C(3023),t=C(39186),r=C(3522),n=C(66987),e=C(98663),s=C(85822),h=C(81520),i={vec2:p.Z,vec3:o.Z,vec4:t.Z,mat2:r.Z,mat2d:n.Z,mat3:e.Z,mat4:s.Z,quat:h.Z},a=i},99439:function(Dt,it,C){var p=C(11476),o=C(6132),t=C(49865),r=C(14147),n=C(37233),e=C(82544),s=new t.Z,h=p.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var a={px:i("px",this.depthSegments,this.heightSegments),nx:i("nx",this.depthSegments,this.heightSegments),py:i("py",this.widthSegments,this.depthSegments),ny:i("ny",this.widthSegments,this.depthSegments),pz:i("pz",this.widthSegments,this.heightSegments),nz:i("nz",this.widthSegments,this.heightSegments)},l=["position","texcoord0","normal"],_=0,M=0;for(var m in a)_+=a[m].vertexCount,M+=a[m].indices.length;for(var T=0;T<l.length;T++)this.attributes[l[T]].init(_);this.indices=new e.Z.Uint16Array(M);var y=0,A=0;for(var m in a){for(var D=a[m],T=0;T<l.length;T++)for(var L=l[T],I=D.attributes[L].value,F=D.attributes[L].size,b=L==="normal",O=0;O<I.length;O++){var P=I[O];this.inside&&b&&(P=-P),this.attributes[L].value[O+F*A]=P}for(var E=D.indices.length,O=0;O<D.indices.length;O++)this.indices[O+y]=A+D.indices[this.inside?E-O-1:O];y+=D.indices.length,A+=D.vertexCount}this.boundingBox=new n.Z,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function i(a,l,_){s.identity();var M=new o.Z({widthSegments:l,heightSegments:_});switch(a){case"px":t.Z.translate(s,s,r.Z.POSITIVE_X),t.Z.rotateY(s,s,Math.PI/2);break;case"nx":t.Z.translate(s,s,r.Z.NEGATIVE_X),t.Z.rotateY(s,s,-Math.PI/2);break;case"py":t.Z.translate(s,s,r.Z.POSITIVE_Y),t.Z.rotateX(s,s,-Math.PI/2);break;case"ny":t.Z.translate(s,s,r.Z.NEGATIVE_Y),t.Z.rotateX(s,s,Math.PI/2);break;case"pz":t.Z.translate(s,s,r.Z.POSITIVE_Z);break;case"nz":t.Z.translate(s,s,r.Z.NEGATIVE_Z),t.Z.rotateY(s,s,Math.PI);break}return M.applyTransform(s),M}it.Z=h},6132:function(Dt,it,C){var p=C(11476),o=C(37233),t=p.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var r=this.heightSegments,n=this.widthSegments,e=this.attributes,s=[],h=[],i=[],a=[],l=0;l<=r;l++)for(var _=l/r,M=0;M<=n;M++){var m=M/n;if(s.push([2*m-1,2*_-1,0]),h&&h.push([m,_]),i&&i.push([0,0,1]),M<n&&l<r){var T=M+l*(n+1);a.push([T,T+1,T+n+1]),a.push([T+n+1,T+1,T+n+2])}}e.position.fromArray(s),e.texcoord0.fromArray(h),e.normal.fromArray(i),this.initIndicesFromArray(a),this.boundingBox=new o.Z,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});it.Z=t},88935:function(Dt,it,C){var p=C(11476),o=C(37233),t=p.Z.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var r=this.heightSegments,n=this.widthSegments,e=this.attributes.position,s=this.attributes.texcoord0,h=this.attributes.normal,i=(n+1)*(r+1);e.init(i),s.init(i),h.init(i);var a=i>65535?Uint32Array:Uint16Array,l=this.indices=new a(n*r*6),_,M,m,T,y,A,D,O=this.radius,L=this.phiStart,I=this.phiLength,F=this.thetaStart,b=this.thetaLength,O=this.radius,P=[],E=[],c=0,f=1/O;for(D=0;D<=r;D++)for(A=0;A<=n;A++)T=A/n,y=D/r,_=-O*Math.cos(L+T*I)*Math.sin(F+y*b),M=O*Math.cos(F+y*b),m=O*Math.sin(L+T*I)*Math.sin(F+y*b),P[0]=_,P[1]=M,P[2]=m,E[0]=T,E[1]=y,e.set(c,P),s.set(c,E),P[0]*=f,P[1]*=f,P[2]*=f,h.set(c,P),c++;var u,d,v,g,R=n+1,x=0;for(D=0;D<r;D++)for(A=0;A<n;A++)d=D*R+A,u=D*R+A+1,g=(D+1)*R+A+1,v=(D+1)*R+A,l[x++]=u,l[x++]=d,l[x++]=g,l[x++]=d,l[x++]=v,l[x++]=g;this.boundingBox=new o.Z,this.boundingBox.max.set(O,O,O),this.boundingBox.min.set(-O,-O,-O)}});it.Z=t},55516:function(Dt,it,C){C.d(it,{RQ:function(){return t},Uc:function(){return o},Yh:function(){return p}});var p=1e-6,o=Array,t=Math.random},3522:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var r=new p.Uc(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.transpose=function(t,r){if(t===r){var n=r[1];t[1]=r[2],t[2]=n}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n*h-s*e;return i?(i=1/i,t[0]=h*i,t[1]=-e*i,t[2]=-s*i,t[3]=n*i,t):null},o.adjoint=function(t,r){var n=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=n,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=n[0],l=n[1],_=n[2],M=n[3];return t[0]=e*a+h*l,t[1]=s*a+i*l,t[2]=e*_+h*M,t[3]=s*_+i*M,t},o.mul=o.multiply,o.rotate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=Math.sin(n),l=Math.cos(n);return t[0]=e*l+h*a,t[1]=s*l+i*a,t[2]=e*-a+h*l,t[3]=s*-a+i*l,t},o.scale=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=n[0],l=n[1];return t[0]=e*a,t[1]=s*a,t[2]=h*l,t[3]=i*l,t},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,r,n,e){return t[2]=e[2]/e[0],n[0]=e[0],n[1]=e[1],n[3]=e[3]-t[2]*n[1],[t,r,n]},it.Z=o},66987:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var r=new p.Uc(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=n*h-e*s;return l?(l=1/l,t[0]=h*l,t[1]=-e*l,t[2]=-s*l,t[3]=n*l,t[4]=(s*a-h*i)*l,t[5]=(e*i-n*a)*l,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=n[0],M=n[1],m=n[2],T=n[3],y=n[4],A=n[5];return t[0]=e*_+h*M,t[1]=s*_+i*M,t[2]=e*m+h*T,t[3]=s*m+i*T,t[4]=e*y+h*A+a,t[5]=s*y+i*A+l,t},o.mul=o.multiply,o.rotate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=Math.sin(n),M=Math.cos(n);return t[0]=e*M+h*_,t[1]=s*M+i*_,t[2]=e*-_+h*M,t[3]=s*-_+i*M,t[4]=a,t[5]=l,t},o.scale=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=n[0],M=n[1];return t[0]=e*_,t[1]=s*_,t[2]=h*M,t[3]=i*M,t[4]=a,t[5]=l,t},o.translate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=n[0],M=n[1];return t[0]=e,t[1]=s,t[2]=h,t[3]=i,t[4]=e*_+h*M+a,t[5]=s*_+i*M+l,t},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},it.Z=o},98663:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t},o.clone=function(t){var r=new p.Uc(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,r){if(t===r){var n=r[1],e=r[2],s=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=e,t[7]=s}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=M*i-a*_,T=-M*h+a*l,y=_*h-i*l,A=n*m+e*T+s*y;return A?(A=1/A,t[0]=m*A,t[1]=(-M*e+s*_)*A,t[2]=(a*e-s*i)*A,t[3]=T*A,t[4]=(M*n-s*l)*A,t[5]=(-a*n+s*h)*A,t[6]=y*A,t[7]=(-_*n+e*l)*A,t[8]=(i*n-e*h)*A,t):null},o.adjoint=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8];return t[0]=i*M-a*_,t[1]=s*_-e*M,t[2]=e*a-s*i,t[3]=a*l-h*M,t[4]=n*M-s*l,t[5]=s*h-n*a,t[6]=h*_-i*l,t[7]=e*l-n*_,t[8]=n*i-e*h,t},o.determinant=function(t){var r=t[0],n=t[1],e=t[2],s=t[3],h=t[4],i=t[5],a=t[6],l=t[7],_=t[8];return r*(_*h-i*l)+n*(-_*s+i*a)+e*(l*s-h*a)},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=n[0],y=n[1],A=n[2],D=n[3],L=n[4],I=n[5],F=n[6],b=n[7],O=n[8];return t[0]=T*e+y*i+A*_,t[1]=T*s+y*a+A*M,t[2]=T*h+y*l+A*m,t[3]=D*e+L*i+I*_,t[4]=D*s+L*a+I*M,t[5]=D*h+L*l+I*m,t[6]=F*e+b*i+O*_,t[7]=F*s+b*a+O*M,t[8]=F*h+b*l+O*m,t},o.mul=o.multiply,o.translate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=n[0],y=n[1];return t[0]=e,t[1]=s,t[2]=h,t[3]=i,t[4]=a,t[5]=l,t[6]=T*e+y*i+_,t[7]=T*s+y*a+M,t[8]=T*h+y*l+m,t},o.rotate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=Math.sin(n),y=Math.cos(n);return t[0]=y*e+T*i,t[1]=y*s+T*a,t[2]=y*h+T*l,t[3]=y*i-T*e,t[4]=y*a-T*s,t[5]=y*l-T*h,t[6]=_,t[7]=M,t[8]=m,t},o.scale=function(t,r,n){var e=n[0],s=n[1];return t[0]=e*r[0],t[1]=e*r[1],t[2]=e*r[2],t[3]=s*r[3],t[4]=s*r[4],t[5]=s*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},o.fromMat2d=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},o.fromQuat=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n+n,a=e+e,l=s+s,_=n*i,M=e*i,m=e*a,T=s*i,y=s*a,A=s*l,D=h*i,L=h*a,I=h*l;return t[0]=1-m-A,t[3]=M-I,t[6]=T+L,t[1]=M+I,t[4]=1-_-A,t[7]=y-D,t[2]=T-L,t[5]=y+D,t[8]=1-_-m,t},o.normalFromMat4=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],A=r[12],D=r[13],L=r[14],I=r[15],F=n*a-e*i,b=n*l-s*i,O=n*_-h*i,P=e*l-s*a,E=e*_-h*a,c=s*_-h*l,f=M*D-m*A,u=M*L-T*A,d=M*I-y*A,v=m*L-T*D,g=m*I-y*D,R=T*I-y*L,x=F*R-b*g+O*v+P*d-E*u+c*f;return x?(x=1/x,t[0]=(a*R-l*g+_*v)*x,t[1]=(l*d-i*R-_*u)*x,t[2]=(i*g-a*d+_*f)*x,t[3]=(s*g-e*R-h*v)*x,t[4]=(n*R-s*d+h*u)*x,t[5]=(e*d-n*g-h*f)*x,t[6]=(D*c-L*E+I*P)*x,t[7]=(L*O-A*c-I*b)*x,t[8]=(A*E-D*O+I*F)*x,t):null},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},it.Z=o},85822:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var r=new p.Uc(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.transpose=function(t,r){if(t===r){var n=r[1],e=r[2],s=r[3],h=r[6],i=r[7],a=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=e,t[9]=h,t[11]=r[14],t[12]=s,t[13]=i,t[14]=a}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],A=r[12],D=r[13],L=r[14],I=r[15],F=n*a-e*i,b=n*l-s*i,O=n*_-h*i,P=e*l-s*a,E=e*_-h*a,c=s*_-h*l,f=M*D-m*A,u=M*L-T*A,d=M*I-y*A,v=m*L-T*D,g=m*I-y*D,R=T*I-y*L,x=F*R-b*g+O*v+P*d-E*u+c*f;return x?(x=1/x,t[0]=(a*R-l*g+_*v)*x,t[1]=(s*g-e*R-h*v)*x,t[2]=(D*c-L*E+I*P)*x,t[3]=(T*E-m*c-y*P)*x,t[4]=(l*d-i*R-_*u)*x,t[5]=(n*R-s*d+h*u)*x,t[6]=(L*O-A*c-I*b)*x,t[7]=(M*c-T*O+y*b)*x,t[8]=(i*g-a*d+_*f)*x,t[9]=(e*d-n*g-h*f)*x,t[10]=(A*E-D*O+I*F)*x,t[11]=(m*O-M*E-y*F)*x,t[12]=(a*u-i*v-l*f)*x,t[13]=(n*v-e*u+s*f)*x,t[14]=(D*b-A*P-L*F)*x,t[15]=(M*P-m*b+T*F)*x,t):null},o.adjoint=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],A=r[12],D=r[13],L=r[14],I=r[15];return t[0]=a*(T*I-y*L)-m*(l*I-_*L)+D*(l*y-_*T),t[1]=-(e*(T*I-y*L)-m*(s*I-h*L)+D*(s*y-h*T)),t[2]=e*(l*I-_*L)-a*(s*I-h*L)+D*(s*_-h*l),t[3]=-(e*(l*y-_*T)-a*(s*y-h*T)+m*(s*_-h*l)),t[4]=-(i*(T*I-y*L)-M*(l*I-_*L)+A*(l*y-_*T)),t[5]=n*(T*I-y*L)-M*(s*I-h*L)+A*(s*y-h*T),t[6]=-(n*(l*I-_*L)-i*(s*I-h*L)+A*(s*_-h*l)),t[7]=n*(l*y-_*T)-i*(s*y-h*T)+M*(s*_-h*l),t[8]=i*(m*I-y*D)-M*(a*I-_*D)+A*(a*y-_*m),t[9]=-(n*(m*I-y*D)-M*(e*I-h*D)+A*(e*y-h*m)),t[10]=n*(a*I-_*D)-i*(e*I-h*D)+A*(e*_-h*a),t[11]=-(n*(a*y-_*m)-i*(e*y-h*m)+M*(e*_-h*a)),t[12]=-(i*(m*L-T*D)-M*(a*L-l*D)+A*(a*T-l*m)),t[13]=n*(m*L-T*D)-M*(e*L-s*D)+A*(e*T-s*m),t[14]=-(n*(a*L-l*D)-i*(e*L-s*D)+A*(e*l-s*a)),t[15]=n*(a*T-l*m)-i*(e*T-s*m)+M*(e*l-s*a),t},o.determinant=function(t){var r=t[0],n=t[1],e=t[2],s=t[3],h=t[4],i=t[5],a=t[6],l=t[7],_=t[8],M=t[9],m=t[10],T=t[11],y=t[12],A=t[13],D=t[14],L=t[15],I=r*i-n*h,F=r*a-e*h,b=r*l-s*h,O=n*a-e*i,P=n*l-s*i,E=e*l-s*a,c=_*A-M*y,f=_*D-m*y,u=_*L-T*y,d=M*D-m*A,v=M*L-T*A,g=m*L-T*D;return I*g-F*v+b*d+O*u-P*f+E*c},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=r[9],y=r[10],A=r[11],D=r[12],L=r[13],I=r[14],F=r[15],b=n[0],O=n[1],P=n[2],E=n[3];return t[0]=b*e+O*a+P*m+E*D,t[1]=b*s+O*l+P*T+E*L,t[2]=b*h+O*_+P*y+E*I,t[3]=b*i+O*M+P*A+E*F,b=n[4],O=n[5],P=n[6],E=n[7],t[4]=b*e+O*a+P*m+E*D,t[5]=b*s+O*l+P*T+E*L,t[6]=b*h+O*_+P*y+E*I,t[7]=b*i+O*M+P*A+E*F,b=n[8],O=n[9],P=n[10],E=n[11],t[8]=b*e+O*a+P*m+E*D,t[9]=b*s+O*l+P*T+E*L,t[10]=b*h+O*_+P*y+E*I,t[11]=b*i+O*M+P*A+E*F,b=n[12],O=n[13],P=n[14],E=n[15],t[12]=b*e+O*a+P*m+E*D,t[13]=b*s+O*l+P*T+E*L,t[14]=b*h+O*_+P*y+E*I,t[15]=b*i+O*M+P*A+E*F,t},o.multiplyAffine=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[4],a=r[5],l=r[6],_=r[8],M=r[9],m=r[10],T=r[12],y=r[13],A=r[14],D=n[0],L=n[1],I=n[2];return t[0]=D*e+L*i+I*_,t[1]=D*s+L*a+I*M,t[2]=D*h+L*l+I*m,D=n[4],L=n[5],I=n[6],t[4]=D*e+L*i+I*_,t[5]=D*s+L*a+I*M,t[6]=D*h+L*l+I*m,D=n[8],L=n[9],I=n[10],t[8]=D*e+L*i+I*_,t[9]=D*s+L*a+I*M,t[10]=D*h+L*l+I*m,D=n[12],L=n[13],I=n[14],t[12]=D*e+L*i+I*_+T,t[13]=D*s+L*a+I*M+y,t[14]=D*h+L*l+I*m+A,t},o.mul=o.multiply,o.mulAffine=o.multiplyAffine,o.translate=function(t,r,n){var e=n[0],s=n[1],h=n[2],i,a,l,_,M,m,T,y,A,D,L,I;return r===t?(t[12]=r[0]*e+r[4]*s+r[8]*h+r[12],t[13]=r[1]*e+r[5]*s+r[9]*h+r[13],t[14]=r[2]*e+r[6]*s+r[10]*h+r[14],t[15]=r[3]*e+r[7]*s+r[11]*h+r[15]):(i=r[0],a=r[1],l=r[2],_=r[3],M=r[4],m=r[5],T=r[6],y=r[7],A=r[8],D=r[9],L=r[10],I=r[11],t[0]=i,t[1]=a,t[2]=l,t[3]=_,t[4]=M,t[5]=m,t[6]=T,t[7]=y,t[8]=A,t[9]=D,t[10]=L,t[11]=I,t[12]=i*e+M*s+A*h+r[12],t[13]=a*e+m*s+D*h+r[13],t[14]=l*e+T*s+L*h+r[14],t[15]=_*e+y*s+I*h+r[15]),t},o.scale=function(t,r,n){var e=n[0],s=n[1],h=n[2];return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=r[7]*s,t[8]=r[8]*h,t[9]=r[9]*h,t[10]=r[10]*h,t[11]=r[11]*h,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},o.rotate=function(t,r,n,e){var s=e[0],h=e[1],i=e[2],a=Math.sqrt(s*s+h*h+i*i),l,_,M,m,T,y,A,D,L,I,F,b,O,P,E,c,f,u,d,v,g,R,x,w;return Math.abs(a)<p.Yh?null:(a=1/a,s*=a,h*=a,i*=a,l=Math.sin(n),_=Math.cos(n),M=1-_,m=r[0],T=r[1],y=r[2],A=r[3],D=r[4],L=r[5],I=r[6],F=r[7],b=r[8],O=r[9],P=r[10],E=r[11],c=s*s*M+_,f=h*s*M+i*l,u=i*s*M-h*l,d=s*h*M-i*l,v=h*h*M+_,g=i*h*M+s*l,R=s*i*M+h*l,x=h*i*M-s*l,w=i*i*M+_,t[0]=m*c+D*f+b*u,t[1]=T*c+L*f+O*u,t[2]=y*c+I*f+P*u,t[3]=A*c+F*f+E*u,t[4]=m*d+D*v+b*g,t[5]=T*d+L*v+O*g,t[6]=y*d+I*v+P*g,t[7]=A*d+F*v+E*g,t[8]=m*R+D*x+b*w,t[9]=T*R+L*x+O*w,t[10]=y*R+I*x+P*w,t[11]=A*R+F*x+E*w,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},o.rotateX=function(t,r,n){var e=Math.sin(n),s=Math.cos(n),h=r[4],i=r[5],a=r[6],l=r[7],_=r[8],M=r[9],m=r[10],T=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=h*s+_*e,t[5]=i*s+M*e,t[6]=a*s+m*e,t[7]=l*s+T*e,t[8]=_*s-h*e,t[9]=M*s-i*e,t[10]=m*s-a*e,t[11]=T*s-l*e,t},o.rotateY=function(t,r,n){var e=Math.sin(n),s=Math.cos(n),h=r[0],i=r[1],a=r[2],l=r[3],_=r[8],M=r[9],m=r[10],T=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*s-_*e,t[1]=i*s-M*e,t[2]=a*s-m*e,t[3]=l*s-T*e,t[8]=h*e+_*s,t[9]=i*e+M*s,t[10]=a*e+m*s,t[11]=l*e+T*s,t},o.rotateZ=function(t,r,n){var e=Math.sin(n),s=Math.cos(n),h=r[0],i=r[1],a=r[2],l=r[3],_=r[4],M=r[5],m=r[6],T=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*s+_*e,t[1]=i*s+M*e,t[2]=a*s+m*e,t[3]=l*s+T*e,t[4]=_*s-h*e,t[5]=M*s-i*e,t[6]=m*s-a*e,t[7]=T*s-l*e,t},o.fromRotationTranslation=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=e+e,l=s+s,_=h+h,M=e*a,m=e*l,T=e*_,y=s*l,A=s*_,D=h*_,L=i*a,I=i*l,F=i*_;return t[0]=1-(y+D),t[1]=m+F,t[2]=T-I,t[3]=0,t[4]=m-F,t[5]=1-(M+D),t[6]=A+L,t[7]=0,t[8]=T+I,t[9]=A-L,t[10]=1-(M+y),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromQuat=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n+n,a=e+e,l=s+s,_=n*i,M=e*i,m=e*a,T=s*i,y=s*a,A=s*l,D=h*i,L=h*a,I=h*l;return t[0]=1-m-A,t[1]=M+I,t[2]=T-L,t[3]=0,t[4]=M-I,t[5]=1-_-A,t[6]=y+D,t[7]=0,t[8]=T+L,t[9]=y-D,t[10]=1-_-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,r,n,e,s,h,i){var a=1/(n-r),l=1/(s-e),_=1/(h-i);return t[0]=h*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h*2*l,t[6]=0,t[7]=0,t[8]=(n+r)*a,t[9]=(s+e)*l,t[10]=(i+h)*_,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*h*2*_,t[15]=0,t},o.perspective=function(t,r,n,e,s){var h=1/Math.tan(r/2),i=1/(e-s);return t[0]=h/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+e)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*e*i,t[15]=0,t},o.ortho=function(t,r,n,e,s,h,i){var a=1/(r-n),l=1/(e-s),_=1/(h-i);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*_,t[11]=0,t[12]=(r+n)*a,t[13]=(s+e)*l,t[14]=(i+h)*_,t[15]=1,t},o.lookAt=function(t,r,n,e){var s,h,i,a,l,_,M,m,T,y,A=r[0],D=r[1],L=r[2],I=e[0],F=e[1],b=e[2],O=n[0],P=n[1],E=n[2];return Math.abs(A-O)<p.Yh&&Math.abs(D-P)<p.Yh&&Math.abs(L-E)<p.Yh?o.identity(t):(M=A-O,m=D-P,T=L-E,y=1/Math.sqrt(M*M+m*m+T*T),M*=y,m*=y,T*=y,s=F*T-b*m,h=b*M-I*T,i=I*m-F*M,y=Math.sqrt(s*s+h*h+i*i),y?(y=1/y,s*=y,h*=y,i*=y):(s=0,h=0,i=0),a=m*i-T*h,l=T*s-M*i,_=M*h-m*s,y=Math.sqrt(a*a+l*l+_*_),y?(y=1/y,a*=y,l*=y,_*=y):(a=0,l=0,_=0),t[0]=s,t[1]=a,t[2]=M,t[3]=0,t[4]=h,t[5]=l,t[6]=m,t[7]=0,t[8]=i,t[9]=_,t[10]=T,t[11]=0,t[12]=-(s*A+h*D+i*L),t[13]=-(a*A+l*D+_*L),t[14]=-(M*A+m*D+T*L),t[15]=1,t)},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},it.Z=o},81520:function(Dt,it,C){var p=C(55516),o=C(3023),t=C(39186),r=C(98663),n={};n.create=function(){var e=new p.Uc(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},n.rotationTo=function(){var e=o.Z.create(),s=o.Z.fromValues(1,0,0),h=o.Z.fromValues(0,1,0);return function(i,a,l){var _=o.Z.dot(a,l);return _<-.999999?(o.Z.cross(e,s,a),o.Z.length(e)<1e-6&&o.Z.cross(e,h,a),o.Z.normalize(e,e),n.setAxisAngle(i,e,Math.PI),i):_>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(o.Z.cross(e,a,l),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+_,n.normalize(i,i))}}(),n.setAxes=function(){var e=r.Z.create();return function(s,h,i,a){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-h[0],e[5]=-h[1],e[8]=-h[2],n.normalize(s,n.fromMat3(s,e))}}(),n.clone=t.Z.clone,n.fromValues=t.Z.fromValues,n.copy=t.Z.copy,n.set=t.Z.set,n.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},n.setAxisAngle=function(e,s,h){h=h*.5;var i=Math.sin(h);return e[0]=i*s[0],e[1]=i*s[1],e[2]=i*s[2],e[3]=Math.cos(h),e},n.add=t.Z.add,n.multiply=function(e,s,h){var i=s[0],a=s[1],l=s[2],_=s[3],M=h[0],m=h[1],T=h[2],y=h[3];return e[0]=i*y+_*M+a*T-l*m,e[1]=a*y+_*m+l*M-i*T,e[2]=l*y+_*T+i*m-a*M,e[3]=_*y-i*M-a*m-l*T,e},n.mul=n.multiply,n.scale=t.Z.scale,n.rotateX=function(e,s,h){h*=.5;var i=s[0],a=s[1],l=s[2],_=s[3],M=Math.sin(h),m=Math.cos(h);return e[0]=i*m+_*M,e[1]=a*m+l*M,e[2]=l*m-a*M,e[3]=_*m-i*M,e},n.rotateY=function(e,s,h){h*=.5;var i=s[0],a=s[1],l=s[2],_=s[3],M=Math.sin(h),m=Math.cos(h);return e[0]=i*m-l*M,e[1]=a*m+_*M,e[2]=l*m+i*M,e[3]=_*m-a*M,e},n.rotateZ=function(e,s,h){h*=.5;var i=s[0],a=s[1],l=s[2],_=s[3],M=Math.sin(h),m=Math.cos(h);return e[0]=i*m+a*M,e[1]=a*m-i*M,e[2]=l*m+_*M,e[3]=_*m-l*M,e},n.calculateW=function(e,s){var h=s[0],i=s[1],a=s[2];return e[0]=h,e[1]=i,e[2]=a,e[3]=Math.sqrt(Math.abs(1-h*h-i*i-a*a)),e},n.dot=t.Z.dot,n.lerp=t.Z.lerp,n.slerp=function(e,s,h,i){var a=s[0],l=s[1],_=s[2],M=s[3],m=h[0],T=h[1],y=h[2],A=h[3],D,L,I,F,b;return L=a*m+l*T+_*y+M*A,L<0&&(L=-L,m=-m,T=-T,y=-y,A=-A),1-L>1e-6?(D=Math.acos(L),I=Math.sin(D),F=Math.sin((1-i)*D)/I,b=Math.sin(i*D)/I):(F=1-i,b=i),e[0]=F*a+b*m,e[1]=F*l+b*T,e[2]=F*_+b*y,e[3]=F*M+b*A,e},n.invert=function(e,s){var h=s[0],i=s[1],a=s[2],l=s[3],_=h*h+i*i+a*a+l*l,M=_?1/_:0;return e[0]=-h*M,e[1]=-i*M,e[2]=-a*M,e[3]=l*M,e},n.conjugate=function(e,s){return e[0]=-s[0],e[1]=-s[1],e[2]=-s[2],e[3]=s[3],e},n.length=t.Z.length,n.len=n.length,n.squaredLength=t.Z.squaredLength,n.sqrLen=n.squaredLength,n.normalize=t.Z.normalize,n.fromMat3=function(e,s){var h=s[0]+s[4]+s[8],i;if(h>0)i=Math.sqrt(h+1),e[3]=.5*i,i=.5/i,e[0]=(s[5]-s[7])*i,e[1]=(s[6]-s[2])*i,e[2]=(s[1]-s[3])*i;else{var a=0;s[4]>s[0]&&(a=1),s[8]>s[a*3+a]&&(a=2);var l=(a+1)%3,_=(a+2)%3;i=Math.sqrt(s[a*3+a]-s[l*3+l]-s[_*3+_]+1),e[a]=.5*i,i=.5/i,e[3]=(s[l*3+_]-s[_*3+l])*i,e[l]=(s[l*3+a]+s[a*3+l])*i,e[_]=(s[_*3+a]+s[a*3+_])*i}return e},it.Z=n},97410:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var r=new p.Uc(2);return r[0]=t[0],r[1]=t[1],r},o.fromValues=function(t,r){var n=new p.Uc(2);return n[0]=t,n[1]=r,n},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t},o.set=function(t,r,n){return t[0]=r,t[1]=n,t},o.add=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t},o.subtract=function(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t},o.sub=o.subtract,o.multiply=function(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t},o.mul=o.multiply,o.divide=function(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t},o.div=o.divide,o.min=function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t},o.max=function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t},o.scale=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t},o.scaleAndAdd=function(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t},o.distance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1];return Math.sqrt(n*n+e*e)},o.dist=o.distance,o.squaredDistance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1];return n*n+e*e},o.sqrDist=o.squaredDistance,o.length=function(t){var r=t[0],n=t[1];return Math.sqrt(r*r+n*n)},o.len=o.length,o.squaredLength=function(t){var r=t[0],n=t[1];return r*r+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t},o.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},o.normalize=function(t,r){var n=r[0],e=r[1],s=n*n+e*e;return s>0&&(s=1/Math.sqrt(s),t[0]=r[0]*s,t[1]=r[1]*s),t},o.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]},o.cross=function(t,r,n){var e=r[0]*n[1]-r[1]*n[0];return t[0]=t[1]=0,t[2]=e,t},o.lerp=function(t,r,n,e){var s=r[0],h=r[1];return t[0]=s+e*(n[0]-s),t[1]=h+e*(n[1]-h),t},o.random=function(t,r){r=r||1;var n=GLMAT_RANDOM()*2*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t},o.transformMat2=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[2]*s,t[1]=n[1]*e+n[3]*s,t},o.transformMat2d=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[2]*s+n[4],t[1]=n[1]*e+n[3]*s+n[5],t},o.transformMat3=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[3]*s+n[6],t[1]=n[1]*e+n[4]*s+n[7],t},o.transformMat4=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[4]*s+n[12],t[1]=n[1]*e+n[5]*s+n[13],t},o.forEach=function(){var t=o.create();return function(r,n,e,s,h,i){var a,l;for(n||(n=2),e||(e=0),s?l=Math.min(s*n+e,r.length):l=r.length,a=e;a<l;a+=n)t[0]=r[a],t[1]=r[a+1],h(t,t,i),r[a]=t[0],r[a+1]=t[1];return r}}(),it.Z=o},3023:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var r=new p.Uc(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},o.fromValues=function(t,r,n){var e=new p.Uc(3);return e[0]=t,e[1]=r,e[2]=n,e},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},o.set=function(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t},o.add=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t},o.subtract=function(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t},o.sub=o.subtract,o.multiply=function(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t},o.div=o.divide,o.min=function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t},o.max=function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t},o.scale=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t},o.scaleAndAdd=function(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t},o.distance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2];return Math.sqrt(n*n+e*e+s*s)},o.dist=o.distance,o.squaredDistance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2];return n*n+e*e+s*s},o.sqrDist=o.squaredDistance,o.length=function(t){var r=t[0],n=t[1],e=t[2];return Math.sqrt(r*r+n*n+e*e)},o.len=o.length,o.squaredLength=function(t){var r=t[0],n=t[1],e=t[2];return r*r+n*n+e*e},o.sqrLen=o.squaredLength,o.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},o.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},o.normalize=function(t,r){var n=r[0],e=r[1],s=r[2],h=n*n+e*e+s*s;return h>0&&(h=1/Math.sqrt(h),t[0]=r[0]*h,t[1]=r[1]*h,t[2]=r[2]*h),t},o.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},o.cross=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[0],a=n[1],l=n[2];return t[0]=s*l-h*a,t[1]=h*i-e*l,t[2]=e*a-s*i,t},o.lerp=function(t,r,n,e){var s=r[0],h=r[1],i=r[2];return t[0]=s+e*(n[0]-s),t[1]=h+e*(n[1]-h),t[2]=i+e*(n[2]-i),t},o.random=function(t,r){r=r||1;var n=(0,p.RQ)()*2*Math.PI,e=(0,p.RQ)()*2-1,s=Math.sqrt(1-e*e)*r;return t[0]=Math.cos(n)*s,t[1]=Math.sin(n)*s,t[2]=e*r,t},o.transformMat4=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[3]*e+n[7]*s+n[11]*h+n[15];return i=i||1,t[0]=(n[0]*e+n[4]*s+n[8]*h+n[12])/i,t[1]=(n[1]*e+n[5]*s+n[9]*h+n[13])/i,t[2]=(n[2]*e+n[6]*s+n[10]*h+n[14])/i,t},o.transformMat3=function(t,r,n){var e=r[0],s=r[1],h=r[2];return t[0]=e*n[0]+s*n[3]+h*n[6],t[1]=e*n[1]+s*n[4]+h*n[7],t[2]=e*n[2]+s*n[5]+h*n[8],t},o.transformQuat=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[0],a=n[1],l=n[2],_=n[3],M=_*e+a*h-l*s,m=_*s+l*e-i*h,T=_*h+i*s-a*e,y=-i*e-a*s-l*h;return t[0]=M*_+y*-i+m*-l-T*-a,t[1]=m*_+y*-a+T*-i-M*-l,t[2]=T*_+y*-l+M*-a-m*-i,t},o.rotateX=function(t,r,n,e){var s=[],h=[];return s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],h[0]=s[0],h[1]=s[1]*Math.cos(e)-s[2]*Math.sin(e),h[2]=s[1]*Math.sin(e)+s[2]*Math.cos(e),t[0]=h[0]+n[0],t[1]=h[1]+n[1],t[2]=h[2]+n[2],t},o.rotateY=function(t,r,n,e){var s=[],h=[];return s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],h[0]=s[2]*Math.sin(e)+s[0]*Math.cos(e),h[1]=s[1],h[2]=s[2]*Math.cos(e)-s[0]*Math.sin(e),t[0]=h[0]+n[0],t[1]=h[1]+n[1],t[2]=h[2]+n[2],t},o.rotateZ=function(t,r,n,e){var s=[],h=[];return s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],h[0]=s[0]*Math.cos(e)-s[1]*Math.sin(e),h[1]=s[0]*Math.sin(e)+s[1]*Math.cos(e),h[2]=s[2],t[0]=h[0]+n[0],t[1]=h[1]+n[1],t[2]=h[2]+n[2],t},o.forEach=function(){var t=o.create();return function(r,n,e,s,h,i){var a,l;for(n||(n=3),e||(e=0),s?l=Math.min(s*n+e,r.length):l=r.length,a=e;a<l;a+=n)t[0]=r[a],t[1]=r[a+1],t[2]=r[a+2],h(t,t,i),r[a]=t[0],r[a+1]=t[1],r[a+2]=t[2];return r}}(),o.angle=function(t,r){var n=o.fromValues(t[0],t[1],t[2]),e=o.fromValues(r[0],r[1],r[2]);o.normalize(n,n),o.normalize(e,e);var s=o.dot(n,e);return s>1?0:Math.acos(s)},it.Z=o},39186:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var r=new p.Uc(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},o.fromValues=function(t,r,n,e){var s=new p.Uc(4);return s[0]=t,s[1]=r,s[2]=n,s[3]=e,s},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},o.set=function(t,r,n,e,s){return t[0]=r,t[1]=n,t[2]=e,t[3]=s,t},o.add=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t},o.subtract=function(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t},o.sub=o.subtract,o.multiply=function(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t[3]=r[3]*n[3],t},o.mul=o.multiply,o.divide=function(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t[3]=r[3]/n[3],t},o.div=o.divide,o.min=function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t[3]=Math.min(r[3],n[3]),t},o.max=function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t[3]=Math.max(r[3],n[3]),t},o.scale=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t},o.scaleAndAdd=function(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t},o.distance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2],h=r[3]-t[3];return Math.sqrt(n*n+e*e+s*s+h*h)},o.dist=o.distance,o.squaredDistance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2],h=r[3]-t[3];return n*n+e*e+s*s+h*h},o.sqrDist=o.squaredDistance,o.length=function(t){var r=t[0],n=t[1],e=t[2],s=t[3];return Math.sqrt(r*r+n*n+e*e+s*s)},o.len=o.length,o.squaredLength=function(t){var r=t[0],n=t[1],e=t[2],s=t[3];return r*r+n*n+e*e+s*s},o.sqrLen=o.squaredLength,o.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},o.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},o.normalize=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n*n+e*e+s*s+h*h;return i>0&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i),t},o.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},o.lerp=function(t,r,n,e){var s=r[0],h=r[1],i=r[2],a=r[3];return t[0]=s+e*(n[0]-s),t[1]=h+e*(n[1]-h),t[2]=i+e*(n[2]-i),t[3]=a+e*(n[3]-a),t},o.random=function(t,r){return r=r||1,t[0]=(0,p.RQ)(),t[1]=(0,p.RQ)(),t[2]=(0,p.RQ)(),t[3]=(0,p.RQ)(),o.normalize(t,t),o.scale(t,t,r),t},o.transformMat4=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3];return t[0]=n[0]*e+n[4]*s+n[8]*h+n[12]*i,t[1]=n[1]*e+n[5]*s+n[9]*h+n[13]*i,t[2]=n[2]*e+n[6]*s+n[10]*h+n[14]*i,t[3]=n[3]*e+n[7]*s+n[11]*h+n[15]*i,t},o.transformQuat=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[0],a=n[1],l=n[2],_=n[3],M=_*e+a*h-l*s,m=_*s+l*e-i*h,T=_*h+i*s-a*e,y=-i*e-a*s-l*h;return t[0]=M*_+y*-i+m*-l-T*-a,t[1]=m*_+y*-a+T*-i-M*-l,t[2]=T*_+y*-l+M*-a-m*-i,t},o.forEach=function(){var t=o.create();return function(r,n,e,s,h,i){var a,l;for(n||(n=4),e||(e=0),s?l=Math.min(s*n+e,r.length):l=r.length,a=e;a<l;a+=n)t[0]=r[a],t[1]=r[a+1],t[2]=r[a+2],t[3]=r[a+3],h(t,t,i),r[a]=t[0],r[a+1]=t[1],r[a+2]=t[2],r[a+3]=t[3];return r}}(),it.Z=o},82085:function(Dt,it,C){var p=C(92449),o=p.Z.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var r=t.color,n=t.intensity;return[r[0]*n,r[1]*n,r[2]*n]}}}});it.Z=o},81157:function(Dt,it,C){var p=C(92449),o=C(74208),t=p.Z.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(r,n){if(!r.getGLExtension("EXT_shader_texture_lod")){console.warn("Device not support textureCubeLodEXT");return}this._brdfLookup||(this._normalDistribution=o.Z.generateNormalDistribution(),this._brdfLookup=o.Z.integrateBRDF(r,this._normalDistribution));var e=this.cubemap;if(!e.__prefiltered){var s=o.Z.prefilterEnvironmentMap(r,e,{encodeRGBM:!0,width:n,height:n},this._normalDistribution,this._brdfLookup);this.cubemap=s.environmentMap,this.cubemap.__prefiltered=!0,e.dispose(r)}},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}},ambientCubemapLightCubemap:{type:"t",value:function(r){return r.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(r){return r._brdfLookup}}}});it.Z=t},43577:function(Dt,it,C){var p=C(92449),o=C(82544),t=p.Z.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new o.Z.Float32Array(9*3)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}},ambientSHLightCoefficients:{type:"3f",value:function(r){for(var n=r._coefficientsTmpArr,e=0;e<r.coefficients.length;e++)n[e]=r.coefficients[e];return n}}}});it.Z=t},47555:function(Dt,it,C){var p=C(92449),o=C(14147),t=p.Z.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(r){return r.__dir=r.__dir||new o.Z,r.__dir.copy(r.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}}},clone:function(){var r=p.Z.prototype.clone.call(this);return r.shadowBias=this.shadowBias,r.shadowSlopeScale=this.shadowSlopeScale,r}});it.Z=t},21971:function(Dt,it,C){var p=C(92449),o=p.Z.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var r=t.color,n=t.intensity;return[r[0]*n,r[1]*n,r[2]*n]}}},clone:function(){var t=p.Z.prototype.clone.call(this);return t.range=this.range,t}});it.Z=o},57766:function(Dt,it,C){var p=C(92449),o=C(14147),t=p.Z.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(r){return r.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(r){return r.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(r){return Math.cos(r.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(r){return Math.cos(r.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(r){return r.falloffFactor}},spotLightDirection:{type:"3f",value:function(r){return r.__dir=r.__dir||new o.Z,r.__dir.copy(r.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}}},clone:function(){var r=p.Z.prototype.clone.call(this);return r.range=this.range,r.umbraAngle=this.umbraAngle,r.penumbraAngle=this.penumbraAngle,r.falloffFactor=this.falloffFactor,r.shadowBias=this.shadowBias,r.shadowSlopeScale=this.shadowSlopeScale,r}});it.Z=t},37233:function(Dt,it,C){var p=C(14147),o=C(3023),t=o.Z.set,r=o.Z.copy,n=function(e,s){this.min=e||new p.Z(1/0,1/0,1/0),this.max=s||new p.Z(-1/0,-1/0,-1/0),this.vertices=null};n.prototype={constructor:n,updateFromVertices:function(e){if(e.length>0){var s=this.min,h=this.max,i=s.array,a=h.array;r(i,e[0]),r(a,e[0]);for(var l=1;l<e.length;l++){var _=e[l];_[0]<i[0]&&(i[0]=_[0]),_[1]<i[1]&&(i[1]=_[1]),_[2]<i[2]&&(i[2]=_[2]),_[0]>a[0]&&(a[0]=_[0]),_[1]>a[1]&&(a[1]=_[1]),_[2]>a[2]&&(a[2]=_[2])}s._dirty=!0,h._dirty=!0}},union:function(e){var s=this.min,h=this.max;return o.Z.min(s.array,s.array,e.min.array),o.Z.max(h.array,h.array,e.max.array),s._dirty=!0,h._dirty=!0,this},intersection:function(e){var s=this.min,h=this.max;return o.Z.max(s.array,s.array,e.min.array),o.Z.min(h.array,h.array,e.max.array),s._dirty=!0,h._dirty=!0,this},intersectBoundingBox:function(e){var s=this.min.array,h=this.max.array,i=e.min.array,a=e.max.array;return!(s[0]>a[0]||s[1]>a[1]||s[2]>a[2]||h[0]<i[0]||h[1]<i[1]||h[2]<i[2])},containBoundingBox:function(e){var s=this.min.array,h=this.max.array,i=e.min.array,a=e.max.array;return s[0]<=i[0]&&s[1]<=i[1]&&s[2]<=i[2]&&h[0]>=a[0]&&h[1]>=a[1]&&h[2]>=a[2]},containPoint:function(e){var s=this.min.array,h=this.max.array,i=e.array;return s[0]<=i[0]&&s[1]<=i[1]&&s[2]<=i[2]&&h[0]>=i[0]&&h[1]>=i[1]&&h[2]>=i[2]},isFinite:function(){var e=this.min.array,s=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(s[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=o.Z.create(),s=o.Z.create(),h=o.Z.create(),i=o.Z.create(),a=o.Z.create(),l=o.Z.create();return function(_,M){var m=_.min.array,T=_.max.array,y=M.array;return e[0]=y[0]*m[0],e[1]=y[1]*m[0],e[2]=y[2]*m[0],s[0]=y[0]*T[0],s[1]=y[1]*T[0],s[2]=y[2]*T[0],h[0]=y[4]*m[1],h[1]=y[5]*m[1],h[2]=y[6]*m[1],i[0]=y[4]*T[1],i[1]=y[5]*T[1],i[2]=y[6]*T[1],a[0]=y[8]*m[2],a[1]=y[9]*m[2],a[2]=y[10]*m[2],l[0]=y[8]*T[2],l[1]=y[9]*T[2],l[2]=y[10]*T[2],m=this.min.array,T=this.max.array,m[0]=Math.min(e[0],s[0])+Math.min(h[0],i[0])+Math.min(a[0],l[0])+y[12],m[1]=Math.min(e[1],s[1])+Math.min(h[1],i[1])+Math.min(a[1],l[1])+y[13],m[2]=Math.min(e[2],s[2])+Math.min(h[2],i[2])+Math.min(a[2],l[2])+y[14],T[0]=Math.max(e[0],s[0])+Math.max(h[0],i[0])+Math.max(a[0],l[0])+y[12],T[1]=Math.max(e[1],s[1])+Math.max(h[1],i[1])+Math.max(a[1],l[1])+y[13],T[2]=Math.max(e[2],s[2])+Math.max(h[2],i[2])+Math.max(a[2],l[2])+y[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var s=this.min.array,h=this.max.array,i=e.array,a=s[0],l=s[1],_=s[2],M=h[0],m=h[1],T=s[2],y=h[0],A=h[1],D=h[2];if(i[15]===1)s[0]=i[0]*a+i[12],s[1]=i[5]*l+i[13],h[2]=i[10]*_+i[14],h[0]=i[0]*y+i[12],h[1]=i[5]*A+i[13],s[2]=i[10]*D+i[14];else{var L=-1/_;s[0]=i[0]*a*L,s[1]=i[5]*l*L,h[2]=(i[10]*_+i[14])*L,L=-1/T,h[0]=i[0]*M*L,h[1]=i[5]*m*L,L=-1/D,s[2]=(i[10]*D+i[14])*L}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var s=0;s<8;s++)e[s]=o.Z.fromValues(0,0,0);this.vertices=e}var h=this.min.array,i=this.max.array;return t(e[0],h[0],h[1],h[2]),t(e[1],h[0],i[1],h[2]),t(e[2],i[0],h[1],h[2]),t(e[3],i[0],i[1],h[2]),t(e[4],h[0],h[1],i[2]),t(e[5],h[0],i[1],i[2]),t(e[6],i[0],h[1],i[2]),t(e[7],i[0],i[1],i[2]),this},copy:function(e){var s=this.min,h=this.max;return r(s.array,e.min.array),r(h.array,e.max.array),s._dirty=!0,h._dirty=!0,this},clone:function(){var e=new n;return e.copy(this),e}},it.Z=n},88908:function(Dt,it,C){var p=C(37233),o=C(87542),t=C(3023),r=t.Z.set,n=t.Z.copy,e=t.Z.transformMat4,s=Math.min,h=Math.max,i=function(){this.planes=[];for(var a=0;a<6;a++)this.planes.push(new o.Z);this.boundingBox=new p.Z,this.vertices=[];for(var a=0;a<8;a++)this.vertices[a]=t.Z.fromValues(0,0,0)};i.prototype={setFromProjection:function(a){var l=this.planes,_=a.array,M=_[0],m=_[1],T=_[2],y=_[3],A=_[4],D=_[5],L=_[6],I=_[7],F=_[8],b=_[9],O=_[10],P=_[11],E=_[12],c=_[13],f=_[14],u=_[15];r(l[0].normal.array,y-M,I-A,P-F),l[0].distance=-(u-E),l[0].normalize(),r(l[1].normal.array,y+M,I+A,P+F),l[1].distance=-(u+E),l[1].normalize(),r(l[2].normal.array,y+m,I+D,P+b),l[2].distance=-(u+c),l[2].normalize(),r(l[3].normal.array,y-m,I-D,P-b),l[3].distance=-(u-c),l[3].normalize(),r(l[4].normal.array,y-T,I-L,P-O),l[4].distance=-(u-f),l[4].normalize(),r(l[5].normal.array,y+T,I+L,P+O),l[5].distance=-(u+f),l[5].normalize();var d=this.boundingBox,v=this.vertices;if(u===0){var g=D/M,R=-f/(O-1),x=-f/(O+1),w=-x/D,Z=-R/D;d.min.set(-w*g,-w,x),d.max.set(w*g,w,R),r(v[0],-w*g,-w,x),r(v[1],-w*g,w,x),r(v[2],w*g,-w,x),r(v[3],w*g,w,x),r(v[4],-Z*g,-Z,R),r(v[5],-Z*g,Z,R),r(v[6],Z*g,-Z,R),r(v[7],Z*g,Z,R)}else{var N=(-1-E)/M,G=(1-E)/M,K=(1-c)/D,J=(-1-c)/D,U=(-1-f)/O,H=(1-f)/O;d.min.set(Math.min(N,G),Math.min(J,K),Math.min(H,U)),d.max.set(Math.max(G,N),Math.max(K,J),Math.max(U,H));var V=d.min.array,S=d.max.array;r(v[0],V[0],V[1],V[2]),r(v[1],V[0],S[1],V[2]),r(v[2],S[0],V[1],V[2]),r(v[3],S[0],S[1],V[2]),r(v[4],V[0],V[1],S[2]),r(v[5],V[0],S[1],S[2]),r(v[6],S[0],V[1],S[2]),r(v[7],S[0],S[1],S[2])}},getTransformedBoundingBox:function(){var a=t.Z.create();return function(l,_){var M=this.vertices,m=_.array,T=l.min,y=l.max,A=T.array,D=y.array,L=M[0];e(a,L,m),n(A,a),n(D,a);for(var I=1;I<8;I++)L=M[I],e(a,L,m),A[0]=s(a[0],A[0]),A[1]=s(a[1],A[1]),A[2]=s(a[2],A[2]),D[0]=h(a[0],D[0]),D[1]=h(a[1],D[1]),D[2]=h(a[2],D[2]);return T._dirty=!0,y._dirty=!0,l}}()},it.Z=i},22351:function(Dt,it,C){var p=C(3522),o=function(){this.array=p.Z.create(),this._dirty=!0};o.prototype={constructor:o,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},clone:function(){return new o().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},o.adjoint=function(t,r){return p.Z.adjoint(t.array,r.array),t._dirty=!0,t},o.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},o.determinant=function(t){return p.Z.determinant(t.array)},o.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},o.invert=function(t,r){return p.Z.invert(t.array,r.array),t._dirty=!0,t},o.mul=function(t,r,n){return p.Z.mul(t.array,r.array,n.array),t._dirty=!0,t},o.multiply=o.mul,o.rotate=function(t,r,n){return p.Z.rotate(t.array,r.array,n),t._dirty=!0,t},o.scale=function(t,r,n){return p.Z.scale(t.array,r.array,n.array),t._dirty=!0,t},o.transpose=function(t,r){return p.Z.transpose(t.array,r.array),t._dirty=!0,t},it.Z=o},40004:function(Dt,it,C){var p=C(66987),o=function(){this.array=p.Z.create(),this._dirty=!0};o.prototype={constructor:o,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},clone:function(){return new o().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return p.Z.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},o.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},o.determinant=function(t){return p.Z.determinant(t.array)},o.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},o.invert=function(t,r){return p.Z.invert(t.array,r.array),t._dirty=!0,t},o.mul=function(t,r,n){return p.Z.mul(t.array,r.array,n.array),t._dirty=!0,t},o.multiply=o.mul,o.rotate=function(t,r,n){return p.Z.rotate(t.array,r.array,n),t._dirty=!0,t},o.scale=function(t,r,n){return p.Z.scale(t.array,r.array,n.array),t._dirty=!0,t},o.translate=function(t,r,n){return p.Z.translate(t.array,r.array,n.array),t._dirty=!0,t},it.Z=o},35692:function(Dt,it,C){var p=C(98663),o=function(){this.array=p.Z.create(),this._dirty=!0};o.prototype={constructor:o,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new o().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},fromMat2d:function(t){return p.Z.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return p.Z.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return p.Z.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return p.Z.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return p.Z.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},o.adjoint=function(t,r){return p.Z.adjoint(t.array,r.array),t._dirty=!0,t},o.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},o.determinant=function(t){return p.Z.determinant(t.array)},o.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},o.invert=function(t,r){return p.Z.invert(t.array,r.array),t},o.mul=function(t,r,n){return p.Z.mul(t.array,r.array,n.array),t._dirty=!0,t},o.multiply=o.mul,o.fromMat2d=function(t,r){return p.Z.fromMat2d(t.array,r.array),t._dirty=!0,t},o.fromMat4=function(t,r){return p.Z.fromMat4(t.array,r.array),t._dirty=!0,t},o.fromQuat=function(t,r){return p.Z.fromQuat(t.array,r.array),t._dirty=!0,t},o.normalFromMat4=function(t,r){return p.Z.normalFromMat4(t.array,r.array),t._dirty=!0,t},o.rotate=function(t,r,n){return p.Z.rotate(t.array,r.array,n),t._dirty=!0,t},o.scale=function(t,r,n){return p.Z.scale(t.array,r.array,n.array),t._dirty=!0,t},o.transpose=function(t,r){return p.Z.transpose(t.array,r.array),t._dirty=!0,t},o.translate=function(t,r,n){return p.Z.translate(t.array,r.array,n.array),t._dirty=!0,t},it.Z=o},49865:function(Dt,it,C){var p=C(85822),o=C(3023),t=C(81520),r=C(98663),n=C(14147),e=function(){this._axisX=new n.Z,this._axisY=new n.Z,this._axisZ=new n.Z,this.array=p.Z.create(),this._dirty=!0};e.prototype={constructor:e,setArray:function(i){for(var a=0;a<this.array.length;a++)this.array[a]=i[a];return this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new e().copy(this)},copy:function(i){return p.Z.copy(this.array,i.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},fromQuat:function(i){return p.Z.fromQuat(this.array,i.array),this._dirty=!0,this},fromRotationTranslation:function(i,a){return p.Z.fromRotationTranslation(this.array,i.array,a.array),this._dirty=!0,this},fromMat2d:function(i){return e.fromMat2d(this,i),this},frustum:function(i,a,l,_,M,m){return p.Z.frustum(this.array,i,a,l,_,M,m),this._dirty=!0,this},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(i,a,l){return p.Z.lookAt(this.array,i.array,a.array,l.array),this._dirty=!0,this},mul:function(i){return p.Z.mul(this.array,this.array,i.array),this._dirty=!0,this},mulLeft:function(i){return p.Z.mul(this.array,i.array,this.array),this._dirty=!0,this},multiply:function(i){return p.Z.multiply(this.array,this.array,i.array),this._dirty=!0,this},multiplyLeft:function(i){return p.Z.multiply(this.array,i.array,this.array),this._dirty=!0,this},ortho:function(i,a,l,_,M,m){return p.Z.ortho(this.array,i,a,l,_,M,m),this._dirty=!0,this},perspective:function(i,a,l,_){return p.Z.perspective(this.array,i,a,l,_),this._dirty=!0,this},rotate:function(i,a){return p.Z.rotate(this.array,this.array,i,a.array),this._dirty=!0,this},rotateX:function(i){return p.Z.rotateX(this.array,this.array,i),this._dirty=!0,this},rotateY:function(i){return p.Z.rotateY(this.array,this.array,i),this._dirty=!0,this},rotateZ:function(i){return p.Z.rotateZ(this.array,this.array,i),this._dirty=!0,this},scale:function(i){return p.Z.scale(this.array,this.array,i.array),this._dirty=!0,this},translate:function(i){return p.Z.translate(this.array,this.array,i.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var i=o.Z.create(),a=o.Z.create(),l=o.Z.create(),_=r.Z.create();return function(M,m,T){var y=this.array;o.Z.set(i,y[0],y[1],y[2]),o.Z.set(a,y[4],y[5],y[6]),o.Z.set(l,y[8],y[9],y[10]);var A=o.Z.length(i),D=o.Z.length(a),L=o.Z.length(l),I=this.determinant();I<0&&(A=-A),M&&M.set(A,D,L),T.set(y[12],y[13],y[14]),r.Z.fromMat4(_,y),_[0]/=A,_[1]/=A,_[2]/=A,_[3]/=D,_[4]/=D,_[5]/=D,_[6]/=L,_[7]/=L,_[8]/=L,t.Z.fromMat3(m.array,_),t.Z.normalize(m.array,m.array),m._dirty=!0,T._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var s=Object.defineProperty;if(s){var h=e.prototype;s(h,"z",{get:function(){var i=this.array;return this._axisZ.set(i[8],i[9],i[10]),this._axisZ},set:function(i){var a=this.array;i=i.array,a[8]=i[0],a[9]=i[1],a[10]=i[2],this._dirty=!0}}),s(h,"y",{get:function(){var i=this.array;return this._axisY.set(i[4],i[5],i[6]),this._axisY},set:function(i){var a=this.array;i=i.array,a[4]=i[0],a[5]=i[1],a[6]=i[2],this._dirty=!0}}),s(h,"x",{get:function(){var i=this.array;return this._axisX.set(i[0],i[1],i[2]),this._axisX},set:function(i){var a=this.array;i=i.array,a[0]=i[0],a[1]=i[1],a[2]=i[2],this._dirty=!0}})}e.adjoint=function(i,a){return p.Z.adjoint(i.array,a.array),i._dirty=!0,i},e.copy=function(i,a){return p.Z.copy(i.array,a.array),i._dirty=!0,i},e.determinant=function(i){return p.Z.determinant(i.array)},e.identity=function(i){return p.Z.identity(i.array),i._dirty=!0,i},e.ortho=function(i,a,l,_,M,m,T){return p.Z.ortho(i.array,a,l,_,M,m,T),i._dirty=!0,i},e.perspective=function(i,a,l,_,M){return p.Z.perspective(i.array,a,l,_,M),i._dirty=!0,i},e.lookAt=function(i,a,l,_){return p.Z.lookAt(i.array,a.array,l.array,_.array),i._dirty=!0,i},e.invert=function(i,a){return p.Z.invert(i.array,a.array),i._dirty=!0,i},e.mul=function(i,a,l){return p.Z.mul(i.array,a.array,l.array),i._dirty=!0,i},e.multiply=e.mul,e.fromQuat=function(i,a){return p.Z.fromQuat(i.array,a.array),i._dirty=!0,i},e.fromRotationTranslation=function(i,a,l){return p.Z.fromRotationTranslation(i.array,a.array,l.array),i._dirty=!0,i},e.fromMat2d=function(_,l){_._dirty=!0;var l=l.array,_=_.array;return _[0]=l[0],_[4]=l[2],_[12]=l[4],_[1]=l[1],_[5]=l[3],_[13]=l[5],_},e.rotate=function(i,a,l,_){return p.Z.rotate(i.array,a.array,l,_.array),i._dirty=!0,i},e.rotateX=function(i,a,l){return p.Z.rotateX(i.array,a.array,l),i._dirty=!0,i},e.rotateY=function(i,a,l){return p.Z.rotateY(i.array,a.array,l),i._dirty=!0,i},e.rotateZ=function(i,a,l){return p.Z.rotateZ(i.array,a.array,l),i._dirty=!0,i},e.scale=function(i,a,l){return p.Z.scale(i.array,a.array,l.array),i._dirty=!0,i},e.transpose=function(i,a){return p.Z.transpose(i.array,a.array),i._dirty=!0,i},e.translate=function(i,a,l){return p.Z.translate(i.array,a.array,l.array),i._dirty=!0,i},it.Z=e},87542:function(Dt,it,C){var p=C(14147),o=C(85822),t=C(3023),r=C(39186),n=function(e,s){this.normal=e||new p.Z(0,1,0),this.distance=s||0};n.prototype={constructor:n,distanceToPoint:function(e){return t.Z.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,s){s||(s=new p.Z);var h=this.distanceToPoint(e);return t.Z.scaleAndAdd(s.array,e.array,this.normal.array,-h),s._dirty=!0,s},normalize:function(){var e=1/t.Z.len(this.normal.array);t.Z.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var s=e.vertices,h=this.normal.array,i=t.Z.dot(s[0].array,h)>this.distance,a=1;a<8;a++)if(t.Z.dot(s[a].array,h)>this.distance!=i)return!0},intersectLine:function(){var e=t.Z.create();return function(s,h,i){var a=this.distanceToPoint(s),l=this.distanceToPoint(h);if(a>0&&l>0||a<0&&l<0)return null;var _=this.normal.array,M=this.distance,m=s.array;t.Z.sub(e,h.array,s.array),t.Z.normalize(e,e);var T=t.Z.dot(_,e);if(T===0)return null;i||(i=new p.Z);var y=(t.Z.dot(_,m)-M)/T;return t.Z.scaleAndAdd(i.array,m,e,-y),i._dirty=!0,i}}(),applyTransform:function(){var e=o.Z.create(),s=r.Z.create(),h=r.Z.create();return h[3]=1,function(i){i=i.array,t.Z.scale(h,this.normal.array,this.distance),r.Z.transformMat4(h,h,i),this.distance=t.Z.dot(h,this.normal.array),o.Z.invert(e,i),o.Z.transpose(e,e),s[3]=0,t.Z.copy(s,this.normal.array),r.Z.transformMat4(s,s,e),t.Z.copy(this.normal.array,s)}}(),copy:function(e){t.Z.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new n;return e.copy(this),e}},it.Z=n},13075:function(Dt,it,C){var p=C(81520),o=C(98663),t=function(e,s,h,i){e=e||0,s=s||0,h=h||0,i=i===void 0?1:i,this.array=p.Z.fromValues(e,s,h,i),this._dirty=!0};t.prototype={constructor:t,add:function(e){return p.Z.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return p.Z.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,s,h,i){return this.array[0]=e,this.array[1]=s,this.array[2]=h,this.array[3]=i,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new t(this.x,this.y,this.z,this.w)},conjugate:function(){return p.Z.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return p.Z.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return p.Z.dot(this.array,e.array)},fromMat3:function(e){return p.Z.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=o.Z.create();return function(s){return o.Z.fromMat4(e,s.array),o.Z.transpose(e,e),p.Z.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(e,s,h){return p.Z.lerp(this.array,e.array,s.array,h),this._dirty=!0,this},mul:function(e){return p.Z.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return p.Z.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return p.Z.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return p.Z.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return p.Z.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return p.Z.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return p.Z.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,s){return p.Z.rotationTo(this.array,e.array,s.array),this._dirty=!0,this},setAxes:function(e,s,h){return p.Z.setAxes(this.array,e.array,s.array,h.array),this._dirty=!0,this},setAxisAngle:function(e,s){return p.Z.setAxisAngle(this.array,e.array,s),this._dirty=!0,this},slerp:function(e,s,h){return p.Z.slerp(this.array,e.array,s.array,h),this._dirty=!0,this},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},fromEuler:function(e,s){return t.fromEuler(this,e,s)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var r=Object.defineProperty;if(r){var n=t.prototype;r(n,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),r(n,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),r(n,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),r(n,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}t.add=function(e,s,h){return p.Z.add(e.array,s.array,h.array),e._dirty=!0,e},t.set=function(e,s,h,i,a){p.Z.set(e.array,s,h,i,a),e._dirty=!0},t.copy=function(e,s){return p.Z.copy(e.array,s.array),e._dirty=!0,e},t.calculateW=function(e,s){return p.Z.calculateW(e.array,s.array),e._dirty=!0,e},t.conjugate=function(e,s){return p.Z.conjugate(e.array,s.array),e._dirty=!0,e},t.identity=function(e){return p.Z.identity(e.array),e._dirty=!0,e},t.invert=function(e,s){return p.Z.invert(e.array,s.array),e._dirty=!0,e},t.dot=function(e,s){return p.Z.dot(e.array,s.array)},t.len=function(e){return p.Z.length(e.array)},t.lerp=function(e,s,h,i){return p.Z.lerp(e.array,s.array,h.array,i),e._dirty=!0,e},t.slerp=function(e,s,h,i){return p.Z.slerp(e.array,s.array,h.array,i),e._dirty=!0,e},t.mul=function(e,s,h){return p.Z.multiply(e.array,s.array,h.array),e._dirty=!0,e},t.multiply=t.mul,t.rotateX=function(e,s,h){return p.Z.rotateX(e.array,s.array,h),e._dirty=!0,e},t.rotateY=function(e,s,h){return p.Z.rotateY(e.array,s.array,h),e._dirty=!0,e},t.rotateZ=function(e,s,h){return p.Z.rotateZ(e.array,s.array,h),e._dirty=!0,e},t.setAxisAngle=function(e,s,h){return p.Z.setAxisAngle(e.array,s.array,h),e._dirty=!0,e},t.normalize=function(e,s){return p.Z.normalize(e.array,s.array),e._dirty=!0,e},t.sqrLen=function(e){return p.Z.sqrLen(e.array)},t.squaredLength=t.sqrLen,t.fromMat3=function(e,s){return p.Z.fromMat3(e.array,s.array),e._dirty=!0,e},t.setAxes=function(e,s,h,i){return p.Z.setAxes(e.array,s.array,h.array,i.array),e._dirty=!0,e},t.rotationTo=function(e,s,h){return p.Z.rotationTo(e.array,s.array,h.array),e._dirty=!0,e},t.fromEuler=function(e,s,y){e._dirty=!0,s=s.array;var i=e.array,a=Math.cos(s[0]/2),l=Math.cos(s[1]/2),_=Math.cos(s[2]/2),M=Math.sin(s[0]/2),m=Math.sin(s[1]/2),T=Math.sin(s[2]/2),y=(y||"XYZ").toUpperCase();switch(y){case"XYZ":i[0]=M*l*_+a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_-M*m*T;break;case"YXZ":i[0]=M*l*_+a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_+M*m*T;break;case"ZXY":i[0]=M*l*_-a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_-M*m*T;break;case"ZYX":i[0]=M*l*_-a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_+M*m*T;break;case"YZX":i[0]=M*l*_+a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_-M*m*T;break;case"XZY":i[0]=M*l*_-a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_+M*m*T;break}},it.Z=t},76867:function(Dt,it,C){var p=C(14147),o=C(3023),t=1e-5,r=function(n,e){this.origin=n||new p.Z,this.direction=e||new p.Z};r.prototype={constructor:r,intersectPlane:function(n,e){var s=n.normal.array,h=n.distance,i=this.origin.array,a=this.direction.array,l=o.Z.dot(s,a);if(l===0)return null;e||(e=new p.Z);var _=(o.Z.dot(s,i)-h)/l;return o.Z.scaleAndAdd(e.array,i,a,-_),e._dirty=!0,e},mirrorAgainstPlane:function(n){var e=o.Z.dot(n.normal.array,this.direction.array);o.Z.scaleAndAdd(this.direction.array,this.direction.array,n.normal.array,-e*2),this.direction._dirty=!0},distanceToPoint:function(){var n=o.Z.create();return function(e){o.Z.sub(n,e,this.origin.array);var s=o.Z.dot(n,this.direction.array);if(s<0)return o.Z.distance(this.origin.array,e);var h=o.Z.lenSquared(n);return Math.sqrt(h-s*s)}}(),intersectSphere:function(){var n=o.Z.create();return function(e,s,h){var i=this.origin.array,a=this.direction.array;e=e.array,o.Z.sub(n,e,i);var l=o.Z.dot(n,a),_=o.Z.squaredLength(n),M=_-l*l,m=s*s;if(!(M>m)){var T=Math.sqrt(m-M),y=l-T,A=l+T;return h||(h=new p.Z),y<0?A<0?null:(o.Z.scaleAndAdd(h.array,i,a,A),h):(o.Z.scaleAndAdd(h.array,i,a,y),h)}}}(),intersectBoundingBox:function(n,e){var s=this.direction.array,h=this.origin.array,i=n.min.array,a=n.max.array,l=1/s[0],_=1/s[1],M=1/s[2],m,T,y,A,D,L;if(l>=0?(m=(i[0]-h[0])*l,T=(a[0]-h[0])*l):(T=(i[0]-h[0])*l,m=(a[0]-h[0])*l),_>=0?(y=(i[1]-h[1])*_,A=(a[1]-h[1])*_):(A=(i[1]-h[1])*_,y=(a[1]-h[1])*_),m>A||y>T||((y>m||m!==m)&&(m=y),(A<T||T!==T)&&(T=A),M>=0?(D=(i[2]-h[2])*M,L=(a[2]-h[2])*M):(L=(i[2]-h[2])*M,D=(a[2]-h[2])*M),m>L||D>T)||((D>m||m!==m)&&(m=D),(L<T||T!==T)&&(T=L),T<0))return null;var I=m>=0?m:T;return e||(e=new p.Z),o.Z.scaleAndAdd(e.array,h,s,I),e},intersectTriangle:function(){var n=o.Z.create(),e=o.Z.create(),s=o.Z.create(),h=o.Z.create();return function(i,a,l,_,M,m){var T=this.direction.array,y=this.origin.array;i=i.array,a=a.array,l=l.array,o.Z.sub(n,a,i),o.Z.sub(e,l,i),o.Z.cross(h,e,T);var A=o.Z.dot(n,h);if(_){if(A>-t)return null}else if(A>-t&&A<t)return null;o.Z.sub(s,y,i);var D=o.Z.dot(h,s)/A;if(D<0||D>1)return null;o.Z.cross(h,n,s);var L=o.Z.dot(T,h)/A;if(L<0||L>1||D+L>1)return null;o.Z.cross(h,n,e);var I=-o.Z.dot(s,h)/A;return I<0?null:(M||(M=new p.Z),m&&p.Z.set(m,1-D-L,D,L),o.Z.scaleAndAdd(M.array,y,T,I),M)}}(),applyTransform:function(n){p.Z.add(this.direction,this.direction,this.origin),p.Z.transformMat4(this.origin,this.origin,n),p.Z.transformMat4(this.direction,this.direction,n),p.Z.sub(this.direction,this.direction,this.origin),p.Z.normalize(this.direction,this.direction)},copy:function(n){p.Z.copy(this.origin,n.origin),p.Z.copy(this.direction,n.direction)},clone:function(){var n=new r;return n.copy(this),n}},it.Z=r},38077:function(Dt,it,C){var p=C(97410),o=function(r,n){r=r||0,n=n||0,this.array=p.Z.fromValues(r,n),this._dirty=!0};if(o.prototype={constructor:o,add:function(r){return p.Z.add(this.array,this.array,r.array),this._dirty=!0,this},set:function(r,n){return this.array[0]=r,this.array[1]=n,this._dirty=!0,this},setArray:function(r){return this.array[0]=r[0],this.array[1]=r[1],this._dirty=!0,this},clone:function(){return new o(this.x,this.y)},copy:function(r){return p.Z.copy(this.array,r.array),this._dirty=!0,this},cross:function(r,n){return p.Z.cross(r.array,this.array,n.array),r._dirty=!0,this},dist:function(r){return p.Z.dist(this.array,r.array)},distance:function(r){return p.Z.distance(this.array,r.array)},div:function(r){return p.Z.div(this.array,this.array,r.array),this._dirty=!0,this},divide:function(r){return p.Z.divide(this.array,this.array,r.array),this._dirty=!0,this},dot:function(r){return p.Z.dot(this.array,r.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(r,n,e){return p.Z.lerp(this.array,r.array,n.array,e),this._dirty=!0,this},min:function(r){return p.Z.min(this.array,this.array,r.array),this._dirty=!0,this},max:function(r){return p.Z.max(this.array,this.array,r.array),this._dirty=!0,this},mul:function(r){return p.Z.mul(this.array,this.array,r.array),this._dirty=!0,this},multiply:function(r){return p.Z.multiply(this.array,this.array,r.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(r){return p.Z.random(this.array,r),this._dirty=!0,this},scale:function(r){return p.Z.scale(this.array,this.array,r),this._dirty=!0,this},scaleAndAdd:function(r,n){return p.Z.scaleAndAdd(this.array,this.array,r.array,n),this._dirty=!0,this},sqrDist:function(r){return p.Z.sqrDist(this.array,r.array)},squaredDistance:function(r){return p.Z.squaredDistance(this.array,r.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(r){return p.Z.sub(this.array,this.array,r.array),this._dirty=!0,this},subtract:function(r){return p.Z.subtract(this.array,this.array,r.array),this._dirty=!0,this},transformMat2:function(r){return p.Z.transformMat2(this.array,this.array,r.array),this._dirty=!0,this},transformMat2d:function(r){return p.Z.transformMat2d(this.array,this.array,r.array),this._dirty=!0,this},transformMat3:function(r){return p.Z.transformMat3(this.array,this.array,r.array),this._dirty=!0,this},transformMat4:function(r){return p.Z.transformMat4(this.array,this.array,r.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var t=o.prototype;Object.defineProperty(t,"x",{get:function(){return this.array[0]},set:function(r){this.array[0]=r,this._dirty=!0}}),Object.defineProperty(t,"y",{get:function(){return this.array[1]},set:function(r){this.array[1]=r,this._dirty=!0}})}o.add=function(r,n,e){return p.Z.add(r.array,n.array,e.array),r._dirty=!0,r},o.set=function(r,n,e){return p.Z.set(r.array,n,e),r._dirty=!0,r},o.copy=function(r,n){return p.Z.copy(r.array,n.array),r._dirty=!0,r},o.cross=function(r,n,e){return p.Z.cross(r.array,n.array,e.array),r._dirty=!0,r},o.dist=function(r,n){return p.Z.distance(r.array,n.array)},o.distance=o.dist,o.div=function(r,n,e){return p.Z.divide(r.array,n.array,e.array),r._dirty=!0,r},o.divide=o.div,o.dot=function(r,n){return p.Z.dot(r.array,n.array)},o.len=function(r){return p.Z.length(r.array)},o.lerp=function(r,n,e,s){return p.Z.lerp(r.array,n.array,e.array,s),r._dirty=!0,r},o.min=function(r,n,e){return p.Z.min(r.array,n.array,e.array),r._dirty=!0,r},o.max=function(r,n,e){return p.Z.max(r.array,n.array,e.array),r._dirty=!0,r},o.mul=function(r,n,e){return p.Z.multiply(r.array,n.array,e.array),r._dirty=!0,r},o.multiply=o.mul,o.negate=function(r,n){return p.Z.negate(r.array,n.array),r._dirty=!0,r},o.normalize=function(r,n){return p.Z.normalize(r.array,n.array),r._dirty=!0,r},o.random=function(r,n){return p.Z.random(r.array,n),r._dirty=!0,r},o.scale=function(r,n,e){return p.Z.scale(r.array,n.array,e),r._dirty=!0,r},o.scaleAndAdd=function(r,n,e,s){return p.Z.scaleAndAdd(r.array,n.array,e.array,s),r._dirty=!0,r},o.sqrDist=function(r,n){return p.Z.sqrDist(r.array,n.array)},o.squaredDistance=o.sqrDist,o.sqrLen=function(r){return p.Z.sqrLen(r.array)},o.squaredLength=o.sqrLen,o.sub=function(r,n,e){return p.Z.subtract(r.array,n.array,e.array),r._dirty=!0,r},o.subtract=o.sub,o.transformMat2=function(r,n,e){return p.Z.transformMat2(r.array,n.array,e.array),r._dirty=!0,r},o.transformMat2d=function(r,n,e){return p.Z.transformMat2d(r.array,n.array,e.array),r._dirty=!0,r},o.transformMat3=function(r,n,e){return p.Z.transformMat3(r.array,n.array,e.array),r._dirty=!0,r},o.transformMat4=function(r,n,e){return p.Z.transformMat4(r.array,n.array,e.array),r._dirty=!0,r},it.Z=o},14147:function(Dt,it,C){var p=C(3023),o=function(i,a,l){i=i||0,a=a||0,l=l||0,this.array=p.Z.fromValues(i,a,l),this._dirty=!0};o.prototype={constructor:o,add:function(i){return p.Z.add(this.array,this.array,i.array),this._dirty=!0,this},set:function(i,a,l){return this.array[0]=i,this.array[1]=a,this.array[2]=l,this._dirty=!0,this},setArray:function(i){return this.array[0]=i[0],this.array[1]=i[1],this.array[2]=i[2],this._dirty=!0,this},clone:function(){return new o(this.x,this.y,this.z)},copy:function(i){return p.Z.copy(this.array,i.array),this._dirty=!0,this},cross:function(i,a){return p.Z.cross(this.array,i.array,a.array),this._dirty=!0,this},dist:function(i){return p.Z.dist(this.array,i.array)},distance:function(i){return p.Z.distance(this.array,i.array)},div:function(i){return p.Z.div(this.array,this.array,i.array),this._dirty=!0,this},divide:function(i){return p.Z.divide(this.array,this.array,i.array),this._dirty=!0,this},dot:function(i){return p.Z.dot(this.array,i.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(i,a,l){return p.Z.lerp(this.array,i.array,a.array,l),this._dirty=!0,this},min:function(i){return p.Z.min(this.array,this.array,i.array),this._dirty=!0,this},max:function(i){return p.Z.max(this.array,this.array,i.array),this._dirty=!0,this},mul:function(i){return p.Z.mul(this.array,this.array,i.array),this._dirty=!0,this},multiply:function(i){return p.Z.multiply(this.array,this.array,i.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(i){return p.Z.random(this.array,i),this._dirty=!0,this},scale:function(i){return p.Z.scale(this.array,this.array,i),this._dirty=!0,this},scaleAndAdd:function(i,a){return p.Z.scaleAndAdd(this.array,this.array,i.array,a),this._dirty=!0,this},sqrDist:function(i){return p.Z.sqrDist(this.array,i.array)},squaredDistance:function(i){return p.Z.squaredDistance(this.array,i.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(i){return p.Z.sub(this.array,this.array,i.array),this._dirty=!0,this},subtract:function(i){return p.Z.subtract(this.array,this.array,i.array),this._dirty=!0,this},transformMat3:function(i){return p.Z.transformMat3(this.array,this.array,i.array),this._dirty=!0,this},transformMat4:function(i){return p.Z.transformMat4(this.array,this.array,i.array),this._dirty=!0,this},transformQuat:function(i){return p.Z.transformQuat(this.array,this.array,i.array),this._dirty=!0,this},applyProjection:function(i){var a=this.array;if(i=i.array,i[15]===0){var l=-1/a[2];a[0]=i[0]*a[0]*l,a[1]=i[5]*a[1]*l,a[2]=(i[10]*a[2]+i[14])*l}else a[0]=i[0]*a[0]+i[12],a[1]=i[5]*a[1]+i[13],a[2]=i[10]*a[2]+i[14];return this._dirty=!0,this},eulerFromQuat:function(i,a){o.eulerFromQuat(this,i,a)},eulerFromMat3:function(i,a){o.eulerFromMat3(this,i,a)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var t=Object.defineProperty;if(t){var r=o.prototype;t(r,"x",{get:function(){return this.array[0]},set:function(i){this.array[0]=i,this._dirty=!0}}),t(r,"y",{get:function(){return this.array[1]},set:function(i){this.array[1]=i,this._dirty=!0}}),t(r,"z",{get:function(){return this.array[2]},set:function(i){this.array[2]=i,this._dirty=!0}})}o.add=function(i,a,l){return p.Z.add(i.array,a.array,l.array),i._dirty=!0,i},o.set=function(i,a,l,_){p.Z.set(i.array,a,l,_),i._dirty=!0},o.copy=function(i,a){return p.Z.copy(i.array,a.array),i._dirty=!0,i},o.cross=function(i,a,l){return p.Z.cross(i.array,a.array,l.array),i._dirty=!0,i},o.dist=function(i,a){return p.Z.distance(i.array,a.array)},o.distance=o.dist,o.div=function(i,a,l){return p.Z.divide(i.array,a.array,l.array),i._dirty=!0,i},o.divide=o.div,o.dot=function(i,a){return p.Z.dot(i.array,a.array)},o.len=function(i){return p.Z.length(i.array)},o.lerp=function(i,a,l,_){return p.Z.lerp(i.array,a.array,l.array,_),i._dirty=!0,i},o.min=function(i,a,l){return p.Z.min(i.array,a.array,l.array),i._dirty=!0,i},o.max=function(i,a,l){return p.Z.max(i.array,a.array,l.array),i._dirty=!0,i},o.mul=function(i,a,l){return p.Z.multiply(i.array,a.array,l.array),i._dirty=!0,i},o.multiply=o.mul,o.negate=function(i,a){return p.Z.negate(i.array,a.array),i._dirty=!0,i},o.normalize=function(i,a){return p.Z.normalize(i.array,a.array),i._dirty=!0,i},o.random=function(i,a){return p.Z.random(i.array,a),i._dirty=!0,i},o.scale=function(i,a,l){return p.Z.scale(i.array,a.array,l),i._dirty=!0,i},o.scaleAndAdd=function(i,a,l,_){return p.Z.scaleAndAdd(i.array,a.array,l.array,_),i._dirty=!0,i},o.sqrDist=function(i,a){return p.Z.sqrDist(i.array,a.array)},o.squaredDistance=o.sqrDist,o.sqrLen=function(i){return p.Z.sqrLen(i.array)},o.squaredLength=o.sqrLen,o.sub=function(i,a,l){return p.Z.subtract(i.array,a.array,l.array),i._dirty=!0,i},o.subtract=o.sub,o.transformMat3=function(i,a,l){return p.Z.transformMat3(i.array,a.array,l.array),i._dirty=!0,i},o.transformMat4=function(i,a,l){return p.Z.transformMat4(i.array,a.array,l.array),i._dirty=!0,i},o.transformQuat=function(i,a,l){return p.Z.transformQuat(i.array,a.array,l.array),i._dirty=!0,i};function n(i,a,l){return i<a?a:i>l?l:i}var e=Math.atan2,s=Math.asin,h=Math.abs;o.eulerFromQuat=function(i,a,F){i._dirty=!0,a=a.array;var _=i.array,M=a[0],m=a[1],T=a[2],y=a[3],A=M*M,D=m*m,L=T*T,I=y*y,F=(F||"XYZ").toUpperCase();switch(F){case"XYZ":_[0]=e(2*(M*y-m*T),I-A-D+L),_[1]=s(n(2*(M*T+m*y),-1,1)),_[2]=e(2*(T*y-M*m),I+A-D-L);break;case"YXZ":_[0]=s(n(2*(M*y-m*T),-1,1)),_[1]=e(2*(M*T+m*y),I-A-D+L),_[2]=e(2*(M*m+T*y),I-A+D-L);break;case"ZXY":_[0]=s(n(2*(M*y+m*T),-1,1)),_[1]=e(2*(m*y-T*M),I-A-D+L),_[2]=e(2*(T*y-M*m),I-A+D-L);break;case"ZYX":_[0]=e(2*(M*y+T*m),I-A-D+L),_[1]=s(n(2*(m*y-M*T),-1,1)),_[2]=e(2*(M*m+T*y),I+A-D-L);break;case"YZX":_[0]=e(2*(M*y-T*m),I-A+D-L),_[1]=e(2*(m*y-M*T),I+A-D-L),_[2]=s(n(2*(M*m+T*y),-1,1));break;case"XZY":_[0]=e(2*(M*y+m*T),I-A+D-L),_[1]=e(2*(M*T+m*y),I+A-D-L),_[2]=s(n(2*(T*y-M*m),-1,1));break;default:console.warn("Unkown order: "+F)}return i},o.eulerFromMat3=function(i,a,O){var _=a.array,M=_[0],m=_[3],T=_[6],y=_[1],A=_[4],D=_[7],L=_[2],I=_[5],F=_[8],b=i.array,O=(O||"XYZ").toUpperCase();switch(O){case"XYZ":b[1]=s(n(T,-1,1)),h(T)<.99999?(b[0]=e(-D,F),b[2]=e(-m,M)):(b[0]=e(I,A),b[2]=0);break;case"YXZ":b[0]=s(-n(D,-1,1)),h(D)<.99999?(b[1]=e(T,F),b[2]=e(y,A)):(b[1]=e(-L,M),b[2]=0);break;case"ZXY":b[0]=s(n(I,-1,1)),h(I)<.99999?(b[1]=e(-L,F),b[2]=e(-m,A)):(b[1]=0,b[2]=e(y,M));break;case"ZYX":b[1]=s(-n(L,-1,1)),h(L)<.99999?(b[0]=e(I,F),b[2]=e(y,M)):(b[0]=0,b[2]=e(-m,A));break;case"YZX":b[2]=s(n(y,-1,1)),h(y)<.99999?(b[0]=e(-D,A),b[1]=e(-L,M)):(b[0]=0,b[1]=e(T,F));break;case"XZY":b[2]=s(-n(m,-1,1)),h(m)<.99999?(b[0]=e(I,A),b[1]=e(T,M)):(b[0]=e(-D,F),b[1]=0);break;default:console.warn("Unkown order: "+O)}return i._dirty=!0,i},Object.defineProperties(o,{POSITIVE_X:{get:function(){return new o(1,0,0)}},NEGATIVE_X:{get:function(){return new o(-1,0,0)}},POSITIVE_Y:{get:function(){return new o(0,1,0)}},NEGATIVE_Y:{get:function(){return new o(0,-1,0)}},POSITIVE_Z:{get:function(){return new o(0,0,1)}},NEGATIVE_Z:{get:function(){return new o(0,0,-1)}},UP:{get:function(){return new o(0,1,0)}},ZERO:{get:function(){return new o}}}),it.Z=o},60273:function(Dt,it,C){var p=C(39186),o=function(n,e,s,h){n=n||0,e=e||0,s=s||0,h=h||0,this.array=p.Z.fromValues(n,e,s,h),this._dirty=!0};o.prototype={constructor:o,add:function(n){return p.Z.add(this.array,this.array,n.array),this._dirty=!0,this},set:function(n,e,s,h){return this.array[0]=n,this.array[1]=e,this.array[2]=s,this.array[3]=h,this._dirty=!0,this},setArray:function(n){return this.array[0]=n[0],this.array[1]=n[1],this.array[2]=n[2],this.array[3]=n[3],this._dirty=!0,this},clone:function(){return new o(this.x,this.y,this.z,this.w)},copy:function(n){return p.Z.copy(this.array,n.array),this._dirty=!0,this},dist:function(n){return p.Z.dist(this.array,n.array)},distance:function(n){return p.Z.distance(this.array,n.array)},div:function(n){return p.Z.div(this.array,this.array,n.array),this._dirty=!0,this},divide:function(n){return p.Z.divide(this.array,this.array,n.array),this._dirty=!0,this},dot:function(n){return p.Z.dot(this.array,n.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(n,e,s){return p.Z.lerp(this.array,n.array,e.array,s),this._dirty=!0,this},min:function(n){return p.Z.min(this.array,this.array,n.array),this._dirty=!0,this},max:function(n){return p.Z.max(this.array,this.array,n.array),this._dirty=!0,this},mul:function(n){return p.Z.mul(this.array,this.array,n.array),this._dirty=!0,this},multiply:function(n){return p.Z.multiply(this.array,this.array,n.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(n){return p.Z.random(this.array,n),this._dirty=!0,this},scale:function(n){return p.Z.scale(this.array,this.array,n),this._dirty=!0,this},scaleAndAdd:function(n,e){return p.Z.scaleAndAdd(this.array,this.array,n.array,e),this._dirty=!0,this},sqrDist:function(n){return p.Z.sqrDist(this.array,n.array)},squaredDistance:function(n){return p.Z.squaredDistance(this.array,n.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(n){return p.Z.sub(this.array,this.array,n.array),this._dirty=!0,this},subtract:function(n){return p.Z.subtract(this.array,this.array,n.array),this._dirty=!0,this},transformMat4:function(n){return p.Z.transformMat4(this.array,this.array,n.array),this._dirty=!0,this},transformQuat:function(n){return p.Z.transformQuat(this.array,this.array,n.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var t=Object.defineProperty;if(t){var r=o.prototype;t(r,"x",{get:function(){return this.array[0]},set:function(n){this.array[0]=n,this._dirty=!0}}),t(r,"y",{get:function(){return this.array[1]},set:function(n){this.array[1]=n,this._dirty=!0}}),t(r,"z",{get:function(){return this.array[2]},set:function(n){this.array[2]=n,this._dirty=!0}}),t(r,"w",{get:function(){return this.array[3]},set:function(n){this.array[3]=n,this._dirty=!0}})}o.add=function(n,e,s){return p.Z.add(n.array,e.array,s.array),n._dirty=!0,n},o.set=function(n,e,s,h,i){p.Z.set(n.array,e,s,h,i),n._dirty=!0},o.copy=function(n,e){return p.Z.copy(n.array,e.array),n._dirty=!0,n},o.dist=function(n,e){return p.Z.distance(n.array,e.array)},o.distance=o.dist,o.div=function(n,e,s){return p.Z.divide(n.array,e.array,s.array),n._dirty=!0,n},o.divide=o.div,o.dot=function(n,e){return p.Z.dot(n.array,e.array)},o.len=function(n){return p.Z.length(n.array)},o.lerp=function(n,e,s,h){return p.Z.lerp(n.array,e.array,s.array,h),n._dirty=!0,n},o.min=function(n,e,s){return p.Z.min(n.array,e.array,s.array),n._dirty=!0,n},o.max=function(n,e,s){return p.Z.max(n.array,e.array,s.array),n._dirty=!0,n},o.mul=function(n,e,s){return p.Z.multiply(n.array,e.array,s.array),n._dirty=!0,n},o.multiply=o.mul,o.negate=function(n,e){return p.Z.negate(n.array,e.array),n._dirty=!0,n},o.normalize=function(n,e){return p.Z.normalize(n.array,e.array),n._dirty=!0,n},o.random=function(n,e){return p.Z.random(n.array,e),n._dirty=!0,n},o.scale=function(n,e,s){return p.Z.scale(n.array,e.array,s),n._dirty=!0,n},o.scaleAndAdd=function(n,e,s,h){return p.Z.scaleAndAdd(n.array,e.array,s.array,h),n._dirty=!0,n},o.sqrDist=function(n,e){return p.Z.sqrDist(n.array,e.array)},o.squaredDistance=o.sqrDist,o.sqrLen=function(n){return p.Z.sqrLen(n.array)},o.squaredLength=o.sqrLen,o.sub=function(n,e,s){return p.Z.subtract(n.array,e.array,s.array),n._dirty=!0,n},o.subtract=o.sub,o.transformMat4=function(n,e,s){return p.Z.transformMat4(n.array,e.array,s.array),n._dirty=!0,n},o.transformQuat=function(n,e,s){return p.Z.transformQuat(n.array,e.array,s.array),n._dirty=!0,n},it.Z=o},14983:function(Dt,it){var C={};C.isPowerOfTwo=function(p){return(p&p-1)===0},C.nextPowerOfTwo=function(p){return p--,p|=p>>1,p|=p>>2,p|=p>>4,p|=p>>8,p|=p>>16,p++,p},C.nearestPowerOfTwo=function(p){return Math.pow(2,Math.round(Math.log(p)/Math.LN2))},it.Z=C},20739:function(Dt,it,C){var p=C(85038),o=C(76867),t=C(38077),r=C(14147),n=C(49865),e=C(38934),s=C(23044),h=C(3023),i=p.Z.extend({scene:null,camera:null,renderer:null},function(){this._ray=new o.Z,this._ndc=new t.Z},{pick:function(a,l,_){var M=this.pickAll(a,l,[],_);return M[0]||null},pickAll:function(a,l,_,M){return this.renderer.screenToNDC(a,l,this._ndc),this.camera.castRay(this._ndc,this._ray),_=_||[],this._intersectNode(this.scene,_,M||!1),_.sort(this._intersectionCompareFunc),_},_intersectNode:function(a,l,_){a instanceof e.Z&&a.isRenderable()&&(!a.ignorePicking||_)&&(a.mode===s.Z.TRIANGLES&&a.geometry.isUseIndices()||a.geometry.pickByRay||a.geometry.pick)&&this._intersectRenderable(a,l);for(var M=0;M<a._children.length;M++)this._intersectNode(a._children[M],l,_)},_intersectRenderable:function(){var a=new r.Z,l=new r.Z,_=new r.Z,M=new o.Z,m=new n.Z;return function(T,y){var A=T.isSkinnedMesh();M.copy(this._ray),n.Z.invert(m,T.worldTransform),A||M.applyTransform(m);var D=T.geometry,L=A?T.skeleton.boundingBox:D.boundingBox;if(!(L&&!M.intersectBoundingBox(L))){if(D.pick){D.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,T,y);return}else if(D.pickByRay){D.pickByRay(M,T,y);return}var I=T.cullFace===s.Z.BACK&&T.frontFace===s.Z.CCW||T.cullFace===s.Z.FRONT&&T.frontFace===s.Z.CW,F,b=D.indices,O=D.attributes.position,P=D.attributes.weight,E=D.attributes.joint,c,f=[];if(!(!O||!O.value||!b)){if(A){c=T.skeleton.getSubSkinMatrices(T.__uid__,T.joints);for(var u=0;u<T.joints.length;u++){f[u]=f[u]||[];for(var d=0;d<16;d++)f[u][d]=c[u*16+d]}var v=[],g=[],R=[],x=[],w=[],Z=D.attributes.skinnedPosition;(!Z||!Z.value)&&(D.createAttribute("skinnedPosition","f",3),Z=D.attributes.skinnedPosition,Z.init(D.vertexCount));for(var u=0;u<D.vertexCount;u++){O.get(u,v),P.get(u,g),E.get(u,R),g[3]=1-g[0]-g[1]-g[2],h.Z.set(x,0,0,0);for(var d=0;d<4;d++)R[d]>=0&&g[d]>1e-4&&(h.Z.transformMat4(w,v,f[R[d]]),h.Z.scaleAndAdd(x,x,w,g[d]));Z.set(u,x)}}for(var u=0;u<b.length;u+=3){var N=b[u],G=b[u+1],K=b[u+2],J=A?D.attributes.skinnedPosition:O;if(J.get(N,a.array),J.get(G,l.array),J.get(K,_.array),I?F=M.intersectTriangle(a,l,_,T.culling):F=M.intersectTriangle(a,_,l,T.culling),F){var U=new r.Z;A?r.Z.copy(U,F):r.Z.transformMat4(U,F,T.worldTransform),y.push(new i.Intersection(F,U,T,[N,G,K],u/3,r.Z.dist(U,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(a,l){return a.distance-l.distance}});i.Intersection=function(a,l,_,M,m,T){this.point=a,this.pointWorld=l,this.target=_,this.triangle=M,this.triangleIndex=m,this.distance=T},it.Z=i},43484:function(Dt,it,C){C.d(it,{Z:function(){return a}});var p=C(30420),o=C(99439),t=C(60217),r=C(84708),n=C(88693),e=C(18850),s=C(49865),h=`@export clay.skybox.vertex
#define SHADER_NAME skybox
uniform mat4 world : WORLD;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
varying vec3 v_WorldPosition;
void main()
{
 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end
@export clay.skybox.fragment
#define PI 3.1415926
uniform mat4 viewInverse : VIEWINVERSE;
#ifdef EQUIRECTANGULAR
uniform sampler2D environmentMap;
#else
uniform samplerCube environmentMap;
#endif
uniform float lod: 0.0;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
@import clay.util.srgb
@import clay.util.ACES
void main()
{
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
#ifdef EQUIRECTANGULAR
 float phi = acos(V.y);
 float theta = atan(-V.x, V.z) + PI * 0.5;
 vec2 uv = vec2(theta / 2.0 / PI, phi / PI);
 vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));
#else
 #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)
 vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));
 #else
 vec4 texel = decodeHDR(textureCube(environmentMap, V));
 #endif
#endif
#ifdef SRGB_DECODE
 texel = sRGBToLinear(texel);
#endif
#ifdef TONEMAPPING
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
#ifdef SRGB_ENCODE
 texel = linearTosRGB(texel);
#endif
 gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));
}
@end`;t.Z.import(h);var i=p.Z.extend(function(){var l=new t.Z({vertex:t.Z.source("clay.skybox.vertex"),fragment:t.Z.source("clay.skybox.fragment")}),_=new r.Z({shader:l,depthMask:!1});return{scene:null,geometry:new o.Z,material:_,environmentMap:null,culling:!1,_dummyCamera:new e.Z}},function(){var l=this.scene;l&&this.attachScene(l),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(l){this.scene&&this.detachScene(),l.skybox=this,this.scene=l,l.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(l){this.detachScene(),this.geometry.dispose(l)},setEnvironmentMap:function(l){l.textureType==="texture2D"?(this.material.define("EQUIRECTANGULAR"),l.minFilter=n.Z.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",l)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(l,_,M){this.renderSkybox(l,M)},renderSkybox:function(l,_){var M=this._dummyCamera;M.aspect=l.getViewportAspect(),M.fov=_.fov||50,M.updateProjectionMatrix(),s.Z.invert(M.invProjectionMatrix,M.projectionMatrix),M.worldTransform.copy(_.worldTransform),M.viewMatrix.copy(_.viewMatrix),this.position.copy(_.getWorldPosition()),this.update(),l.gl.disable(l.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),l.renderPass([this],M)}}),a=i},74738:function(Dt,it,C){var p=C(43484);it.Z=p.Z},56076:function(Dt,it,C){var p=C(85038),o=C(14147),t=C(18850),r=C(76728),n=["px","nx","py","ny","pz","nz"],e=p.Z.extend(function(){var s={position:new o.Z,far:1e3,near:.1,texture:null,shadowMapPass:null},h=s._cameras={px:new t.Z({fov:90}),nx:new t.Z({fov:90}),py:new t.Z({fov:90}),ny:new t.Z({fov:90}),pz:new t.Z({fov:90}),nz:new t.Z({fov:90})};return h.px.lookAt(o.Z.POSITIVE_X,o.Z.NEGATIVE_Y),h.nx.lookAt(o.Z.NEGATIVE_X,o.Z.NEGATIVE_Y),h.py.lookAt(o.Z.POSITIVE_Y,o.Z.POSITIVE_Z),h.ny.lookAt(o.Z.NEGATIVE_Y,o.Z.NEGATIVE_Z),h.pz.lookAt(o.Z.POSITIVE_Z,o.Z.NEGATIVE_Y),h.nz.lookAt(o.Z.NEGATIVE_Z,o.Z.NEGATIVE_Y),s._frameBuffer=new r.Z,s},{getCamera:function(s){return this._cameras[s]},render:function(s,h,i){var a=s.gl;i||h.update();for(var l=this.texture.width,_=2*Math.atan(l/(l-.5))/Math.PI*180,M=0;M<6;M++){var m=n[M],T=this._cameras[m];if(o.Z.copy(T.position,this.position),T.far=this.far,T.near=this.near,T.fov=_,this.shadowMapPass){T.update();var y=h.getBoundingBox();y.applyTransform(T.viewMatrix),h.viewBoundingBoxLastFrame.copy(y),this.shadowMapPass.render(s,h,T,!0)}this._frameBuffer.attach(this.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+M),this._frameBuffer.bind(s),s.render(h,T,!0),this._frameBuffer.unbind(s)}},dispose:function(s){this._frameBuffer.dispose(s)}});it.Z=e},79908:function(Dt,it,C){C.d(it,{Z:function(){return P}});var p=C(85038),o=C(23044),t=C(14147),r=C(37233),n=C(88908),e=C(49865),s=C(17103),h=C(60217),i=C(84708),a=C(76728),l=C(88693),_=C(75142),M=C(5847),m=C(18850),T=C(95347),y=C(80785),A=C(9904),D=C(85822),L=`@export clay.sm.depth.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
uniform vec2 uvRepeat = vec2(1.0, 1.0);
uniform vec2 uvOffset = vec2(0.0, 0.0);
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
void main(){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 v_ViewPosition = worldViewProjection * P;
 gl_Position = v_ViewPosition;
 v_Texcoord = texcoord * uvRepeat + uvOffset;
}
@end
@export clay.sm.depth.fragment
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
uniform float bias : 0.001;
uniform float slopeScale : 1.0;
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
@import clay.util.encode_float
void main(){
 float depth = v_ViewPosition.z / v_ViewPosition.w;
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
#ifdef USE_VSM
 depth = depth * 0.5 + 0.5;
 float moment1 = depth;
 float moment2 = depth * depth;
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 moment2 += 0.25*(dx*dx+dy*dy);
 #endif
 gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);
#else
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;
 #else
 depth += bias;
 #endif
 gl_FragColor = encodeFloat(depth * 0.5 + 0.5);
#endif
}
@end
@export clay.sm.debug_depth
uniform sampler2D depthMap;
varying vec2 v_Texcoord;
@import clay.util.decode_float
void main() {
 vec4 tex = texture2D(depthMap, v_Texcoord);
#ifdef USE_VSM
 gl_FragColor = vec4(tex.rgb, 1.0);
#else
 float depth = decodeFloat(tex);
 gl_FragColor = vec4(depth, depth, depth, 1.0);
#endif
}
@end
@export clay.sm.distance.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 world : WORLD;
attribute vec3 position : POSITION;
@import clay.chunk.skinning_header
varying vec3 v_WorldPosition;
void main (){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = worldViewProjection * P;
 v_WorldPosition = (world * P).xyz;
}
@end
@export clay.sm.distance.fragment
uniform vec3 lightPosition;
uniform float range : 100;
varying vec3 v_WorldPosition;
@import clay.util.encode_float
void main(){
 float dist = distance(lightPosition, v_WorldPosition);
#ifdef USE_VSM
 gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);
#else
 dist = dist / range;
 gl_FragColor = encodeFloat(dist);
#endif
}
@end
@export clay.plugin.shadow_map_common
@import clay.util.decode_float
float tapShadowMap(sampler2D map, vec2 uv, float z){
 vec4 tex = texture2D(map, uv);
 return step(z, decodeFloat(tex) * 2.0 - 1.0);
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {
 float shadowContrib = tapShadowMap(map, uv, z);
 vec2 offset = vec2(1.0 / textureSize) * scale;
#ifdef PCF_KERNEL_SIZE
 for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{
 shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);
 }}
 return shadowContrib / float(PCF_KERNEL_SIZE + 1);
#else
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);
 return shadowContrib / 9.0;
#endif
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize) {
 return pcf(map, uv, z, textureSize, vec2(1.0));
}
float chebyshevUpperBound(vec2 moments, float z){
 float p = 0.0;
 z = z * 0.5 + 0.5;
 if (z <= moments.x) {
 p = 1.0;
 }
 float variance = moments.y - moments.x * moments.x;
 variance = max(variance, 0.0000001);
 float mD = moments.x - z;
 float pMax = variance / (variance + mD * mD);
 pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);
 return max(p, pMax);
}
float computeShadowContrib(
 sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset
) {
 vec4 posInLightSpace = lightVPM * vec4(position, 1.0);
 posInLightSpace.xyz /= posInLightSpace.w;
 float z = posInLightSpace.z;
 if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&
 all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){
 vec2 uv = (posInLightSpace.xy+1.0) / 2.0;
 #ifdef USE_VSM
 vec2 moments = texture2D(map, uv * scale + offset).xy;
 return chebyshevUpperBound(moments, z);
 #else
 return pcf(map, uv * scale + offset, z, textureSize, scale);
 #endif
 }
 return 1.0;
}
float computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {
 return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));
}
float computeShadowContribOmni(samplerCube map, vec3 direction, float range)
{
 float dist = length(direction);
 vec4 shadowTex = textureCube(map, direction);
#ifdef USE_VSM
 vec2 moments = shadowTex.xy;
 float variance = moments.y - moments.x * moments.x;
 float mD = moments.x - dist;
 float p = variance / (variance + mD * mD);
 if(moments.x + 0.001 < dist){
 return clamp(p, 0.0, 1.0);
 }else{
 return 1.0;
 }
#else
 return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);
#endif
}
@end
@export clay.plugin.compute_shadow_map
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)
#ifdef SPOT_LIGHT_SHADOWMAP_COUNT
uniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT
#if defined(SHADOW_CASCADE)
uniform sampler2D directionalLightShadowMaps[1]:unconfigurable;
uniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;
uniform float directionalLightShadowMapSizes[1]:unconfigurable;
uniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;
uniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;
#else
uniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#endif
#ifdef POINT_LIGHT_SHADOWMAP_COUNT
uniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
uniform bool shadowEnabled : true;
#ifdef PCF_KERNEL_SIZE
uniform vec2 pcfKernel[PCF_KERNEL_SIZE];
#endif
@import clay.plugin.shadow_map_common
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,
 spotLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
#ifdef SHADOW_CASCADE
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)
 / (gl_DepthRange.far - gl_DepthRange.near);
 float shadowContrib;
 shadowContribs[0] = 1.0;
 for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{
 if (
 depth >= shadowCascadeClipsNear[_idx_] &&
 depth <= shadowCascadeClipsFar[_idx_]
 ) {
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[0],
 vec2(1.0 / float(SHADOW_CASCADE), 1.0),
 vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)
 );
 shadowContribs[0] = shadowContrib;
 }
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#else
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
#if defined(POINT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){
 vec3 lightPosition;
 vec3 direction;
 for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 lightPosition = pointLightPosition[_idx_];
 direction = position - lightPosition;
 shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);
 }}
 for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
@end`,I=["px","nx","py","ny","pz","nz"];h.Z.import(L);function F(E,c,f){if(f==="alphaMap")return E.material.get("diffuseMap");if(f==="alphaCutoff"){if(E.material.isDefined("fragment","ALPHA_TEST")&&E.material.get("diffuseMap")){var u=E.material.get("alphaCutoff");return u||0}return 0}else return f==="uvRepeat"?E.material.get("uvRepeat"):f==="uvOffset"?E.material.get("uvOffset"):c.get(f)}function b(E,c){var f=E.material,u=c.material;return f.get("diffuseMap")!==u.get("diffuseMap")||(f.get("alphaCutoff")||0)!==(u.get("alphaCutoff")||0)}var O=p.Z.extend(function(){return{softShadow:O.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new a.Z,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new A.Z}},function(){this._gaussianPassH=new y.Z({fragment:h.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new y.Z({fragment:h.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new y.Z({fragment:h.Z.source("clay.sm.debug_depth")})},{render:function(E,c,f,u){f||(f=c.getMainCamera()),this.trigger("beforerender",this,E,c,f),this._renderShadowPass(E,c,f,u),this.trigger("afterrender",this,E,c,f)},renderDebug:function(E,c){E.saveClear();var f=E.viewport,u=0,d=0,v=c||f.width/4,g=v;this.softShadow===O.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM");for(var R in this._textures){var x=this._textures[R];E.setViewport(u,d,v*x.width/x.height,g),this._outputDepthPass.setUniform("depthMap",x),this._outputDepthPass.render(E),u+=v*x.width/x.height}E.setViewport(f),E.restoreClear()},_updateReceivers:function(E,c){if(c.receiveShadow?(this._receivers.push(c),c.material.set("shadowEnabled",1),c.material.set("pcfKernel",this.kernelPCF)):c.material.set("shadowEnabled",0),this.softShadow===O.VSM)c.material.define("fragment","USE_VSM"),c.material.undefine("fragment","PCF_KERNEL_SIZE");else{c.material.undefine("fragment","USE_VSM");var f=this.kernelPCF;f&&f.length?c.material.define("fragment","PCF_KERNEL_SIZE",f.length/2):c.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(E,c){var f=this;c.traverse(function(v){v.isRenderable()&&f._updateReceivers(E,v)});for(var u=0;u<c.lights.length;u++){var d=c.lights[u];d.castShadow&&!d.invisible&&this._lightsCastShadow.push(d)}},_renderShadowPass:function(E,c,f,u){for(var d in this._shadowMapNumber)this._shadowMapNumber[d]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var v=E.gl;if(u||c.update(),f&&f.update(),c.updateLights(),this._update(E,c),!this._lightsCastShadow.length&&this._lastRenderNotCastShadow)return;this._lastRenderNotCastShadow=this._lightsCastShadow===0,v.enable(v.DEPTH_TEST),v.depthMask(!0),v.disable(v.BLEND),v.clearColor(1,1,1,1);for(var g=[],R=[],x=[],w=[],Z=[],N=[],G,K=0;K<this._lightsCastShadow.length;K++){var J=this._lightsCastShadow[K];if(J.type==="DIRECTIONAL_LIGHT"){if(G){console.warn("Only one direectional light supported with shadow cascade");continue}if(J.shadowCascade>4){console.warn("Support at most 4 cascade");continue}J.shadowCascade>1&&(G=J),this.renderDirectionalLightShadow(E,c,f,J,Z,w,x)}else J.type==="SPOT_LIGHT"?this.renderSpotLightShadow(E,c,J,R,g):J.type==="POINT_LIGHT"&&this.renderPointLightShadow(E,c,J,N);this._shadowMapNumber[J.type]++}for(var U in this._shadowMapNumber)for(var H=this._shadowMapNumber[U],V=U+"_SHADOWMAP_COUNT",K=0;K<this._receivers.length;K++){var S=this._receivers[K],W=S.material;W.fragmentDefines[V]!==H&&(H>0?W.define("fragment",V,H):W.isDefined("fragment",V)&&W.undefine("fragment",V))}for(var K=0;K<this._receivers.length;K++){var S=this._receivers[K],W=S.material;G?W.define("fragment","SHADOW_CASCADE",G.shadowCascade):W.undefine("fragment","SHADOW_CASCADE")}var B=c.shadowUniforms;function X(at){return at.height}if(x.length>0){var Y=x.map(X);if(B.directionalLightShadowMaps={value:x,type:"tv"},B.directionalLightMatrices={value:w,type:"m4v"},B.directionalLightShadowMapSizes={value:Y,type:"1fv"},G){var et=Z.slice(),z=Z.slice();et.pop(),z.shift(),et.reverse(),z.reverse(),w.reverse(),B.shadowCascadeClipsNear={value:et,type:"1fv"},B.shadowCascadeClipsFar={value:z,type:"1fv"}}}if(g.length>0){var k=g.map(X),B=c.shadowUniforms;B.spotLightShadowMaps={value:g,type:"tv"},B.spotLightMatrices={value:R,type:"m4v"},B.spotLightShadowMapSizes={value:k,type:"1fv"}}N.length>0&&(B.pointLightShadowMaps={value:N,type:"tv"})},renderDirectionalLightShadow:function(){var E=new n.Z,c=new e.Z,f=new r.Z,u=new e.Z,d=new e.Z,v=new e.Z,g=new e.Z;return function(R,x,w,Z,N,G,K){var J=this._getDepthMaterial(Z),U={getMaterial:function(St){return St.shadowDepthMaterial||J},isMaterialChanged:b,getUniform:F,ifRender:function(St){return St.castShadow},sortCompare:s.Z.opaqueSortCompare};if(!x.viewBoundingBoxLastFrame.isFinite()){var H=x.getBoundingBox();x.viewBoundingBoxLastFrame.copy(H).applyTransform(w.viewMatrix)}var V=Math.min(-x.viewBoundingBoxLastFrame.min.z,w.far),S=Math.max(-x.viewBoundingBoxLastFrame.max.z,w.near),W=this._getDirectionalLightCamera(Z,x,w),B=v.array;g.copy(W.projectionMatrix),D.Z.invert(d.array,W.worldTransform.array),D.Z.multiply(d.array,d.array,w.worldTransform.array),D.Z.multiply(B,g.array,d.array);for(var X=[],Y=w instanceof m.Z,et=(w.near+w.far)/(w.near-w.far),z=2*w.near*w.far/(w.near-w.far),k=0;k<=Z.shadowCascade;k++){var at=S*Math.pow(V/S,k/Z.shadowCascade),ft=S+(V-S)*k/Z.shadowCascade,_t=at*Z.cascadeSplitLogFactor+ft*(1-Z.cascadeSplitLogFactor);X.push(_t),N.push(-(-_t*et+z)/-_t)}var tt=this._getTexture(Z,Z.shadowCascade);K.push(tt);var rt=R.viewport,ut=R.gl;this._frameBuffer.attach(tt),this._frameBuffer.bind(R),ut.clear(ut.COLOR_BUFFER_BIT|ut.DEPTH_BUFFER_BIT);for(var k=0;k<Z.shadowCascade;k++){var ct=X[k],st=X[k+1];Y?D.Z.perspective(c.array,w.fov/180*Math.PI,w.aspect,ct,st):D.Z.ortho(c.array,w.left,w.right,w.bottom,w.top,ct,st),E.setFromProjection(c),E.getTransformedBoundingBox(f,d),f.applyProjection(g);var dt=f.min.array,ht=f.max.array;dt[0]=Math.max(dt[0],-1),dt[1]=Math.max(dt[1],-1),ht[0]=Math.min(ht[0],1),ht[1]=Math.min(ht[1],1),u.ortho(dt[0],ht[0],dt[1],ht[1],1,-1),W.projectionMatrix.multiplyLeft(u);var xt=Z.shadowResolution||512;R.setViewport((Z.shadowCascade-k-1)*xt,0,xt,xt,1);var Rt=x.updateRenderList(W);R.renderPass(Rt.opaque,W,U),this.softShadow===O.VSM&&this._gaussianFilter(R,tt,tt.width);var mt=new e.Z;mt.copy(W.viewMatrix).multiplyLeft(W.projectionMatrix),G.push(mt.array),W.projectionMatrix.copy(g)}this._frameBuffer.unbind(R),R.setViewport(rt)}}(),renderSpotLightShadow:function(E,c,f,u,d){var v=this._getTexture(f),g=this._getSpotLightCamera(f),R=E.gl;this._frameBuffer.attach(v),this._frameBuffer.bind(E),R.clear(R.COLOR_BUFFER_BIT|R.DEPTH_BUFFER_BIT);var x=this._getDepthMaterial(f),w={getMaterial:function(G){return G.shadowDepthMaterial||x},isMaterialChanged:b,getUniform:F,ifRender:function(G){return G.castShadow},sortCompare:s.Z.opaqueSortCompare},Z=c.updateRenderList(g);E.renderPass(Z.opaque,g,w),this._frameBuffer.unbind(E),this.softShadow===O.VSM&&this._gaussianFilter(E,v,v.width);var N=new e.Z;N.copy(g.worldTransform).invert().multiplyLeft(g.projectionMatrix),d.push(v),u.push(N.array)},renderPointLightShadow:function(E,c,f,u){var d=this._getTexture(f),v=E.gl;u.push(d);var g=this._getDepthMaterial(f),R={getMaterial:function(S){return S.shadowDepthMaterial||g},getUniform:F,sortCompare:s.Z.opaqueSortCompare},x={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},w=new r.Z,Z=f.getWorldPosition().array,N=new r.Z,G=f.range;N.min.setArray(Z),N.max.setArray(Z);var K=new t.Z(G,G,G);N.max.add(K),N.min.sub(K);var J={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};c.traverse(function(S){if(S.isRenderable()&&S.castShadow){var W=S.geometry;if(!W.boundingBox){for(var B=0;B<I.length;B++)x[I[B]].push(S);return}if(w.transformFrom(W.boundingBox,S.worldTransform),!w.intersectBoundingBox(N))return;w.updateVertices();for(var B=0;B<I.length;B++)J[I[B]]=!1;for(var B=0;B<8;B++){var X=w.vertices[B],Y=X[0]-Z[0],et=X[1]-Z[1],z=X[2]-Z[2],k=Math.abs(Y),at=Math.abs(et),ft=Math.abs(z);k>at?k>ft?J[Y>0?"px":"nx"]=!0:J[z>0?"pz":"nz"]=!0:at>ft?J[et>0?"py":"ny"]=!0:J[z>0?"pz":"nz"]=!0}for(var B=0;B<I.length;B++)J[I[B]]&&x[I[B]].push(S)}});for(var U=0;U<6;U++){var H=I[U],V=this._getPointLightCamera(f,H);this._frameBuffer.attach(d,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+U),this._frameBuffer.bind(E),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT),E.renderPass(x[H],V,R)}this._frameBuffer.unbind(E)},_getDepthMaterial:function(E){var c=this._lightMaterials[E.__uid__],f=E.type==="POINT_LIGHT";if(!c){var u=f?"clay.sm.distance.":"clay.sm.depth.";c=new i.Z({precision:this.precision,shader:new h.Z(h.Z.source(u+"vertex"),h.Z.source(u+"fragment"))}),this._lightMaterials[E.__uid__]=c}return E.shadowSlopeScale!=null&&c.setUniform("slopeScale",E.shadowSlopeScale),E.shadowBias!=null&&c.setUniform("bias",E.shadowBias),this.softShadow===O.VSM?c.define("fragment","USE_VSM"):c.undefine("fragment","USE_VSM"),f&&(c.set("lightPosition",E.getWorldPosition().array),c.set("range",E.range)),c},_gaussianFilter:function(E,c,f){var u={width:f,height:f,type:l.Z.FLOAT},d=this._texturePool.get(u);this._frameBuffer.attach(d),this._frameBuffer.bind(E),this._gaussianPassH.setUniform("texture",c),this._gaussianPassH.setUniform("textureWidth",f),this._gaussianPassH.render(E),this._frameBuffer.attach(c),this._gaussianPassV.setUniform("texture",d),this._gaussianPassV.setUniform("textureHeight",f),this._gaussianPassV.render(E),this._frameBuffer.unbind(E),this._texturePool.put(d)},_getTexture:function(E,c){var f=E.__uid__,u=this._textures[f],d=E.shadowResolution||512;return c=c||1,u||(E.type==="POINT_LIGHT"?u=new M.Z:u=new _.Z,u.width=d*c,u.height=d,this.softShadow===O.VSM?(u.type=l.Z.FLOAT,u.anisotropic=4):(u.minFilter=o.Z.NEAREST,u.magFilter=o.Z.NEAREST,u.useMipmap=!1),this._textures[f]=u),u},_getPointLightCamera:function(E,c){this._lightCameras.point||(this._lightCameras.point={px:new m.Z,nx:new m.Z,py:new m.Z,ny:new m.Z,pz:new m.Z,nz:new m.Z});var f=this._lightCameras.point[c];switch(f.far=E.range,f.fov=90,f.position.set(0,0,0),c){case"px":f.lookAt(t.Z.POSITIVE_X,t.Z.NEGATIVE_Y);break;case"nx":f.lookAt(t.Z.NEGATIVE_X,t.Z.NEGATIVE_Y);break;case"py":f.lookAt(t.Z.POSITIVE_Y,t.Z.POSITIVE_Z);break;case"ny":f.lookAt(t.Z.NEGATIVE_Y,t.Z.NEGATIVE_Z);break;case"pz":f.lookAt(t.Z.POSITIVE_Z,t.Z.NEGATIVE_Y);break;case"nz":f.lookAt(t.Z.NEGATIVE_Z,t.Z.NEGATIVE_Y);break}return E.getWorldPosition(f.position),f.update(),f},_getDirectionalLightCamera:function(){var E=new e.Z,c=new r.Z,f=new r.Z;return function(u,d,v){this._lightCameras.directional||(this._lightCameras.directional=new T.Z);var g=this._lightCameras.directional;c.copy(d.viewBoundingBoxLastFrame),c.intersection(v.frustum.boundingBox),g.position.copy(c.min).add(c.max).scale(.5).transformMat4(v.worldTransform),g.rotation.copy(u.rotation),g.scale.copy(u.scale),g.updateWorldTransform(),e.Z.invert(E,g.worldTransform),e.Z.multiply(E,E,v.worldTransform),f.copy(c).applyTransform(E);var R=f.min.array,x=f.max.array;return g.position.set((R[0]+x[0])/2,(R[1]+x[1])/2,x[2]).transformMat4(g.worldTransform),g.near=0,g.far=-R[2]+x[2],isNaN(this.lightFrustumBias)?g.far*=4:g.far+=this.lightFrustumBias,g.left=R[0],g.right=x[0],g.top=x[1],g.bottom=R[1],g.update(!0),g}}(),_getSpotLightCamera:function(E){this._lightCameras.spot||(this._lightCameras.spot=new m.Z);var c=this._lightCameras.spot;return c.fov=E.penumbraAngle*2,c.far=E.range,c.worldTransform.copy(E.worldTransform),c.updateProjectionMatrix(),D.Z.invert(c.viewMatrix.array,c.worldTransform.array),c},dispose:function(E){var c=E.gl||E;this._frameBuffer&&this._frameBuffer.dispose(c);for(var f in this._textures)this._textures[f].dispose(c);this._texturePool.clear(E.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var u=0;u<this._receivers.length;u++){var d=this._receivers[u];if(d.material){var v=d.material;v.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),v.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),v.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),v.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});O.VSM=1,O.PCF=2;var P=O},34725:function(Dt,it){it.Z=`@export clay.compositor.blend
#define SHADER_NAME blend
#ifdef TEXTURE1_ENABLED
uniform sampler2D texture1;
uniform float weight1 : 1.0;
#endif
#ifdef TEXTURE2_ENABLED
uniform sampler2D texture2;
uniform float weight2 : 1.0;
#endif
#ifdef TEXTURE3_ENABLED
uniform sampler2D texture3;
uniform float weight3 : 1.0;
#endif
#ifdef TEXTURE4_ENABLED
uniform sampler2D texture4;
uniform float weight4 : 1.0;
#endif
#ifdef TEXTURE5_ENABLED
uniform sampler2D texture5;
uniform float weight5 : 1.0;
#endif
#ifdef TEXTURE6_ENABLED
uniform sampler2D texture6;
uniform float weight6 : 1.0;
#endif
varying vec2 v_Texcoord;
@import clay.util.rgbm
void main()
{
 vec4 tex = vec4(0.0);
#ifdef TEXTURE1_ENABLED
 tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;
#endif
#ifdef TEXTURE2_ENABLED
 tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;
#endif
#ifdef TEXTURE3_ENABLED
 tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;
#endif
#ifdef TEXTURE4_ENABLED
 tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;
#endif
#ifdef TEXTURE5_ENABLED
 tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;
#endif
#ifdef TEXTURE6_ENABLED
 tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;
#endif
 gl_FragColor = encodeHDR(tex);
}
@end`},71364:function(Dt,it){it.Z=`@export clay.compositor.kernel.gaussian_9
float gaussianKernel[9];
gaussianKernel[0] = 0.07;
gaussianKernel[1] = 0.09;
gaussianKernel[2] = 0.12;
gaussianKernel[3] = 0.14;
gaussianKernel[4] = 0.16;
gaussianKernel[5] = 0.14;
gaussianKernel[6] = 0.12;
gaussianKernel[7] = 0.09;
gaussianKernel[8] = 0.07;
@end
@export clay.compositor.kernel.gaussian_13
float gaussianKernel[13];
gaussianKernel[0] = 0.02;
gaussianKernel[1] = 0.03;
gaussianKernel[2] = 0.06;
gaussianKernel[3] = 0.08;
gaussianKernel[4] = 0.11;
gaussianKernel[5] = 0.13;
gaussianKernel[6] = 0.14;
gaussianKernel[7] = 0.13;
gaussianKernel[8] = 0.11;
gaussianKernel[9] = 0.08;
gaussianKernel[10] = 0.06;
gaussianKernel[11] = 0.03;
gaussianKernel[12] = 0.02;
@end
@export clay.compositor.gaussian_blur
#define SHADER_NAME gaussian_blur
uniform sampler2D texture;varying vec2 v_Texcoord;
uniform float blurSize : 2.0;
uniform vec2 textureSize : [512.0, 512.0];
uniform float blurDir : 0.0;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main (void)
{
 @import clay.compositor.kernel.gaussian_9
 vec2 off = blurSize / textureSize;
 off *= vec2(1.0 - blurDir, blurDir);
 vec4 sum = vec4(0.0);
 float weightAll = 0.0;
 for (int i = 0; i < 9; i++) {
 float w = gaussianKernel[i];
 vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));
 sum += texel * w;
 weightAll += w;
 }
 gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));
}
@end
`},61430:function(Dt,it){it.Z=`@export clay.compositor.bright
uniform sampler2D texture;
uniform float threshold : 1;
uniform float scale : 1.0;
uniform vec2 textureSize: [512, 512];
varying vec2 v_Texcoord;
const vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
vec4 median(vec4 a, vec4 b, vec4 c)
{
 return a + b + c - min(min(a, b), c) - max(max(a, b), c);
}
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
#ifdef ANTI_FLICKER
 vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);
 vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));
 vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));
 vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));
 vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));
 texel = median(median(texel, s1, s2), s3, s4);
#endif
 float lum = dot(texel.rgb , lumWeight);
 vec4 color;
 if (lum > threshold && texel.a > 0.0)
 {
 color = vec4(texel.rgb * scale, texel.a * scale);
 }
 else
 {
 color = vec4(0.0);
 }
 gl_FragColor = encodeHDR(color);
}
@end
`},12045:function(Dt,it){it.Z=`@export clay.compositor.downsample
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
varying vec2 v_Texcoord;
@import clay.util.rgbm
float brightness(vec3 c)
{
 return max(max(c.r, c.g), c.b);
}
@import clay.util.clamp_sample
void main()
{
 vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;
#ifdef ANTI_FLICKER
 vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;
 vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;
 vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;
 vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;
 float s1w = 1.0 / (brightness(s1) + 1.0);
 float s2w = 1.0 / (brightness(s2) + 1.0);
 float s3w = 1.0 / (brightness(s3) + 1.0);
 float s4w = 1.0 / (brightness(s4) + 1.0);
 float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);
 vec4 color = vec4(
 (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,
 1.0
 );
#else
 vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 color *= 0.25;
#endif
 gl_FragColor = encodeHDR(color);
}
@end`},14289:function(Dt,it){it.Z=`@export clay.compositor.fxaa
uniform sampler2D texture;
uniform vec4 viewport : VIEWPORT;
varying vec2 v_Texcoord;
#define FXAA_REDUCE_MIN (1.0/128.0)
#define FXAA_REDUCE_MUL (1.0/8.0)
#define FXAA_SPAN_MAX 8.0
@import clay.util.rgbm
void main()
{
 vec2 resolution = 1.0 / viewport.zw;
 vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;
 vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );
 vec3 rgbM = rgbaM.xyz;
 float opacity = rgbaM.w;
 vec3 luma = vec3( 0.299, 0.587, 0.114 );
 float lumaNW = dot( rgbNW, luma );
 float lumaNE = dot( rgbNE, luma );
 float lumaSW = dot( rgbSW, luma );
 float lumaSE = dot( rgbSE, luma );
 float lumaM = dot( rgbM, luma );
 float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );
 float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );
 vec2 dir;
 dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
 dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));
 float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );
 float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );
 dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),
 max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
 dir * rcpDirMin)) * resolution;
 vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA *= 0.5;
 vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;
 rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;
 rgbB *= 0.25;
 rgbB += rgbA * 0.5;
 float lumaB = dot( rgbB, luma );
 if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )
 {
 gl_FragColor = vec4( rgbA, opacity );
 }
 else {
 gl_FragColor = vec4( rgbB, opacity );
 }
}
@end`},53746:function(Dt,it){it.Z=`@export clay.compositor.hdr.composite
#define TONEMAPPING
uniform sampler2D texture;
#ifdef BLOOM_ENABLED
uniform sampler2D bloom;
#endif
#ifdef LENSFLARE_ENABLED
uniform sampler2D lensflare;
uniform sampler2D lensdirt;
#endif
#ifdef LUM_ENABLED
uniform sampler2D lum;
#endif
#ifdef LUT_ENABLED
uniform sampler2D lut;
#endif
#ifdef COLOR_CORRECTION
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float saturation : 1.0;
#endif
#ifdef VIGNETTE
uniform float vignetteDarkness: 1.0;
uniform float vignetteOffset: 1.0;
#endif
uniform float exposure : 1.0;
uniform float bloomIntensity : 0.25;
uniform float lensflareIntensity : 1;
varying vec2 v_Texcoord;
@import clay.util.srgb
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
float eyeAdaption(float fLum)
{
 return mix(0.2, fLum, 0.5);
}
#ifdef LUT_ENABLED
vec3 lutTransform(vec3 color) {
 float blueColor = color.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec4 newColor1 = texture2D(lut, texPos1);
 vec4 newColor2 = texture2D(lut, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 return newColor.rgb;
}
#endif
@import clay.util.rgbm
void main()
{
 vec4 texel = vec4(0.0);
 vec4 originalTexel = vec4(0.0);
#ifdef TEXTURE_ENABLED
 texel = decodeHDR(texture2D(texture, v_Texcoord));
 originalTexel = texel;
#endif
#ifdef BLOOM_ENABLED
 vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));
 texel.rgb += bloomTexel.rgb * bloomIntensity;
 texel.a += bloomTexel.a * bloomIntensity;
#endif
#ifdef LENSFLARE_ENABLED
 texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;
#endif
 texel.a = min(texel.a, 1.0);
#ifdef LUM_ENABLED
 float fLum = texture2D(lum, vec2(0.5, 0.5)).r;
 float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));
 float exposureBias = adaptedLumDest * exposure;
#else
 float exposureBias = exposure;
#endif
#ifdef TONEMAPPING
 texel.rgb *= exposureBias;
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
 texel = linearTosRGB(texel);
#ifdef LUT_ENABLED
 texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));
#endif
#ifdef COLOR_CORRECTION
 texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);
 texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));
 texel.rgb = mix(vec3(lum), texel.rgb, saturation);
#endif
#ifdef VIGNETTE
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);
 texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));
#endif
 gl_FragColor = encodeHDR(texel);
#ifdef DEBUG
 #if DEBUG == 1
 gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));
 #elif DEBUG == 2
 gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);
 #elif DEBUG == 3
 gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));
 #endif
#endif
 if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {
 gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));
 }
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`},69663:function(Dt,it){it.Z=`
@export clay.compositor.lut
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform sampler2D lookup;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 float blueColor = tex.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec4 newColor1 = texture2D(lookup, texPos1);
 vec4 newColor2 = texture2D(lookup, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 gl_FragColor = vec4(newColor.rgb, tex.w);
}
@end`},71032:function(Dt,it){it.Z=`@export clay.compositor.output
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = tex.rgb;
#ifdef OUTPUT_ALPHA
 gl_FragColor.a = tex.a;
#else
 gl_FragColor.a = 1.0;
#endif
 gl_FragColor = encodeHDR(gl_FragColor);
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`},85747:function(Dt,it){it.Z=`
@export clay.compositor.upsample
#define HIGH_QUALITY
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
uniform float sampleScale: 0.5;
varying vec2 v_Texcoord;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main()
{
#ifdef HIGH_QUALITY
 vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 gl_FragColor = encodeHDR(s / 16.0);
#else
 vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 gl_FragColor = encodeHDR(s / 4.0);
#endif
}
@end`},19671:function(Dt,it){it.Z=`@export clay.prez.vertex
uniform mat4 WVP : WORLDVIEWPROJECTION;
attribute vec3 pos : POSITION;
attribute vec2 uv : TEXCOORD_0;
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec2 v_Texcoord;
void main()
{
 vec4 P = vec4(pos, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = WVP * P;
 v_Texcoord = uv * uvRepeat + uvOffset;
}
@end
@export clay.prez.fragment
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
varying vec2 v_Texcoord;
void main()
{
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
 gl_FragColor = vec4(0.0,0.0,0.0,1.0);
}
@end`},73142:function(Dt,it){it.Z=`
@export clay.util.rand
highp float rand(vec2 uv) {
 const highp float a = 12.9898, b = 78.233, c = 43758.5453;
 highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);
 return fract(sin(sn) * c);
}
@end
@export clay.util.calculate_attenuation
uniform float attenuationFactor : 5.0;
float lightAttenuation(float dist, float range)
{
 float attenuation = 1.0;
 attenuation = dist*dist/(range*range+1.0);
 float att_s = attenuationFactor;
 attenuation = 1.0/(attenuation*att_s+1.0);
 att_s = 1.0/(att_s+1.0);
 attenuation = attenuation - att_s;
 attenuation /= 1.0 - att_s;
 return clamp(attenuation, 0.0, 1.0);
}
@end
@export clay.util.edge_factor
#ifdef SUPPORT_STANDARD_DERIVATIVES
float edgeFactor(float width)
{
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#else
float edgeFactor(float width)
{
 return 1.0;
}
#endif
@end
@export clay.util.encode_float
vec4 encodeFloat(const in float depth)
{
 const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
 const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
 vec4 res = fract(depth * bitShifts);
 res -= res.xxyz * bit_mask;
 return res;
}
@end
@export clay.util.decode_float
float decodeFloat(const in vec4 color)
{
 const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);
 return dot(color, bitShifts);
}
@end
@export clay.util.float
@import clay.util.encode_float
@import clay.util.decode_float
@end
@export clay.util.rgbm_decode
vec3 RGBMDecode(vec4 rgbm, float range) {
 return range * rgbm.rgb * rgbm.a;
}
@end
@export clay.util.rgbm_encode
vec4 RGBMEncode(vec3 color, float range) {
 if (dot(color, color) == 0.0) {
 return vec4(0.0);
 }
 vec4 rgbm;
 color /= range;
 rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);
 rgbm.a = ceil(rgbm.a * 255.0) / 255.0;
 rgbm.rgb = color / rgbm.a;
 return rgbm;
}
@end
@export clay.util.rgbm
@import clay.util.rgbm_decode
@import clay.util.rgbm_encode
vec4 decodeHDR(vec4 color)
{
#if defined(RGBM_DECODE) || defined(RGBM)
 return vec4(RGBMDecode(color, 8.12), 1.0);
#else
 return color;
#endif
}
vec4 encodeHDR(vec4 color)
{
#if defined(RGBM_ENCODE) || defined(RGBM)
 return RGBMEncode(color.xyz, 8.12);
#else
 return color;
#endif
}
@end
@export clay.util.srgb
vec4 sRGBToLinear(in vec4 value) {
 return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);
}
vec4 linearTosRGB(in vec4 value) {
 return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);
}
@end
@export clay.chunk.skinning_header
#ifdef SKINNING
attribute vec3 weight : WEIGHT;
attribute vec4 joint : JOINT;
#ifdef USE_SKIN_MATRICES_TEXTURE
uniform sampler2D skinMatricesTexture : ignore;
uniform float skinMatricesTextureSize: ignore;
mat4 getSkinMatrix(sampler2D tex, float idx) {
 float j = idx * 4.0;
 float x = mod(j, skinMatricesTextureSize);
 float y = floor(j / skinMatricesTextureSize) + 0.5;
 vec2 scale = vec2(skinMatricesTextureSize);
 return mat4(
 texture2D(tex, vec2(x + 0.5, y) / scale),
 texture2D(tex, vec2(x + 1.5, y) / scale),
 texture2D(tex, vec2(x + 2.5, y) / scale),
 texture2D(tex, vec2(x + 3.5, y) / scale)
 );
}
mat4 getSkinMatrix(float idx) {
 return getSkinMatrix(skinMatricesTexture, idx);
}
#else
uniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;
mat4 getSkinMatrix(float idx) {
 return skinMatrix[int(idx)];
}
#endif
#endif
@end
@export clay.chunk.skin_matrix
mat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;
if (weight.y > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.y) * weight.y;
}
if (weight.z > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.z) * weight.z;
}
float weightW = 1.0-weight.x-weight.y-weight.z;
if (weightW > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.w) * weightW;
}
@end
@export clay.chunk.instancing_header
#ifdef INSTANCING
attribute vec4 instanceMat1;
attribute vec4 instanceMat2;
attribute vec4 instanceMat3;
#endif
@end
@export clay.chunk.instancing_matrix
mat4 instanceMat = mat4(
 vec4(instanceMat1.xyz, 0.0),
 vec4(instanceMat2.xyz, 0.0),
 vec4(instanceMat3.xyz, 0.0),
 vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)
);
@end
@export clay.util.parallax_correct
vec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {
 vec3 first = (boxMax - pos) / dir;
 vec3 second = (boxMin - pos) / dir;
 vec3 further = max(first, second);
 float dist = min(further.x, min(further.y, further.z));
 vec3 fixedPos = pos + dir * dist;
 vec3 boxCenter = (boxMax + boxMin) * 0.5;
 return normalize(fixedPos - boxCenter);
}
@end
@export clay.util.clamp_sample
vec4 clampSample(const in sampler2D texture, const in vec2 coord)
{
#ifdef STEREO
 float eye = step(0.5, coord.x) * 0.5;
 vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));
#else
 vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));
#endif
 return texture2D(texture, coordClamped);
}
@end
@export clay.util.ACES
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
@end`},74208:function(Dt,it,C){C.d(it,{Z:function(){return A}});var p=C(75142),o=C(5847),t=C(88693),r=C(76728),n=C(80785),e=C(84708),s=C(60217),h=C(43484),i=C(50908),a=C(56076),l=C(82544),_=C(39789),M=`#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform sampler2D normalDistribution;
uniform vec2 viewportSize : [512, 256];
const vec3 N = vec3(0.0, 0.0, 1.0);
const float fSampleNumber = float(SAMPLE_NUMBER);
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
float G_Smith(float roughness, float NoV, float NoL) {
 float k = roughness * roughness / 2.0;
 float G1V = NoV / (NoV * (1.0 - k) + k);
 float G1L = NoL / (NoL * (1.0 - k) + k);
 return G1L * G1V;
}
void main() {
 vec2 uv = gl_FragCoord.xy / viewportSize;
 float NoV = uv.x;
 float roughness = uv.y;
 vec3 V;
 V.x = sqrt(1.0 - NoV * NoV);
 V.y = 0.0;
 V.z = NoV;
 float A = 0.0;
 float B = 0.0;
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(L.z, 0.0, 1.0);
 float NoH = clamp(H.z, 0.0, 1.0);
 float VoH = clamp(dot(V, H), 0.0, 1.0);
 if (NoL > 0.0) {
 float G = G_Smith(roughness, NoV, NoL);
 float G_Vis = G * VoH / (NoH * NoV);
 float Fc = pow(1.0 - VoH, 5.0);
 A += (1.0 - Fc) * G_Vis;
 B += Fc * G_Vis;
 }
 }
 gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);
}
`,m=`#define SHADER_NAME prefilter
#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform mat4 viewInverse : VIEWINVERSE;
uniform samplerCube environmentMap;
uniform sampler2D normalDistribution;
uniform float roughness : 0.5;
varying vec2 v_Texcoord;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
void main() {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
 vec3 N = V;
 vec3 prefilteredColor = vec3(0.0);
 float totalWeight = 0.0;
 float fMaxSampleNumber = float(SAMPLE_NUMBER);
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(dot(N, L), 0.0, 1.0);
 if (NoL > 0.0) {
 prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;
 totalWeight += NoL;
 }
 }
 gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));
}
`,T={},y=["px","nx","py","ny","pz","nz"];T.prefilterEnvironmentMap=function(D,L,I,F,b){(!b||!F)&&(F=T.generateNormalDistribution(),b=T.integrateBRDF(D,F)),I=I||{};var O=I.width||64,P=I.height||64,E=I.type||L.type,c=new o.Z({width:O,height:P,type:E,flipY:!1,mipmaps:[]});c.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var f=Math.min(O,P),u=Math.log(f)/Math.log(2)+1,d=new e.Z({shader:new s.Z({vertex:s.Z.source("clay.skybox.vertex"),fragment:m})});d.set("normalDistribution",F),I.encodeRGBM&&d.define("fragment","RGBM_ENCODE"),I.decodeRGBM&&d.define("fragment","RGBM_DECODE");var v=new i.Z,g;if(L.textureType==="texture2D"){var R=new o.Z({width:O,height:P,type:E===t.Z.FLOAT?t.Z.HALF_FLOAT:E});_.Z.panoramaToCubeMap(D,L,R,{encodeRGBM:I.decodeRGBM}),L=R}g=new h.Z({scene:v,material:d}),g.material.set("environmentMap",L);var x=new a.Z({texture:c});I.encodeRGBM&&(E=c.type=t.Z.UNSIGNED_BYTE);for(var w=new p.Z({width:O,height:P,type:E}),Z=new r.Z({depthBuffer:!1}),N=l.Z[E===t.Z.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],G=0;G<u;G++){c.mipmaps[G]={pixels:{}},g.material.set("roughness",G/(u-1));for(var K=w.width,J=2*Math.atan(K/(K-.5))/Math.PI*180,U=0;U<y.length;U++){var H=new N(w.width*w.height*4);Z.attach(w),Z.bind(D);var V=x.getCamera(y[U]);V.fov=J,D.render(v,V),D.gl.readPixels(0,0,w.width,w.height,t.Z.RGBA,E,H),Z.unbind(D),c.mipmaps[G].pixels[y[U]]=H}w.width/=2,w.height/=2,w.dirty()}return Z.dispose(D),w.dispose(D),g.dispose(D),F.dispose(D),{environmentMap:c,brdfLookup:b,normalDistribution:F,maxMipmapLevel:u}},T.integrateBRDF=function(D,L){L=L||T.generateNormalDistribution();var I=new r.Z({depthBuffer:!1}),F=new n.Z({fragment:M}),b=new p.Z({width:512,height:256,type:t.Z.HALF_FLOAT,wrapS:t.Z.CLAMP_TO_EDGE,wrapT:t.Z.CLAMP_TO_EDGE,minFilter:t.Z.NEAREST,magFilter:t.Z.NEAREST,useMipmap:!1});return F.setUniform("normalDistribution",L),F.setUniform("viewportSize",[512,256]),F.attachOutput(b),F.render(D,I),I.dispose(D),b},T.generateNormalDistribution=function(I,F){for(var I=I||256,F=F||1024,b=new p.Z({width:I,height:F,type:t.Z.FLOAT,minFilter:t.Z.NEAREST,magFilter:t.Z.NEAREST,wrapS:t.Z.CLAMP_TO_EDGE,wrapT:t.Z.CLAMP_TO_EDGE,useMipmap:!1}),O=new Float32Array(F*I*4),P=[],E=0;E<I;E++){for(var c=E/I,f=c*c,u=0;u<F;u++){var d=(u<<16|u>>>16)>>>0;d=((d&1431655765)<<1|(d&2863311530)>>>1)>>>0,d=((d&858993459)<<2|(d&3435973836)>>>2)>>>0,d=((d&252645135)<<4|(d&4042322160)>>>4)>>>0,d=(((d&16711935)<<8|(d&4278255360)>>>8)>>>0)/4294967296;var v=Math.sqrt((1-d)/(1+(f*f-1)*d));P[u]=v}for(var u=0;u<F;u++){var g=(u*I+E)*4,v=P[u],R=Math.sqrt(1-v*v),x=u/F,w=2*Math.PI*x;O[g]=R*Math.cos(w),O[g+1]=v,O[g+2]=R*Math.sin(w),O[g+3]=1}}return b.pixels=O,b};var A=T},34052:function(Dt,it,C){var p=C(88693),o=C(76728),t=C(75142),r=C(82544),n=C(43484),e=C(74738),s=C(56076),h=C(50908),i=C(3023),a={},l=["px","nx","py","ny","pz","nz"];function _(y,A){var D=new Texture2D({width:9,height:1,type:Texture.FLOAT}),L=new Pass({fragment:projectEnvMapShaderCode});L.material.define("fragment","TEXTURE_SIZE",A.width),L.setUniform("environmentMap",A);var I=new FrameBuffer;I.attach(D),L.render(y,I),I.bind(y);var F=new vendor.Float32Array(9*4);y.gl.readPixels(0,0,9,1,Texture.RGBA,Texture.FLOAT,F);for(var b=new vendor.Float32Array(9*3),O=0;O<9;O++)b[O*3]=F[O*4],b[O*3+1]=F[O*4+1],b[O*3+2]=F[O*4+2];return I.unbind(y),I.dispose(y),L.dispose(y),b}function M(y,A){var D=y[0],L=y[1],I=y[2];return A===0?1:A===1?D:A===2?L:A===3?I:A===4?D*I:A===5?L*I:A===6?D*L:A===7?3*I*I-1:D*D-L*L}var m={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function T(y,A,D,L){for(var I=new r.Z.Float32Array(27),F=i.Z.create(),b=i.Z.create(),O=i.Z.create(),P=0;P<9;P++){for(var E=i.Z.create(),c=0;c<l.length;c++){for(var f=A[l[c]],u=i.Z.create(),d=0,v=0,g=m[l[c]],R=0;R<L;R++)for(var x=0;x<D;x++){F[0]=x/(D-1)*2-1,F[1]=R/(L-1)*2-1,F[2]=-1,i.Z.normalize(F,F),O[0]=F[g[0]]*g[3],O[1]=F[g[1]]*g[4],O[2]=F[g[2]]*g[5],b[0]=f[v++]/255,b[1]=f[v++]/255,b[2]=f[v++]/255;var w=f[v++]/255*8.12;b[0]*=w,b[1]*=w,b[2]*=w,i.Z.scaleAndAdd(u,u,b,M(O,P)*-F[2]),d+=-F[2]}i.Z.scaleAndAdd(E,E,u,1/d)}I[P*3]=E[0]/6,I[P*3+1]=E[1]/6,I[P*3+2]=E[2]/6}return I}a.projectEnvironmentMap=function(y,A,D){D=D||{},D.lod=D.lod||0;var L,I=new h.Z,F=64;A.textureType==="texture2D"?L=new e.Z({scene:I,environmentMap:A}):(F=A.image&&A.image.px?A.image.px.width:A.width,L=new n.Z({scene:I,environmentMap:A}));var b=Math.ceil(F/Math.pow(2,D.lod)),O=Math.ceil(F/Math.pow(2,D.lod)),P=new t.Z({width:b,height:O}),E=new o.Z;L.material.define("fragment","RGBM_ENCODE"),D.decodeRGBM&&L.material.define("fragment","RGBM_DECODE"),L.material.set("lod",D.lod);for(var c=new s.Z({texture:P}),f={},u=0;u<l.length;u++){f[l[u]]=new Uint8Array(b*O*4);var d=c.getCamera(l[u]);d.fov=90,E.attach(P),E.bind(y),y.render(I,d),y.gl.readPixels(0,0,b,O,p.Z.RGBA,p.Z.UNSIGNED_BYTE,f[l[u]]),E.unbind(y)}return L.dispose(y),E.dispose(y),P.dispose(y),T(y,f,b,O)},it.Z=a},39789:function(Dt,it,C){C.d(it,{Z:function(){return It}});var p=C(75142),o=C(5847),t=C(82544),r=C(56076),n=C(74738),e=C(50908),s=C(88693),h=542327876,i=1,a=2,l=4,_=8,M=4096,m=131072,T=524288,y=8388608,A=8,D=4194304,L=4096,I=512,F=1024,b=2048,O=4096,P=8192,E=16384,c=32768,f=2097152,u=1,d=2,v=4,g=64,R=512,x=131072;function w(gt){return gt.charCodeAt(0)+(gt.charCodeAt(1)<<8)+(gt.charCodeAt(2)<<16)+(gt.charCodeAt(3)<<24)}function Z(gt){return String.fromCharCode(gt&255,gt>>8&255,gt>>16&255,gt>>24&255)}var N=31,G=w("DXT1"),K=w("DXT3"),J=w("DXT5"),U=0,H=1,V=2,S=3,W=4,B=7,X=20,Y=21,et=27,z=28,k=29,at=30,ft={parse:function(gt,Tt){var At=new Int32Array(gt,0,N);if(At[U]!==h||!At(X)&v)return null;var j=At(Y),q=At[W],yt=At[S],Mt=At[z]&I,Q=At[V]&m,$,nt;switch(j){case G:$=8,nt=s.Z.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case K:$=16,nt=s.Z.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case J:$=16,nt=s.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var lt=At[H]+4,Ct=Mt?6:1,Zt=1;Q&&(Zt=Math.max(1,At[B]));for(var Ot=[],bt=0;bt<Ct;bt++){var Ft=q,zt=yt;Ot[bt]=new p.Z({width:Ft,height:zt,format:nt});for(var Ht=[],kt=0;kt<Zt;kt++){var jt=Math.max(4,Ft)/4*Math.max(4,zt)/4*$,Qt=new Uint8Array(gt,lt,jt);lt+=jt,Ft*=.5,zt*=.5,Ht[kt]=Qt}Ot[bt].pixels=Ht[0],Q&&(Ot[bt].mipmaps=Ht)}if(Tt)Tt.width=Ot[0].width,Tt.height=Ot[0].height,Tt.format=Ot[0].format,Tt.pixels=Ot[0].pixels,Tt.mipmaps=Ot[0].mipmaps;else return Ot[0]}},_t=ft,tt=String.fromCharCode,rt=8,ut=32767;function ct(gt,Tt,At,j){if(gt[3]>0){var q=Math.pow(2,gt[3]-128-8+j);Tt[At+0]=gt[0]*q,Tt[At+1]=gt[1]*q,Tt[At+2]=gt[2]*q}else Tt[At+0]=0,Tt[At+1]=0,Tt[At+2]=0;return Tt[At+3]=1,Tt}function st(gt,Tt,At){for(var j="",q=Tt;q<At;q++)j+=tt(gt[q]);return j}function dt(gt,Tt){Tt[0]=gt[0],Tt[1]=gt[1],Tt[2]=gt[2],Tt[3]=gt[3]}function ht(gt,Tt,At,j){for(var q=0,yt=0,Mt=j;Mt>0;)if(gt[yt][0]=Tt[At++],gt[yt][1]=Tt[At++],gt[yt][2]=Tt[At++],gt[yt][3]=Tt[At++],gt[yt][0]===1&&gt[yt][1]===1&&gt[yt][2]===1){for(var Q=gt[yt][3]<<q>>>0;Q>0;Q--)dt(gt[yt-1],gt[yt]),yt++,Mt--;q+=8}else yt++,Mt--,q=0;return At}function xt(gt,Tt,At,j){if(j<rt|j>ut)return ht(gt,Tt,At,j);var q=Tt[At++];if(q!=2)return ht(gt,Tt,At-1,j);if(gt[0][1]=Tt[At++],gt[0][2]=Tt[At++],q=Tt[At++],(gt[0][2]<<8>>>0|q)>>>0!==j)return null;for(var q=0;q<4;q++)for(var yt=0;yt<j;){var Mt=Tt[At++];if(Mt>128){Mt=(Mt&127)>>>0;for(var Q=Tt[At++];Mt--;)gt[yt++][q]=Q}else for(;Mt--;)gt[yt++][q]=Tt[At++]}return At}var Rt={parseRGBE:function(gt,Tt,At){At==null&&(At=0);var j=new Uint8Array(gt),q=j.length;if(st(j,0,2)==="#?"){for(var yt=2;yt<q&&!(tt(j[yt])===`
`&&tt(j[yt+1])===`
`);yt++);if(!(yt>=q)){yt+=2;for(var Mt="";yt<q;yt++){var Q=tt(j[yt]);if(Q===`
`)break;Mt+=Q}var $=Mt.split(" "),nt=parseInt($[1]),lt=parseInt($[3]);if(!(!lt||!nt)){for(var Ct=yt+1,Zt=[],Ot=0;Ot<lt;Ot++){Zt[Ot]=[];for(var bt=0;bt<4;bt++)Zt[Ot][bt]=0}for(var Ft=new Float32Array(lt*nt*4),zt=0,Ht=0;Ht<nt;Ht++){var Ct=xt(Zt,j,Ct,lt);if(!Ct)return null;for(var Ot=0;Ot<lt;Ot++)ct(Zt[Ot],Ft,zt,At),zt+=4}return Tt||(Tt=new p.Z),Tt.width=lt,Tt.height=nt,Tt.pixels=Ft,Tt.type=s.Z.FLOAT,Tt}}}},parseRGBEFromPNG:function(gt){}},mt=Rt,St={loadTexture:function(gt,Tt,At,j){var q;if(typeof Tt=="function"?(At=Tt,j=At,Tt={}):Tt=Tt||{},typeof gt=="string"){if(gt.match(/.hdr$/)||Tt.fileType==="hdr")return q=new p.Z({width:0,height:0,sRGB:!1}),St._fetchTexture(gt,function(yt){mt.parseRGBE(yt,q,Tt.exposure),q.dirty(),At&&At(q)},j),q;gt.match(/.dds$/)||Tt.fileType==="dds"?(q=new p.Z({width:0,height:0}),St._fetchTexture(gt,function(yt){_t.parse(yt,q),q.dirty(),At&&At(q)},j)):(q=new p.Z,q.load(gt),q.success(At),q.error(j))}else typeof gt=="object"&&typeof gt.px!="undefined"&&(q=new o.Z,q.load(gt),q.success(At),q.error(j));return q},loadPanorama:function(gt,Tt,At,j,q,yt){var Mt=this;typeof j=="function"?(q=j,yt=q,j={}):j=j||{},St.loadTexture(Tt,j,function(Q){Q.flipY=j.flipY||!1,Mt.panoramaToCubeMap(gt,Q,At,j),Q.dispose(gt),q&&q(At)},yt)},panoramaToCubeMap:function(gt,Tt,At,j){var q=new r.Z,yt=new n.Z({scene:new e.Z});return yt.setEnvironmentMap(Tt),j=j||{},j.encodeRGBM&&yt.material.define("fragment","RGBM_ENCODE"),At.sRGB=Tt.sRGB,q.texture=At,q.render(gt,yt.scene),q.texture=null,q.dispose(gt),At},heightToNormal:function(gt,Tt){var At=document.createElement("canvas"),j=At.width=gt.width,q=At.height=gt.height,yt=At.getContext("2d");yt.drawImage(gt,0,0,j,q),Tt=Tt||!1;for(var Mt=yt.getImageData(0,0,j,q),Q=yt.createImageData(j,q),$=0;$<Mt.data.length;$+=4){if(Tt){var nt=Mt.data[$],lt=Mt.data[$+1],Ct=Mt.data[$+2],Zt=Math.abs(nt-lt)+Math.abs(lt-Ct);if(Zt>20)return console.warn("Given image is not a height map"),gt}var Ot,bt,Ft,zt;$%(j*4)===0?(Ot=Mt.data[$],Ft=Mt.data[$+4]):$%(j*4)===(j-1)*4?(Ot=Mt.data[$-4],Ft=Mt.data[$]):(Ot=Mt.data[$-4],Ft=Mt.data[$+4]),$<j*4?(bt=Mt.data[$],zt=Mt.data[$+j*4]):$>j*(q-1)*4?(bt=Mt.data[$-j*4],zt=Mt.data[$]):(bt=Mt.data[$-j*4],zt=Mt.data[$+j*4]),Q.data[$]=Ot-Ft+127,Q.data[$+1]=bt-zt+127,Q.data[$+2]=255,Q.data[$+3]=255}return yt.putImageData(Q,0,0),At},isHeightImage:function(gt,Tt,At){if(!gt||!gt.width||!gt.height)return!1;var j=document.createElement("canvas"),q=j.getContext("2d"),yt=Tt||32;At=At||20,j.width=j.height=yt,q.drawImage(gt,0,0,yt,yt);for(var Mt=q.getImageData(0,0,yt,yt),Q=0;Q<Mt.data.length;Q+=4){var $=Mt.data[Q],nt=Mt.data[Q+1],lt=Mt.data[Q+2],Ct=Math.abs($-nt)+Math.abs(nt-lt);if(Ct>At)return!1}return!0},_fetchTexture:function(gt,Tt,At){t.Z.request.get({url:gt,responseType:"arraybuffer",onload:Tt,onerror:At})},createChessboard:function(gt,Tt,At,j){gt=gt||512,Tt=Tt||64,At=At||"black",j=j||"white";var q=Math.ceil(gt/Tt),yt=document.createElement("canvas");yt.width=gt,yt.height=gt;var Mt=yt.getContext("2d");Mt.fillStyle=j,Mt.fillRect(0,0,gt,gt),Mt.fillStyle=At;for(var Q=0;Q<q;Q++)for(var $=0;$<q;$++){var nt=$%2?Q%2:Q%2-1;nt&&Mt.fillRect(Q*Tt,$*Tt,Tt,Tt)}var lt=new p.Z({image:yt,anisotropic:8});return lt},createBlank:function(gt){var Tt=document.createElement("canvas");Tt.width=1,Tt.height=1;var At=Tt.getContext("2d");At.fillStyle=gt,At.fillRect(0,0,1,1);var j=new p.Z({image:Tt});return j}},It=St},97361:function(Dt,it){Object.defineProperty(it,"__esModule",{value:!0}),it.default=C;function C(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}},84174:function(Dt,it){Object.defineProperty(it,"__esModule",{value:!0}),it.default=C;function C(p,o){if(!p)return!1;if(p.contains)return p.contains(o);for(var t=o;t;){if(t===p)return!0;t=t.parentNode}return!1}},50517:function(Dt,it,C){var p=C(37019).default;Object.defineProperty(it,"__esModule",{value:!0}),it.clearContainerCache=y,it.injectCSS=_,it.removeCSS=m,it.updateCSS=A;var o=p(C(97361)),t=p(C(84174)),r="data-rc-order",n="data-rc-priority",e="rc-util-key",s=new Map;function h(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=D.mark;return L?L.startsWith("data-")?L:"data-".concat(L):e}function i(D){if(D.attachTo)return D.attachTo;var L=document.querySelector("head");return L||document.body}function a(D){return D==="queue"?"prependQueue":D?"prepend":"append"}function l(D){return Array.from((s.get(D)||D).children).filter(function(L){return L.tagName==="STYLE"})}function _(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,o.default)())return null;var I=L.csp,F=L.prepend,b=L.priority,O=b===void 0?0:b,P=a(F),E=P==="prependQueue",c=document.createElement("style");c.setAttribute(r,P),E&&O&&c.setAttribute(n,"".concat(O)),I!=null&&I.nonce&&(c.nonce=I==null?void 0:I.nonce),c.innerHTML=D;var f=i(L),u=f.firstChild;if(F){if(E){var d=l(f).filter(function(v){if(!["prepend","prependQueue"].includes(v.getAttribute(r)))return!1;var g=Number(v.getAttribute(n)||0);return O>=g});if(d.length)return f.insertBefore(c,d[d.length-1].nextSibling),c}f.insertBefore(c,u)}else f.appendChild(c);return c}function M(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=i(L);return l(I).find(function(F){return F.getAttribute(h(L))===D})}function m(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=M(D,L);if(I){var F=i(L);F.removeChild(I)}}function T(D,L){var I=s.get(D);if(!I||!(0,t.default)(document,I)){var F=_("",L),b=F.parentNode;s.set(D,b),D.removeChild(F)}}function y(){s.clear()}function A(D,L){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=i(I);T(F,I);var b=M(L,I);if(b){var O,P;if((O=I.csp)!==null&&O!==void 0&&O.nonce&&b.nonce!==((P=I.csp)===null||P===void 0?void 0:P.nonce)){var E;b.nonce=(E=I.csp)===null||E===void 0?void 0:E.nonce}return b.innerHTML!==D&&(b.innerHTML=D),b}var c=_(D,I);return c.setAttribute(h(I),L),c}},29038:function(Dt,it){Object.defineProperty(it,"__esModule",{value:!0}),it.getShadowRoot=o,it.inShadow=p;function C(t){var r;return t==null||(r=t.getRootNode)===null||r===void 0?void 0:r.call(t)}function p(t){return C(t)instanceof ShadowRoot}function o(t){return p(t)?C(t):null}},99504:function(Dt,it){Object.defineProperty(it,"__esModule",{value:!0}),it.call=e,it.default=void 0,it.note=r,it.noteOnce=h,it.preMessage=void 0,it.resetWarned=n,it.warning=t,it.warningOnce=s;var C={},p=[],o=function(l){p.push(l)};it.preMessage=o;function t(a,l){if(!1)var _}function r(a,l){if(!1)var _}function n(){C={}}function e(a,l,_){!l&&!C[_]&&(a(!1,_),C[_]=!0)}function s(a,l){e(t,a,l)}function h(a,l){e(r,a,l)}s.preMessage=o,s.resetWarned=n,s.noteOnce=h;var i=s;it.default=i},12012:function(Dt,it,C){C.d(it,{ZT:function(){return o}});var p=function(f,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(d[g]=v[g])},p(f,u)};function o(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");p(f,u);function d(){this.constructor=f}f.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}var t=function(){return t=Object.assign||function(u){for(var d,v=1,g=arguments.length;v<g;v++){d=arguments[v];for(var R in d)Object.prototype.hasOwnProperty.call(d,R)&&(u[R]=d[R])}return u},t.apply(this,arguments)};function r(f,u){var d={};for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&u.indexOf(v)<0&&(d[v]=f[v]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,v=Object.getOwnPropertySymbols(f);g<v.length;g++)u.indexOf(v[g])<0&&Object.prototype.propertyIsEnumerable.call(f,v[g])&&(d[v[g]]=f[v[g]]);return d}function n(f,u,d,v){var g=arguments.length,R=g<3?u:v===null?v=Object.getOwnPropertyDescriptor(u,d):v,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(f,u,d,v);else for(var w=f.length-1;w>=0;w--)(x=f[w])&&(R=(g<3?x(R):g>3?x(u,d,R):x(u,d))||R);return g>3&&R&&Object.defineProperty(u,d,R),R}function e(f,u){return function(d,v){u(d,v,f)}}function s(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)}function h(f,u,d,v){function g(R){return R instanceof d?R:new d(function(x){x(R)})}return new(d||(d=Promise))(function(R,x){function w(G){try{N(v.next(G))}catch(K){x(K)}}function Z(G){try{N(v.throw(G))}catch(K){x(K)}}function N(G){G.done?R(G.value):g(G.value).then(w,Z)}N((v=v.apply(f,u||[])).next())})}function i(f,u){var d={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},v,g,R,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(N){return function(G){return Z([N,G])}}function Z(N){if(v)throw new TypeError("Generator is already executing.");for(;d;)try{if(v=1,g&&(R=N[0]&2?g.return:N[0]?g.throw||((R=g.return)&&R.call(g),0):g.next)&&!(R=R.call(g,N[1])).done)return R;switch(g=0,R&&(N=[N[0]&2,R.value]),N[0]){case 0:case 1:R=N;break;case 4:return d.label++,{value:N[1],done:!1};case 5:d.label++,g=N[1],N=[0];continue;case 7:N=d.ops.pop(),d.trys.pop();continue;default:if(R=d.trys,!(R=R.length>0&&R[R.length-1])&&(N[0]===6||N[0]===2)){d=0;continue}if(N[0]===3&&(!R||N[1]>R[0]&&N[1]<R[3])){d.label=N[1];break}if(N[0]===6&&d.label<R[1]){d.label=R[1],R=N;break}if(R&&d.label<R[2]){d.label=R[2],d.ops.push(N);break}R[2]&&d.ops.pop(),d.trys.pop();continue}N=u.call(f,d)}catch(G){N=[6,G],g=0}finally{v=R=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}}var a=Object.create?function(f,u,d,v){v===void 0&&(v=d),Object.defineProperty(f,v,{enumerable:!0,get:function(){return u[d]}})}:function(f,u,d,v){v===void 0&&(v=d),f[v]=u[d]};function l(f,u){for(var d in f)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&a(u,f,d)}function _(f){var u=typeof Symbol=="function"&&Symbol.iterator,d=u&&f[u],v=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(f,u){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v=d.call(f),g,R=[],x;try{for(;(u===void 0||u-- >0)&&!(g=v.next()).done;)R.push(g.value)}catch(w){x={error:w}}finally{try{g&&!g.done&&(d=v.return)&&d.call(v)}finally{if(x)throw x.error}}return R}function m(){for(var f=[],u=0;u<arguments.length;u++)f=f.concat(M(arguments[u]));return f}function T(){for(var f=0,u=0,d=arguments.length;u<d;u++)f+=arguments[u].length;for(var v=Array(f),g=0,u=0;u<d;u++)for(var R=arguments[u],x=0,w=R.length;x<w;x++,g++)v[g]=R[x];return v}function y(f,u,d){if(d||arguments.length===2)for(var v=0,g=u.length,R;v<g;v++)(R||!(v in u))&&(R||(R=Array.prototype.slice.call(u,0,v)),R[v]=u[v]);return f.concat(R||u)}function A(f){return this instanceof A?(this.v=f,this):new A(f)}function D(f,u,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=d.apply(f,u||[]),g,R=[];return g={},x("next"),x("throw"),x("return"),g[Symbol.asyncIterator]=function(){return this},g;function x(J){v[J]&&(g[J]=function(U){return new Promise(function(H,V){R.push([J,U,H,V])>1||w(J,U)})})}function w(J,U){try{Z(v[J](U))}catch(H){K(R[0][3],H)}}function Z(J){J.value instanceof A?Promise.resolve(J.value.v).then(N,G):K(R[0][2],J)}function N(J){w("next",J)}function G(J){w("throw",J)}function K(J,U){J(U),R.shift(),R.length&&w(R[0][0],R[0][1])}}function L(f){var u,d;return u={},v("next"),v("throw",function(g){throw g}),v("return"),u[Symbol.iterator]=function(){return this},u;function v(g,R){u[g]=f[g]?function(x){return(d=!d)?{value:A(f[g](x)),done:g==="return"}:R?R(x):x}:R}}function I(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=f[Symbol.asyncIterator],d;return u?u.call(f):(f=typeof _=="function"?_(f):f[Symbol.iterator](),d={},v("next"),v("throw"),v("return"),d[Symbol.asyncIterator]=function(){return this},d);function v(R){d[R]=f[R]&&function(x){return new Promise(function(w,Z){x=f[R](x),g(w,Z,x.done,x.value)})}}function g(R,x,w,Z){Promise.resolve(Z).then(function(N){R({value:N,done:w})},x)}}function F(f,u){return Object.defineProperty?Object.defineProperty(f,"raw",{value:u}):f.raw=u,f}var b=Object.create?function(f,u){Object.defineProperty(f,"default",{enumerable:!0,value:u})}:function(f,u){f.default=u};function O(f){if(f&&f.__esModule)return f;var u={};if(f!=null)for(var d in f)d!=="default"&&Object.prototype.hasOwnProperty.call(f,d)&&a(u,f,d);return b(u,f),u}function P(f){return f&&f.__esModule?f:{default:f}}function E(f,u,d,v){if(d==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?f!==u||!v:!u.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?v:d==="a"?v.call(f):v?v.value:u.get(f)}function c(f,u,d,v,g){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?f!==u||!g:!u.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?g.call(f,d):g?g.value=d:u.set(f,d),d}},12434:function(Dt,it,C){var p=C(23463),o=C(70295),t=C(16128),r=C(10563),n=C(98733),e=C(70324),s=C(62623),h=C(96170),i=C(53197),a="__zr_normal__",l=p.dN.concat(["ignore"]),_=(0,e.u4)(p.dN,function(O,P){return O[P]=!0,O},{ignore:!1}),M={},m=new t.Z(0,0,0,0),T=function(){function O(P){this.id=(0,e.M8)(),this.animators=[],this.currentStates=[],this.states={},this._init(P)}return O.prototype._init=function(P){this.attr(P)},O.prototype.drift=function(P,E,c){switch(this.draggable){case"horizontal":E=0;break;case"vertical":P=0;break}var f=this.transform;f||(f=this.transform=[1,0,0,1,0,0]),f[4]+=P,f[5]+=E,this.decomposeTransform(),this.markRedraw()},O.prototype.beforeUpdate=function(){},O.prototype.afterUpdate=function(){},O.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},O.prototype.updateInnerText=function(P){var E=this._textContent;if(E&&(!E.ignore||P)){this.textConfig||(this.textConfig={});var c=this.textConfig,f=c.local,u=E.innerTransformable,d=void 0,v=void 0,g=!1;u.parent=f?this:null;var R=!1;if(u.copyTransform(E),c.position!=null){var x=m;c.layoutRect?x.copy(c.layoutRect):x.copy(this.getBoundingRect()),f||x.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(M,c,x):(0,n.wI)(M,c,x),u.x=M.x,u.y=M.y,d=M.align,v=M.verticalAlign;var w=c.origin;if(w&&c.rotation!=null){var Z=void 0,N=void 0;w==="center"?(Z=x.width*.5,N=x.height*.5):(Z=(0,n.GM)(w[0],x.width),N=(0,n.GM)(w[1],x.height)),R=!0,u.originX=-u.x+Z+(f?0:x.x),u.originY=-u.y+N+(f?0:x.y)}}c.rotation!=null&&(u.rotation=c.rotation);var G=c.offset;G&&(u.x+=G[0],u.y+=G[1],R||(u.originX=-G[0],u.originY=-G[1]));var K=c.inside==null?typeof c.position=="string"&&c.position.indexOf("inside")>=0:c.inside,J=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),U=void 0,H=void 0,V=void 0;K&&this.canBeInsideText()?(U=c.insideFill,H=c.insideStroke,(U==null||U==="auto")&&(U=this.getInsideTextFill()),(H==null||H==="auto")&&(H=this.getInsideTextStroke(U),V=!0)):(U=c.outsideFill,H=c.outsideStroke,(U==null||U==="auto")&&(U=this.getOutsideFill()),(H==null||H==="auto")&&(H=this.getOutsideStroke(U),V=!0)),U=U||"#000",(U!==J.fill||H!==J.stroke||V!==J.autoStroke||d!==J.align||v!==J.verticalAlign)&&(g=!0,J.fill=U,J.stroke=H,J.autoStroke=V,J.align=d,J.verticalAlign=v,E.setDefaultTextStyle(J)),E.__dirty|=i.YV,g&&E.dirtyStyle(!0)}},O.prototype.canBeInsideText=function(){return!0},O.prototype.getInsideTextFill=function(){return"#fff"},O.prototype.getInsideTextStroke=function(P){return"#000"},O.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?s.GD:s.vU},O.prototype.getOutsideStroke=function(P){var E=this.__zr&&this.__zr.getBackgroundColor(),c=typeof E=="string"&&(0,h.parse)(E);c||(c=[255,255,255,1]);for(var f=c[3],u=this.__zr.isDarkMode(),d=0;d<3;d++)c[d]=c[d]*f+(u?0:255)*(1-f);return c[3]=1,(0,h.stringify)(c,"rgba")},O.prototype.traverse=function(P,E){},O.prototype.attrKV=function(P,E){P==="textConfig"?this.setTextConfig(E):P==="textContent"?this.setTextContent(E):P==="clipPath"?this.setClipPath(E):P==="extra"?(this.extra=this.extra||{},(0,e.l7)(this.extra,E)):this[P]=E},O.prototype.hide=function(){this.ignore=!0,this.markRedraw()},O.prototype.show=function(){this.ignore=!1,this.markRedraw()},O.prototype.attr=function(P,E){if(typeof P=="string")this.attrKV(P,E);else if((0,e.Kn)(P))for(var c=P,f=(0,e.XP)(c),u=0;u<f.length;u++){var d=f[u];this.attrKV(d,P[d])}return this.markRedraw(),this},O.prototype.saveCurrentToNormalState=function(P){this._innerSaveToNormal(P);for(var E=this._normalState,c=0;c<this.animators.length;c++){var f=this.animators[c],u=f.__fromStateTransition;if(!(f.getLoop()||u&&u!==a)){var d=f.targetName,v=d?E[d]:E;f.saveTo(v)}}},O.prototype._innerSaveToNormal=function(P){var E=this._normalState;E||(E=this._normalState={}),P.textConfig&&!E.textConfig&&(E.textConfig=this.textConfig),this._savePrimaryToNormal(P,E,l)},O.prototype._savePrimaryToNormal=function(P,E,c){for(var f=0;f<c.length;f++){var u=c[f];P[u]!=null&&!(u in E)&&(E[u]=this[u])}},O.prototype.hasState=function(){return this.currentStates.length>0},O.prototype.getState=function(P){return this.states[P]},O.prototype.ensureState=function(P){var E=this.states;return E[P]||(E[P]={}),E[P]},O.prototype.clearStates=function(P){this.useState(a,!1,P)},O.prototype.useState=function(P,E,c,f){var u=P===a,d=this.hasState();if(!(!d&&u)){var v=this.currentStates,g=this.stateTransition;if(!((0,e.cq)(v,P)>=0&&(E||v.length===1))){var R;if(this.stateProxy&&!u&&(R=this.stateProxy(P)),R||(R=this.states&&this.states[P]),!R&&!u){(0,e.H)("State "+P+" not exists.");return}u||this.saveCurrentToNormalState(R);var x=!!(R&&R.hoverLayer||f);x&&this._toggleHoverLayerFlag(!0),this._applyStateObj(P,R,this._normalState,E,!c&&!this.__inHover&&g&&g.duration>0,g);var w=this._textContent,Z=this._textGuide;return w&&w.useState(P,E,c,x),Z&&Z.useState(P,E,c,x),u?(this.currentStates=[],this._normalState={}):E?this.currentStates.push(P):this.currentStates=[P],this._updateAnimationTargets(),this.markRedraw(),!x&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.YV),R}}},O.prototype.useStates=function(P,E,c){if(!P.length)this.clearStates();else{var f=[],u=this.currentStates,d=P.length,v=d===u.length;if(v){for(var g=0;g<d;g++)if(P[g]!==u[g]){v=!1;break}}if(v)return;for(var g=0;g<d;g++){var R=P[g],x=void 0;this.stateProxy&&(x=this.stateProxy(R,P)),x||(x=this.states[R]),x&&f.push(x)}var w=f[d-1],Z=!!(w&&w.hoverLayer||c);Z&&this._toggleHoverLayerFlag(!0);var N=this._mergeStates(f),G=this.stateTransition;this.saveCurrentToNormalState(N),this._applyStateObj(P.join(","),N,this._normalState,!1,!E&&!this.__inHover&&G&&G.duration>0,G);var K=this._textContent,J=this._textGuide;K&&K.useStates(P,E,Z),J&&J.useStates(P,E,Z),this._updateAnimationTargets(),this.currentStates=P.slice(),this.markRedraw(),!Z&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.YV)}},O.prototype._updateAnimationTargets=function(){for(var P=0;P<this.animators.length;P++){var E=this.animators[P];E.targetName&&E.changeTarget(this[E.targetName])}},O.prototype.removeState=function(P){var E=(0,e.cq)(this.currentStates,P);if(E>=0){var c=this.currentStates.slice();c.splice(E,1),this.useStates(c)}},O.prototype.replaceState=function(P,E,c){var f=this.currentStates.slice(),u=(0,e.cq)(f,P),d=(0,e.cq)(f,E)>=0;u>=0?d?f.splice(u,1):f[u]=E:c&&!d&&f.push(E),this.useStates(f)},O.prototype.toggleState=function(P,E){E?this.useState(P,!0):this.removeState(P)},O.prototype._mergeStates=function(P){for(var E={},c,f=0;f<P.length;f++){var u=P[f];(0,e.l7)(E,u),u.textConfig&&(c=c||{},(0,e.l7)(c,u.textConfig))}return c&&(E.textConfig=c),E},O.prototype._applyStateObj=function(P,E,c,f,u,d){var v=!(E&&f);E&&E.textConfig?(this.textConfig=(0,e.l7)({},f?this.textConfig:c.textConfig),(0,e.l7)(this.textConfig,E.textConfig)):v&&c.textConfig&&(this.textConfig=c.textConfig);for(var g={},R=!1,x=0;x<l.length;x++){var w=l[x],Z=u&&_[w];E&&E[w]!=null?Z?(R=!0,g[w]=E[w]):this[w]=E[w]:v&&c[w]!=null&&(Z?(R=!0,g[w]=c[w]):this[w]=c[w])}if(!u)for(var x=0;x<this.animators.length;x++){var N=this.animators[x],G=N.targetName;N.getLoop()||N.__changeFinalValue(G?(E||c)[G]:E||c)}R&&this._transitionState(P,g,d)},O.prototype._attachComponent=function(P){if(!(P.__zr&&!P.__hostTarget)&&P!==this){var E=this.__zr;E&&P.addSelfToZr(E),P.__zr=E,P.__hostTarget=this}},O.prototype._detachComponent=function(P){P.__zr&&P.removeSelfFromZr(P.__zr),P.__zr=null,P.__hostTarget=null},O.prototype.getClipPath=function(){return this._clipPath},O.prototype.setClipPath=function(P){this._clipPath&&this._clipPath!==P&&this.removeClipPath(),this._attachComponent(P),this._clipPath=P,this.markRedraw()},O.prototype.removeClipPath=function(){var P=this._clipPath;P&&(this._detachComponent(P),this._clipPath=null,this.markRedraw())},O.prototype.getTextContent=function(){return this._textContent},O.prototype.setTextContent=function(P){var E=this._textContent;E!==P&&(E&&E!==P&&this.removeTextContent(),P.innerTransformable=new p.ZP,this._attachComponent(P),this._textContent=P,this.markRedraw())},O.prototype.setTextConfig=function(P){this.textConfig||(this.textConfig={}),(0,e.l7)(this.textConfig,P),this.markRedraw()},O.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},O.prototype.removeTextContent=function(){var P=this._textContent;P&&(P.innerTransformable=null,this._detachComponent(P),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},O.prototype.getTextGuideLine=function(){return this._textGuide},O.prototype.setTextGuideLine=function(P){this._textGuide&&this._textGuide!==P&&this.removeTextGuideLine(),this._attachComponent(P),this._textGuide=P,this.markRedraw()},O.prototype.removeTextGuideLine=function(){var P=this._textGuide;P&&(this._detachComponent(P),this._textGuide=null,this.markRedraw())},O.prototype.markRedraw=function(){this.__dirty|=i.YV;var P=this.__zr;P&&(this.__inHover?P.refreshHover():P.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},O.prototype.dirty=function(){this.markRedraw()},O.prototype._toggleHoverLayerFlag=function(P){this.__inHover=P;var E=this._textContent,c=this._textGuide;E&&(E.__inHover=P),c&&(c.__inHover=P)},O.prototype.addSelfToZr=function(P){if(this.__zr!==P){this.__zr=P;var E=this.animators;if(E)for(var c=0;c<E.length;c++)P.animation.addAnimator(E[c]);this._clipPath&&this._clipPath.addSelfToZr(P),this._textContent&&this._textContent.addSelfToZr(P),this._textGuide&&this._textGuide.addSelfToZr(P)}},O.prototype.removeSelfFromZr=function(P){if(this.__zr){this.__zr=null;var E=this.animators;if(E)for(var c=0;c<E.length;c++)P.animation.removeAnimator(E[c]);this._clipPath&&this._clipPath.removeSelfFromZr(P),this._textContent&&this._textContent.removeSelfFromZr(P),this._textGuide&&this._textGuide.removeSelfFromZr(P)}},O.prototype.animate=function(P,E,c){var f=P?this[P]:this,u=new o.Z(f,E,c);return P&&(u.targetName=P),this.addAnimator(u,P),u},O.prototype.addAnimator=function(P,E){var c=this.__zr,f=this;P.during(function(){f.updateDuringAnimation(E)}).done(function(){var u=f.animators,d=(0,e.cq)(u,P);d>=0&&u.splice(d,1)}),this.animators.push(P),c&&c.animation.addAnimator(P),c&&c.wakeUp()},O.prototype.updateDuringAnimation=function(P){this.markRedraw()},O.prototype.stopAnimation=function(P,E){for(var c=this.animators,f=c.length,u=[],d=0;d<f;d++){var v=c[d];!P||P===v.scope?v.stop(E):u.push(v)}return this.animators=u,this},O.prototype.animateTo=function(P,E,c){y(this,P,E,c)},O.prototype.animateFrom=function(P,E,c){y(this,P,E,c,!0)},O.prototype._transitionState=function(P,E,c,f){for(var u=y(this,E,c,f),d=0;d<u.length;d++)u[d].__fromStateTransition=P},O.prototype.getBoundingRect=function(){return null},O.prototype.getPaintRect=function(){return null},O.initDefaultProps=function(){var P=O.prototype;P.type="element",P.name="",P.ignore=P.silent=P.isGroup=P.draggable=P.dragging=P.ignoreClip=P.__inHover=!1,P.__dirty=i.YV;var E={};function c(u,d,v){E[u+d+v]||(console.warn("DEPRECATED: '"+u+"' has been deprecated. use '"+d+"', '"+v+"' instead"),E[u+d+v]=!0)}function f(u,d,v,g){Object.defineProperty(P,u,{get:function(){if(!this[d]){var x=this[d]=[];R(this,x)}return this[d]},set:function(x){this[v]=x[0],this[g]=x[1],this[d]=x,R(this,x)}});function R(x,w){Object.defineProperty(w,0,{get:function(){return x[v]},set:function(Z){x[v]=Z}}),Object.defineProperty(w,1,{get:function(){return x[g]},set:function(Z){x[g]=Z}})}}Object.defineProperty&&(f("position","_legacyPos","x","y"),f("scale","_legacyScale","scaleX","scaleY"),f("origin","_legacyOrigin","originX","originY"))}(),O}();(0,e.jB)(T,r.Z),(0,e.jB)(T,p.ZP);function y(O,P,E,c,f){E=E||{};var u=[];b(O,"",O,P,E,c,u,f);var d=u.length,v=!1,g=E.done,R=E.aborted,x=function(){v=!0,d--,d<=0&&(v?g&&g():R&&R())},w=function(){d--,d<=0&&(v?g&&g():R&&R())};d||g&&g(),u.length>0&&E.during&&u[0].during(function(G,K){E.during(K)});for(var Z=0;Z<u.length;Z++){var N=u[Z];x&&N.done(x),w&&N.aborted(w),E.force&&N.duration(E.duration),N.start(E.easing)}return u}function A(O,P,E){for(var c=0;c<E;c++)O[c]=P[c]}function D(O){return(0,e.zG)(O[0])}function L(O,P,E){if((0,e.zG)(P[E]))if((0,e.zG)(O[E])||(O[E]=[]),(0,e.fU)(P[E])){var c=P[E].length;O[E].length!==c&&(O[E]=new P[E].constructor(c),A(O[E],P[E],c))}else{var f=P[E],u=O[E],d=f.length;if(D(f))for(var v=f[0].length,g=0;g<d;g++)u[g]?A(u[g],f[g],v):u[g]=Array.prototype.slice.call(f[g]);else A(u,f,d);u.length=f.length}else O[E]=P[E]}function I(O,P){return O===P||(0,e.zG)(O)&&(0,e.zG)(P)&&F(O,P)}function F(O,P){var E=O.length;if(E!==P.length)return!1;for(var c=0;c<E;c++)if(O[c]!==P[c])return!1;return!0}function b(O,P,E,c,f,u,d,v){for(var g=(0,e.XP)(c),R=f.duration,x=f.delay,w=f.additive,Z=f.setToFinal,N=!(0,e.Kn)(u),G=O.animators,K=[],J=0;J<g.length;J++){var U=g[J],H=c[U];if(H!=null&&E[U]!=null&&(N||u[U]))if((0,e.Kn)(H)&&!(0,e.zG)(H)&&!(0,e.Qq)(H)){if(P){v||(E[U]=H,O.updateDuringAnimation(P));continue}b(O,U,E[U],H,f,u&&u[U],d,v)}else K.push(U);else v||(E[U]=H,O.updateDuringAnimation(P),K.push(U))}var V=K.length;if(!w&&V)for(var S=0;S<G.length;S++){var W=G[S];if(W.targetName===P){var B=W.stopTracks(K);if(B){var X=(0,e.cq)(G,W);G.splice(X,1)}}}if(f.force||(K=(0,e.hX)(K,function(k){return!I(c[k],E[k])}),V=K.length),V>0||f.force&&!d.length){var Y=void 0,et=void 0,z=void 0;if(v){et={},Z&&(Y={});for(var S=0;S<V;S++){var U=K[S];et[U]=E[U],Z?Y[U]=c[U]:E[U]=c[U]}}else if(Z){z={};for(var S=0;S<V;S++){var U=K[S];z[U]=(0,o.V)(E[U]),L(E,c,U)}}var W=new o.Z(E,!1,!1,w?(0,e.hX)(G,function(at){return at.targetName===P}):null);W.targetName=P,f.scope&&(W.scope=f.scope),Z&&Y&&W.whenWithKeys(0,Y,K),z&&W.whenWithKeys(0,z,K),W.whenWithKeys(R==null?500:R,v?et:c,K).delay(x||0),O.addAnimator(W,P),d.push(W)}}it.Z=T},70295:function(Dt,it,C){C.d(it,{V:function(){return A},Z:function(){return R}});var p={linear:function(x){return x},quadraticIn:function(x){return x*x},quadraticOut:function(x){return x*(2-x)},quadraticInOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)},cubicIn:function(x){return x*x*x},cubicOut:function(x){return--x*x*x+1},cubicInOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)},quarticIn:function(x){return x*x*x*x},quarticOut:function(x){return 1- --x*x*x*x},quarticInOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)},quinticIn:function(x){return x*x*x*x*x},quinticOut:function(x){return--x*x*x*x*x+1},quinticInOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)},sinusoidalIn:function(x){return 1-Math.cos(x*Math.PI/2)},sinusoidalOut:function(x){return Math.sin(x*Math.PI/2)},sinusoidalInOut:function(x){return .5*(1-Math.cos(Math.PI*x))},exponentialIn:function(x){return x===0?0:Math.pow(1024,x-1)},exponentialOut:function(x){return x===1?1:1-Math.pow(2,-10*x)},exponentialInOut:function(x){return x===0?0:x===1?1:(x*=2)<1?.5*Math.pow(1024,x-1):.5*(-Math.pow(2,-10*(x-1))+2)},circularIn:function(x){return 1-Math.sqrt(1-x*x)},circularOut:function(x){return Math.sqrt(1- --x*x)},circularInOut:function(x){return(x*=2)<1?-.5*(Math.sqrt(1-x*x)-1):.5*(Math.sqrt(1-(x-=2)*x)+1)},elasticIn:function(x){var w,Z=.1,N=.4;return x===0?0:x===1?1:(!Z||Z<1?(Z=1,w=N/4):w=N*Math.asin(1/Z)/(2*Math.PI),-(Z*Math.pow(2,10*(x-=1))*Math.sin((x-w)*(2*Math.PI)/N)))},elasticOut:function(x){var w,Z=.1,N=.4;return x===0?0:x===1?1:(!Z||Z<1?(Z=1,w=N/4):w=N*Math.asin(1/Z)/(2*Math.PI),Z*Math.pow(2,-10*x)*Math.sin((x-w)*(2*Math.PI)/N)+1)},elasticInOut:function(x){var w,Z=.1,N=.4;return x===0?0:x===1?1:(!Z||Z<1?(Z=1,w=N/4):w=N*Math.asin(1/Z)/(2*Math.PI),(x*=2)<1?-.5*(Z*Math.pow(2,10*(x-=1))*Math.sin((x-w)*(2*Math.PI)/N)):Z*Math.pow(2,-10*(x-=1))*Math.sin((x-w)*(2*Math.PI)/N)*.5+1)},backIn:function(x){var w=1.70158;return x*x*((w+1)*x-w)},backOut:function(x){var w=1.70158;return--x*x*((w+1)*x+w)+1},backInOut:function(x){var w=2.5949095;return(x*=2)<1?.5*(x*x*((w+1)*x-w)):.5*((x-=2)*x*((w+1)*x+w)+2)},bounceIn:function(x){return 1-p.bounceOut(1-x)},bounceOut:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},bounceInOut:function(x){return x<.5?p.bounceIn(x*2)*.5:p.bounceOut(x*2-1)*.5+.5}},o=p,t=C(70324),r=C(74720),n=function(){function x(w){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=w.life||1e3,this._delay=w.delay||0,this.loop=w.loop||!1,this.onframe=w.onframe||t.ZT,this.ondestroy=w.ondestroy||t.ZT,this.onrestart=w.onrestart||t.ZT,w.easing&&this.setEasing(w.easing)}return x.prototype.step=function(w,Z){if(this._inited||(this._startTime=w+this._delay,this._inited=!0),this._paused){this._pausedTime+=Z;return}var N=this._life,G=w-this._startTime-this._pausedTime,K=G/N;K<0&&(K=0),K=Math.min(K,1);var J=this.easingFunc,U=J?J(K):K;if(this.onframe(U),K===1)if(this.loop){var H=G%N;this._startTime=w-H,this._pausedTime=0,this.onrestart()}else return!0;return!1},x.prototype.pause=function(){this._paused=!0},x.prototype.resume=function(){this._paused=!1},x.prototype.setEasing=function(w){this.easing=w,this.easingFunc=(0,t.mf)(w)?w:o[w]||(0,r.H)(w)},x}(),e=n,s=C(96170),h=C(72352),i=Array.prototype.slice;function a(x,w,Z){return(w-x)*Z+x}function l(x,w,Z,N){for(var G=w.length,K=0;K<G;K++)x[K]=a(w[K],Z[K],N);return x}function _(x,w,Z,N){for(var G=w.length,K=G&&w[0].length,J=0;J<G;J++){x[J]||(x[J]=[]);for(var U=0;U<K;U++)x[J][U]=a(w[J][U],Z[J][U],N)}return x}function M(x,w,Z,N){for(var G=w.length,K=0;K<G;K++)x[K]=w[K]+Z[K]*N;return x}function m(x,w,Z,N){for(var G=w.length,K=G&&w[0].length,J=0;J<G;J++){x[J]||(x[J]=[]);for(var U=0;U<K;U++)x[J][U]=w[J][U]+Z[J][U]*N}return x}function T(x,w){for(var Z=x.length,N=w.length,G=Z>N?w:x,K=Math.min(Z,N),J=G[K-1]||{color:[0,0,0,0],offset:0},U=K;U<Math.max(Z,N);U++)G.push({offset:J.offset,color:J.color.slice()})}function y(x,w,Z){var N=x,G=w;if(!(!N.push||!G.push)){var K=N.length,J=G.length;if(K!==J){var U=K>J;if(U)N.length=J;else for(var H=K;H<J;H++)N.push(Z===1?G[H]:i.call(G[H]))}for(var V=N[0]&&N[0].length,H=0;H<N.length;H++)if(Z===1)isNaN(N[H])&&(N[H]=G[H]);else for(var S=0;S<V;S++)isNaN(N[H][S])&&(N[H][S]=G[H][S])}}function A(x){if((0,t.zG)(x)){var w=x.length;if((0,t.zG)(x[0])){for(var Z=[],N=0;N<w;N++)Z.push(i.call(x[N]));return Z}return i.call(x)}return x}function D(x){return x[0]=Math.floor(x[0])||0,x[1]=Math.floor(x[1])||0,x[2]=Math.floor(x[2])||0,x[3]=x[3]==null?1:x[3],"rgba("+x.join(",")+")"}function L(x){return(0,t.zG)(x&&x[0])?2:1}var I=0,F=1,b=2,O=3,P=4,E=5,c=6;function f(x){return x===P||x===E}function u(x){return x===F||x===b}var d=[0,0,0,0],v=function(){function x(w){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=w}return x.prototype.isFinished=function(){return this._finished},x.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},x.prototype.needsAnimate=function(){return this.keyframes.length>=1},x.prototype.getAdditiveTrack=function(){return this._additiveTrack},x.prototype.addKeyframe=function(w,Z,N){this._needsSort=!0;var G=this.keyframes,K=G.length,J=!1,U=c,H=Z;if((0,t.zG)(Z)){var V=L(Z);U=V,(V===1&&!(0,t.hj)(Z[0])||V===2&&!(0,t.hj)(Z[0][0]))&&(J=!0)}else if((0,t.hj)(Z)&&!(0,t.Bu)(Z))U=I;else if((0,t.HD)(Z))if(!isNaN(+Z))U=I;else{var S=s.parse(Z);S&&(H=S,U=O)}else if((0,t.Qq)(Z)){var W=(0,t.l7)({},H);W.colorStops=(0,t.UI)(Z.colorStops,function(X){return{offset:X.offset,color:s.parse(X.color)}}),(0,h.I1)(Z)?U=P:(0,h.gO)(Z)&&(U=E),H=W}K===0?this.valType=U:(U!==this.valType||U===c)&&(J=!0),this.discrete=this.discrete||J;var B={time:w,value:H,rawValue:Z,percent:0};return N&&(B.easing=N,B.easingFunc=(0,t.mf)(N)?N:o[N]||(0,r.H)(N)),G.push(B),B},x.prototype.prepare=function(w,Z){var N=this.keyframes;this._needsSort&&N.sort(function(et,z){return et.time-z.time});for(var G=this.valType,K=N.length,J=N[K-1],U=this.discrete,H=u(G),V=f(G),S=0;S<K;S++){var W=N[S],B=W.value,X=J.value;W.percent=W.time/w,U||(H&&S!==K-1?y(B,X,G):V&&T(B.colorStops,X.colorStops))}if(!U&&G!==E&&Z&&this.needsAnimate()&&Z.needsAnimate()&&G===Z.valType&&!Z._finished){this._additiveTrack=Z;for(var Y=N[0].value,S=0;S<K;S++)G===I?N[S].additiveValue=N[S].value-Y:G===O?N[S].additiveValue=M([],N[S].value,Y,-1):u(G)&&(N[S].additiveValue=G===F?M([],N[S].value,Y,-1):m([],N[S].value,Y,-1))}},x.prototype.step=function(w,Z){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var N=this._additiveTrack!=null,G=N?"additiveValue":"value",K=this.valType,J=this.keyframes,U=J.length,H=this.propName,V=K===O,S,W=this._lastFr,B=Math.min,X,Y;if(U===1)X=Y=J[0];else{if(Z<0)S=0;else if(Z<this._lastFrP){var et=B(W+1,U-1);for(S=et;S>=0&&!(J[S].percent<=Z);S--);S=B(S,U-2)}else{for(S=W;S<U&&!(J[S].percent>Z);S++);S=B(S-1,U-2)}Y=J[S+1],X=J[S]}if(X&&Y){this._lastFr=S,this._lastFrP=Z;var z=Y.percent-X.percent,k=z===0?1:B((Z-X.percent)/z,1);Y.easingFunc&&(k=Y.easingFunc(k));var at=N?this._additiveValue:V?d:w[H];if((u(K)||V)&&!at&&(at=this._additiveValue=[]),this.discrete)w[H]=k<1?X.rawValue:Y.rawValue;else if(u(K))K===F?l(at,X[G],Y[G],k):_(at,X[G],Y[G],k);else if(f(K)){var ft=X[G],_t=Y[G],tt=K===P;w[H]={type:tt?"linear":"radial",x:a(ft.x,_t.x,k),y:a(ft.y,_t.y,k),colorStops:(0,t.UI)(ft.colorStops,function(ut,ct){var st=_t.colorStops[ct];return{offset:a(ut.offset,st.offset,k),color:D(l([],ut.color,st.color,k))}}),global:_t.global},tt?(w[H].x2=a(ft.x2,_t.x2,k),w[H].y2=a(ft.y2,_t.y2,k)):w[H].r=a(ft.r,_t.r,k)}else if(V)l(at,X[G],Y[G],k),N||(w[H]=D(at));else{var rt=a(X[G],Y[G],k);N?this._additiveValue=rt:w[H]=rt}N&&this._addToTarget(w)}}},x.prototype._addToTarget=function(w){var Z=this.valType,N=this.propName,G=this._additiveValue;Z===I?w[N]=w[N]+G:Z===O?(s.parse(w[N],d),M(d,d,G,1),w[N]=D(d)):Z===F?M(w[N],w[N],G,1):Z===b&&m(w[N],w[N],G,1)},x}(),g=function(){function x(w,Z,N,G){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=w,this._loop=Z,Z&&G){(0,t.H)("Can' use additive animation on looped animation.");return}this._additiveAnimators=G,this._allowDiscrete=N}return x.prototype.getMaxTime=function(){return this._maxTime},x.prototype.getDelay=function(){return this._delay},x.prototype.getLoop=function(){return this._loop},x.prototype.getTarget=function(){return this._target},x.prototype.changeTarget=function(w){this._target=w},x.prototype.when=function(w,Z,N){return this.whenWithKeys(w,Z,(0,t.XP)(Z),N)},x.prototype.whenWithKeys=function(w,Z,N,G){for(var K=this._tracks,J=0;J<N.length;J++){var U=N[J],H=K[U];if(!H){H=K[U]=new v(U);var V=void 0,S=this._getAdditiveTrack(U);if(S){var W=S.keyframes,B=W[W.length-1];V=B&&B.value,S.valType===O&&V&&(V=D(V))}else V=this._target[U];if(V==null)continue;w>0&&H.addKeyframe(0,A(V),G),this._trackKeys.push(U)}H.addKeyframe(w,A(Z[U]),G)}return this._maxTime=Math.max(this._maxTime,w),this},x.prototype.pause=function(){this._clip.pause(),this._paused=!0},x.prototype.resume=function(){this._clip.resume(),this._paused=!1},x.prototype.isPaused=function(){return!!this._paused},x.prototype.duration=function(w){return this._maxTime=w,this._force=!0,this},x.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var w=this._doneCbs;if(w)for(var Z=w.length,N=0;N<Z;N++)w[N].call(this)},x.prototype._abortedCallback=function(){this._setTracksFinished();var w=this.animation,Z=this._abortedCbs;if(w&&w.removeClip(this._clip),this._clip=null,Z)for(var N=0;N<Z.length;N++)Z[N].call(this)},x.prototype._setTracksFinished=function(){for(var w=this._tracks,Z=this._trackKeys,N=0;N<Z.length;N++)w[Z[N]].setFinished()},x.prototype._getAdditiveTrack=function(w){var Z,N=this._additiveAnimators;if(N)for(var G=0;G<N.length;G++){var K=N[G].getTrack(w);K&&(Z=K)}return Z},x.prototype.start=function(w){if(!(this._started>0)){this._started=1;for(var Z=this,N=[],G=this._maxTime||0,K=0;K<this._trackKeys.length;K++){var J=this._trackKeys[K],U=this._tracks[J],H=this._getAdditiveTrack(J),V=U.keyframes,S=V.length;if(U.prepare(G,H),U.needsAnimate())if(!this._allowDiscrete&&U.discrete){var W=V[S-1];W&&(Z._target[U.propName]=W.rawValue),U.setFinished()}else N.push(U)}if(N.length||this._force){var B=new e({life:G,loop:this._loop,delay:this._delay||0,onframe:function(X){Z._started=2;var Y=Z._additiveAnimators;if(Y){for(var et=!1,z=0;z<Y.length;z++)if(Y[z]._clip){et=!0;break}et||(Z._additiveAnimators=null)}for(var z=0;z<N.length;z++)N[z].step(Z._target,X);var k=Z._onframeCbs;if(k)for(var z=0;z<k.length;z++)k[z](Z._target,X)},ondestroy:function(){Z._doneCallback()}});this._clip=B,this.animation&&this.animation.addClip(B),w&&B.setEasing(w)}else this._doneCallback();return this}},x.prototype.stop=function(w){if(this._clip){var Z=this._clip;w&&Z.onframe(1),this._abortedCallback()}},x.prototype.delay=function(w){return this._delay=w,this},x.prototype.during=function(w){return w&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(w)),this},x.prototype.done=function(w){return w&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(w)),this},x.prototype.aborted=function(w){return w&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(w)),this},x.prototype.getClip=function(){return this._clip},x.prototype.getTrack=function(w){return this._tracks[w]},x.prototype.getTracks=function(){var w=this;return(0,t.UI)(this._trackKeys,function(Z){return w._tracks[Z]})},x.prototype.stopTracks=function(w,Z){if(!w.length||!this._clip)return!0;for(var N=this._tracks,G=this._trackKeys,K=0;K<w.length;K++){var J=N[w[K]];J&&!J.isFinished()&&(Z?J.step(this._target,1):this._started===1&&J.step(this._target,0),J.setFinished())}for(var U=!0,K=0;K<G.length;K++)if(!N[G[K]].isFinished()){U=!1;break}return U&&this._abortedCallback(),U},x.prototype.saveTo=function(w,Z,N){if(w){Z=Z||this._trackKeys;for(var G=0;G<Z.length;G++){var K=Z[G],J=this._tracks[K];if(!(!J||J.isFinished())){var U=J.keyframes,H=U[N?0:U.length-1];H&&(w[K]=A(H.rawValue))}}}},x.prototype.__changeFinalValue=function(w,Z){Z=Z||(0,t.XP)(w);for(var N=0;N<Z.length;N++){var G=Z[N],K=this._tracks[G];if(K){var J=K.keyframes;if(J.length>1){var U=J.pop();K.addKeyframe(U.time,w[G]),K.prepare(this._maxTime,K.getAdditiveTrack())}}}},x}(),R=g},74720:function(Dt,it,C){C.d(it,{H:function(){return r}});var p=C(14296),o=C(70324),t=/cubic-bezier\(([0-9,\.e ]+)\)/;function r(n){var e=n&&t.exec(n);if(e){var s=e[1].split(","),h=+(0,o.fy)(s[0]),i=+(0,o.fy)(s[1]),a=+(0,o.fy)(s[2]),l=+(0,o.fy)(s[3]);if(isNaN(h+i+a+l))return;var _=[];return function(M){return M<=0?0:M>=1?1:(0,p.kD)(0,h,a,1,M,_)&&(0,p.af)(0,i,l,1,_[0])}}}},75820:function(Dt,it,C){var p=C(54490),o;o=p.Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},it.Z=o},57782:function(Dt,it,C){C.d(it,{Z:function(){return b}});var p=C(62623),o=C(70324),t=C(12012),r=C(10563),n=C(89625),e=C(87368),s=C(16128),h=C(53197),i=C(47297);function a(O,P,E){var c=i.qW.createCanvas(),f=P.getWidth(),u=P.getHeight(),d=c.style;return d&&(d.position="absolute",d.left="0",d.top="0",d.width=f+"px",d.height=u+"px",c.setAttribute("data-zr-dom-id",O)),c.width=f*E,c.height=u*E,c}var l=function(O){(0,t.ZT)(P,O);function P(E,c,f){var u=O.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null;var d;f=f||p.KL,typeof E=="string"?d=a(E,c,f):o.Kn(E)&&(d=E,E=d.id),u.id=E,u.dom=d;var v=d.style;return v&&(o.$j(d),d.onselectstart=function(){return!1},v.padding="0",v.margin="0",v.borderWidth="0"),u.painter=c,u.dpr=f,u}return P.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},P.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},P.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},P.prototype.setUnpainted=function(){this.__firstTimePaint=!0},P.prototype.createBackBuffer=function(){var E=this.dpr;this.domBack=a("back-"+this.id,this.painter,E),this.ctxBack=this.domBack.getContext("2d"),E!==1&&this.ctxBack.scale(E,E)},P.prototype.createRepaintRects=function(E,c,f,u){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var d=[],v=this.maxRepaintRectCount,g=!1,R=new s.Z(0,0,0,0);function x(H){if(!(!H.isFinite()||H.isZero()))if(d.length===0){var V=new s.Z(0,0,0,0);V.copy(H),d.push(V)}else{for(var S=!1,W=1/0,B=0,X=0;X<d.length;++X){var Y=d[X];if(Y.intersect(H)){var et=new s.Z(0,0,0,0);et.copy(Y),et.union(H),d[X]=et,S=!0;break}else if(g){R.copy(H),R.union(Y);var z=H.width*H.height,k=Y.width*Y.height,at=R.width*R.height,ft=at-z-k;ft<W&&(W=ft,B=X)}}if(g&&(d[B].union(H),S=!0),!S){var V=new s.Z(0,0,0,0);V.copy(H),d.push(V)}g||(g=d.length>=v)}}for(var w=this.__startIndex;w<this.__endIndex;++w){var Z=E[w];if(Z){var N=Z.shouldBePainted(f,u,!0,!0),G=Z.__isRendered&&(Z.__dirty&h.YV||!N)?Z.getPrevPaintRect():null;G&&x(G);var K=N&&(Z.__dirty&h.YV||!Z.__isRendered)?Z.getPaintRect():null;K&&x(K)}}for(var w=this.__prevStartIndex;w<this.__prevEndIndex;++w){var Z=c[w],N=Z.shouldBePainted(f,u,!0,!0);if(Z&&(!N||!Z.__zr)&&Z.__isRendered){var G=Z.getPrevPaintRect();G&&x(G)}}var J;do{J=!1;for(var w=0;w<d.length;){if(d[w].isZero()){d.splice(w,1);continue}for(var U=w+1;U<d.length;)d[w].intersect(d[U])?(J=!0,d[w].union(d[U]),d.splice(U,1)):U++;w++}}while(J);return this._paintRects=d,d},P.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},P.prototype.resize=function(E,c){var f=this.dpr,u=this.dom,d=u.style,v=this.domBack;d&&(d.width=E+"px",d.height=c+"px"),u.width=E*f,u.height=c*f,v&&(v.width=E*f,v.height=c*f,f!==1&&this.ctxBack.scale(f,f))},P.prototype.clear=function(E,c,f){var u=this.dom,d=this.ctx,v=u.width,g=u.height;c=c||this.clearColor;var R=this.motionBlur&&!E,x=this.lastFrameAlpha,w=this.dpr,Z=this;R&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(u,0,0,v/w,g/w));var N=this.domBack;function G(K,J,U,H){if(d.clearRect(K,J,U,H),c&&c!=="transparent"){var V=void 0;if(o.Qq(c)){var S=c.global||c.__width===U&&c.__height===H;V=S&&c.__canvasGradient||(0,n.ZF)(d,c,{x:0,y:0,width:U,height:H}),c.__canvasGradient=V,c.__width=U,c.__height=H}else o.dL(c)&&(c.scaleX=c.scaleX||w,c.scaleY=c.scaleY||w,V=(0,e.RZ)(d,c,{dirty:function(){Z.setUnpainted(),Z.__painter.refresh()}}));d.save(),d.fillStyle=V||c,d.fillRect(K,J,U,H),d.restore()}R&&(d.save(),d.globalAlpha=x,d.drawImage(N,K,J,U,H),d.restore())}!f||R?G(0,0,v,g):f.length&&o.S6(f,function(K){G(K.x*w,K.y*w,K.width*w,K.height*w)})},P}(r.Z),_=l,M=C(75820),m=C(54490),T=1e5,y=314159,A=.01,D=.001;function L(O){return O?O.__builtin__?!0:!(typeof O.resize!="function"||typeof O.refresh!="function"):!1}function I(O,P){var E=document.createElement("div");return E.style.cssText=["position:relative","width:"+O+"px","height:"+P+"px","padding:0","margin:0","border-width:0"].join(";")+";",E}var F=function(){function O(P,E,c,f){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!P.nodeName||P.nodeName.toUpperCase()==="CANVAS";this._opts=c=o.l7({},c||{}),this.dpr=c.devicePixelRatio||p.KL,this._singleCanvas=u,this.root=P;var d=P.style;d&&(o.$j(P),P.innerHTML=""),this.storage=E;var v=this._zlevelList;this._prevDisplayList=[];var g=this._layers;if(u){var x=P,w=x.width,Z=x.height;c.width!=null&&(w=c.width),c.height!=null&&(Z=c.height),this.dpr=c.devicePixelRatio||1,x.width=w*this.dpr,x.height=Z*this.dpr,this._width=w,this._height=Z;var N=new _(x,this,this.dpr);N.__builtin__=!0,N.initContext(),g[y]=N,N.zlevel=y,v.push(y),this._domRoot=P}else{this._width=(0,n.ap)(P,0,c),this._height=(0,n.ap)(P,1,c);var R=this._domRoot=I(this._width,this._height);P.appendChild(R)}}return O.prototype.getType=function(){return"canvas"},O.prototype.isSingleCanvas=function(){return this._singleCanvas},O.prototype.getViewportRoot=function(){return this._domRoot},O.prototype.getViewportRootOffset=function(){var P=this.getViewportRoot();if(P)return{offsetLeft:P.offsetLeft||0,offsetTop:P.offsetTop||0}},O.prototype.refresh=function(P){var E=this.storage.getDisplayList(!0),c=this._prevDisplayList,f=this._zlevelList;this._redrawId=Math.random(),this._paintList(E,c,P,this._redrawId);for(var u=0;u<f.length;u++){var d=f[u],v=this._layers[d];if(!v.__builtin__&&v.refresh){var g=u===0?this._backgroundColor:null;v.refresh(g)}}return this._opts.useDirtyRect&&(this._prevDisplayList=E.slice()),this},O.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},O.prototype._paintHoverList=function(P){var E=P.length,c=this._hoverlayer;if(c&&c.clear(),!!E){for(var f={inHover:!0,viewWidth:this._width,viewHeight:this._height},u,d=0;d<E;d++){var v=P[d];v.__inHover&&(c||(c=this._hoverlayer=this.getLayer(T)),u||(u=c.ctx,u.save()),(0,e.Dm)(u,v,f,d===E-1))}u&&u.restore()}},O.prototype.getHoverLayer=function(){return this.getLayer(T)},O.prototype.paintOne=function(P,E){(0,e.RV)(P,E)},O.prototype._paintList=function(P,E,c,f){if(this._redrawId===f){c=c||!1,this._updateLayerStatus(P);var u=this._doPaintList(P,E,c),d=u.finished,v=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),v&&this._paintHoverList(P),d)this.eachLayer(function(R){R.afterBrush&&R.afterBrush()});else{var g=this;(0,M.Z)(function(){g._paintList(P,E,c,f)})}}},O.prototype._compositeManually=function(){var P=this.getLayer(y).ctx,E=this._domRoot.width,c=this._domRoot.height;P.clearRect(0,0,E,c),this.eachBuiltinLayer(function(f){f.virtual&&P.drawImage(f.dom,0,0,E,c)})},O.prototype._doPaintList=function(P,E,c){for(var f=this,u=[],d=this._opts.useDirtyRect,v=0;v<this._zlevelList.length;v++){var g=this._zlevelList[v],R=this._layers[g];R.__builtin__&&R!==this._hoverlayer&&(R.__dirty||c)&&u.push(R)}for(var x=!0,w=!1,Z=function(K){var J=u[K],U=J.ctx,H=d&&J.createRepaintRects(P,E,N._width,N._height),V=c?J.__startIndex:J.__drawIndex,S=!c&&J.incremental&&Date.now,W=S&&Date.now(),B=J.zlevel===N._zlevelList[0]?N._backgroundColor:null;if(J.__startIndex===J.__endIndex)J.clear(!1,B,H);else if(V===J.__startIndex){var X=P[V];(!X.incremental||!X.notClear||c)&&J.clear(!1,B,H)}V===-1&&(console.error("For some unknown reason. drawIndex is -1"),V=J.__startIndex);var Y,et=function(ft){var _t={inHover:!1,allClipped:!1,prevEl:null,viewWidth:f._width,viewHeight:f._height};for(Y=V;Y<J.__endIndex;Y++){var tt=P[Y];if(tt.__inHover&&(w=!0),f._doPaintEl(tt,J,d,ft,_t,Y===J.__endIndex-1),S){var rt=Date.now()-W;if(rt>15)break}}_t.prevElClipPaths&&U.restore()};if(H)if(H.length===0)Y=J.__endIndex;else for(var z=N.dpr,k=0;k<H.length;++k){var at=H[k];U.save(),U.beginPath(),U.rect(at.x*z,at.y*z,at.width*z,at.height*z),U.clip(),et(at),U.restore()}else U.save(),et(),U.restore();J.__drawIndex=Y,J.__drawIndex<J.__endIndex&&(x=!1)},N=this,G=0;G<u.length;G++)Z(G);return m.Z.wxa&&o.S6(this._layers,function(K){K&&K.ctx&&K.ctx.draw&&K.ctx.draw()}),{finished:x,needsRefreshHover:w}},O.prototype._doPaintEl=function(P,E,c,f,u,d){var v=E.ctx;if(c){var g=P.getPaintRect();(!f||g&&g.intersect(f))&&((0,e.Dm)(v,P,u,d),P.setPrevPaintRect(g))}else(0,e.Dm)(v,P,u,d)},O.prototype.getLayer=function(P,E){this._singleCanvas&&!this._needsManuallyCompositing&&(P=y);var c=this._layers[P];return c||(c=new _("zr_"+P,this,this.dpr),c.zlevel=P,c.__builtin__=!0,this._layerConfig[P]?o.TS(c,this._layerConfig[P],!0):this._layerConfig[P-A]&&o.TS(c,this._layerConfig[P-A],!0),E&&(c.virtual=E),this.insertLayer(P,c),c.initContext()),c},O.prototype.insertLayer=function(P,E){var c=this._layers,f=this._zlevelList,u=f.length,d=this._domRoot,v=null,g=-1;if(!c[P]&&L(E)){if(u>0&&P>f[0]){for(g=0;g<u-1&&!(f[g]<P&&f[g+1]>P);g++);v=c[f[g]]}if(f.splice(g+1,0,P),c[P]=E,!E.virtual)if(v){var R=v.dom;R.nextSibling?d.insertBefore(E.dom,R.nextSibling):d.appendChild(E.dom)}else d.firstChild?d.insertBefore(E.dom,d.firstChild):d.appendChild(E.dom);E.__painter=this}},O.prototype.eachLayer=function(P,E){for(var c=this._zlevelList,f=0;f<c.length;f++){var u=c[f];P.call(E,this._layers[u],u)}},O.prototype.eachBuiltinLayer=function(P,E){for(var c=this._zlevelList,f=0;f<c.length;f++){var u=c[f],d=this._layers[u];d.__builtin__&&P.call(E,d,u)}},O.prototype.eachOtherLayer=function(P,E){for(var c=this._zlevelList,f=0;f<c.length;f++){var u=c[f],d=this._layers[u];d.__builtin__||P.call(E,d,u)}},O.prototype.getLayers=function(){return this._layers},O.prototype._updateLayerStatus=function(P){this.eachBuiltinLayer(function(w,Z){w.__dirty=w.__used=!1});function E(w){u&&(u.__endIndex!==w&&(u.__dirty=!0),u.__endIndex=w)}if(this._singleCanvas)for(var c=1;c<P.length;c++){var f=P[c];if(f.zlevel!==P[c-1].zlevel||f.incremental){this._needsManuallyCompositing=!0;break}}var u=null,d=0,v,g;for(g=0;g<P.length;g++){var f=P[g],R=f.zlevel,x=void 0;v!==R&&(v=R,d=0),f.incremental?(x=this.getLayer(R+D,this._needsManuallyCompositing),x.incremental=!0,d=1):x=this.getLayer(R+(d>0?A:0),this._needsManuallyCompositing),x.__builtin__||o.H("ZLevel "+R+" has been used by unkown layer "+x.id),x!==u&&(x.__used=!0,x.__startIndex!==g&&(x.__dirty=!0),x.__startIndex=g,x.incremental?x.__drawIndex=-1:x.__drawIndex=g,E(g),u=x),f.__dirty&h.YV&&!f.__inHover&&(x.__dirty=!0,x.incremental&&x.__drawIndex<0&&(x.__drawIndex=g))}E(g),this.eachBuiltinLayer(function(w,Z){!w.__used&&w.getElementCount()>0&&(w.__dirty=!0,w.__startIndex=w.__endIndex=w.__drawIndex=0),w.__dirty&&w.__drawIndex<0&&(w.__drawIndex=w.__startIndex)})},O.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},O.prototype._clearLayer=function(P){P.clear()},O.prototype.setBackgroundColor=function(P){this._backgroundColor=P,o.S6(this._layers,function(E){E.setUnpainted()})},O.prototype.configLayer=function(P,E){if(E){var c=this._layerConfig;c[P]?o.TS(c[P],E,!0):c[P]=E;for(var f=0;f<this._zlevelList.length;f++){var u=this._zlevelList[f];if(u===P||u===P+A){var d=this._layers[u];o.TS(d,c[P],!0)}}}},O.prototype.delLayer=function(P){var E=this._layers,c=this._zlevelList,f=E[P];f&&(f.dom.parentNode.removeChild(f.dom),delete E[P],c.splice(o.cq(c,P),1))},O.prototype.resize=function(P,E){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var f=this._opts,u=this.root;if(P!=null&&(f.width=P),E!=null&&(f.height=E),P=(0,n.ap)(u,0,f),E=(0,n.ap)(u,1,f),c.style.display="",this._width!==P||E!==this._height){c.style.width=P+"px",c.style.height=E+"px";for(var d in this._layers)this._layers.hasOwnProperty(d)&&this._layers[d].resize(P,E);this.refresh(!0)}this._width=P,this._height=E}else{if(P==null||E==null)return;this._width=P,this._height=E,this.getLayer(y).resize(P,E)}return this},O.prototype.clearLayer=function(P){var E=this._layers[P];E&&E.clear()},O.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},O.prototype.getRenderedCanvas=function(P){if(P=P||{},this._singleCanvas&&!this._compositeManually)return this._layers[y].dom;var E=new _("image",this,P.pixelRatio||this.dpr);E.initContext(),E.clear(!1,P.backgroundColor||this._backgroundColor);var c=E.ctx;if(P.pixelRatio<=this.dpr){this.refresh();var f=E.dom.width,u=E.dom.height;this.eachLayer(function(w){w.__builtin__?c.drawImage(w.dom,0,0,f,u):w.renderToCanvas&&(c.save(),w.renderToCanvas(c),c.restore())})}else for(var d={inHover:!1,viewWidth:this._width,viewHeight:this._height},v=this.storage.getDisplayList(!0),g=0,R=v.length;g<R;g++){var x=v[g];(0,e.Dm)(c,x,d,g===R-1)}return E.dom},O.prototype.getWidth=function(){return this._width},O.prototype.getHeight=function(){return this._height},O}(),b=F},85342:function(Dt,it,C){C.d(it,{a:function(){return t}});var p=C(70324);function o(r,n){return!r||r==="solid"||!(n>0)?null:r==="dashed"?[4*n,2*n]:r==="dotted"?[n]:(0,p.hj)(r)?[r]:(0,p.kJ)(r)?r:null}function t(r){var n=r.style,e=n.lineDash&&n.lineWidth>0&&o(n.lineDash,n.lineWidth),s=n.lineDashOffset;if(e){var h=n.strokeNoScale&&r.getLineScale?r.getLineScale():1;h&&h!==1&&(e=(0,p.UI)(e,function(i){return i/h}),s/=h)}return[e,s]}},87368:function(Dt,it,C){C.d(it,{Dm:function(){return K},RV:function(){return G},RZ:function(){return D}});var p=C(11635),o=C(29436),t=C(6850),r=C(89625),n=C(66210),e=C(13806),s=C(83007),h=C(70324),i=C(85342),a=C(53197),l=C(47297),_=new o.Z(!0);function M(U){var H=U.stroke;return!(H==null||H==="none"||!(U.lineWidth>0))}function m(U){return typeof U=="string"&&U!=="none"}function T(U){var H=U.fill;return H!=null&&H!=="none"}function y(U,H){if(H.fillOpacity!=null&&H.fillOpacity!==1){var V=U.globalAlpha;U.globalAlpha=H.fillOpacity*H.opacity,U.fill(),U.globalAlpha=V}else U.fill()}function A(U,H){if(H.strokeOpacity!=null&&H.strokeOpacity!==1){var V=U.globalAlpha;U.globalAlpha=H.strokeOpacity*H.opacity,U.stroke(),U.globalAlpha=V}else U.stroke()}function D(U,H,V){var S=(0,t.Gq)(H.image,H.__image,V);if((0,t.v5)(S)){var W=U.createPattern(S,H.repeat||"repeat");if(typeof DOMMatrix=="function"&&W&&W.setTransform){var B=new DOMMatrix;B.translateSelf(H.x||0,H.y||0),B.rotateSelf(0,0,(H.rotation||0)*h.I3),B.scaleSelf(H.scaleX||1,H.scaleY||1),W.setTransform(B)}return W}}function L(U,H,V,S){var W,B=M(V),X=T(V),Y=V.strokePercent,et=Y<1,z=!H.path;(!H.silent||et)&&z&&H.createPathProxy();var k=H.path||_,at=H.__dirty;if(!S){var ft=V.fill,_t=V.stroke,tt=X&&!!ft.colorStops,rt=B&&!!_t.colorStops,ut=X&&!!ft.image,ct=B&&!!_t.image,st=void 0,dt=void 0,ht=void 0,xt=void 0,Rt=void 0;(tt||rt)&&(Rt=H.getBoundingRect()),tt&&(st=at?(0,r.ZF)(U,ft,Rt):H.__canvasFillGradient,H.__canvasFillGradient=st),rt&&(dt=at?(0,r.ZF)(U,_t,Rt):H.__canvasStrokeGradient,H.__canvasStrokeGradient=dt),ut&&(ht=at||!H.__canvasFillPattern?D(U,ft,H):H.__canvasFillPattern,H.__canvasFillPattern=ht),ct&&(xt=at||!H.__canvasStrokePattern?D(U,_t,H):H.__canvasStrokePattern,H.__canvasStrokePattern=ht),tt?U.fillStyle=st:ut&&(ht?U.fillStyle=ht:X=!1),rt?U.strokeStyle=dt:ct&&(xt?U.strokeStyle=xt:B=!1)}var mt=H.getGlobalScale();k.setScale(mt[0],mt[1],H.segmentIgnoreThreshold);var St,It;U.setLineDash&&V.lineDash&&(W=(0,i.a)(H),St=W[0],It=W[1]);var gt=!0;(z||at&a.RH)&&(k.setDPR(U.dpr),et?k.setContext(null):(k.setContext(U),gt=!1),k.reset(),H.buildPath(k,H.shape,S),k.toStatic(),H.pathUpdated()),gt&&k.rebuildPath(U,et?Y:1),St&&(U.setLineDash(St),U.lineDashOffset=It),S||(V.strokeFirst?(B&&A(U,V),X&&y(U,V)):(X&&y(U,V),B&&A(U,V))),St&&U.setLineDash([])}function I(U,H,V){var S=H.__image=(0,t.Gq)(V.image,H.__image,H,H.onload);if(!(!S||!(0,t.v5)(S))){var W=V.x||0,B=V.y||0,X=H.getWidth(),Y=H.getHeight(),et=S.width/S.height;if(X==null&&Y!=null?X=Y*et:Y==null&&X!=null?Y=X/et:X==null&&Y==null&&(X=S.width,Y=S.height),V.sWidth&&V.sHeight){var z=V.sx||0,k=V.sy||0;U.drawImage(S,z,k,V.sWidth,V.sHeight,W,B,X,Y)}else if(V.sx&&V.sy){var z=V.sx,k=V.sy,at=X-z,ft=Y-k;U.drawImage(S,z,k,at,ft,W,B,X,Y)}else U.drawImage(S,W,B,X,Y)}}function F(U,H,V){var S,W=V.text;if(W!=null&&(W+=""),W){U.font=V.font||l.Uo,U.textAlign=V.textAlign,U.textBaseline=V.textBaseline;var B=void 0,X=void 0;U.setLineDash&&V.lineDash&&(S=(0,i.a)(H),B=S[0],X=S[1]),B&&(U.setLineDash(B),U.lineDashOffset=X),V.strokeFirst?(M(V)&&U.strokeText(W,V.x,V.y),T(V)&&U.fillText(W,V.x,V.y)):(T(V)&&U.fillText(W,V.x,V.y),M(V)&&U.strokeText(W,V.x,V.y)),B&&U.setLineDash([])}}var b=["shadowBlur","shadowOffsetX","shadowOffsetY"],O=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function P(U,H,V,S,W){var B=!1;if(!S&&(V=V||{},H===V))return!1;if(S||H.opacity!==V.opacity){Z(U,W),B=!0;var X=Math.max(Math.min(H.opacity,1),0);U.globalAlpha=isNaN(X)?p.tj.opacity:X}(S||H.blend!==V.blend)&&(B||(Z(U,W),B=!0),U.globalCompositeOperation=H.blend||p.tj.blend);for(var Y=0;Y<b.length;Y++){var et=b[Y];(S||H[et]!==V[et])&&(B||(Z(U,W),B=!0),U[et]=U.dpr*(H[et]||0))}return(S||H.shadowColor!==V.shadowColor)&&(B||(Z(U,W),B=!0),U.shadowColor=H.shadowColor||p.tj.shadowColor),B}function E(U,H,V,S,W){var B=N(H,W.inHover),X=S?null:V&&N(V,W.inHover)||{};if(B===X)return!1;var Y=P(U,B,X,S,W);if((S||B.fill!==X.fill)&&(Y||(Z(U,W),Y=!0),m(B.fill)&&(U.fillStyle=B.fill)),(S||B.stroke!==X.stroke)&&(Y||(Z(U,W),Y=!0),m(B.stroke)&&(U.strokeStyle=B.stroke)),(S||B.opacity!==X.opacity)&&(Y||(Z(U,W),Y=!0),U.globalAlpha=B.opacity==null?1:B.opacity),H.hasStroke()){var et=B.lineWidth,z=et/(B.strokeNoScale&&H.getLineScale?H.getLineScale():1);U.lineWidth!==z&&(Y||(Z(U,W),Y=!0),U.lineWidth=z)}for(var k=0;k<O.length;k++){var at=O[k],ft=at[0];(S||B[ft]!==X[ft])&&(Y||(Z(U,W),Y=!0),U[ft]=B[ft]||at[1])}return Y}function c(U,H,V,S,W){return P(U,N(H,W.inHover),V&&N(V,W.inHover),S,W)}function f(U,H){var V=H.transform,S=U.dpr||1;V?U.setTransform(S*V[0],S*V[1],S*V[2],S*V[3],S*V[4],S*V[5]):U.setTransform(S,0,0,S,0,0)}function u(U,H,V){for(var S=!1,W=0;W<U.length;W++){var B=U[W];S=S||B.isZeroArea(),f(H,B),H.beginPath(),B.buildPath(H,B.shape),H.clip()}V.allClipped=S}function d(U,H){return U&&H?U[0]!==H[0]||U[1]!==H[1]||U[2]!==H[2]||U[3]!==H[3]||U[4]!==H[4]||U[5]!==H[5]:!(!U&&!H)}var v=1,g=2,R=3,x=4;function w(U){var H=T(U),V=M(U);return!(U.lineDash||!(+H^+V)||H&&typeof U.fill!="string"||V&&typeof U.stroke!="string"||U.strokePercent<1||U.strokeOpacity<1||U.fillOpacity<1)}function Z(U,H){H.batchFill&&U.fill(),H.batchStroke&&U.stroke(),H.batchFill="",H.batchStroke=""}function N(U,H){return H&&U.__hoverStyle||U.style}function G(U,H){K(U,H,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function K(U,H,V,S){var W=H.transform;if(!H.shouldBePainted(V.viewWidth,V.viewHeight,!1,!1)){H.__dirty&=~a.YV,H.__isRendered=!1;return}var B=H.__clipPaths,X=V.prevElClipPaths,Y=!1,et=!1;if((!X||(0,r.cF)(B,X))&&(X&&X.length&&(Z(U,V),U.restore(),et=Y=!0,V.prevElClipPaths=null,V.allClipped=!1,V.prevEl=null),B&&B.length&&(Z(U,V),U.save(),u(B,U,V),Y=!0),V.prevElClipPaths=B),V.allClipped){H.__isRendered=!1;return}H.beforeBrush&&H.beforeBrush(),H.innerBeforeBrush();var z=V.prevEl;z||(et=Y=!0);var k=H instanceof n.ZP&&H.autoBatch&&w(H.style);Y||d(W,z.transform)?(Z(U,V),f(U,H)):k||Z(U,V);var at=N(H,V.inHover);H instanceof n.ZP?(V.lastDrawType!==v&&(et=!0,V.lastDrawType=v),E(U,H,z,et,V),(!k||!V.batchFill&&!V.batchStroke)&&U.beginPath(),L(U,H,at,k),k&&(V.batchFill=at.fill||"",V.batchStroke=at.stroke||"")):H instanceof s.Z?(V.lastDrawType!==R&&(et=!0,V.lastDrawType=R),E(U,H,z,et,V),F(U,H,at)):H instanceof e.ZP?(V.lastDrawType!==g&&(et=!0,V.lastDrawType=g),c(U,H,z,et,V),I(U,H,at)):H.getTemporalDisplayables&&(V.lastDrawType!==x&&(et=!0,V.lastDrawType=x),J(U,H,V)),k&&S&&Z(U,V),H.innerAfterBrush(),H.afterBrush&&H.afterBrush(),V.prevEl=H,H.__dirty=0,H.__isRendered=!0}function J(U,H,V){var S=H.getDisplayables(),W=H.getTemporalDisplayables();U.save();var B={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:V.viewWidth,viewHeight:V.viewHeight,inHover:V.inHover},X,Y;for(X=H.getCursor(),Y=S.length;X<Y;X++){var et=S[X];et.beforeBrush&&et.beforeBrush(),et.innerBeforeBrush(),K(U,et,B,X===Y-1),et.innerAfterBrush(),et.afterBrush&&et.afterBrush(),B.prevEl=et}for(var z=0,k=W.length;z<k;z++){var et=W[z];et.beforeBrush&&et.beforeBrush(),et.innerBeforeBrush(),K(U,et,B,z===k-1),et.innerAfterBrush(),et.afterBrush&&et.afterBrush(),B.prevEl=et}H.clearTemporalDisplayables(),H.notClear=!0,U.restore()}},89625:function(Dt,it,C){C.d(it,{ZF:function(){return r},ap:function(){return s},cF:function(){return n}});function p(h){return isFinite(h)}function o(h,i,a){var l=i.x==null?0:i.x,_=i.x2==null?1:i.x2,M=i.y==null?0:i.y,m=i.y2==null?0:i.y2;i.global||(l=l*a.width+a.x,_=_*a.width+a.x,M=M*a.height+a.y,m=m*a.height+a.y),l=p(l)?l:0,_=p(_)?_:1,M=p(M)?M:0,m=p(m)?m:0;var T=h.createLinearGradient(l,M,_,m);return T}function t(h,i,a){var l=a.width,_=a.height,M=Math.min(l,_),m=i.x==null?.5:i.x,T=i.y==null?.5:i.y,y=i.r==null?.5:i.r;i.global||(m=m*l+a.x,T=T*_+a.y,y=y*M),m=p(m)?m:.5,T=p(T)?T:.5,y=y>=0&&p(y)?y:.5;var A=h.createRadialGradient(m,T,0,m,T,y);return A}function r(h,i,a){for(var l=i.type==="radial"?t(h,i,a):o(h,i,a),_=i.colorStops,M=0;M<_.length;M++)l.addColorStop(_[M].offset,_[M].color);return l}function n(h,i){if(h===i||!h&&!i)return!1;if(!h||!i||h.length!==i.length)return!0;for(var a=0;a<h.length;a++)if(h[a]!==i[a])return!0;return!1}function e(h){return parseInt(h,10)}function s(h,i,a){var l=["width","height"][i],_=["clientWidth","clientHeight"][i],M=["paddingLeft","paddingTop"][i],m=["paddingRight","paddingBottom"][i];if(a[l]!=null&&a[l]!=="auto")return parseFloat(a[l]);var T=document.defaultView.getComputedStyle(h);return(h[_]||e(T[l])||e(h.style[l]))-(e(T[M])||0)-(e(T[m])||0)|0}},62623:function(Dt,it,C){C.d(it,{Ak:function(){return n},GD:function(){return s},KL:function(){return r},iv:function(){return h},vU:function(){return e}});var p=C(54490),o=1;p.Z.hasGlobalWindow&&(o=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var t=0,r=o,n=.4,e="#333",s="#ccc",h="#eee"},55265:function(Dt,it,C){C.d(it,{m:function(){return p}});function p(o,t,r,n,e,s,h){if(e===0)return!1;var i=e,a=0,l=o;if(h>t+i&&h>n+i||h<t-i&&h<n-i||s>o+i&&s>r+i||s<o-i&&s<r-i)return!1;if(o!==r)a=(t-n)/(o-r),l=(o*n-r*t)/(o-r);else return Math.abs(s-o)<=i/2;var _=a*s-h+l,M=_*_/(a*a+1);return M<=i/2*i/2}},48154:function(Dt,it,C){C.d(it,{X:function(){return r}});var p=C(99271),o=1e-8;function t(n,e){return Math.abs(n-e)<o}function r(n,e,s){var h=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var l=n[a];h+=(0,p.Z)(i[0],i[1],l[0],l[1],e,s),i=l}var _=n[0];return(!t(i[0],_[0])||!t(i[1],_[1]))&&(h+=(0,p.Z)(i[0],i[1],_[0],_[1],e,s)),h!==0}},48610:function(Dt,it,C){C.d(it,{m:function(){return o}});var p=C(14296);function o(t,r,n,e,s,h,i,a,l){if(i===0)return!1;var _=i;if(l>r+_&&l>e+_&&l>h+_||l<r-_&&l<e-_&&l<h-_||a>t+_&&a>n+_&&a>s+_||a<t-_&&a<n-_&&a<s-_)return!1;var M=(0,p.Wr)(t,r,n,e,s,h,a,l,null);return M<=_/2}},98733:function(Dt,it,C){C.d(it,{Dp:function(){return a},GM:function(){return _},M3:function(){return h},dz:function(){return n},lP:function(){return s},mU:function(){return i},wI:function(){return M}});var p=C(16128),o=C(86280),t=C(47297),r={};function n(m,T){T=T||t.Uo;var y=r[T];y||(y=r[T]=new o.ZP(500));var A=y.get(m);return A==null&&(A=t.qW.measureText(m,T).width,y.put(m,A)),A}function e(m,T,y,A){var D=n(m,T),L=a(T),I=h(0,D,y),F=i(0,L,A),b=new p.Z(I,F,D,L);return b}function s(m,T,y,A){var D=((m||"")+"").split(`
`),L=D.length;if(L===1)return e(D[0],T,y,A);for(var I=new p.Z(0,0,0,0),F=0;F<D.length;F++){var b=e(D[F],T,y,A);F===0?I.copy(b):I.union(b)}return I}function h(m,T,y){return y==="right"?m-=T:y==="center"&&(m-=T/2),m}function i(m,T,y){return y==="middle"?m-=T/2:y==="bottom"&&(m-=T),m}function a(m){return n("\u56FD",m)}function l(m,T){return platformApi.measureText(m,T)}function _(m,T){return typeof m=="string"?m.lastIndexOf("%")>=0?parseFloat(m)/100*T:parseFloat(m):m}function M(m,T,y){var A=T.position||"inside",D=T.distance!=null?T.distance:5,L=y.height,I=y.width,F=L/2,b=y.x,O=y.y,P="left",E="top";if(A instanceof Array)b+=_(A[0],y.width),O+=_(A[1],y.height),P=null,E=null;else switch(A){case"left":b-=D,O+=F,P="right",E="middle";break;case"right":b+=D+I,O+=F,E="middle";break;case"top":b+=I/2,O-=D,P="center",E="bottom";break;case"bottom":b+=I/2,O+=L+D,P="center";break;case"inside":b+=I/2,O+=F,P="center",E="middle";break;case"insideLeft":b+=D,O+=F,E="middle";break;case"insideRight":b+=I-D,O+=F,P="right",E="middle";break;case"insideTop":b+=I/2,O+=D,P="center";break;case"insideBottom":b+=I/2,O+=L-D,P="center",E="bottom";break;case"insideTopLeft":b+=D,O+=D;break;case"insideTopRight":b+=I-D,O+=D,P="right";break;case"insideBottomLeft":b+=D,O+=L-D,E="bottom";break;case"insideBottomRight":b+=I-D,O+=L-D,P="right",E="bottom";break}return m=m||{},m.x=b,m.y=O,m.align=P,m.verticalAlign=E,m}},47833:function(Dt,it,C){C.d(it,{m:function(){return o}});var p=Math.PI*2;function o(t){return t%=p,t<0&&(t+=p),t}},99271:function(Dt,it,C){C.d(it,{Z:function(){return p}});function p(o,t,r,n,e,s){if(s>t&&s>n||s<t&&s<n||n===t)return 0;var h=(s-t)/(n-t),i=n<t?1:-1;(h===1||h===0)&&(i=n<t?.5:-.5);var a=h*(r-o)+o;return a===e?1/0:a>e?i:0}},16128:function(Dt,it,C){var p=C(58427),o=C(73913),t=Math.min,r=Math.max,n=new o.Z,e=new o.Z,s=new o.Z,h=new o.Z,i=new o.Z,a=new o.Z,l=function(){function _(M,m,T,y){T<0&&(M=M+T,T=-T),y<0&&(m=m+y,y=-y),this.x=M,this.y=m,this.width=T,this.height=y}return _.prototype.union=function(M){var m=t(M.x,this.x),T=t(M.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=r(M.x+M.width,this.x+this.width)-m:this.width=M.width,isFinite(this.y)&&isFinite(this.height)?this.height=r(M.y+M.height,this.y+this.height)-T:this.height=M.height,this.x=m,this.y=T},_.prototype.applyTransform=function(M){_.applyTransform(this,this,M)},_.prototype.calculateTransform=function(M){var m=this,T=M.width/m.width,y=M.height/m.height,A=p.Ue();return p.Iu(A,A,[-m.x,-m.y]),p.bA(A,A,[T,y]),p.Iu(A,A,[M.x,M.y]),A},_.prototype.intersect=function(M,m){if(!M)return!1;M instanceof _||(M=_.create(M));var T=this,y=T.x,A=T.x+T.width,D=T.y,L=T.y+T.height,I=M.x,F=M.x+M.width,b=M.y,O=M.y+M.height,P=!(A<I||F<y||L<b||O<D);if(m){var E=1/0,c=0,f=Math.abs(A-I),u=Math.abs(F-y),d=Math.abs(L-b),v=Math.abs(O-D),g=Math.min(f,u),R=Math.min(d,v);A<I||F<y?g>c&&(c=g,f<u?o.Z.set(a,-f,0):o.Z.set(a,u,0)):g<E&&(E=g,f<u?o.Z.set(i,f,0):o.Z.set(i,-u,0)),L<b||O<D?R>c&&(c=R,d<v?o.Z.set(a,0,-d):o.Z.set(a,0,v)):g<E&&(E=g,d<v?o.Z.set(i,0,d):o.Z.set(i,0,-v))}return m&&o.Z.copy(m,P?i:a),P},_.prototype.contain=function(M,m){var T=this;return M>=T.x&&M<=T.x+T.width&&m>=T.y&&m<=T.y+T.height},_.prototype.clone=function(){return new _(this.x,this.y,this.width,this.height)},_.prototype.copy=function(M){_.copy(this,M)},_.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},_.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},_.prototype.isZero=function(){return this.width===0||this.height===0},_.create=function(M){return new _(M.x,M.y,M.width,M.height)},_.copy=function(M,m){M.x=m.x,M.y=m.y,M.width=m.width,M.height=m.height},_.applyTransform=function(M,m,T){if(!T){M!==m&&_.copy(M,m);return}if(T[1]<1e-5&&T[1]>-1e-5&&T[2]<1e-5&&T[2]>-1e-5){var y=T[0],A=T[3],D=T[4],L=T[5];M.x=m.x*y+D,M.y=m.y*A+L,M.width=m.width*y,M.height=m.height*A,M.width<0&&(M.x+=M.width,M.width=-M.width),M.height<0&&(M.y+=M.height,M.height=-M.height);return}n.x=s.x=m.x,n.y=h.y=m.y,e.x=h.x=m.x+m.width,e.y=s.y=m.y+m.height,n.transform(T),h.transform(T),e.transform(T),s.transform(T),M.x=t(n.x,e.x,s.x,h.x),M.y=t(n.y,e.y,s.y,h.y);var I=r(n.x,e.x,s.x,h.x),F=r(n.y,e.y,s.y,h.y);M.width=I-M.x,M.height=F-M.y},_}();it.Z=l},10563:function(Dt,it){var C=function(){function p(o){o&&(this._$eventProcessor=o)}return p.prototype.on=function(o,t,r,n){this._$handlers||(this._$handlers={});var e=this._$handlers;if(typeof t=="function"&&(n=r,r=t,t=null),!r||!o)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),e[o]||(e[o]=[]);for(var h=0;h<e[o].length;h++)if(e[o][h].h===r)return this;var i={h:r,query:t,ctx:n||this,callAtLast:r.zrEventfulCallAtLast},a=e[o].length-1,l=e[o][a];return l&&l.callAtLast?e[o].splice(a,0,i):e[o].push(i),this},p.prototype.isSilent=function(o){var t=this._$handlers;return!t||!t[o]||!t[o].length},p.prototype.off=function(o,t){var r=this._$handlers;if(!r)return this;if(!o)return this._$handlers={},this;if(t){if(r[o]){for(var n=[],e=0,s=r[o].length;e<s;e++)r[o][e].h!==t&&n.push(r[o][e]);r[o]=n}r[o]&&r[o].length===0&&delete r[o]}else delete r[o];return this},p.prototype.trigger=function(o){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var n=this._$handlers[o],e=this._$eventProcessor;if(n)for(var s=t.length,h=n.length,i=0;i<h;i++){var a=n[i];if(!(e&&e.filter&&a.query!=null&&!e.filter(o,a.query)))switch(s){case 0:a.h.call(a.ctx);break;case 1:a.h.call(a.ctx,t[0]);break;case 2:a.h.call(a.ctx,t[0],t[1]);break;default:a.h.apply(a.ctx,t);break}}return e&&e.afterTrigger&&e.afterTrigger(o),this},p.prototype.triggerWithContext=function(o){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var n=this._$handlers[o],e=this._$eventProcessor;if(n)for(var s=t.length,h=t[s-1],i=n.length,a=0;a<i;a++){var l=n[a];if(!(e&&e.filter&&l.query!=null&&!e.filter(o,l.query)))switch(s){case 0:l.h.call(h);break;case 1:l.h.call(h,t[0]);break;case 2:l.h.call(h,t[0],t[1]);break;default:l.h.apply(h,t.slice(1,s-1));break}}return e&&e.afterTrigger&&e.afterTrigger(o),this},p}();it.Z=C},86280:function(Dt,it,C){var p=function(){function r(n){this.value=n}return r}(),o=function(){function r(){this._len=0}return r.prototype.insert=function(n){var e=new p(n);return this.insertEntry(e),e},r.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},r.prototype.remove=function(n){var e=n.prev,s=n.next;e?e.next=s:this.head=s,s?s.prev=e:this.tail=e,n.next=n.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),t=function(){function r(n){this._list=new o,this._maxSize=10,this._map={},this._maxSize=n}return r.prototype.put=function(n,e){var s=this._list,h=this._map,i=null;if(h[n]==null){var a=s.len(),l=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var _=s.head;s.remove(_),delete h[_.key],i=_.value,this._lastRemovedEntry=_}l?l.value=e:l=new p(e),l.key=n,s.insertEntry(l),h[n]=l}return i},r.prototype.get=function(n){var e=this._map[n],s=this._list;if(e!=null)return e!==s.tail&&(s.remove(e),s.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();it.ZP=t},23736:function(Dt,it,C){var p=C(73913),o=[0,0],t=[0,0],r=new p.Z,n=new p.Z,e=function(){function s(h,i){this._corners=[],this._axes=[],this._origin=[0,0];for(var a=0;a<4;a++)this._corners[a]=new p.Z;for(var a=0;a<2;a++)this._axes[a]=new p.Z;h&&this.fromBoundingRect(h,i)}return s.prototype.fromBoundingRect=function(h,i){var a=this._corners,l=this._axes,_=h.x,M=h.y,m=_+h.width,T=M+h.height;if(a[0].set(_,M),a[1].set(m,M),a[2].set(m,T),a[3].set(_,T),i)for(var y=0;y<4;y++)a[y].transform(i);p.Z.sub(l[0],a[1],a[0]),p.Z.sub(l[1],a[3],a[0]),l[0].normalize(),l[1].normalize();for(var y=0;y<2;y++)this._origin[y]=l[y].dot(a[0])},s.prototype.intersect=function(h,i){var a=!0,l=!i;return r.set(1/0,1/0),n.set(0,0),!this._intersectCheckOneSide(this,h,r,n,l,1)&&(a=!1,l)||!this._intersectCheckOneSide(h,this,r,n,l,-1)&&(a=!1,l)||l||p.Z.copy(i,a?r:n),a},s.prototype._intersectCheckOneSide=function(h,i,a,l,_,M){for(var m=!0,T=0;T<2;T++){var y=this._axes[T];if(this._getProjMinMaxOnAxis(T,h._corners,o),this._getProjMinMaxOnAxis(T,i._corners,t),o[1]<t[0]||o[0]>t[1]){if(m=!1,_)return m;var A=Math.abs(t[0]-o[1]),D=Math.abs(o[0]-t[1]);Math.min(A,D)>l.len()&&(A<D?p.Z.scale(l,y,-A*M):p.Z.scale(l,y,D*M))}else if(a){var A=Math.abs(t[0]-o[1]),D=Math.abs(o[0]-t[1]);Math.min(A,D)<a.len()&&(A<D?p.Z.scale(a,y,A*M):p.Z.scale(a,y,-D*M))}}return m},s.prototype._getProjMinMaxOnAxis=function(h,i,a){for(var l=this._axes[h],_=this._origin,M=i[0].dot(l)+_[h],m=M,T=M,y=1;y<i.length;y++){var A=i[y].dot(l)+_[h];m=Math.min(A,m),T=Math.max(A,T)}a[0]=m,a[1]=T},s}();it.Z=e},29436:function(Dt,it,C){C.d(it,{L:function(){return O}});var p=C(85755),o=C(16128),t=C(62623),r=C(19169),n=C(14296),e={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},s=[],h=[],i=[],a=[],l=[],_=[],M=Math.min,m=Math.max,T=Math.cos,y=Math.sin,A=Math.abs,D=Math.PI,L=D*2,I=typeof Float32Array!="undefined",F=[];function b(E){var c=Math.round(E/D*1e8)/1e8;return c%2*D}function O(E,c){var f=b(E[0]);f<0&&(f+=L);var u=f-E[0],d=E[1];d+=u,!c&&d-f>=L?d=f+L:c&&f-d>=L?d=f-L:!c&&f>d?d=f+(L-b(f-d)):c&&f<d&&(d=f-(L-b(d-f))),E[0]=f,E[1]=d}var P=function(){function E(c){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,c&&(this._saveData=!1),this._saveData&&(this.data=[])}return E.prototype.increaseVersion=function(){this._version++},E.prototype.getVersion=function(){return this._version},E.prototype.setScale=function(c,f,u){u=u||0,u>0&&(this._ux=A(u/t.KL/c)||0,this._uy=A(u/t.KL/f)||0)},E.prototype.setDPR=function(c){this.dpr=c},E.prototype.setContext=function(c){this._ctx=c},E.prototype.getContext=function(){return this._ctx},E.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},E.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},E.prototype.moveTo=function(c,f){return this._drawPendingPt(),this.addData(e.M,c,f),this._ctx&&this._ctx.moveTo(c,f),this._x0=c,this._y0=f,this._xi=c,this._yi=f,this},E.prototype.lineTo=function(c,f){var u=A(c-this._xi),d=A(f-this._yi),v=u>this._ux||d>this._uy;if(this.addData(e.L,c,f),this._ctx&&v&&this._ctx.lineTo(c,f),v)this._xi=c,this._yi=f,this._pendingPtDist=0;else{var g=u*u+d*d;g>this._pendingPtDist&&(this._pendingPtX=c,this._pendingPtY=f,this._pendingPtDist=g)}return this},E.prototype.bezierCurveTo=function(c,f,u,d,v,g){return this._drawPendingPt(),this.addData(e.C,c,f,u,d,v,g),this._ctx&&this._ctx.bezierCurveTo(c,f,u,d,v,g),this._xi=v,this._yi=g,this},E.prototype.quadraticCurveTo=function(c,f,u,d){return this._drawPendingPt(),this.addData(e.Q,c,f,u,d),this._ctx&&this._ctx.quadraticCurveTo(c,f,u,d),this._xi=u,this._yi=d,this},E.prototype.arc=function(c,f,u,d,v,g){this._drawPendingPt(),F[0]=d,F[1]=v,O(F,g),d=F[0],v=F[1];var R=v-d;return this.addData(e.A,c,f,u,u,d,R,0,g?0:1),this._ctx&&this._ctx.arc(c,f,u,d,v,g),this._xi=T(v)*u+c,this._yi=y(v)*u+f,this},E.prototype.arcTo=function(c,f,u,d,v){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(c,f,u,d,v),this},E.prototype.rect=function(c,f,u,d){return this._drawPendingPt(),this._ctx&&this._ctx.rect(c,f,u,d),this.addData(e.R,c,f,u,d),this},E.prototype.closePath=function(){this._drawPendingPt(),this.addData(e.Z);var c=this._ctx,f=this._x0,u=this._y0;return c&&c.closePath(),this._xi=f,this._yi=u,this},E.prototype.fill=function(c){c&&c.fill(),this.toStatic()},E.prototype.stroke=function(c){c&&c.stroke(),this.toStatic()},E.prototype.len=function(){return this._len},E.prototype.setData=function(c){var f=c.length;!(this.data&&this.data.length===f)&&I&&(this.data=new Float32Array(f));for(var u=0;u<f;u++)this.data[u]=c[u];this._len=f},E.prototype.appendPath=function(c){c instanceof Array||(c=[c]);for(var f=c.length,u=0,d=this._len,v=0;v<f;v++)u+=c[v].len();I&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+u));for(var v=0;v<f;v++)for(var g=c[v].data,R=0;R<g.length;R++)this.data[d++]=g[R];this._len=d},E.prototype.addData=function(c,f,u,d,v,g,R,x,w){if(this._saveData){var Z=this.data;this._len+arguments.length>Z.length&&(this._expandData(),Z=this.data);for(var N=0;N<arguments.length;N++)Z[this._len++]=arguments[N]}},E.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},E.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var c=[],f=0;f<this._len;f++)c[f]=this.data[f];this.data=c}},E.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var c=this.data;c instanceof Array&&(c.length=this._len,I&&this._len>11&&(this.data=new Float32Array(c)))}},E.prototype.getBoundingRect=function(){i[0]=i[1]=l[0]=l[1]=Number.MAX_VALUE,a[0]=a[1]=_[0]=_[1]=-Number.MAX_VALUE;var c=this.data,f=0,u=0,d=0,v=0,g;for(g=0;g<this._len;){var R=c[g++],x=g===1;switch(x&&(f=c[g],u=c[g+1],d=f,v=u),R){case e.M:f=d=c[g++],u=v=c[g++],l[0]=d,l[1]=v,_[0]=d,_[1]=v;break;case e.L:(0,r.u4)(f,u,c[g],c[g+1],l,_),f=c[g++],u=c[g++];break;case e.C:(0,r.H9)(f,u,c[g++],c[g++],c[g++],c[g++],c[g],c[g+1],l,_),f=c[g++],u=c[g++];break;case e.Q:(0,r.mJ)(f,u,c[g++],c[g++],c[g],c[g+1],l,_),f=c[g++],u=c[g++];break;case e.A:var w=c[g++],Z=c[g++],N=c[g++],G=c[g++],K=c[g++],J=c[g++]+K;g+=1;var U=!c[g++];x&&(d=T(K)*N+w,v=y(K)*G+Z),(0,r.qL)(w,Z,N,G,K,J,U,l,_),f=T(J)*N+w,u=y(J)*G+Z;break;case e.R:d=f=c[g++],v=u=c[g++];var H=c[g++],V=c[g++];(0,r.u4)(d,v,d+H,v+V,l,_);break;case e.Z:f=d,u=v;break}p.VV(i,i,l),p.Fp(a,a,_)}return g===0&&(i[0]=i[1]=a[0]=a[1]=0),new o.Z(i[0],i[1],a[0]-i[0],a[1]-i[1])},E.prototype._calculateLength=function(){var c=this.data,f=this._len,u=this._ux,d=this._uy,v=0,g=0,R=0,x=0;this._pathSegLen||(this._pathSegLen=[]);for(var w=this._pathSegLen,Z=0,N=0,G=0;G<f;){var K=c[G++],J=G===1;J&&(v=c[G],g=c[G+1],R=v,x=g);var U=-1;switch(K){case e.M:v=R=c[G++],g=x=c[G++];break;case e.L:{var H=c[G++],V=c[G++],S=H-v,W=V-g;(A(S)>u||A(W)>d||G===f-1)&&(U=Math.sqrt(S*S+W*W),v=H,g=V);break}case e.C:{var B=c[G++],X=c[G++],H=c[G++],V=c[G++],Y=c[G++],et=c[G++];U=(0,n.Ci)(v,g,B,X,H,V,Y,et,10),v=Y,g=et;break}case e.Q:{var B=c[G++],X=c[G++],H=c[G++],V=c[G++];U=(0,n.wQ)(v,g,B,X,H,V,10),v=H,g=V;break}case e.A:var z=c[G++],k=c[G++],at=c[G++],ft=c[G++],_t=c[G++],tt=c[G++],rt=tt+_t;G+=1;var ut=!c[G++];J&&(R=T(_t)*at+z,x=y(_t)*ft+k),U=m(at,ft)*M(L,Math.abs(tt)),v=T(rt)*at+z,g=y(rt)*ft+k;break;case e.R:{R=v=c[G++],x=g=c[G++];var ct=c[G++],st=c[G++];U=ct*2+st*2;break}case e.Z:{var S=R-v,W=x-g;U=Math.sqrt(S*S+W*W),v=R,g=x;break}}U>=0&&(w[N++]=U,Z+=U)}return this._pathLen=Z,Z},E.prototype.rebuildPath=function(c,f){var u=this.data,d=this._ux,v=this._uy,g=this._len,R,x,w,Z,N,G,K=f<1,J,U,H=0,V=0,S,W=0,B,X;if(!(K&&(this._pathSegLen||this._calculateLength(),J=this._pathSegLen,U=this._pathLen,S=f*U,!S)))t:for(var Y=0;Y<g;){var et=u[Y++],z=Y===1;switch(z&&(w=u[Y],Z=u[Y+1],R=w,x=Z),et!==e.L&&W>0&&(c.lineTo(B,X),W=0),et){case e.M:R=w=u[Y++],x=Z=u[Y++],c.moveTo(w,Z);break;case e.L:{N=u[Y++],G=u[Y++];var k=A(N-w),at=A(G-Z);if(k>d||at>v){if(K){var ft=J[V++];if(H+ft>S){var _t=(S-H)/ft;c.lineTo(w*(1-_t)+N*_t,Z*(1-_t)+G*_t);break t}H+=ft}c.lineTo(N,G),w=N,Z=G,W=0}else{var tt=k*k+at*at;tt>W&&(B=N,X=G,W=tt)}break}case e.C:{var rt=u[Y++],ut=u[Y++],ct=u[Y++],st=u[Y++],dt=u[Y++],ht=u[Y++];if(K){var ft=J[V++];if(H+ft>S){var _t=(S-H)/ft;(0,n.Vz)(w,rt,ct,dt,_t,s),(0,n.Vz)(Z,ut,st,ht,_t,h),c.bezierCurveTo(s[1],h[1],s[2],h[2],s[3],h[3]);break t}H+=ft}c.bezierCurveTo(rt,ut,ct,st,dt,ht),w=dt,Z=ht;break}case e.Q:{var rt=u[Y++],ut=u[Y++],ct=u[Y++],st=u[Y++];if(K){var ft=J[V++];if(H+ft>S){var _t=(S-H)/ft;(0,n.Lx)(w,rt,ct,_t,s),(0,n.Lx)(Z,ut,st,_t,h),c.quadraticCurveTo(s[1],h[1],s[2],h[2]);break t}H+=ft}c.quadraticCurveTo(rt,ut,ct,st),w=ct,Z=st;break}case e.A:var xt=u[Y++],Rt=u[Y++],mt=u[Y++],St=u[Y++],It=u[Y++],gt=u[Y++],Tt=u[Y++],At=!u[Y++],j=mt>St?mt:St,q=A(mt-St)>.001,yt=It+gt,Mt=!1;if(K){var ft=J[V++];H+ft>S&&(yt=It+gt*(S-H)/ft,Mt=!0),H+=ft}if(q&&c.ellipse?c.ellipse(xt,Rt,mt,St,Tt,It,yt,At):c.arc(xt,Rt,j,It,yt,At),Mt)break t;z&&(R=T(It)*mt+xt,x=y(It)*St+Rt),w=T(yt)*mt+xt,Z=y(yt)*St+Rt;break;case e.R:R=w=u[Y],x=Z=u[Y+1],N=u[Y++],G=u[Y++];var Q=u[Y++],$=u[Y++];if(K){var ft=J[V++];if(H+ft>S){var nt=S-H;c.moveTo(N,G),c.lineTo(N+M(nt,Q),G),nt-=Q,nt>0&&c.lineTo(N+Q,G+M(nt,$)),nt-=$,nt>0&&c.lineTo(N+m(Q-nt,0),G+$),nt-=Q,nt>0&&c.lineTo(N,G+m($-nt,0));break t}H+=ft}c.rect(N,G,Q,$);break;case e.Z:if(K){var ft=J[V++];if(H+ft>S){var _t=(S-H)/ft;c.lineTo(w*(1-_t)+R*_t,Z*(1-_t)+x*_t);break t}H+=ft}c.closePath(),w=R,Z=x}}},E.prototype.clone=function(){var c=new E,f=this.data;return c.data=f.slice?f.slice():Array.prototype.slice.call(f),c._len=this._len,c},E.CMD=e,E.initDefaultProps=function(){var c=E.prototype;c._saveData=!0,c._ux=0,c._uy=0,c._pendingPtDist=0,c._version=0}(),E}();it.Z=P},73913:function(Dt,it){var C=function(){function p(o,t){this.x=o||0,this.y=t||0}return p.prototype.copy=function(o){return this.x=o.x,this.y=o.y,this},p.prototype.clone=function(){return new p(this.x,this.y)},p.prototype.set=function(o,t){return this.x=o,this.y=t,this},p.prototype.equal=function(o){return o.x===this.x&&o.y===this.y},p.prototype.add=function(o){return this.x+=o.x,this.y+=o.y,this},p.prototype.scale=function(o){this.x*=o,this.y*=o},p.prototype.scaleAndAdd=function(o,t){this.x+=o.x*t,this.y+=o.y*t},p.prototype.sub=function(o){return this.x-=o.x,this.y-=o.y,this},p.prototype.dot=function(o){return this.x*o.x+this.y*o.y},p.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},p.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},p.prototype.normalize=function(){var o=this.len();return this.x/=o,this.y/=o,this},p.prototype.distance=function(o){var t=this.x-o.x,r=this.y-o.y;return Math.sqrt(t*t+r*r)},p.prototype.distanceSquare=function(o){var t=this.x-o.x,r=this.y-o.y;return t*t+r*r},p.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},p.prototype.transform=function(o){if(o){var t=this.x,r=this.y;return this.x=o[0]*t+o[2]*r+o[4],this.y=o[1]*t+o[3]*r+o[5],this}},p.prototype.toArray=function(o){return o[0]=this.x,o[1]=this.y,o},p.prototype.fromArray=function(o){this.x=o[0],this.y=o[1]},p.set=function(o,t,r){o.x=t,o.y=r},p.copy=function(o,t){o.x=t.x,o.y=t.y},p.len=function(o){return Math.sqrt(o.x*o.x+o.y*o.y)},p.lenSquare=function(o){return o.x*o.x+o.y*o.y},p.dot=function(o,t){return o.x*t.x+o.y*t.y},p.add=function(o,t,r){o.x=t.x+r.x,o.y=t.y+r.y},p.sub=function(o,t,r){o.x=t.x-r.x,o.y=t.y-r.y},p.scale=function(o,t,r){o.x=t.x*r,o.y=t.y*r},p.scaleAndAdd=function(o,t,r,n){o.x=t.x+r.x*n,o.y=t.y+r.y*n},p.lerp=function(o,t,r,n){var e=1-n;o.x=e*t.x+n*r.x,o.y=e*t.y+n*r.y},p}();it.Z=C},23463:function(Dt,it,C){C.d(it,{dN:function(){return l},kY:function(){return _}});var p=C(58427),o=C(85755),t=p.yR,r=5e-5;function n(M){return M>r||M<-r}var e=[],s=[],h=p.Ue(),i=Math.abs,a=function(){function M(){}return M.prototype.getLocalTransform=function(m){return M.getLocalTransform(this,m)},M.prototype.setPosition=function(m){this.x=m[0],this.y=m[1]},M.prototype.setScale=function(m){this.scaleX=m[0],this.scaleY=m[1]},M.prototype.setSkew=function(m){this.skewX=m[0],this.skewY=m[1]},M.prototype.setOrigin=function(m){this.originX=m[0],this.originY=m[1]},M.prototype.needLocalTransform=function(){return n(this.rotation)||n(this.x)||n(this.y)||n(this.scaleX-1)||n(this.scaleY-1)||n(this.skewX)||n(this.skewY)},M.prototype.updateTransform=function(){var m=this.parent&&this.parent.transform,T=this.needLocalTransform(),y=this.transform;if(!(T||m)){y&&t(y);return}y=y||p.Ue(),T?this.getLocalTransform(y):t(y),m&&(T?p.dC(y,m,y):p.JG(y,m)),this.transform=y,this._resolveGlobalScaleRatio(y)},M.prototype._resolveGlobalScaleRatio=function(m){var T=this.globalScaleRatio;if(T!=null&&T!==1){this.getGlobalScale(e);var y=e[0]<0?-1:1,A=e[1]<0?-1:1,D=((e[0]-y)*T+y)/e[0]||0,L=((e[1]-A)*T+A)/e[1]||0;m[0]*=D,m[1]*=D,m[2]*=L,m[3]*=L}this.invTransform=this.invTransform||p.Ue(),p.U_(this.invTransform,m)},M.prototype.getComputedTransform=function(){for(var m=this,T=[];m;)T.push(m),m=m.parent;for(;m=T.pop();)m.updateTransform();return this.transform},M.prototype.setLocalTransform=function(m){if(m){var T=m[0]*m[0]+m[1]*m[1],y=m[2]*m[2]+m[3]*m[3],A=Math.atan2(m[1],m[0]),D=Math.PI/2+A-Math.atan2(m[3],m[2]);y=Math.sqrt(y)*Math.cos(D),T=Math.sqrt(T),this.skewX=D,this.skewY=0,this.rotation=-A,this.x=+m[4],this.y=+m[5],this.scaleX=T,this.scaleY=y,this.originX=0,this.originY=0}},M.prototype.decomposeTransform=function(){if(this.transform){var m=this.parent,T=this.transform;m&&m.transform&&(p.dC(s,m.invTransform,T),T=s);var y=this.originX,A=this.originY;(y||A)&&(h[4]=y,h[5]=A,p.dC(s,T,h),s[4]-=y,s[5]-=A,T=s),this.setLocalTransform(T)}},M.prototype.getGlobalScale=function(m){var T=this.transform;return m=m||[],T?(m[0]=Math.sqrt(T[0]*T[0]+T[1]*T[1]),m[1]=Math.sqrt(T[2]*T[2]+T[3]*T[3]),T[0]<0&&(m[0]=-m[0]),T[3]<0&&(m[1]=-m[1]),m):(m[0]=1,m[1]=1,m)},M.prototype.transformCoordToLocal=function(m,T){var y=[m,T],A=this.invTransform;return A&&o.Ne(y,y,A),y},M.prototype.transformCoordToGlobal=function(m,T){var y=[m,T],A=this.transform;return A&&o.Ne(y,y,A),y},M.prototype.getLineScale=function(){var m=this.transform;return m&&i(m[0]-1)>1e-10&&i(m[3]-1)>1e-10?Math.sqrt(i(m[0]*m[3]-m[2]*m[1])):1},M.prototype.copyTransform=function(m){_(this,m)},M.getLocalTransform=function(m,T){T=T||[];var y=m.originX||0,A=m.originY||0,D=m.scaleX,L=m.scaleY,I=m.anchorX,F=m.anchorY,b=m.rotation||0,O=m.x,P=m.y,E=m.skewX?Math.tan(m.skewX):0,c=m.skewY?Math.tan(-m.skewY):0;if(y||A||I||F){var f=y+I,u=A+F;T[4]=-f*D-E*u*L,T[5]=-u*L-c*f*D}else T[4]=T[5]=0;return T[0]=D,T[3]=L,T[1]=c*D,T[2]=E*L,b&&p.U1(T,T,b),T[4]+=y+O,T[5]+=A+P,T},M.initDefaultProps=function(){var m=M.prototype;m.scaleX=m.scaleY=m.globalScaleRatio=1,m.x=m.y=m.originX=m.originY=m.skewX=m.skewY=m.rotation=m.anchorX=m.anchorY=0}(),M}(),l=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function _(M,m){for(var T=0;T<l.length;T++){var y=l[T];M[y]=m[y]}}it.ZP=a},66159:function(Dt,it){var C=Math.round(Math.random()*9),p=typeof Object.defineProperty=="function",o=function(){function t(){this._id="__ec_inner_"+C++}return t.prototype.get=function(r){return this._guard(r)[this._id]},t.prototype.set=function(r,n){var e=this._guard(r);return p?Object.defineProperty(e,this._id,{value:n,enumerable:!1,configurable:!0}):e[this._id]=n,this},t.prototype.delete=function(r){return this.has(r)?(delete this._guard(r)[this._id],!0):!1},t.prototype.has=function(r){return!!this._guard(r)[this._id]},t.prototype._guard=function(r){if(r!==Object(r))throw TypeError("Value of WeakMap is not a non-null object.");return r},t}();it.Z=o},19169:function(Dt,it,C){C.d(it,{H9:function(){return T},mJ:function(){return y},qL:function(){return A},u4:function(){return _},zk:function(){return l}});var p=C(85755),o=C(14296),t=Math.min,r=Math.max,n=Math.sin,e=Math.cos,s=Math.PI*2,h=p.Ue(),i=p.Ue(),a=p.Ue();function l(D,L,I){if(D.length!==0){for(var F=D[0],b=F[0],O=F[0],P=F[1],E=F[1],c=1;c<D.length;c++)F=D[c],b=t(b,F[0]),O=r(O,F[0]),P=t(P,F[1]),E=r(E,F[1]);L[0]=b,L[1]=P,I[0]=O,I[1]=E}}function _(D,L,I,F,b,O){b[0]=t(D,I),b[1]=t(L,F),O[0]=r(D,I),O[1]=r(L,F)}var M=[],m=[];function T(D,L,I,F,b,O,P,E,c,f){var u=o.pP,d=o.af,v=u(D,I,b,P,M);c[0]=1/0,c[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var g=0;g<v;g++){var R=d(D,I,b,P,M[g]);c[0]=t(R,c[0]),f[0]=r(R,f[0])}v=u(L,F,O,E,m);for(var g=0;g<v;g++){var x=d(L,F,O,E,m[g]);c[1]=t(x,c[1]),f[1]=r(x,f[1])}c[0]=t(D,c[0]),f[0]=r(D,f[0]),c[0]=t(P,c[0]),f[0]=r(P,f[0]),c[1]=t(L,c[1]),f[1]=r(L,f[1]),c[1]=t(E,c[1]),f[1]=r(E,f[1])}function y(D,L,I,F,b,O,P,E){var c=o.QC,f=o.Zm,u=r(t(c(D,I,b),1),0),d=r(t(c(L,F,O),1),0),v=f(D,I,b,u),g=f(L,F,O,d);P[0]=t(D,b,v),P[1]=t(L,O,g),E[0]=r(D,b,v),E[1]=r(L,O,g)}function A(D,L,I,F,b,O,P,E,c){var f=p.VV,u=p.Fp,d=Math.abs(b-O);if(d%s<1e-4&&d>1e-4){E[0]=D-I,E[1]=L-F,c[0]=D+I,c[1]=L+F;return}if(h[0]=e(b)*I+D,h[1]=n(b)*F+L,i[0]=e(O)*I+D,i[1]=n(O)*F+L,f(E,h,i),u(c,h,i),b=b%s,b<0&&(b=b+s),O=O%s,O<0&&(O=O+s),b>O&&!P?O+=s:b<O&&P&&(b+=s),P){var v=O;O=b,b=v}for(var g=0;g<O;g+=Math.PI/2)g>b&&(a[0]=e(g)*I+D,a[1]=n(g)*F+L,f(E,a,E),u(c,a,c))}},14296:function(Dt,it,C){C.d(it,{AZ:function(){return F},Ci:function(){return L},Jz:function(){return b},Lx:function(){return P},QC:function(){return O},Vz:function(){return A},Wr:function(){return E},X_:function(){return m},Zm:function(){return I},af:function(){return M},kD:function(){return T},pP:function(){return y},t1:function(){return D},wQ:function(){return c}});var p=C(85755),o=Math.pow,t=Math.sqrt,r=1e-8,n=1e-4,e=t(3),s=1/3,h=(0,p.Ue)(),i=(0,p.Ue)(),a=(0,p.Ue)();function l(f){return f>-r&&f<r}function _(f){return f>r||f<-r}function M(f,u,d,v,g){var R=1-g;return R*R*(R*f+3*g*u)+g*g*(g*v+3*R*d)}function m(f,u,d,v,g){var R=1-g;return 3*(((u-f)*R+2*(d-u)*g)*R+(v-d)*g*g)}function T(f,u,d,v,g,R){var x=v+3*(u-d)-f,w=3*(d-u*2+f),Z=3*(u-f),N=f-g,G=w*w-3*x*Z,K=w*Z-9*x*N,J=Z*Z-3*w*N,U=0;if(l(G)&&l(K))if(l(w))R[0]=0;else{var H=-Z/w;H>=0&&H<=1&&(R[U++]=H)}else{var V=K*K-4*G*J;if(l(V)){var S=K/G,H=-w/x+S,W=-S/2;H>=0&&H<=1&&(R[U++]=H),W>=0&&W<=1&&(R[U++]=W)}else if(V>0){var B=t(V),X=G*w+1.5*x*(-K+B),Y=G*w+1.5*x*(-K-B);X<0?X=-o(-X,s):X=o(X,s),Y<0?Y=-o(-Y,s):Y=o(Y,s);var H=(-w-(X+Y))/(3*x);H>=0&&H<=1&&(R[U++]=H)}else{var et=(2*G*w-3*x*K)/(2*t(G*G*G)),z=Math.acos(et)/3,k=t(G),at=Math.cos(z),H=(-w-2*k*at)/(3*x),W=(-w+k*(at+e*Math.sin(z)))/(3*x),ft=(-w+k*(at-e*Math.sin(z)))/(3*x);H>=0&&H<=1&&(R[U++]=H),W>=0&&W<=1&&(R[U++]=W),ft>=0&&ft<=1&&(R[U++]=ft)}}return U}function y(f,u,d,v,g){var R=6*d-12*u+6*f,x=9*u+3*v-3*f-9*d,w=3*u-3*f,Z=0;if(l(x)){if(_(R)){var N=-w/R;N>=0&&N<=1&&(g[Z++]=N)}}else{var G=R*R-4*x*w;if(l(G))g[0]=-R/(2*x);else if(G>0){var K=t(G),N=(-R+K)/(2*x),J=(-R-K)/(2*x);N>=0&&N<=1&&(g[Z++]=N),J>=0&&J<=1&&(g[Z++]=J)}}return Z}function A(f,u,d,v,g,R){var x=(u-f)*g+f,w=(d-u)*g+u,Z=(v-d)*g+d,N=(w-x)*g+x,G=(Z-w)*g+w,K=(G-N)*g+N;R[0]=f,R[1]=x,R[2]=N,R[3]=K,R[4]=K,R[5]=G,R[6]=Z,R[7]=v}function D(f,u,d,v,g,R,x,w,Z,N,G){var K,J=.005,U=1/0,H,V,S,W;h[0]=Z,h[1]=N;for(var B=0;B<1;B+=.05)i[0]=M(f,d,g,x,B),i[1]=M(u,v,R,w,B),S=(0,p.WU)(h,i),S<U&&(K=B,U=S);U=1/0;for(var X=0;X<32&&!(J<n);X++)H=K-J,V=K+J,i[0]=M(f,d,g,x,H),i[1]=M(u,v,R,w,H),S=(0,p.WU)(i,h),H>=0&&S<U?(K=H,U=S):(a[0]=M(f,d,g,x,V),a[1]=M(u,v,R,w,V),W=(0,p.WU)(a,h),V<=1&&W<U?(K=V,U=W):J*=.5);return G&&(G[0]=M(f,d,g,x,K),G[1]=M(u,v,R,w,K)),t(U)}function L(f,u,d,v,g,R,x,w,Z){for(var N=f,G=u,K=0,J=1/Z,U=1;U<=Z;U++){var H=U*J,V=M(f,d,g,x,H),S=M(u,v,R,w,H),W=V-N,B=S-G;K+=Math.sqrt(W*W+B*B),N=V,G=S}return K}function I(f,u,d,v){var g=1-v;return g*(g*f+2*v*u)+v*v*d}function F(f,u,d,v){return 2*((1-v)*(u-f)+v*(d-u))}function b(f,u,d,v,g){var R=f-2*u+d,x=2*(u-f),w=f-v,Z=0;if(l(R)){if(_(x)){var N=-w/x;N>=0&&N<=1&&(g[Z++]=N)}}else{var G=x*x-4*R*w;if(l(G)){var N=-x/(2*R);N>=0&&N<=1&&(g[Z++]=N)}else if(G>0){var K=t(G),N=(-x+K)/(2*R),J=(-x-K)/(2*R);N>=0&&N<=1&&(g[Z++]=N),J>=0&&J<=1&&(g[Z++]=J)}}return Z}function O(f,u,d){var v=f+d-2*u;return v===0?.5:(f-u)/v}function P(f,u,d,v,g){var R=(u-f)*v+f,x=(d-u)*v+u,w=(x-R)*v+R;g[0]=f,g[1]=R,g[2]=w,g[3]=w,g[4]=x,g[5]=d}function E(f,u,d,v,g,R,x,w,Z){var N,G=.005,K=1/0;h[0]=x,h[1]=w;for(var J=0;J<1;J+=.05){i[0]=I(f,d,g,J),i[1]=I(u,v,R,J);var U=(0,p.WU)(h,i);U<K&&(N=J,K=U)}K=1/0;for(var H=0;H<32&&!(G<n);H++){var V=N-G,S=N+G;i[0]=I(f,d,g,V),i[1]=I(u,v,R,V);var U=(0,p.WU)(i,h);if(V>=0&&U<K)N=V,K=U;else{a[0]=I(f,d,g,S),a[1]=I(u,v,R,S);var W=(0,p.WU)(a,h);S<=1&&W<K?(N=S,K=W):G*=.5}}return Z&&(Z[0]=I(f,d,g,N),Z[1]=I(u,v,R,N)),t(K)}function c(f,u,d,v,g,R,x){for(var w=f,Z=u,N=0,G=1/x,K=1;K<=x;K++){var J=K*G,U=I(f,d,g,J),H=I(u,v,R,J),V=U-w,S=H-Z;N+=Math.sqrt(V*V+S*S),w=U,Z=H}return N}},80400:function(Dt,it,C){C.d(it,{F1:function(){return m},UK:function(){return l},A4:function(){return h},YB:function(){return s}});var p=C(54490),o=Math.log(2);function t(T,y,A,D,L,I){var F=D+"-"+L,b=T.length;if(I.hasOwnProperty(F))return I[F];if(y===1){var O=Math.round(Math.log((1<<b)-1&~L)/o);return T[A][O]}for(var P=D|1<<A,E=A+1;D&1<<E;)E++;for(var c=0,f=0,u=0;f<b;f++){var d=1<<f;d&L||(c+=(u%2?-1:1)*T[A][f]*t(T,y-1,E,P,L|d,I),u++)}return I[F]=c,c}function r(T,y){var A=[[T[0],T[1],1,0,0,0,-y[0]*T[0],-y[0]*T[1]],[0,0,0,T[0],T[1],1,-y[1]*T[0],-y[1]*T[1]],[T[2],T[3],1,0,0,0,-y[2]*T[2],-y[2]*T[3]],[0,0,0,T[2],T[3],1,-y[3]*T[2],-y[3]*T[3]],[T[4],T[5],1,0,0,0,-y[4]*T[4],-y[4]*T[5]],[0,0,0,T[4],T[5],1,-y[5]*T[4],-y[5]*T[5]],[T[6],T[7],1,0,0,0,-y[6]*T[6],-y[6]*T[7]],[0,0,0,T[6],T[7],1,-y[7]*T[6],-y[7]*T[7]]],D={},L=t(A,8,0,0,0,D);if(L!==0){for(var I=[],F=0;F<8;F++)for(var b=0;b<8;b++)I[b]==null&&(I[b]=0),I[b]+=((F+b)%2?-1:1)*t(A,7,F===0?1:0,1<<F,1<<b,D)/L*y[F];return function(O,P,E){var c=P*I[6]+E*I[7]+1;O[0]=(P*I[0]+E*I[1]+I[2])/c,O[1]=(P*I[3]+E*I[4]+I[5])/c}}}var n="___zrEVENTSAVED",e=[];function s(T,y,A,D,L){return h(e,y,D,L,!0)&&h(T,A,e[0],e[1])}function h(T,y,A,D,L){if(y.getBoundingClientRect&&p.Z.domSupported&&!l(y)){var I=y[n]||(y[n]={}),F=i(y,I),b=a(F,I,L);if(b)return b(T,A,D),!0}return!1}function i(T,y){var A=y.markers;if(A)return A;A=y.markers=[];for(var D=["left","right"],L=["top","bottom"],I=0;I<4;I++){var F=document.createElement("div"),b=F.style,O=I%2,P=(I>>1)%2;b.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",D[O]+":0",L[P]+":0",D[1-O]+":auto",L[1-P]+":auto",""].join("!important;"),T.appendChild(F),A.push(F)}return A}function a(T,y,A){for(var D=A?"invTrans":"trans",L=y[D],I=y.srcCoords,F=[],b=[],O=!0,P=0;P<4;P++){var E=T[P].getBoundingClientRect(),c=2*P,f=E.left,u=E.top;F.push(f,u),O=O&&I&&f===I[c]&&u===I[c+1],b.push(T[P].offsetLeft,T[P].offsetTop)}return O&&L?L:(y.srcCoords=F,y[D]=A?r(b,F):r(F,b))}function l(T){return T.nodeName.toUpperCase()==="CANVAS"}var _=/([&<>"'])/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function m(T){return T==null?"":(T+"").replace(_,function(y,A){return M[A]})}},54490:function(Dt,it){var C=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),p=function(){function r(){this.browser=new C,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return r}(),o=new p;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(o.wxa=!0,o.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?o.worker=!0:typeof navigator=="undefined"?(o.node=!0,o.svgSupported=!0):t(navigator.userAgent,o);function t(r,n){var e=n.browser,s=r.match(/Firefox\/([\d.]+)/),h=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),i=r.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(r);s&&(e.firefox=!0,e.version=s[1]),h&&(e.ie=!0,e.version=h[1]),i&&(e.edge=!0,e.version=i[1],e.newEdge=+i[1].split(".")[0]>18),a&&(e.weChat=!0),n.svgSupported=typeof SVGRect!="undefined",n.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,n.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),n.domSupported=typeof document!="undefined";var l=document.documentElement.style;n.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),n.transformSupported=n.transform3dSupported||e.ie&&+e.version>=9}it.Z=o},11300:function(Dt,it,C){C.d(it,{OD:function(){return i},Oo:function(){return l},eV:function(){return e},iP:function(){return h},sT:function(){return M},x1:function(){return m},xg:function(){return _}});var p=C(54490),o=C(80400),t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,r=[],n=p.Z.browser.firefox&&+p.Z.browser.version.split(".")[0]<39;function e(T,y,A,D){return A=A||{},D?s(T,y,A):n&&y.layerX!=null&&y.layerX!==y.offsetX?(A.zrX=y.layerX,A.zrY=y.layerY):y.offsetX!=null?(A.zrX=y.offsetX,A.zrY=y.offsetY):s(T,y,A),A}function s(T,y,A){if(p.Z.domSupported&&T.getBoundingClientRect){var D=y.clientX,L=y.clientY;if((0,o.UK)(T)){var I=T.getBoundingClientRect();A.zrX=D-I.left,A.zrY=L-I.top;return}else if((0,o.A4)(r,T,D,L)){A.zrX=r[0],A.zrY=r[1];return}}A.zrX=A.zrY=0}function h(T){return T||window.event}function i(T,y,A){if(y=h(y),y.zrX!=null)return y;var D=y.type,L=D&&D.indexOf("touch")>=0;if(L){var F=D!=="touchend"?y.targetTouches[0]:y.changedTouches[0];F&&e(T,F,y,A)}else{e(T,y,y,A);var I=a(y);y.zrDelta=I?I/120:-(y.detail||0)/3}var b=y.button;return y.which==null&&b!==void 0&&t.test(y.type)&&(y.which=b&1?1:b&2?3:b&4?2:0),y}function a(T){var y=T.wheelDelta;if(y)return y;var A=T.deltaX,D=T.deltaY;if(A==null||D==null)return y;var L=Math.abs(D!==0?D:A),I=D>0?-1:D<0?1:A>0?-1:1;return 3*L*I}function l(T,y,A,D){T.addEventListener(y,A,D)}function _(T,y,A,D){T.removeEventListener(y,A,D)}var M=function(T){T.preventDefault(),T.stopPropagation(),T.cancelBubble=!0};function m(T){return T.which===2||T.which===3}},58427:function(Dt,it,C){C.d(it,{Iu:function(){return n},JG:function(){return t},U1:function(){return e},U_:function(){return h},Ue:function(){return p},bA:function(){return s},d9:function(){return i},dC:function(){return r},yR:function(){return o}});function p(){return[1,0,0,1,0,0]}function o(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function t(a,l){return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a}function r(a,l,_){var M=l[0]*_[0]+l[2]*_[1],m=l[1]*_[0]+l[3]*_[1],T=l[0]*_[2]+l[2]*_[3],y=l[1]*_[2]+l[3]*_[3],A=l[0]*_[4]+l[2]*_[5]+l[4],D=l[1]*_[4]+l[3]*_[5]+l[5];return a[0]=M,a[1]=m,a[2]=T,a[3]=y,a[4]=A,a[5]=D,a}function n(a,l,_){return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4]+_[0],a[5]=l[5]+_[1],a}function e(a,l,_){var M=l[0],m=l[2],T=l[4],y=l[1],A=l[3],D=l[5],L=Math.sin(_),I=Math.cos(_);return a[0]=M*I+y*L,a[1]=-M*L+y*I,a[2]=m*I+A*L,a[3]=-m*L+I*A,a[4]=I*T+L*D,a[5]=I*D-L*T,a}function s(a,l,_){var M=_[0],m=_[1];return a[0]=l[0]*M,a[1]=l[1]*m,a[2]=l[2]*M,a[3]=l[3]*m,a[4]=l[4]*M,a[5]=l[5]*m,a}function h(a,l){var _=l[0],M=l[2],m=l[4],T=l[1],y=l[3],A=l[5],D=_*y-T*M;return D?(D=1/D,a[0]=y*D,a[1]=-T*D,a[2]=-M*D,a[3]=_*D,a[4]=(M*A-y*m)*D,a[5]=(T*m-_*A)*D,a):null}function i(a){var l=p();return t(l,a),l}},47297:function(Dt,it,C){C.d(it,{Uo:function(){return t},n5:function(){return p},qW:function(){return i},rk:function(){return o}});var p=12,o="sans-serif",t=p+"px "+o,r=20,n=100,e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function s(l){var _={};if(typeof JSON=="undefined")return _;for(var M=0;M<l.length;M++){var m=String.fromCharCode(M+32),T=(l.charCodeAt(M)-r)/n;_[m]=T}return _}var h=s(e),i={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var l,_;return function(M,m){if(!l){var T=i.createCanvas();l=T&&T.getContext("2d")}if(l)return _!==m&&(_=l.font=m||t),l.measureText(M);M=M||"",m=m||t;var y=/(\d+)px/.exec(m),A=y&&+y[1]||p,D=0;if(m.indexOf("mono")>=0)D=A*M.length;else for(var L=0;L<M.length;L++){var I=h[M[L]];D+=I==null?A:I*A}return{width:D}}}(),loadImage:function(l,_,M){var m=new Image;return m.onload=_,m.onerror=M,m.src=l,m}};function a(l){for(var _ in i)l[_]&&(i[_]=l[_])}},59330:function(Dt,it,C){C.d(it,{Z:function(){return l}});var p=32,o=7,t=256;function r(_){for(var M=0;_>=p;)M|=_&1,_>>=1;return _+M}function n(_,M,m,T){var y=M+1;if(y===m)return 1;if(T(_[y++],_[M])<0){for(;y<m&&T(_[y],_[y-1])<0;)y++;e(_,M,y)}else for(;y<m&&T(_[y],_[y-1])>=0;)y++;return y-M}function e(_,M,m){for(m--;M<m;){var T=_[M];_[M++]=_[m],_[m--]=T}}function s(_,M,m,T,y){for(T===M&&T++;T<m;T++){for(var A=_[T],D=M,L=T,I;D<L;)I=D+L>>>1,y(A,_[I])<0?L=I:D=I+1;var F=T-D;switch(F){case 3:_[D+3]=_[D+2];case 2:_[D+2]=_[D+1];case 1:_[D+1]=_[D];break;default:for(;F>0;)_[D+F]=_[D+F-1],F--}_[D]=A}}function h(_,M,m,T,y,A){var D=0,L=0,I=1;if(A(_,M[m+y])>0){for(L=T-y;I<L&&A(_,M[m+y+I])>0;)D=I,I=(I<<1)+1,I<=0&&(I=L);I>L&&(I=L),D+=y,I+=y}else{for(L=y+1;I<L&&A(_,M[m+y-I])<=0;)D=I,I=(I<<1)+1,I<=0&&(I=L);I>L&&(I=L);var F=D;D=y-I,I=y-F}for(D++;D<I;){var b=D+(I-D>>>1);A(_,M[m+b])>0?D=b+1:I=b}return I}function i(_,M,m,T,y,A){var D=0,L=0,I=1;if(A(_,M[m+y])<0){for(L=y+1;I<L&&A(_,M[m+y-I])<0;)D=I,I=(I<<1)+1,I<=0&&(I=L);I>L&&(I=L);var F=D;D=y-I,I=y-F}else{for(L=T-y;I<L&&A(_,M[m+y+I])>=0;)D=I,I=(I<<1)+1,I<=0&&(I=L);I>L&&(I=L),D+=y,I+=y}for(D++;D<I;){var b=D+(I-D>>>1);A(_,M[m+b])<0?I=b:D=b+1}return I}function a(_,M){var m=o,T=0,y=t,A=0,D,L,I=0;T=_.length,T<2*t&&(y=T>>>1);var F=[];A=T<120?5:T<1542?10:T<119151?19:40,D=[],L=[];function b(u,d){D[I]=u,L[I]=d,I+=1}function O(){for(;I>1;){var u=I-2;if(u>=1&&L[u-1]<=L[u]+L[u+1]||u>=2&&L[u-2]<=L[u]+L[u-1])L[u-1]<L[u+1]&&u--;else if(L[u]>L[u+1])break;E(u)}}function P(){for(;I>1;){var u=I-2;u>0&&L[u-1]<L[u+1]&&u--,E(u)}}function E(u){var d=D[u],v=L[u],g=D[u+1],R=L[u+1];L[u]=v+R,u===I-3&&(D[u+1]=D[u+2],L[u+1]=L[u+2]),I--;var x=i(_[g],_,d,v,0,M);d+=x,v-=x,v!==0&&(R=h(_[d+v-1],_,g,R,R-1,M),R!==0&&(v<=R?c(d,v,g,R):f(d,v,g,R)))}function c(u,d,v,g){var R=0;for(R=0;R<d;R++)F[R]=_[u+R];var x=0,w=v,Z=u;if(_[Z++]=_[w++],--g===0){for(R=0;R<d;R++)_[Z+R]=F[x+R];return}if(d===1){for(R=0;R<g;R++)_[Z+R]=_[w+R];_[Z+g]=F[x];return}for(var N=m,G,K,J;;){G=0,K=0,J=!1;do if(M(_[w],F[x])<0){if(_[Z++]=_[w++],K++,G=0,--g===0){J=!0;break}}else if(_[Z++]=F[x++],G++,K=0,--d===1){J=!0;break}while((G|K)<N);if(J)break;do{if(G=i(_[w],F,x,d,0,M),G!==0){for(R=0;R<G;R++)_[Z+R]=F[x+R];if(Z+=G,x+=G,d-=G,d<=1){J=!0;break}}if(_[Z++]=_[w++],--g===0){J=!0;break}if(K=h(F[x],_,w,g,0,M),K!==0){for(R=0;R<K;R++)_[Z+R]=_[w+R];if(Z+=K,w+=K,g-=K,g===0){J=!0;break}}if(_[Z++]=F[x++],--d===1){J=!0;break}N--}while(G>=o||K>=o);if(J)break;N<0&&(N=0),N+=2}if(m=N,m<1&&(m=1),d===1){for(R=0;R<g;R++)_[Z+R]=_[w+R];_[Z+g]=F[x]}else{if(d===0)throw new Error;for(R=0;R<d;R++)_[Z+R]=F[x+R]}}function f(u,d,v,g){var R=0;for(R=0;R<g;R++)F[R]=_[v+R];var x=u+d-1,w=g-1,Z=v+g-1,N=0,G=0;if(_[Z--]=_[x--],--d===0){for(N=Z-(g-1),R=0;R<g;R++)_[N+R]=F[R];return}if(g===1){for(Z-=d,x-=d,G=Z+1,N=x+1,R=d-1;R>=0;R--)_[G+R]=_[N+R];_[Z]=F[w];return}for(var K=m;;){var J=0,U=0,H=!1;do if(M(F[w],_[x])<0){if(_[Z--]=_[x--],J++,U=0,--d===0){H=!0;break}}else if(_[Z--]=F[w--],U++,J=0,--g===1){H=!0;break}while((J|U)<K);if(H)break;do{if(J=d-i(F[w],_,u,d,d-1,M),J!==0){for(Z-=J,x-=J,d-=J,G=Z+1,N=x+1,R=J-1;R>=0;R--)_[G+R]=_[N+R];if(d===0){H=!0;break}}if(_[Z--]=F[w--],--g===1){H=!0;break}if(U=g-h(_[x],F,0,g,g-1,M),U!==0){for(Z-=U,w-=U,g-=U,G=Z+1,N=w+1,R=0;R<U;R++)_[G+R]=F[N+R];if(g<=1){H=!0;break}}if(_[Z--]=_[x--],--d===0){H=!0;break}K--}while(J>=o||U>=o);if(H)break;K<0&&(K=0),K+=2}if(m=K,m<1&&(m=1),g===1){for(Z-=d,x-=d,G=Z+1,N=x+1,R=d-1;R>=0;R--)_[G+R]=_[N+R];_[Z]=F[w]}else{if(g===0)throw new Error;for(N=Z-(g-1),R=0;R<g;R++)_[N+R]=F[R]}}return{mergeRuns:O,forceMergeRuns:P,pushRun:b}}function l(_,M,m,T){m||(m=0),T||(T=_.length);var y=T-m;if(!(y<2)){var A=0;if(y<p){A=n(_,m,T,M),s(_,m,T,m+A,M);return}var D=a(_,M),L=r(y);do{if(A=n(_,m,T,M),A<L){var I=y;I>L&&(I=L),s(_,m,m+I,m+A,M),A=I}D.pushRun(m,A),D.mergeRuns(),y-=A,m+=A}while(y!==0);D.forceMergeRuns()}}},70324:function(Dt,it,C){C.d(it,{$j:function(){return It},Bu:function(){return Y},H:function(){return T},HD:function(){return G},I3:function(){return At},Jn:function(){return D},Jv:function(){return et},Kj:function(){return X},Kn:function(){return U},M8:function(){return m},MY:function(){return ft},Mh:function(){return S},Qq:function(){return W},R1:function(){return k},RI:function(){return gt},S6:function(){return c},TS:function(){return A},UI:function(){return f},WA:function(){return w},WW:function(){return mt},XP:function(){return g},XW:function(){return O},ZT:function(){return Tt},ak:function(){return x},cd:function(){return K},ce:function(){return I},cq:function(){return b},d9:function(){return y},dL:function(){return B},fU:function(){return V},fy:function(){return tt},hX:function(){return d},hj:function(){return J},hu:function(){return _t},jB:function(){return P},kJ:function(){return Z},kW:function(){return Rt},l7:function(){return L},mf:function(){return N},nW:function(){return St},pD:function(){return z},s7:function(){return ut},sE:function(){return v},tP:function(){return at},u4:function(){return u},zG:function(){return E}});var p=C(47297),o=u(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(j,q){return j["[object "+q+"]"]=!0,j},{}),t=u(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(j,q){return j["[object "+q+"Array]"]=!0,j},{}),r=Object.prototype.toString,n=Array.prototype,e=n.forEach,s=n.filter,h=n.slice,i=n.map,a=function(){}.constructor,l=a?a.prototype:null,_="__proto__",M=2311;function m(){return M++}function T(){for(var j=[],q=0;q<arguments.length;q++)j[q]=arguments[q];typeof console!="undefined"&&console.error.apply(console,j)}function y(j){if(j==null||typeof j!="object")return j;var q=j,yt=r.call(j);if(yt==="[object Array]"){if(!ct(j)){q=[];for(var Mt=0,Q=j.length;Mt<Q;Mt++)q[Mt]=y(j[Mt])}}else if(t[yt]){if(!ct(j)){var $=j.constructor;if($.from)q=$.from(j);else{q=new $(j.length);for(var Mt=0,Q=j.length;Mt<Q;Mt++)q[Mt]=j[Mt]}}}else if(!o[yt]&&!ct(j)&&!S(j)){q={};for(var nt in j)j.hasOwnProperty(nt)&&nt!==_&&(q[nt]=y(j[nt]))}return q}function A(j,q,yt){if(!U(q)||!U(j))return yt?y(q):j;for(var Mt in q)if(q.hasOwnProperty(Mt)&&Mt!==_){var Q=j[Mt],$=q[Mt];U($)&&U(Q)&&!Z($)&&!Z(Q)&&!S($)&&!S(Q)&&!H($)&&!H(Q)&&!ct($)&&!ct(Q)?A(Q,$,yt):(yt||!(Mt in j))&&(j[Mt]=y(q[Mt]))}return j}function D(j,q){for(var yt=j[0],Mt=1,Q=j.length;Mt<Q;Mt++)yt=A(yt,j[Mt],q);return yt}function L(j,q){if(Object.assign)Object.assign(j,q);else for(var yt in q)q.hasOwnProperty(yt)&&yt!==_&&(j[yt]=q[yt]);return j}function I(j,q,yt){for(var Mt=g(q),Q=0;Q<Mt.length;Q++){var $=Mt[Q];(yt?q[$]!=null:j[$]==null)&&(j[$]=q[$])}return j}var F=p.qW.createCanvas;function b(j,q){if(j){if(j.indexOf)return j.indexOf(q);for(var yt=0,Mt=j.length;yt<Mt;yt++)if(j[yt]===q)return yt}return-1}function O(j,q){var yt=j.prototype;function Mt(){}Mt.prototype=q.prototype,j.prototype=new Mt;for(var Q in yt)yt.hasOwnProperty(Q)&&(j.prototype[Q]=yt[Q]);j.prototype.constructor=j,j.superClass=q}function P(j,q,yt){if(j="prototype"in j?j.prototype:j,q="prototype"in q?q.prototype:q,Object.getOwnPropertyNames)for(var Mt=Object.getOwnPropertyNames(q),Q=0;Q<Mt.length;Q++){var $=Mt[Q];$!=="constructor"&&(yt?q[$]!=null:j[$]==null)&&(j[$]=q[$])}else I(j,q,yt)}function E(j){return!j||typeof j=="string"?!1:typeof j.length=="number"}function c(j,q,yt){if(j&&q)if(j.forEach&&j.forEach===e)j.forEach(q,yt);else if(j.length===+j.length)for(var Mt=0,Q=j.length;Mt<Q;Mt++)q.call(yt,j[Mt],Mt,j);else for(var $ in j)j.hasOwnProperty($)&&q.call(yt,j[$],$,j)}function f(j,q,yt){if(!j)return[];if(!q)return at(j);if(j.map&&j.map===i)return j.map(q,yt);for(var Mt=[],Q=0,$=j.length;Q<$;Q++)Mt.push(q.call(yt,j[Q],Q,j));return Mt}function u(j,q,yt,Mt){if(j&&q){for(var Q=0,$=j.length;Q<$;Q++)yt=q.call(Mt,yt,j[Q],Q,j);return yt}}function d(j,q,yt){if(!j)return[];if(!q)return at(j);if(j.filter&&j.filter===s)return j.filter(q,yt);for(var Mt=[],Q=0,$=j.length;Q<$;Q++)q.call(yt,j[Q],Q,j)&&Mt.push(j[Q]);return Mt}function v(j,q,yt){if(j&&q){for(var Mt=0,Q=j.length;Mt<Q;Mt++)if(q.call(yt,j[Mt],Mt,j))return j[Mt]}}function g(j){if(!j)return[];if(Object.keys)return Object.keys(j);var q=[];for(var yt in j)j.hasOwnProperty(yt)&&q.push(yt);return q}function R(j,q){for(var yt=[],Mt=2;Mt<arguments.length;Mt++)yt[Mt-2]=arguments[Mt];return function(){return j.apply(q,yt.concat(h.call(arguments)))}}var x=l&&N(l.bind)?l.call.bind(l.bind):R;function w(j){for(var q=[],yt=1;yt<arguments.length;yt++)q[yt-1]=arguments[yt];return function(){return j.apply(this,q.concat(h.call(arguments)))}}function Z(j){return Array.isArray?Array.isArray(j):r.call(j)==="[object Array]"}function N(j){return typeof j=="function"}function G(j){return typeof j=="string"}function K(j){return r.call(j)==="[object String]"}function J(j){return typeof j=="number"}function U(j){var q=typeof j;return q==="function"||!!j&&q==="object"}function H(j){return!!o[r.call(j)]}function V(j){return!!t[r.call(j)]}function S(j){return typeof j=="object"&&typeof j.nodeType=="number"&&typeof j.ownerDocument=="object"}function W(j){return j.colorStops!=null}function B(j){return j.image!=null}function X(j){return r.call(j)==="[object RegExp]"}function Y(j){return j!==j}function et(){for(var j=[],q=0;q<arguments.length;q++)j[q]=arguments[q];for(var yt=0,Mt=j.length;yt<Mt;yt++)if(j[yt]!=null)return j[yt]}function z(j,q){return j!=null?j:q}function k(j,q,yt){return j!=null?j:q!=null?q:yt}function at(j){for(var q=[],yt=1;yt<arguments.length;yt++)q[yt-1]=arguments[yt];return h.apply(j,q)}function ft(j){if(typeof j=="number")return[j,j,j,j];var q=j.length;return q===2?[j[0],j[1],j[0],j[1]]:q===3?[j[0],j[1],j[2],j[1]]:j}function _t(j,q){if(!j)throw new Error(q)}function tt(j){return j==null?null:typeof j.trim=="function"?j.trim():j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var rt="__ec_primitive__";function ut(j){j[rt]=!0}function ct(j){return j[rt]}var st=function(){function j(){this.data={}}return j.prototype.delete=function(q){var yt=this.has(q);return yt&&delete this.data[q],yt},j.prototype.has=function(q){return this.data.hasOwnProperty(q)},j.prototype.get=function(q){return this.data[q]},j.prototype.set=function(q,yt){return this.data[q]=yt,this},j.prototype.keys=function(){return g(this.data)},j.prototype.forEach=function(q){var yt=this.data;for(var Mt in yt)yt.hasOwnProperty(Mt)&&q(yt[Mt],Mt)},j}(),dt=typeof Map=="function";function ht(){return dt?new Map:new st}var xt=function(){function j(q){var yt=Z(q);this.data=ht();var Mt=this;q instanceof j?q.each(Q):q&&c(q,Q);function Q($,nt){yt?Mt.set($,nt):Mt.set(nt,$)}}return j.prototype.hasKey=function(q){return this.data.has(q)},j.prototype.get=function(q){return this.data.get(q)},j.prototype.set=function(q,yt){return this.data.set(q,yt),yt},j.prototype.each=function(q,yt){this.data.forEach(function(Mt,Q){q.call(yt,Mt,Q)})},j.prototype.keys=function(){var q=this.data.keys();return dt?Array.from(q):q},j.prototype.removeKey=function(q){this.data.delete(q)},j}();function Rt(j){return new xt(j)}function mt(j,q){for(var yt=new j.constructor(j.length+q.length),Mt=0;Mt<j.length;Mt++)yt[Mt]=j[Mt];for(var Q=j.length,Mt=0;Mt<q.length;Mt++)yt[Mt+Q]=q[Mt];return yt}function St(j,q){var yt;if(Object.create)yt=Object.create(j);else{var Mt=function(){};Mt.prototype=j,yt=new Mt}return q&&L(yt,q),yt}function It(j){var q=j.style;q.webkitUserSelect="none",q.userSelect="none",q.webkitTapHighlightColor="rgba(0,0,0,0)",q["-webkit-touch-callout"]="none"}function gt(j,q){return j.hasOwnProperty(q)}function Tt(){}var At=180/Math.PI},85755:function(Dt,it,C){C.d(it,{Fp:function(){return E},Fv:function(){return y},IH:function(){return n},JG:function(){return o},Ne:function(){return O},TE:function(){return A},TK:function(){return D},Ue:function(){return p},VV:function(){return P},WU:function(){return I},Zh:function(){return h},bA:function(){return T},d9:function(){return t},lu:function(){return s},od:function(){return e},t7:function(){return b},t8:function(){return r}});function p(c,f){return c==null&&(c=0),f==null&&(f=0),[c,f]}function o(c,f){return c[0]=f[0],c[1]=f[1],c}function t(c){return[c[0],c[1]]}function r(c,f,u){return c[0]=f,c[1]=u,c}function n(c,f,u){return c[0]=f[0]+u[0],c[1]=f[1]+u[1],c}function e(c,f,u,d){return c[0]=f[0]+u[0]*d,c[1]=f[1]+u[1]*d,c}function s(c,f,u){return c[0]=f[0]-u[0],c[1]=f[1]-u[1],c}function h(c){return Math.sqrt(a(c))}var i=null;function a(c){return c[0]*c[0]+c[1]*c[1]}var l=null;function _(c,f,u){return c[0]=f[0]*u[0],c[1]=f[1]*u[1],c}function M(c,f,u){return c[0]=f[0]/u[0],c[1]=f[1]/u[1],c}function m(c,f){return c[0]*f[0]+c[1]*f[1]}function T(c,f,u){return c[0]=f[0]*u,c[1]=f[1]*u,c}function y(c,f){var u=h(f);return u===0?(c[0]=0,c[1]=0):(c[0]=f[0]/u,c[1]=f[1]/u),c}function A(c,f){return Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}var D=A;function L(c,f){return(c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1])}var I=L;function F(c,f){return c[0]=-f[0],c[1]=-f[1],c}function b(c,f,u,d){return c[0]=f[0]+d*(u[0]-f[0]),c[1]=f[1]+d*(u[1]-f[1]),c}function O(c,f,u){var d=f[0],v=f[1];return c[0]=u[0]*d+u[2]*v+u[4],c[1]=u[1]*d+u[3]*v+u[5],c}function P(c,f,u){return c[0]=Math.min(f[0],u[0]),c[1]=Math.min(f[1],u[1]),c}function E(c,f,u){return c[0]=Math.max(f[0],u[0]),c[1]=Math.max(f[1],u[1]),c}},99464:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(r){(0,p.ZT)(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="compound",e}return n.prototype._updatePathDirty=function(){for(var e=this.shape.paths,s=this.shapeChanged(),h=0;h<e.length;h++)s=s||e[h].shapeChanged();s&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],s=this.getGlobalScale(),h=0;h<e.length;h++)e[h].path||e[h].createPathProxy(),e[h].path.setScale(s[0],s[1],e[h].segmentIgnoreThreshold)},n.prototype.buildPath=function(e,s){for(var h=s.paths||[],i=0;i<h.length;i++)h[i].buildPath(e,h[i].shape,!0)},n.prototype.afterBrush=function(){for(var e=this.shape.paths||[],s=0;s<e.length;s++)e[s].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),o.ZP.prototype.getBoundingRect.call(this)},n}(o.ZP);it.Z=t},11635:function(Dt,it,C){C.d(it,{ik:function(){return h},tj:function(){return s}});var p=C(12012),o=C(12434),t=C(16128),r=C(70324),n=C(53197),e="__zr_style_"+Math.round(Math.random()*10),s={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},h={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};s[e]=!0;var i=["z","z2","invisible"],a=["invisible"],l=function(T){(0,p.ZT)(y,T);function y(A){return T.call(this,A)||this}return y.prototype._init=function(A){for(var D=(0,r.XP)(A),L=0;L<D.length;L++){var I=D[L];I==="style"?this.useStyle(A[I]):T.prototype.attrKV.call(this,I,A[I])}this.style||this.useStyle({})},y.prototype.beforeBrush=function(){},y.prototype.afterBrush=function(){},y.prototype.innerBeforeBrush=function(){},y.prototype.innerAfterBrush=function(){},y.prototype.shouldBePainted=function(A,D,L,I){var F=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&m(this,A,D)||F&&!F[0]&&!F[3])return!1;if(L&&this.__clipPaths){for(var b=0;b<this.__clipPaths.length;++b)if(this.__clipPaths[b].isZeroArea())return!1}if(I&&this.parent)for(var O=this.parent;O;){if(O.ignore)return!1;O=O.parent}return!0},y.prototype.contain=function(A,D){return this.rectContain(A,D)},y.prototype.traverse=function(A,D){A.call(D,this)},y.prototype.rectContain=function(A,D){var L=this.transformCoordToLocal(A,D),I=this.getBoundingRect();return I.contain(L[0],L[1])},y.prototype.getPaintRect=function(){var A=this._paintRect;if(!this._paintRect||this.__dirty){var D=this.transform,L=this.getBoundingRect(),I=this.style,F=I.shadowBlur||0,b=I.shadowOffsetX||0,O=I.shadowOffsetY||0;A=this._paintRect||(this._paintRect=new t.Z(0,0,0,0)),D?t.Z.applyTransform(A,L,D):A.copy(L),(F||b||O)&&(A.width+=F*2+Math.abs(b),A.height+=F*2+Math.abs(O),A.x=Math.min(A.x,A.x+b-F),A.y=Math.min(A.y,A.y+O-F));var P=this.dirtyRectTolerance;A.isZero()||(A.x=Math.floor(A.x-P),A.y=Math.floor(A.y-P),A.width=Math.ceil(A.width+1+P*2),A.height=Math.ceil(A.height+1+P*2))}return A},y.prototype.setPrevPaintRect=function(A){A?(this._prevPaintRect=this._prevPaintRect||new t.Z(0,0,0,0),this._prevPaintRect.copy(A)):this._prevPaintRect=null},y.prototype.getPrevPaintRect=function(){return this._prevPaintRect},y.prototype.animateStyle=function(A){return this.animate("style",A)},y.prototype.updateDuringAnimation=function(A){A==="style"?this.dirtyStyle():this.markRedraw()},y.prototype.attrKV=function(A,D){A!=="style"?T.prototype.attrKV.call(this,A,D):this.style?this.setStyle(D):this.useStyle(D)},y.prototype.setStyle=function(A,D){return typeof A=="string"?this.style[A]=D:(0,r.l7)(this.style,A),this.dirtyStyle(),this},y.prototype.dirtyStyle=function(A){A||this.markRedraw(),this.__dirty|=n.SE,this._rect&&(this._rect=null)},y.prototype.dirty=function(){this.dirtyStyle()},y.prototype.styleChanged=function(){return!!(this.__dirty&n.SE)},y.prototype.styleUpdated=function(){this.__dirty&=~n.SE},y.prototype.createStyle=function(A){return(0,r.nW)(s,A)},y.prototype.useStyle=function(A){A[e]||(A=this.createStyle(A)),this.__inHover?this.__hoverStyle=A:this.style=A,this.dirtyStyle()},y.prototype.isStyleObject=function(A){return A[e]},y.prototype._innerSaveToNormal=function(A){T.prototype._innerSaveToNormal.call(this,A);var D=this._normalState;A.style&&!D.style&&(D.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(A,D,i)},y.prototype._applyStateObj=function(A,D,L,I,F,b){T.prototype._applyStateObj.call(this,A,D,L,I,F,b);var O=!(D&&I),P;if(D&&D.style?F?I?P=D.style:(P=this._mergeStyle(this.createStyle(),L.style),this._mergeStyle(P,D.style)):(P=this._mergeStyle(this.createStyle(),I?this.style:L.style),this._mergeStyle(P,D.style)):O&&(P=L.style),P)if(F){var E=this.style;if(this.style=this.createStyle(O?{}:E),O)for(var c=(0,r.XP)(E),f=0;f<c.length;f++){var u=c[f];u in P&&(P[u]=P[u],this.style[u]=E[u])}for(var d=(0,r.XP)(P),f=0;f<d.length;f++){var u=d[f];this.style[u]=this.style[u]}this._transitionState(A,{style:P},b,this.getAnimationStyleProps())}else this.useStyle(P);for(var v=this.__inHover?a:i,f=0;f<v.length;f++){var u=v[f];D&&D[u]!=null?this[u]=D[u]:O&&L[u]!=null&&(this[u]=L[u])}},y.prototype._mergeStates=function(A){for(var D=T.prototype._mergeStates.call(this,A),L,I=0;I<A.length;I++){var F=A[I];F.style&&(L=L||{},this._mergeStyle(L,F.style))}return L&&(D.style=L),D},y.prototype._mergeStyle=function(A,D){return(0,r.l7)(A,D),A},y.prototype.getAnimationStyleProps=function(){return h},y.initDefaultProps=function(){var A=y.prototype;A.type="displayable",A.invisible=!1,A.z=0,A.z2=0,A.zlevel=0,A.culling=!1,A.cursor="pointer",A.rectHover=!1,A.incremental=!1,A._rect=null,A.dirtyRectTolerance=0,A.__dirty=n.YV|n.SE}(),y}(o.Z),_=new t.Z(0,0,0,0),M=new t.Z(0,0,0,0);function m(T,y,A){return _.copy(T.getBoundingRect()),T.transform&&_.applyTransform(T.transform),M.width=y,M.height=A,!_.intersect(M)}it.ZP=l},2413:function(Dt,it){var C=function(){function p(o){this.colorStops=o||[]}return p.prototype.addColorStop=function(o,t){this.colorStops.push({offset:o,color:t})},p}();it.Z=C},2574:function(Dt,it,C){var p=C(12012),o=C(70324),t=C(12434),r=C(16128),n=function(e){(0,p.ZT)(s,e);function s(h){var i=e.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(h),i}return s.prototype.childrenRef=function(){return this._children},s.prototype.children=function(){return this._children.slice()},s.prototype.childAt=function(h){return this._children[h]},s.prototype.childOfName=function(h){for(var i=this._children,a=0;a<i.length;a++)if(i[a].name===h)return i[a]},s.prototype.childCount=function(){return this._children.length},s.prototype.add=function(h){return h&&h!==this&&h.parent!==this&&(this._children.push(h),this._doAdd(h)),this},s.prototype.addBefore=function(h,i){if(h&&h!==this&&h.parent!==this&&i&&i.parent===this){var a=this._children,l=a.indexOf(i);l>=0&&(a.splice(l,0,h),this._doAdd(h))}return this},s.prototype.replace=function(h,i){var a=o.cq(this._children,h);return a>=0&&this.replaceAt(i,a),this},s.prototype.replaceAt=function(h,i){var a=this._children,l=a[i];if(h&&h!==this&&h.parent!==this&&h!==l){a[i]=h,l.parent=null;var _=this.__zr;_&&l.removeSelfFromZr(_),this._doAdd(h)}return this},s.prototype._doAdd=function(h){h.parent&&h.parent.remove(h),h.parent=this;var i=this.__zr;i&&i!==h.__zr&&h.addSelfToZr(i),i&&i.refresh()},s.prototype.remove=function(h){var i=this.__zr,a=this._children,l=o.cq(a,h);return l<0?this:(a.splice(l,1),h.parent=null,i&&h.removeSelfFromZr(i),i&&i.refresh(),this)},s.prototype.removeAll=function(){for(var h=this._children,i=this.__zr,a=0;a<h.length;a++){var l=h[a];i&&l.removeSelfFromZr(i),l.parent=null}return h.length=0,this},s.prototype.eachChild=function(h,i){for(var a=this._children,l=0;l<a.length;l++){var _=a[l];h.call(i,_,l)}return this},s.prototype.traverse=function(h,i){for(var a=0;a<this._children.length;a++){var l=this._children[a],_=h.call(i,l);l.isGroup&&!_&&l.traverse(h,i)}return this},s.prototype.addSelfToZr=function(h){e.prototype.addSelfToZr.call(this,h);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.addSelfToZr(h)}},s.prototype.removeSelfFromZr=function(h){e.prototype.removeSelfFromZr.call(this,h);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.removeSelfFromZr(h)}},s.prototype.getBoundingRect=function(h){for(var i=new r.Z(0,0,0,0),a=h||this._children,l=[],_=null,M=0;M<a.length;M++){var m=a[M];if(!(m.ignore||m.invisible)){var T=m.getBoundingRect(),y=m.getLocalTransform(l);y?(r.Z.applyTransform(i,T,y),_=_||i.clone(),_.union(i)):(_=_||T.clone(),_.union(T))}}return _||i},s}(t.Z);n.prototype.type="group",it.Z=n},13806:function(Dt,it,C){var p=C(12012),o=C(11635),t=C(16128),r=C(70324),n=(0,r.ce)({x:0,y:0},o.tj),e={style:(0,r.ce)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},o.ik.style)};function s(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var h=function(i){(0,p.ZT)(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.createStyle=function(l){return(0,r.nW)(n,l)},a.prototype._getSize=function(l){var _=this.style,M=_[l];if(M!=null)return M;var m=s(_.image)?_.image:this.__image;if(!m)return 0;var T=l==="width"?"height":"width",y=_[T];return y==null?m[l]:m[l]/m[T]*y},a.prototype.getWidth=function(){return this._getSize("width")},a.prototype.getHeight=function(){return this._getSize("height")},a.prototype.getAnimationStyleProps=function(){return e},a.prototype.getBoundingRect=function(){var l=this.style;return this._rect||(this._rect=new t.Z(l.x||0,l.y||0,this.getWidth(),this.getHeight())),this._rect},a}(o.ZP);h.prototype.type="image",it.ZP=h},87768:function(Dt,it,C){var p=C(12012),o=C(11635),t=C(16128),r=[],n=function(e){(0,p.ZT)(s,e);function s(){var h=e!==null&&e.apply(this,arguments)||this;return h.notClear=!0,h.incremental=!0,h._displayables=[],h._temporaryDisplayables=[],h._cursor=0,h}return s.prototype.traverse=function(h,i){h.call(i,this)},s.prototype.useStyle=function(){this.style={}},s.prototype.getCursor=function(){return this._cursor},s.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},s.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},s.prototype.addDisplayable=function(h,i){i?this._temporaryDisplayables.push(h):this._displayables.push(h),this.markRedraw()},s.prototype.addDisplayables=function(h,i){i=i||!1;for(var a=0;a<h.length;a++)this.addDisplayable(h[a],i)},s.prototype.getDisplayables=function(){return this._displayables},s.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},s.prototype.eachPendingDisplayable=function(h){for(var i=this._cursor;i<this._displayables.length;i++)h&&h(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)h&&h(this._temporaryDisplayables[i])},s.prototype.update=function(){this.updateTransform();for(var h=this._cursor;h<this._displayables.length;h++){var i=this._displayables[h];i.parent=this,i.update(),i.parent=null}for(var h=0;h<this._temporaryDisplayables.length;h++){var i=this._temporaryDisplayables[h];i.parent=this,i.update(),i.parent=null}},s.prototype.getBoundingRect=function(){if(!this._rect){for(var h=new t.Z(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var a=this._displayables[i],l=a.getBoundingRect().clone();a.needLocalTransform()&&l.applyTransform(a.getLocalTransform(r)),h.union(l)}this._rect=h}return this._rect},s.prototype.contain=function(h,i){var a=this.transformCoordToLocal(h,i),l=this.getBoundingRect();if(l.contain(a[0],a[1]))for(var _=0;_<this._displayables.length;_++){var M=this._displayables[_];if(M.contain(h,i))return!0}return!1},s}(o.ZP);it.Z=n},55602:function(Dt,it,C){var p=C(12012),o=C(2413),t=function(r){(0,p.ZT)(n,r);function n(e,s,h,i,a,l){var _=r.call(this,a)||this;return _.x=e==null?0:e,_.y=s==null?0:s,_.x2=h==null?1:h,_.y2=i==null?0:i,_.type="linear",_.global=l||!1,_}return n}(o.Z);it.Z=t},66210:function(Dt,it,C){C.d(it,{$t:function(){return v},ZP:function(){return w}});var p=C(12012),o=C(11635),t=C(29436),r=C(55265),n=C(14296);function e(Z,N,G,K,J,U,H,V,S,W,B){if(S===0)return!1;var X=S;if(B>N+X&&B>K+X&&B>U+X&&B>V+X||B<N-X&&B<K-X&&B<U-X&&B<V-X||W>Z+X&&W>G+X&&W>J+X&&W>H+X||W<Z-X&&W<G-X&&W<J-X&&W<H-X)return!1;var Y=n.t1(Z,N,G,K,J,U,H,V,W,B,null);return Y<=X/2}var s=C(48610),h=C(47833),i=Math.PI*2;function a(Z,N,G,K,J,U,H,V,S){if(H===0)return!1;var W=H;V-=Z,S-=N;var B=Math.sqrt(V*V+S*S);if(B-W>G||B+W<G)return!1;if(Math.abs(K-J)%i<1e-4)return!0;if(U){var X=K;K=(0,h.m)(J),J=(0,h.m)(X)}else K=(0,h.m)(K),J=(0,h.m)(J);K>J&&(J+=i);var Y=Math.atan2(S,V);return Y<0&&(Y+=i),Y>=K&&Y<=J||Y+i>=K&&Y+i<=J}var l=C(99271),_=t.Z.CMD,M=Math.PI*2,m=1e-4;function T(Z,N){return Math.abs(Z-N)<m}var y=[-1,-1,-1],A=[-1,-1];function D(){var Z=A[0];A[0]=A[1],A[1]=Z}function L(Z,N,G,K,J,U,H,V,S,W){if(W>N&&W>K&&W>U&&W>V||W<N&&W<K&&W<U&&W<V)return 0;var B=n.kD(N,K,U,V,W,y);if(B===0)return 0;for(var X=0,Y=-1,et=void 0,z=void 0,k=0;k<B;k++){var at=y[k],ft=at===0||at===1?.5:1,_t=n.af(Z,G,J,H,at);_t<S||(Y<0&&(Y=n.pP(N,K,U,V,A),A[1]<A[0]&&Y>1&&D(),et=n.af(N,K,U,V,A[0]),Y>1&&(z=n.af(N,K,U,V,A[1]))),Y===2?at<A[0]?X+=et<N?ft:-ft:at<A[1]?X+=z<et?ft:-ft:X+=V<z?ft:-ft:at<A[0]?X+=et<N?ft:-ft:X+=V<et?ft:-ft)}return X}function I(Z,N,G,K,J,U,H,V){if(V>N&&V>K&&V>U||V<N&&V<K&&V<U)return 0;var S=n.Jz(N,K,U,V,y);if(S===0)return 0;var W=n.QC(N,K,U);if(W>=0&&W<=1){for(var B=0,X=n.Zm(N,K,U,W),Y=0;Y<S;Y++){var et=y[Y]===0||y[Y]===1?.5:1,z=n.Zm(Z,G,J,y[Y]);z<H||(y[Y]<W?B+=X<N?et:-et:B+=U<X?et:-et)}return B}else{var et=y[0]===0||y[0]===1?.5:1,z=n.Zm(Z,G,J,y[0]);return z<H?0:U<N?et:-et}}function F(Z,N,G,K,J,U,H,V){if(V-=N,V>G||V<-G)return 0;var S=Math.sqrt(G*G-V*V);y[0]=-S,y[1]=S;var W=Math.abs(K-J);if(W<1e-4)return 0;if(W>=M-1e-4){K=0,J=M;var B=U?1:-1;return H>=y[0]+Z&&H<=y[1]+Z?B:0}if(K>J){var X=K;K=J,J=X}K<0&&(K+=M,J+=M);for(var Y=0,et=0;et<2;et++){var z=y[et];if(z+Z>H){var k=Math.atan2(V,z),B=U?1:-1;k<0&&(k=M+k),(k>=K&&k<=J||k+M>=K&&k+M<=J)&&(k>Math.PI/2&&k<Math.PI*1.5&&(B=-B),Y+=B)}}return Y}function b(Z,N,G,K,J){for(var U=Z.data,H=Z.len(),V=0,S=0,W=0,B=0,X=0,Y,et,z=0;z<H;){var k=U[z++],at=z===1;switch(k===_.M&&z>1&&(G||(V+=(0,l.Z)(S,W,B,X,K,J))),at&&(S=U[z],W=U[z+1],B=S,X=W),k){case _.M:B=U[z++],X=U[z++],S=B,W=X;break;case _.L:if(G){if(r.m(S,W,U[z],U[z+1],N,K,J))return!0}else V+=(0,l.Z)(S,W,U[z],U[z+1],K,J)||0;S=U[z++],W=U[z++];break;case _.C:if(G){if(e(S,W,U[z++],U[z++],U[z++],U[z++],U[z],U[z+1],N,K,J))return!0}else V+=L(S,W,U[z++],U[z++],U[z++],U[z++],U[z],U[z+1],K,J)||0;S=U[z++],W=U[z++];break;case _.Q:if(G){if(s.m(S,W,U[z++],U[z++],U[z],U[z+1],N,K,J))return!0}else V+=I(S,W,U[z++],U[z++],U[z],U[z+1],K,J)||0;S=U[z++],W=U[z++];break;case _.A:var ft=U[z++],_t=U[z++],tt=U[z++],rt=U[z++],ut=U[z++],ct=U[z++];z+=1;var st=!!(1-U[z++]);Y=Math.cos(ut)*tt+ft,et=Math.sin(ut)*rt+_t,at?(B=Y,X=et):V+=(0,l.Z)(S,W,Y,et,K,J);var dt=(K-ft)*rt/tt+ft;if(G){if(a(ft,_t,rt,ut,ut+ct,st,N,dt,J))return!0}else V+=F(ft,_t,rt,ut,ut+ct,st,dt,J);S=Math.cos(ut+ct)*tt+ft,W=Math.sin(ut+ct)*rt+_t;break;case _.R:B=S=U[z++],X=W=U[z++];var ht=U[z++],xt=U[z++];if(Y=B+ht,et=X+xt,G){if(r.m(B,X,Y,X,N,K,J)||r.m(Y,X,Y,et,N,K,J)||r.m(Y,et,B,et,N,K,J)||r.m(B,et,B,X,N,K,J))return!0}else V+=(0,l.Z)(Y,X,Y,et,K,J),V+=(0,l.Z)(B,et,B,X,K,J);break;case _.Z:if(G){if(r.m(S,W,B,X,N,K,J))return!0}else V+=(0,l.Z)(S,W,B,X,K,J);S=B,W=X;break}}return!G&&!T(W,X)&&(V+=(0,l.Z)(S,W,B,X,K,J)||0),V!==0}function O(Z,N,G){return b(Z,0,!1,N,G)}function P(Z,N,G,K){return b(Z,N,!0,G,K)}var E=C(70324),c=C(96170),f=C(62623),u=C(53197),d=C(23463),v=(0,E.ce)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},o.tj),g={style:(0,E.ce)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},o.ik.style)},R=d.dN.concat(["invisible","culling","z","z2","zlevel","parent"]),x=function(Z){(0,p.ZT)(N,Z);function N(G){return Z.call(this,G)||this}return N.prototype.update=function(){var G=this;Z.prototype.update.call(this);var K=this.style;if(K.decal){var J=this._decalEl=this._decalEl||new N;J.buildPath===N.prototype.buildPath&&(J.buildPath=function(S){G.buildPath(S,G.shape)}),J.silent=!0;var U=J.style;for(var H in K)U[H]!==K[H]&&(U[H]=K[H]);U.fill=K.fill?K.decal:null,U.decal=null,U.shadowColor=null,K.strokeFirst&&(U.stroke=null);for(var V=0;V<R.length;++V)J[R[V]]=this[R[V]];J.__dirty|=u.YV}else this._decalEl&&(this._decalEl=null)},N.prototype.getDecalElement=function(){return this._decalEl},N.prototype._init=function(G){var K=(0,E.XP)(G);this.shape=this.getDefaultShape();var J=this.getDefaultStyle();J&&this.useStyle(J);for(var U=0;U<K.length;U++){var H=K[U],V=G[H];H==="style"?this.style?(0,E.l7)(this.style,V):this.useStyle(V):H==="shape"?(0,E.l7)(this.shape,V):Z.prototype.attrKV.call(this,H,V)}this.style||this.useStyle({})},N.prototype.getDefaultStyle=function(){return null},N.prototype.getDefaultShape=function(){return{}},N.prototype.canBeInsideText=function(){return this.hasFill()},N.prototype.getInsideTextFill=function(){var G=this.style.fill;if(G!=="none"){if((0,E.HD)(G)){var K=(0,c.lum)(G,0);return K>.5?f.vU:K>.2?f.iv:f.GD}else if(G)return f.GD}return f.vU},N.prototype.getInsideTextStroke=function(G){var K=this.style.fill;if((0,E.HD)(K)){var J=this.__zr,U=!!(J&&J.isDarkMode()),H=(0,c.lum)(G,0)<f.Ak;if(U===H)return K}},N.prototype.buildPath=function(G,K,J){},N.prototype.pathUpdated=function(){this.__dirty&=~u.RH},N.prototype.getUpdatedPathProxy=function(G){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,G),this.path},N.prototype.createPathProxy=function(){this.path=new t.Z(!1)},N.prototype.hasStroke=function(){var G=this.style,K=G.stroke;return!(K==null||K==="none"||!(G.lineWidth>0))},N.prototype.hasFill=function(){var G=this.style,K=G.fill;return K!=null&&K!=="none"},N.prototype.getBoundingRect=function(){var G=this._rect,K=this.style,J=!G;if(J){var U=!1;this.path||(U=!0,this.createPathProxy());var H=this.path;(U||this.__dirty&u.RH)&&(H.beginPath(),this.buildPath(H,this.shape,!1),this.pathUpdated()),G=H.getBoundingRect()}if(this._rect=G,this.hasStroke()&&this.path&&this.path.len()>0){var V=this._rectStroke||(this._rectStroke=G.clone());if(this.__dirty||J){V.copy(G);var S=K.strokeNoScale?this.getLineScale():1,W=K.lineWidth;if(!this.hasFill()){var B=this.strokeContainThreshold;W=Math.max(W,B==null?4:B)}S>1e-10&&(V.width+=W/S,V.height+=W/S,V.x-=W/S/2,V.y-=W/S/2)}return V}return G},N.prototype.contain=function(G,K){var J=this.transformCoordToLocal(G,K),U=this.getBoundingRect(),H=this.style;if(G=J[0],K=J[1],U.contain(G,K)){var V=this.path;if(this.hasStroke()){var S=H.lineWidth,W=H.strokeNoScale?this.getLineScale():1;if(W>1e-10&&(this.hasFill()||(S=Math.max(S,this.strokeContainThreshold)),P(V,S/W,G,K)))return!0}if(this.hasFill())return O(V,G,K)}return!1},N.prototype.dirtyShape=function(){this.__dirty|=u.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},N.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},N.prototype.animateShape=function(G){return this.animate("shape",G)},N.prototype.updateDuringAnimation=function(G){G==="style"?this.dirtyStyle():G==="shape"?this.dirtyShape():this.markRedraw()},N.prototype.attrKV=function(G,K){G==="shape"?this.setShape(K):Z.prototype.attrKV.call(this,G,K)},N.prototype.setShape=function(G,K){var J=this.shape;return J||(J=this.shape={}),typeof G=="string"?J[G]=K:(0,E.l7)(J,G),this.dirtyShape(),this},N.prototype.shapeChanged=function(){return!!(this.__dirty&u.RH)},N.prototype.createStyle=function(G){return(0,E.nW)(v,G)},N.prototype._innerSaveToNormal=function(G){Z.prototype._innerSaveToNormal.call(this,G);var K=this._normalState;G.shape&&!K.shape&&(K.shape=(0,E.l7)({},this.shape))},N.prototype._applyStateObj=function(G,K,J,U,H,V){Z.prototype._applyStateObj.call(this,G,K,J,U,H,V);var S=!(K&&U),W;if(K&&K.shape?H?U?W=K.shape:(W=(0,E.l7)({},J.shape),(0,E.l7)(W,K.shape)):(W=(0,E.l7)({},U?this.shape:J.shape),(0,E.l7)(W,K.shape)):S&&(W=J.shape),W)if(H){this.shape=(0,E.l7)({},this.shape);for(var B={},X=(0,E.XP)(W),Y=0;Y<X.length;Y++){var et=X[Y];typeof W[et]=="object"?this.shape[et]=W[et]:B[et]=W[et]}this._transitionState(G,{shape:B},V)}else this.shape=W,this.dirtyShape()},N.prototype._mergeStates=function(G){for(var K=Z.prototype._mergeStates.call(this,G),J,U=0;U<G.length;U++){var H=G[U];H.shape&&(J=J||{},this._mergeStyle(J,H.shape))}return J&&(K.shape=J),K},N.prototype.getAnimationStyleProps=function(){return g},N.prototype.isZeroArea=function(){return!1},N.extend=function(G){var K=function(U){(0,p.ZT)(H,U);function H(V){var S=U.call(this,V)||this;return G.init&&G.init.call(S,V),S}return H.prototype.getDefaultStyle=function(){return(0,E.d9)(G.style)},H.prototype.getDefaultShape=function(){return(0,E.d9)(G.shape)},H}(N);for(var J in G)typeof G[J]=="function"&&(K.prototype[J]=G[J]);return K},N.initDefaultProps=function(){var G=N.prototype;G.type="path",G.strokeContainThreshold=5,G.segmentIgnoreThreshold=0,G.subPixelOptimize=!1,G.autoBatch=!1,G.__dirty=u.YV|u.SE|u.RH}(),N}(o.ZP),w=x},43606:function(Dt,it,C){var p=C(12012),o=C(2413),t=function(r){(0,p.ZT)(n,r);function n(e,s,h,i,a){var l=r.call(this,i)||this;return l.x=e==null?.5:e,l.y=s==null?.5:s,l.r=h==null?.5:h,l.type="radial",l.global=a||!1,l}return n}(o.Z);it.Z=t},83007:function(Dt,it,C){var p=C(12012),o=C(11635),t=C(98733),r=C(66210),n=C(70324),e=C(47297),s=(0,n.ce)({strokeFirst:!0,font:e.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},r.$t),h=function(i){(0,p.ZT)(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.hasStroke=function(){var l=this.style,_=l.stroke;return _!=null&&_!=="none"&&l.lineWidth>0},a.prototype.hasFill=function(){var l=this.style,_=l.fill;return _!=null&&_!=="none"},a.prototype.createStyle=function(l){return(0,n.nW)(s,l)},a.prototype.setBoundingRect=function(l){this._rect=l},a.prototype.getBoundingRect=function(){var l=this.style;if(!this._rect){var _=l.text;_!=null?_+="":_="";var M=(0,t.lP)(_,l.font,l.textAlign,l.textBaseline);if(M.x+=l.x||0,M.y+=l.y||0,this.hasStroke()){var m=l.lineWidth;M.x-=m/2,M.y-=m/2,M.width+=m,M.height+=m}this._rect=M}return this._rect},a.initDefaultProps=function(){var l=a.prototype;l.dirtyRectTolerance=10}(),a}(o.ZP);h.prototype.type="tspan",it.Z=h},95169:function(Dt,it,C){C.d(it,{VG:function(){return D},Y1:function(){return I}});var p=C(12012),o=C(28185),t=C(83007),r=C(70324),n=C(98733),e=C(13806),s=C(73909),h=C(16128),i=C(11635),a=C(47297),l={fill:"#000"},_=2,M={style:(0,r.ce)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},i.ik.style)},m=function(u){(0,p.ZT)(d,u);function d(v){var g=u.call(this)||this;return g.type="text",g._children=[],g._defaultStyle=l,g.attr(v),g}return d.prototype.childrenRef=function(){return this._children},d.prototype.update=function(){u.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var v=0;v<this._children.length;v++){var g=this._children[v];g.zlevel=this.zlevel,g.z=this.z,g.z2=this.z2,g.culling=this.culling,g.cursor=this.cursor,g.invisible=this.invisible}},d.prototype.updateTransform=function(){var v=this.innerTransformable;v?(v.updateTransform(),v.transform&&(this.transform=v.transform)):u.prototype.updateTransform.call(this)},d.prototype.getLocalTransform=function(v){var g=this.innerTransformable;return g?g.getLocalTransform(v):u.prototype.getLocalTransform.call(this,v)},d.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),u.prototype.getComputedTransform.call(this)},d.prototype._updateSubTexts=function(){this._childCursor=0,F(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},d.prototype.addSelfToZr=function(v){u.prototype.addSelfToZr.call(this,v);for(var g=0;g<this._children.length;g++)this._children[g].__zr=v},d.prototype.removeSelfFromZr=function(v){u.prototype.removeSelfFromZr.call(this,v);for(var g=0;g<this._children.length;g++)this._children[g].__zr=null},d.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var v=new h.Z(0,0,0,0),g=this._children,R=[],x=null,w=0;w<g.length;w++){var Z=g[w],N=Z.getBoundingRect(),G=Z.getLocalTransform(R);G?(v.copy(N),v.applyTransform(G),x=x||v.clone(),x.union(v)):(x=x||N.clone(),x.union(N))}this._rect=x||v}return this._rect},d.prototype.setDefaultTextStyle=function(v){this._defaultStyle=v||l},d.prototype.setTextContent=function(v){},d.prototype._mergeStyle=function(v,g){if(!g)return v;var R=g.rich,x=v.rich||R&&{};return(0,r.l7)(v,g),R&&x?(this._mergeRich(x,R),v.rich=x):x&&(v.rich=x),v},d.prototype._mergeRich=function(v,g){for(var R=(0,r.XP)(g),x=0;x<R.length;x++){var w=R[x];v[w]=v[w]||{},(0,r.l7)(v[w],g[w])}},d.prototype.getAnimationStyleProps=function(){return M},d.prototype._getOrCreateChild=function(v){var g=this._children[this._childCursor];return(!g||!(g instanceof v))&&(g=new v),this._children[this._childCursor++]=g,g.__zr=this.__zr,g.parent=this,g},d.prototype._updatePlainTexts=function(){var v=this.style,g=v.font||a.Uo,R=v.padding,x=c(v),w=(0,o.NY)(x,v),Z=f(v),N=!!v.backgroundColor,G=w.outerHeight,K=w.outerWidth,J=w.contentWidth,U=w.lines,H=w.lineHeight,V=this._defaultStyle,S=v.x||0,W=v.y||0,B=v.align||V.align||"left",X=v.verticalAlign||V.verticalAlign||"top",Y=S,et=(0,n.mU)(W,w.contentHeight,X);if(Z||R){var z=(0,n.M3)(S,K,B),k=(0,n.mU)(W,G,X);Z&&this._renderBackground(v,v,z,k,K,G)}et+=H/2,R&&(Y=E(S,B,R),X==="top"?et+=R[0]:X==="bottom"&&(et-=R[2]));for(var at=0,ft=!1,_t=P("fill"in v?v.fill:(ft=!0,V.fill)),tt=O("stroke"in v?v.stroke:!N&&(!V.autoStroke||ft)?(at=_,V.stroke):null),rt=v.textShadowBlur>0,ut=v.width!=null&&(v.overflow==="truncate"||v.overflow==="break"||v.overflow==="breakAll"),ct=w.calculatedLineHeight,st=0;st<U.length;st++){var dt=this._getOrCreateChild(t.Z),ht=dt.createStyle();dt.useStyle(ht),ht.text=U[st],ht.x=Y,ht.y=et,B&&(ht.textAlign=B),ht.textBaseline="middle",ht.opacity=v.opacity,ht.strokeFirst=!0,rt&&(ht.shadowBlur=v.textShadowBlur||0,ht.shadowColor=v.textShadowColor||"transparent",ht.shadowOffsetX=v.textShadowOffsetX||0,ht.shadowOffsetY=v.textShadowOffsetY||0),ht.stroke=tt,ht.fill=_t,tt&&(ht.lineWidth=v.lineWidth||at,ht.lineDash=v.lineDash,ht.lineDashOffset=v.lineDashOffset||0),ht.font=g,L(ht,v),et+=H,ut&&dt.setBoundingRect(new h.Z((0,n.M3)(ht.x,v.width,ht.textAlign),(0,n.mU)(ht.y,ct,ht.textBaseline),J,ct))}},d.prototype._updateRichTexts=function(){var v=this.style,g=c(v),R=(0,o.$F)(g,v),x=R.width,w=R.outerWidth,Z=R.outerHeight,N=v.padding,G=v.x||0,K=v.y||0,J=this._defaultStyle,U=v.align||J.align,H=v.verticalAlign||J.verticalAlign,V=(0,n.M3)(G,w,U),S=(0,n.mU)(K,Z,H),W=V,B=S;N&&(W+=N[3],B+=N[0]);var X=W+x;f(v)&&this._renderBackground(v,v,V,S,w,Z);for(var Y=!!v.backgroundColor,et=0;et<R.lines.length;et++){for(var z=R.lines[et],k=z.tokens,at=k.length,ft=z.lineHeight,_t=z.width,tt=0,rt=W,ut=X,ct=at-1,st=void 0;tt<at&&(st=k[tt],!st.align||st.align==="left");)this._placeToken(st,v,ft,B,rt,"left",Y),_t-=st.width,rt+=st.width,tt++;for(;ct>=0&&(st=k[ct],st.align==="right");)this._placeToken(st,v,ft,B,ut,"right",Y),_t-=st.width,ut-=st.width,ct--;for(rt+=(x-(rt-W)-(X-ut)-_t)/2;tt<=ct;)st=k[tt],this._placeToken(st,v,ft,B,rt+st.width/2,"center",Y),rt+=st.width,tt++;B+=ft}},d.prototype._placeToken=function(v,g,R,x,w,Z,N){var G=g.rich[v.styleName]||{};G.text=v.text;var K=v.verticalAlign,J=x+R/2;K==="top"?J=x+v.height/2:K==="bottom"&&(J=x+R-v.height/2);var U=!v.isLineHolder&&f(G);U&&this._renderBackground(G,g,Z==="right"?w-v.width:Z==="center"?w-v.width/2:w,J-v.height/2,v.width,v.height);var H=!!G.backgroundColor,V=v.textPadding;V&&(w=E(w,Z,V),J-=v.height/2-V[0]-v.innerHeight/2);var S=this._getOrCreateChild(t.Z),W=S.createStyle();S.useStyle(W);var B=this._defaultStyle,X=!1,Y=0,et=P("fill"in G?G.fill:"fill"in g?g.fill:(X=!0,B.fill)),z=O("stroke"in G?G.stroke:"stroke"in g?g.stroke:!H&&!N&&(!B.autoStroke||X)?(Y=_,B.stroke):null),k=G.textShadowBlur>0||g.textShadowBlur>0;W.text=v.text,W.x=w,W.y=J,k&&(W.shadowBlur=G.textShadowBlur||g.textShadowBlur||0,W.shadowColor=G.textShadowColor||g.textShadowColor||"transparent",W.shadowOffsetX=G.textShadowOffsetX||g.textShadowOffsetX||0,W.shadowOffsetY=G.textShadowOffsetY||g.textShadowOffsetY||0),W.textAlign=Z,W.textBaseline="middle",W.font=v.font||a.Uo,W.opacity=(0,r.R1)(G.opacity,g.opacity,1),L(W,G),z&&(W.lineWidth=(0,r.R1)(G.lineWidth,g.lineWidth,Y),W.lineDash=(0,r.pD)(G.lineDash,g.lineDash),W.lineDashOffset=g.lineDashOffset||0,W.stroke=z),et&&(W.fill=et);var at=v.contentWidth,ft=v.contentHeight;S.setBoundingRect(new h.Z((0,n.M3)(W.x,at,W.textAlign),(0,n.mU)(W.y,ft,W.textBaseline),at,ft))},d.prototype._renderBackground=function(v,g,R,x,w,Z){var N=v.backgroundColor,G=v.borderWidth,K=v.borderColor,J=N&&N.image,U=N&&!J,H=v.borderRadius,V=this,S,W;if(U||v.lineHeight||G&&K){S=this._getOrCreateChild(s.Z),S.useStyle(S.createStyle()),S.style.fill=null;var B=S.shape;B.x=R,B.y=x,B.width=w,B.height=Z,B.r=H,S.dirtyShape()}if(U){var X=S.style;X.fill=N||null,X.fillOpacity=(0,r.pD)(v.fillOpacity,1)}else if(J){W=this._getOrCreateChild(e.ZP),W.onload=function(){V.dirtyStyle()};var Y=W.style;Y.image=N.image,Y.x=R,Y.y=x,Y.width=w,Y.height=Z}if(G&&K){var X=S.style;X.lineWidth=G,X.stroke=K,X.strokeOpacity=(0,r.pD)(v.strokeOpacity,1),X.lineDash=v.borderDash,X.lineDashOffset=v.borderDashOffset||0,S.strokeContainThreshold=0,S.hasFill()&&S.hasStroke()&&(X.strokeFirst=!0,X.lineWidth*=2)}var et=(S||W).style;et.shadowBlur=v.shadowBlur||0,et.shadowColor=v.shadowColor||"transparent",et.shadowOffsetX=v.shadowOffsetX||0,et.shadowOffsetY=v.shadowOffsetY||0,et.opacity=(0,r.R1)(v.opacity,g.opacity,1)},d.makeFont=function(v){var g="";return I(v)&&(g=[v.fontStyle,v.fontWeight,D(v.fontSize),v.fontFamily||"sans-serif"].join(" ")),g&&(0,r.fy)(g)||v.textFont||v.font},d}(i.ZP),T={left:!0,right:1,center:1},y={top:1,bottom:1,middle:1},A=["fontStyle","fontWeight","fontSize","fontFamily"];function D(u){return typeof u=="string"&&(u.indexOf("px")!==-1||u.indexOf("rem")!==-1||u.indexOf("em")!==-1)?u:isNaN(+u)?a.n5+"px":u+"px"}function L(u,d){for(var v=0;v<A.length;v++){var g=A[v],R=d[g];R!=null&&(u[g]=R)}}function I(u){return u.fontSize!=null||u.fontFamily||u.fontWeight}function F(u){return b(u),(0,r.S6)(u.rich,b),u}function b(u){if(u){u.font=m.makeFont(u);var d=u.align;d==="middle"&&(d="center"),u.align=d==null||T[d]?d:"left";var v=u.verticalAlign;v==="center"&&(v="middle"),u.verticalAlign=v==null||y[v]?v:"top";var g=u.padding;g&&(u.padding=(0,r.MY)(u.padding))}}function O(u,d){return u==null||d<=0||u==="transparent"||u==="none"?null:u.image||u.colorStops?"#000":u}function P(u){return u==null||u==="none"?null:u.image||u.colorStops?"#000":u}function E(u,d,v){return d==="right"?u-v[1]:d==="center"?u+v[3]/2-v[1]/2:u+v[3]}function c(u){var d=u.text;return d!=null&&(d+=""),d}function f(u){return!!(u.backgroundColor||u.lineHeight||u.borderWidth&&u.borderColor)}it.ZP=m},53197:function(Dt,it,C){C.d(it,{RH:function(){return t},SE:function(){return o},YV:function(){return p}});var p=1,o=2,t=4},6850:function(Dt,it,C){C.d(it,{Gq:function(){return n},ko:function(){return r},v5:function(){return s}});var p=C(86280),o=C(47297),t=new p.ZP(50);function r(h){if(typeof h=="string"){var i=t.get(h);return i&&i.image}else return h}function n(h,i,a,l,_){if(h)if(typeof h=="string"){if(i&&i.__zrImageSrc===h||!a)return i;var M=t.get(h),m={hostEl:a,cb:l,cbPayload:_};return M?(i=M.image,!s(i)&&M.pending.push(m)):(i=o.qW.loadImage(h,e,e),i.__zrImageSrc=h,t.put(h,i.__cachedImgObj={image:i,pending:[m]})),i}else return h;else return i}function e(){var h=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<h.pending.length;i++){var a=h.pending[i],l=a.cb;l&&l(this,a.cbPayload),a.hostEl.dirty()}h.pending.length=0}function s(h){return h&&h.width&&h.height}},28185:function(Dt,it,C){C.d(it,{$F:function(){return M},NY:function(){return i},aF:function(){return n}});var p=C(6850),o=C(70324),t=C(98733),r=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function n(L,I,F,b,O){if(!I)return"";var P=(L+"").split(`
`);O=e(I,F,b,O);for(var E=0,c=P.length;E<c;E++)P[E]=s(P[E],O);return P.join(`
`)}function e(L,I,F,b){b=b||{};var O=(0,o.l7)({},b);O.font=I,F=(0,o.pD)(F,"..."),O.maxIterations=(0,o.pD)(b.maxIterations,2);var P=O.minChar=(0,o.pD)(b.minChar,0);O.cnCharWidth=(0,t.dz)("\u56FD",I);var E=O.ascCharWidth=(0,t.dz)("a",I);O.placeholder=(0,o.pD)(b.placeholder,"");for(var c=L=Math.max(0,L-1),f=0;f<P&&c>=E;f++)c-=E;var u=(0,t.dz)(F,I);return u>c&&(F="",u=0),c=L-u,O.ellipsis=F,O.ellipsisWidth=u,O.contentWidth=c,O.containerWidth=L,O}function s(L,I){var F=I.containerWidth,b=I.font,O=I.contentWidth;if(!F)return"";var P=(0,t.dz)(L,b);if(P<=F)return L;for(var E=0;;E++){if(P<=O||E>=I.maxIterations){L+=I.ellipsis;break}var c=E===0?h(L,O,I.ascCharWidth,I.cnCharWidth):P>0?Math.floor(L.length*O/P):0;L=L.substr(0,c),P=(0,t.dz)(L,b)}return L===""&&(L=I.placeholder),L}function h(L,I,F,b){for(var O=0,P=0,E=L.length;P<E&&O<I;P++){var c=L.charCodeAt(P);O+=0<=c&&c<=127?F:b}return P}function i(L,I){L!=null&&(L+="");var F=I.overflow,b=I.padding,O=I.font,P=F==="truncate",E=(0,t.Dp)(O),c=(0,o.pD)(I.lineHeight,E),f=!!I.backgroundColor,u=I.lineOverflow==="truncate",d=I.width,v;d!=null&&(F==="break"||F==="breakAll")?v=L?D(L,I.font,d,F==="breakAll",0).lines:[]:v=L?L.split(`
`):[];var g=v.length*c,R=(0,o.pD)(I.height,g);if(g>R&&u){var x=Math.floor(R/c);v=v.slice(0,x)}if(L&&P&&d!=null)for(var w=e(d,O,I.ellipsis,{minChar:I.truncateMinChar,placeholder:I.placeholder}),Z=0;Z<v.length;Z++)v[Z]=s(v[Z],w);for(var N=R,G=0,Z=0;Z<v.length;Z++)G=Math.max((0,t.dz)(v[Z],O),G);d==null&&(d=G);var K=G;return b&&(N+=b[0]+b[2],K+=b[1]+b[3],d+=b[1]+b[3]),f&&(K=d),{lines:v,height:R,outerWidth:K,outerHeight:N,lineHeight:c,calculatedLineHeight:E,contentWidth:G,contentHeight:g,width:d}}var a=function(){function L(){}return L}(),l=function(){function L(I){this.tokens=[],I&&(this.tokens=I)}return L}(),_=function(){function L(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return L}();function M(L,I){var F=new _;if(L!=null&&(L+=""),!L)return F;for(var b=I.width,O=I.height,P=I.overflow,E=(P==="break"||P==="breakAll")&&b!=null?{width:b,accumWidth:0,breakAll:P==="breakAll"}:null,c=r.lastIndex=0,f;(f=r.exec(L))!=null;){var u=f.index;u>c&&m(F,L.substring(c,u),I,E),m(F,f[2],I,E,f[1]),c=r.lastIndex}c<L.length&&m(F,L.substring(c,L.length),I,E);var d=[],v=0,g=0,R=I.padding,x=P==="truncate",w=I.lineOverflow==="truncate";function Z(_t,tt,rt){_t.width=tt,_t.lineHeight=rt,v+=rt,g=Math.max(g,tt)}t:for(var N=0;N<F.lines.length;N++){for(var G=F.lines[N],K=0,J=0,U=0;U<G.tokens.length;U++){var H=G.tokens[U],V=H.styleName&&I.rich[H.styleName]||{},S=H.textPadding=V.padding,W=S?S[1]+S[3]:0,B=H.font=V.font||I.font;H.contentHeight=(0,t.Dp)(B);var X=(0,o.pD)(V.height,H.contentHeight);if(H.innerHeight=X,S&&(X+=S[0]+S[2]),H.height=X,H.lineHeight=(0,o.R1)(V.lineHeight,I.lineHeight,X),H.align=V&&V.align||I.align,H.verticalAlign=V&&V.verticalAlign||"middle",w&&O!=null&&v+H.lineHeight>O){U>0?(G.tokens=G.tokens.slice(0,U),Z(G,J,K),F.lines=F.lines.slice(0,N+1)):F.lines=F.lines.slice(0,N);break t}var Y=V.width,et=Y==null||Y==="auto";if(typeof Y=="string"&&Y.charAt(Y.length-1)==="%")H.percentWidth=Y,d.push(H),H.contentWidth=(0,t.dz)(H.text,B);else{if(et){var z=V.backgroundColor,k=z&&z.image;k&&(k=p.ko(k),p.v5(k)&&(H.width=Math.max(H.width,k.width*X/k.height)))}var at=x&&b!=null?b-J:null;at!=null&&at<H.width?!et||at<W?(H.text="",H.width=H.contentWidth=0):(H.text=n(H.text,at-W,B,I.ellipsis,{minChar:I.truncateMinChar}),H.width=H.contentWidth=(0,t.dz)(H.text,B)):H.contentWidth=(0,t.dz)(H.text,B)}H.width+=W,J+=H.width,V&&(K=Math.max(K,H.lineHeight))}Z(G,J,K)}F.outerWidth=F.width=(0,o.pD)(b,g),F.outerHeight=F.height=(0,o.pD)(O,v),F.contentHeight=v,F.contentWidth=g,R&&(F.outerWidth+=R[1]+R[3],F.outerHeight+=R[0]+R[2]);for(var N=0;N<d.length;N++){var H=d[N],ft=H.percentWidth;H.width=parseInt(ft,10)/100*F.width}return F}function m(L,I,F,b,O){var P=I==="",E=O&&F.rich[O]||{},c=L.lines,f=E.font||F.font,u=!1,d,v;if(b){var g=E.padding,R=g?g[1]+g[3]:0;if(E.width!=null&&E.width!=="auto"){var x=(0,t.GM)(E.width,b.width)+R;c.length>0&&x+b.accumWidth>b.width&&(d=I.split(`
`),u=!0),b.accumWidth=x}else{var w=D(I,f,b.width,b.breakAll,b.accumWidth);b.accumWidth=w.accumWidth+R,v=w.linesWidths,d=w.lines}}else d=I.split(`
`);for(var Z=0;Z<d.length;Z++){var N=d[Z],G=new a;if(G.styleName=O,G.text=N,G.isLineHolder=!N&&!P,typeof E.width=="number"?G.width=E.width:G.width=v?v[Z]:(0,t.dz)(N,f),!Z&&!u){var K=(c[c.length-1]||(c[0]=new l)).tokens,J=K.length;J===1&&K[0].isLineHolder?K[0]=G:(N||!J||P)&&K.push(G)}else c.push(new l([G]))}}function T(L){var I=L.charCodeAt(0);return I>=32&&I<=591||I>=880&&I<=4351||I>=4608&&I<=5119||I>=7680&&I<=8303}var y=(0,o.u4)(",&?/;] ".split(""),function(L,I){return L[I]=!0,L},{});function A(L){return T(L)?!!y[L]:!0}function D(L,I,F,b,O){for(var P=[],E=[],c="",f="",u=0,d=0,v=0;v<L.length;v++){var g=L.charAt(v);if(g===`
`){f&&(c+=f,d+=u),P.push(c),E.push(d),c="",f="",u=0,d=0;continue}var R=(0,t.dz)(g,I),x=b?!1:!A(g);if(P.length?d+R>F:O+d+R>F){d?(c||f)&&(x?(c||(c=f,f="",u=0,d=u),P.push(c),E.push(d-u),f+=g,u+=R,c="",d=u):(f&&(c+=f,f="",u=0),P.push(c),E.push(d),c=g,d=R)):x?(P.push(f),E.push(u),f=g,u=R):(P.push(g),E.push(R));continue}d+=R,x?(f+=g,u+=R):(f&&(c+=f,f="",u=0),c+=g)}return!P.length&&!c&&(c=L,f="",u=0),f&&(c+=f),c&&(P.push(c),E.push(d)),P.length===1&&(d+=O),{accumWidth:d,lines:P,linesWidths:E}}},65155:function(Dt,it,C){C.d(it,{L:function(){return t}});var p=C(85755);function o(r,n,e,s){var h=[],i=[],a=[],l=[],_,M,m,T;if(s){m=[1/0,1/0],T=[-1/0,-1/0];for(var y=0,A=r.length;y<A;y++)(0,p.VV)(m,m,r[y]),(0,p.Fp)(T,T,r[y]);(0,p.VV)(m,m,s[0]),(0,p.Fp)(T,T,s[1])}for(var y=0,A=r.length;y<A;y++){var D=r[y];if(e)_=r[y?y-1:A-1],M=r[(y+1)%A];else if(y===0||y===A-1){h.push((0,p.d9)(r[y]));continue}else _=r[y-1],M=r[y+1];(0,p.lu)(i,M,_),(0,p.bA)(i,i,n);var L=(0,p.TE)(D,_),I=(0,p.TE)(D,M),F=L+I;F!==0&&(L/=F,I/=F),(0,p.bA)(a,i,-L),(0,p.bA)(l,i,I);var b=(0,p.IH)([],D,a),O=(0,p.IH)([],D,l);s&&((0,p.Fp)(b,b,m),(0,p.VV)(b,b,T),(0,p.Fp)(O,O,m),(0,p.VV)(O,O,T)),h.push(b),h.push(O)}return e&&h.push(h.shift()),h}function t(r,n,e){var s=n.smooth,h=n.points;if(h&&h.length>=2){if(s){var i=o(h,s,e,n.smoothConstraint);r.moveTo(h[0][0],h[0][1]);for(var a=h.length,l=0;l<(e?a:a-1);l++){var _=i[l*2],M=i[l*2+1],m=h[(l+1)%a];r.bezierCurveTo(_[0],_[1],M[0],M[1],m[0],m[1])}}else{r.moveTo(h[0][0],h[0][1]);for(var l=1,T=h.length;l<T;l++)r.lineTo(h[l][0],h[l][1])}e&&r.closePath()}}},51372:function(Dt,it,C){C.d(it,{Pw:function(){return t},_3:function(){return o},vu:function(){return r}});var p=Math.round;function o(n,e,s){if(e){var h=e.x1,i=e.x2,a=e.y1,l=e.y2;n.x1=h,n.x2=i,n.y1=a,n.y2=l;var _=s&&s.lineWidth;return _&&(p(h*2)===p(i*2)&&(n.x1=n.x2=r(h,_,!0)),p(a*2)===p(l*2)&&(n.y1=n.y2=r(a,_,!0))),n}}function t(n,e,s){if(e){var h=e.x,i=e.y,a=e.width,l=e.height;n.x=h,n.y=i,n.width=a,n.height=l;var _=s&&s.lineWidth;return _&&(n.x=r(h,_,!0),n.y=r(i,_,!0),n.width=Math.max(r(h+a,_,!1)-n.x,a===0?0:1),n.height=Math.max(r(i+l,_,!1)-n.y,l===0?0:1)),n}}function r(n,e,s){if(!e)return n;var h=p(n*2);return(h+p(e))%2===0?h/2:(h+(s?1:-1))/2}},5485:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){var i=h.cx,a=h.cy,l=Math.max(h.r,0),_=h.startAngle,M=h.endAngle,m=h.clockwise,T=Math.cos(_),y=Math.sin(_);s.moveTo(T*l+i,y*l+a),s.arc(i,a,l,_,M,!m)},e}(o.ZP);r.prototype.type="arc",it.Z=r},32799:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(85755),r=C(14296),n=[],e=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i}();function s(i,a,l){var _=i.cpx2,M=i.cpy2;return _!=null||M!=null?[(l?r.X_:r.af)(i.x1,i.cpx1,i.cpx2,i.x2,a),(l?r.X_:r.af)(i.y1,i.cpy1,i.cpy2,i.y2,a)]:[(l?r.AZ:r.Zm)(i.x1,i.cpx1,i.x2,a),(l?r.AZ:r.Zm)(i.y1,i.cpy1,i.y2,a)]}var h=function(i){(0,p.ZT)(a,i);function a(l){return i.call(this,l)||this}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new e},a.prototype.buildPath=function(l,_){var M=_.x1,m=_.y1,T=_.x2,y=_.y2,A=_.cpx1,D=_.cpy1,L=_.cpx2,I=_.cpy2,F=_.percent;F!==0&&(l.moveTo(M,m),L==null||I==null?(F<1&&((0,r.Lx)(M,A,T,F,n),A=n[1],T=n[2],(0,r.Lx)(m,D,y,F,n),D=n[1],y=n[2]),l.quadraticCurveTo(A,D,T,y)):(F<1&&((0,r.Vz)(M,A,L,T,F,n),A=n[1],L=n[2],T=n[3],(0,r.Vz)(m,D,I,y,F,n),D=n[1],I=n[2],y=n[3]),l.bezierCurveTo(A,D,L,I,T,y)))},a.prototype.pointAt=function(l){return s(this.shape,l,!1)},a.prototype.tangentAt=function(l){var _=s(this.shape,l,!0);return t.Fv(_,_)},a}(o.ZP);h.prototype.type="bezier-curve",it.Z=h},16513:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){s.moveTo(h.cx+h.r,h.cy),s.arc(h.cx,h.cy,h.r,0,Math.PI*2)},e}(o.ZP);r.prototype.type="circle",it.Z=r},15904:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){var i=.5522848,a=h.cx,l=h.cy,_=h.rx,M=h.ry,m=_*i,T=M*i;s.moveTo(a-_,l),s.bezierCurveTo(a-_,l-T,a-m,l-M,a,l-M),s.bezierCurveTo(a+m,l-M,a+_,l-T,a+_,l),s.bezierCurveTo(a+_,l+T,a+m,l+M,a,l+M),s.bezierCurveTo(a-m,l+M,a-_,l+T,a-_,l),s.closePath()},e}(o.ZP);r.prototype.type="ellipse",it.Z=r},40596:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(51372),r={},n=function(){function s(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return s}(),e=function(s){(0,p.ZT)(h,s);function h(i){return s.call(this,i)||this}return h.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},h.prototype.getDefaultShape=function(){return new n},h.prototype.buildPath=function(i,a){var l,_,M,m;if(this.subPixelOptimize){var T=(0,t._3)(r,a,this.style);l=T.x1,_=T.y1,M=T.x2,m=T.y2}else l=a.x1,_=a.y1,M=a.x2,m=a.y2;var y=a.percent;y!==0&&(i.moveTo(l,_),y<1&&(M=l*(1-y)+M*y,m=_*(1-y)+m*y),i.lineTo(M,m))},h.prototype.pointAt=function(i){var a=this.shape;return[a.x1*(1-i)+a.x2*i,a.y1*(1-i)+a.y2*i]},h}(o.ZP);e.prototype.type="line",it.Z=e},7228:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(65155),r=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),n=function(e){(0,p.ZT)(s,e);function s(h){return e.call(this,h)||this}return s.prototype.getDefaultShape=function(){return new r},s.prototype.buildPath=function(h,i){t.L(h,i,!0)},s}(o.ZP);n.prototype.type="polygon",it.Z=n},6224:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(65155),r=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),n=function(e){(0,p.ZT)(s,e);function s(h){return e.call(this,h)||this}return s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new r},s.prototype.buildPath=function(h,i){t.L(h,i,!1)},s}(o.ZP);n.prototype.type="polyline",it.Z=n},73909:function(Dt,it,C){C.d(it,{Z:function(){return h}});var p=C(12012),o=C(66210);function t(i,a){var l=a.x,_=a.y,M=a.width,m=a.height,T=a.r,y,A,D,L;M<0&&(l=l+M,M=-M),m<0&&(_=_+m,m=-m),typeof T=="number"?y=A=D=L=T:T instanceof Array?T.length===1?y=A=D=L=T[0]:T.length===2?(y=D=T[0],A=L=T[1]):T.length===3?(y=T[0],A=L=T[1],D=T[2]):(y=T[0],A=T[1],D=T[2],L=T[3]):y=A=D=L=0;var I;y+A>M&&(I=y+A,y*=M/I,A*=M/I),D+L>M&&(I=D+L,D*=M/I,L*=M/I),A+D>m&&(I=A+D,A*=m/I,D*=m/I),y+L>m&&(I=y+L,y*=m/I,L*=m/I),i.moveTo(l+y,_),i.lineTo(l+M-A,_),A!==0&&i.arc(l+M-A,_+A,A,-Math.PI/2,0),i.lineTo(l+M,_+m-D),D!==0&&i.arc(l+M-D,_+m-D,D,0,Math.PI/2),i.lineTo(l+L,_+m),L!==0&&i.arc(l+L,_+m-L,L,Math.PI/2,Math.PI),i.lineTo(l,_+y),y!==0&&i.arc(l+y,_+y,y,Math.PI,Math.PI*1.5)}var r=C(51372),n=function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i}(),e={},s=function(i){(0,p.ZT)(a,i);function a(l){return i.call(this,l)||this}return a.prototype.getDefaultShape=function(){return new n},a.prototype.buildPath=function(l,_){var M,m,T,y;if(this.subPixelOptimize){var A=(0,r.Pw)(e,_,this.style);M=A.x,m=A.y,T=A.width,y=A.height,A.r=_.r,_=A}else M=_.x,m=_.y,T=_.width,y=_.height;_.r?t(l,_):l.rect(M,m,T,y)},a.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},a}(o.ZP);s.prototype.type="rect";var h=s},96449:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){var i=h.cx,a=h.cy,l=Math.PI*2;s.moveTo(i+h.r,a),s.arc(i,a,h.r,0,l,!1),s.moveTo(i+h.r0,a),s.arc(i,a,h.r0,0,l,!0)},e}(o.ZP);r.prototype.type="ring",it.Z=r},29902:function(Dt,it,C){C.d(it,{C:function(){return F}});var p=C(12012),o=C(66210),t=C(70324),r=Math.PI,n=r*2,e=Math.sin,s=Math.cos,h=Math.acos,i=Math.atan2,a=Math.abs,l=Math.sqrt,_=Math.max,M=Math.min,m=1e-4;function T(b,O,P,E,c,f,u,d){var v=P-b,g=E-O,R=u-c,x=d-f,w=x*v-R*g;if(!(w*w<m))return w=(R*(O-f)-x*(b-c))/w,[b+w*v,O+w*g]}function y(b,O,P,E,c,f,u){var d=b-P,v=O-E,g=(u?f:-f)/l(d*d+v*v),R=g*v,x=-g*d,w=b+R,Z=O+x,N=P+R,G=E+x,K=(w+N)/2,J=(Z+G)/2,U=N-w,H=G-Z,V=U*U+H*H,S=c-f,W=w*G-N*Z,B=(H<0?-1:1)*l(_(0,S*S*V-W*W)),X=(W*H-U*B)/V,Y=(-W*U-H*B)/V,et=(W*H+U*B)/V,z=(-W*U+H*B)/V,k=X-K,at=Y-J,ft=et-K,_t=z-J;return k*k+at*at>ft*ft+_t*_t&&(X=et,Y=z),{cx:X,cy:Y,x0:-R,y0:-x,x1:X*(c/S-1),y1:Y*(c/S-1)}}function A(b){var O;if((0,t.kJ)(b)){var P=b.length;if(!P)return b;P===1?O=[b[0],b[0],0,0]:P===2?O=[b[0],b[0],b[1],b[1]]:P===3?O=b.concat(b[2]):O=b}else O=[b,b,b,b];return O}function D(b,O){var P,E=_(O.r,0),c=_(O.r0||0,0),f=E>0,u=c>0;if(!(!f&&!u)){if(f||(E=c,c=0),c>E){var d=E;E=c,c=d}var v=O.startAngle,g=O.endAngle;if(!(isNaN(v)||isNaN(g))){var R=O.cx,x=O.cy,w=!!O.clockwise,Z=a(g-v),N=Z>n&&Z%n;if(N>m&&(Z=N),!(E>m))b.moveTo(R,x);else if(Z>n-m)b.moveTo(R+E*s(v),x+E*e(v)),b.arc(R,x,E,v,g,!w),c>m&&(b.moveTo(R+c*s(g),x+c*e(g)),b.arc(R,x,c,g,v,w));else{var G=void 0,K=void 0,J=void 0,U=void 0,H=void 0,V=void 0,S=void 0,W=void 0,B=void 0,X=void 0,Y=void 0,et=void 0,z=void 0,k=void 0,at=void 0,ft=void 0,_t=E*s(v),tt=E*e(v),rt=c*s(g),ut=c*e(g),ct=Z>m;if(ct){var st=O.cornerRadius;st&&(P=A(st),G=P[0],K=P[1],J=P[2],U=P[3]);var dt=a(E-c)/2;if(H=M(dt,J),V=M(dt,U),S=M(dt,G),W=M(dt,K),Y=B=_(H,V),et=X=_(S,W),(B>m||X>m)&&(z=E*s(g),k=E*e(g),at=c*s(v),ft=c*e(v),Z<r)){var ht=T(_t,tt,at,ft,z,k,rt,ut);if(ht){var xt=_t-ht[0],Rt=tt-ht[1],mt=z-ht[0],St=k-ht[1],It=1/e(h((xt*mt+Rt*St)/(l(xt*xt+Rt*Rt)*l(mt*mt+St*St)))/2),gt=l(ht[0]*ht[0]+ht[1]*ht[1]);Y=M(B,(E-gt)/(It+1)),et=M(X,(c-gt)/(It-1))}}}if(!ct)b.moveTo(R+_t,x+tt);else if(Y>m){var Tt=M(J,Y),At=M(U,Y),j=y(at,ft,_t,tt,E,Tt,w),q=y(z,k,rt,ut,E,At,w);b.moveTo(R+j.cx+j.x0,x+j.cy+j.y0),Y<B&&Tt===At?b.arc(R+j.cx,x+j.cy,Y,i(j.y0,j.x0),i(q.y0,q.x0),!w):(Tt>0&&b.arc(R+j.cx,x+j.cy,Tt,i(j.y0,j.x0),i(j.y1,j.x1),!w),b.arc(R,x,E,i(j.cy+j.y1,j.cx+j.x1),i(q.cy+q.y1,q.cx+q.x1),!w),At>0&&b.arc(R+q.cx,x+q.cy,At,i(q.y1,q.x1),i(q.y0,q.x0),!w))}else b.moveTo(R+_t,x+tt),b.arc(R,x,E,v,g,!w);if(!(c>m)||!ct)b.lineTo(R+rt,x+ut);else if(et>m){var Tt=M(G,et),At=M(K,et),j=y(rt,ut,z,k,c,-At,w),q=y(_t,tt,at,ft,c,-Tt,w);b.lineTo(R+j.cx+j.x0,x+j.cy+j.y0),et<X&&Tt===At?b.arc(R+j.cx,x+j.cy,et,i(j.y0,j.x0),i(q.y0,q.x0),!w):(At>0&&b.arc(R+j.cx,x+j.cy,At,i(j.y0,j.x0),i(j.y1,j.x1),!w),b.arc(R,x,c,i(j.cy+j.y1,j.cx+j.x1),i(q.cy+q.y1,q.cx+q.x1),w),Tt>0&&b.arc(R+q.cx,x+q.cy,Tt,i(q.y1,q.x1),i(q.y0,q.x0),!w))}else b.lineTo(R+rt,x+ut),b.arc(R,x,c,g,v,w)}b.closePath()}}}var L=function(){function b(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return b}(),I=function(b){(0,p.ZT)(O,b);function O(P){return b.call(this,P)||this}return O.prototype.getDefaultShape=function(){return new L},O.prototype.buildPath=function(P,E){D(P,E)},O.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},O}(o.ZP);I.prototype.type="sector";var F=I},59993:function(Dt,it,C){C.d(it,{Z:function(){return Qr}});var p=C(72352),o=C(66210),t=C(13806),r=C(98733),n=C(83007),e=Math.sin,s=Math.cos,h=Math.PI,i=Math.PI*2,a=180/h,l=function(){function ot(){}return ot.prototype.reset=function(vt){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,vt||4)},ot.prototype.moveTo=function(vt,pt){this._add("M",vt,pt)},ot.prototype.lineTo=function(vt,pt){this._add("L",vt,pt)},ot.prototype.bezierCurveTo=function(vt,pt,Et,Pt,Lt,wt){this._add("C",vt,pt,Et,Pt,Lt,wt)},ot.prototype.quadraticCurveTo=function(vt,pt,Et,Pt){this._add("Q",vt,pt,Et,Pt)},ot.prototype.arc=function(vt,pt,Et,Pt,Lt,wt){this.ellipse(vt,pt,Et,Et,0,Pt,Lt,wt)},ot.prototype.ellipse=function(vt,pt,Et,Pt,Lt,wt,Bt,Nt){var Ut=Bt-wt,Wt=!Nt,Vt=Math.abs(Ut),Gt=(0,p.zT)(Vt-i)||(Wt?Ut>=i:-Ut>=i),Xt=Ut>0?Ut%i:Ut%i+i,Yt=!1;Gt?Yt=!0:(0,p.zT)(Vt)?Yt=!1:Yt=Xt>=h==!!Wt;var Kt=vt+Et*s(wt),$t=pt+Pt*e(wt);this._start&&this._add("M",Kt,$t);var qt=Math.round(Lt*a);if(Gt){var tr=1/this._p,ar=(Wt?1:-1)*(i-tr);this._add("A",Et,Pt,qt,1,+Wt,vt+Et*s(wt+ar),pt+Pt*e(wt+ar)),tr>.01&&this._add("A",Et,Pt,qt,0,+Wt,Kt,$t)}else{var rr=vt+Et*s(Bt),lr=pt+Pt*e(Bt);this._add("A",Et,Pt,qt,+Yt,+Wt,rr,lr)}},ot.prototype.rect=function(vt,pt,Et,Pt){this._add("M",vt,pt),this._add("l",Et,0),this._add("l",0,Pt),this._add("l",-Et,0),this._add("Z")},ot.prototype.closePath=function(){this._d.length>0&&this._add("Z")},ot.prototype._add=function(vt,pt,Et,Pt,Lt,wt,Bt,Nt,Ut){for(var Wt=[],Vt=this._p,Gt=1;Gt<arguments.length;Gt++){var Xt=arguments[Gt];if(isNaN(Xt)){this._invalid=!0;return}Wt.push(Math.round(Xt*Vt)/Vt)}this._d.push(vt+Wt.join(" ")),this._start=vt==="Z"},ot.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},ot.prototype.getStr=function(){return this._str},ot}(),_=l,M=C(85342),m=C(70324),T="none",y=Math.round;function A(ot){var vt=ot.fill;return vt!=null&&vt!==T}function D(ot){var vt=ot.stroke;return vt!=null&&vt!==T}var L=["lineCap","miterLimit","lineJoin"],I=(0,m.UI)(L,function(ot){return"stroke-"+ot.toLowerCase()});function F(ot,vt,pt,Et){var Pt=vt.opacity==null?1:vt.opacity;if(pt instanceof t.ZP){ot("opacity",Pt);return}if(A(vt)){var Lt=(0,p.ut)(vt.fill);ot("fill",Lt.color);var wt=vt.fillOpacity!=null?vt.fillOpacity*Lt.opacity*Pt:Lt.opacity*Pt;(Et||wt<1)&&ot("fill-opacity",wt)}else ot("fill",T);if(D(vt)){var Bt=(0,p.ut)(vt.stroke);ot("stroke",Bt.color);var Nt=vt.strokeNoScale?pt.getLineScale():1,Ut=Nt?(vt.lineWidth||0)/Nt:0,Wt=vt.strokeOpacity!=null?vt.strokeOpacity*Bt.opacity*Pt:Bt.opacity*Pt,Vt=vt.strokeFirst;if((Et||Ut!==1)&&ot("stroke-width",Ut),(Et||Vt)&&ot("paint-order",Vt?"stroke":"fill"),(Et||Wt<1)&&ot("stroke-opacity",Wt),vt.lineDash){var Gt=(0,M.a)(pt),Xt=Gt[0],Yt=Gt[1];Xt&&(Yt=y(Yt||0),ot("stroke-dasharray",Xt.join(",")),(Yt||Et)&&ot("stroke-dashoffset",Yt))}else Et&&ot("stroke-dasharray",T);for(var Kt=0;Kt<L.length;Kt++){var $t=L[Kt];if(Et||vt[$t]!==o.$t[$t]){var qt=vt[$t]||o.$t[$t];qt&&ot(I[Kt],qt)}}}else Et&&ot("stroke",T)}var b=C(80400),O="http://www.w3.org/2000/svg",P="http://www.w3.org/1999/xlink",E="http://www.w3.org/2000/xmlns/",c="http://www.w3.org/XML/1998/namespace";function f(ot){return document.createElementNS(O,ot)}function u(ot,vt,pt,Et,Pt){return{tag:ot,attrs:pt||{},children:Et,text:Pt,key:vt}}function d(ot,vt){var pt=[];if(vt)for(var Et in vt){var Pt=vt[Et],Lt=Et;Pt!==!1&&(Pt!==!0&&Pt!=null&&(Lt+='="'+Pt+'"'),pt.push(Lt))}return"<"+ot+" "+pt.join(" ")+">"}function v(ot){return"</"+ot+">"}function g(ot,vt){vt=vt||{};var pt=vt.newline?`
`:"";function Et(Pt){var Lt=Pt.children,wt=Pt.tag,Bt=Pt.attrs,Nt=Pt.text;return d(wt,Bt)+(wt!=="style"?(0,b.F1)(Nt):Nt||"")+(Lt?""+pt+(0,m.UI)(Lt,function(Ut){return Et(Ut)}).join(pt)+pt:"")+v(wt)}return Et(ot)}function R(ot,vt,pt){pt=pt||{};var Et=pt.newline?`
`:"",Pt=" {"+Et,Lt=Et+"}",wt=(0,m.UI)((0,m.XP)(ot),function(Nt){return Nt+Pt+(0,m.UI)((0,m.XP)(ot[Nt]),function(Ut){return Ut+":"+ot[Nt][Ut]+";"}).join(Et)+Lt}).join(Et),Bt=(0,m.UI)((0,m.XP)(vt),function(Nt){return"@keyframes "+Nt+Pt+(0,m.UI)((0,m.XP)(vt[Nt]),function(Ut){return Ut+Pt+(0,m.UI)((0,m.XP)(vt[Nt][Ut]),function(Wt){var Vt=vt[Nt][Ut][Wt];return Wt==="d"&&(Vt='path("'+Vt+'")'),Wt+":"+Vt+";"}).join(Et)+Lt}).join(Et)+Lt}).join(Et);return!wt&&!Bt?"":["<![CDATA[",wt,Bt,"]]>"].join(Et)}function x(ot){return{zrId:ot,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function w(ot,vt,pt,Et){return u("svg","root",{width:ot,height:vt,xmlns:O,"xmlns:xlink":P,version:"1.1",baseProfile:"full",viewBox:Et?"0 0 "+ot+" "+vt:!1},pt)}var Z=C(6850),N=C(23463),G=C(29436),K=C(99464),J=C(74720),U={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},H="transform-origin";function V(ot,vt,pt){var Et=(0,m.l7)({},ot.shape);(0,m.l7)(Et,vt),ot.buildPath(pt,Et);var Pt=new _;return Pt.reset((0,p.Gk)(ot)),pt.rebuildPath(Pt,1),Pt.generateStr(),Pt.getStr()}function S(ot,vt){var pt=vt.originX,Et=vt.originY;(pt||Et)&&(ot[H]=pt+"px "+Et+"px")}var W={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function B(ot,vt){var pt=vt.zrId+"-ani-"+vt.cssAnimIdx++;return vt.cssAnims[pt]=ot,pt}function X(ot,vt,pt){var Et=ot.shape.paths,Pt={},Lt,wt;if((0,m.S6)(Et,function(Nt){var Ut=x(pt.zrId);Ut.animation=!0,et(Nt,{},Ut,!0);var Wt=Ut.cssAnims,Vt=Ut.cssNodes,Gt=(0,m.XP)(Wt),Xt=Gt.length;if(Xt){wt=Gt[Xt-1];var Yt=Wt[wt];for(var Kt in Yt){var $t=Yt[Kt];Pt[Kt]=Pt[Kt]||{d:""},Pt[Kt].d+=$t.d||""}for(var qt in Vt){var tr=Vt[qt].animation;tr.indexOf(wt)>=0&&(Lt=tr)}}}),!!Lt){vt.d=!1;var Bt=B(Pt,pt);return Lt.replace(wt,Bt)}}function Y(ot){return(0,m.HD)(ot)?U[ot]?"cubic-bezier("+U[ot]+")":(0,J.H)(ot)?ot:"":""}function et(ot,vt,pt,Et){var Pt=ot.animators,Lt=Pt.length,wt=[];if(ot instanceof K.Z){var Bt=X(ot,vt,pt);if(Bt)wt.push(Bt);else if(!Lt)return}else if(!Lt)return;for(var Nt={},Ut=0;Ut<Lt;Ut++){var Wt=Pt[Ut],Vt=[Wt.getMaxTime()/1e3+"s"],Gt=Y(Wt.getClip().easing),Xt=Wt.getDelay();Gt?Vt.push(Gt):Vt.push("linear"),Xt&&Vt.push(Xt/1e3+"s"),Wt.getLoop()&&Vt.push("infinite");var Yt=Vt.join(" ");Nt[Yt]=Nt[Yt]||[Yt,[]],Nt[Yt][1].push(Wt)}function Kt(tr){var ar=tr[1],rr=ar.length,lr={},_r={},er={},pr="animation-timing-function";function hr(Sr,Lr,Xr){for(var Or=Sr.getTracks(),re=Sr.getMaxTime(),Br=0;Br<Or.length;Br++){var Ur=Or[Br];if(Ur.needsAnimate()){var Kr=Ur.keyframes,wr=Ur.propName;if(Xr&&(wr=Xr(wr)),wr)for(var Fr=0;Fr<Kr.length;Fr++){var Ir=Kr[Fr],Zr=Math.round(Ir.time/re*100)+"%",Yr=Y(Ir.easing),kr=Ir.rawValue;((0,m.HD)(kr)||(0,m.hj)(kr))&&(Lr[Zr]=Lr[Zr]||{},Lr[Zr][wr]=Ir.rawValue,Yr&&(Lr[Zr][pr]=Yr))}}}}for(var ir=0;ir<rr;ir++){var vr=ar[ir],yr=vr.targetName;yr?yr==="shape"&&hr(vr,_r):!Et&&hr(vr,lr)}for(var nr in lr){var cr={};(0,N.kY)(cr,ot),(0,m.l7)(cr,lr[nr]);var Wr=(0,p.gA)(cr),Pr=lr[nr][pr];er[nr]=Wr?{transform:Wr}:{},S(er[nr],cr),Pr&&(er[nr][pr]=Pr)}var Tr,Hr=!0;for(var nr in _r){er[nr]=er[nr]||{};var Gr=!Tr,Pr=_r[nr][pr];Gr&&(Tr=new G.Z);var Jr=Tr.len();Tr.reset(),er[nr].d=V(ot,_r[nr],Tr);var $r=Tr.len();if(!Gr&&Jr!==$r){Hr=!1;break}Pr&&(er[nr][pr]=Pr)}if(!Hr)for(var nr in er)delete er[nr].d;if(!Et)for(var ir=0;ir<rr;ir++){var vr=ar[ir],yr=vr.targetName;yr==="style"&&hr(vr,er,function(Or){return W[Or]})}for(var Cr=(0,m.XP)(er),Vr=!0,Nr,ir=1;ir<Cr.length;ir++){var zr=Cr[ir-1],qr=Cr[ir];if(er[zr][H]!==er[qr][H]){Vr=!1;break}Nr=er[zr][H]}if(Vr&&Nr){for(var nr in er)er[nr][H]&&delete er[nr][H];vt[H]=Nr}if((0,m.hX)(Cr,function(Sr){return(0,m.XP)(er[Sr]).length>0}).length){var te=B(er,pt);return te+" "+tr[0]+" both"}}for(var $t in Nt){var Bt=Kt(Nt[$t]);Bt&&wt.push(Bt)}if(wt.length){var qt=pt.zrId+"-cls-"+pt.cssClassIdx++;pt.cssNodes["."+qt]={animation:wt.join(",")},vt.class=qt}}var z=C(95169),k=C(47297),at=Math.round;function ft(ot){return ot&&(0,m.HD)(ot.src)}function _t(ot){return ot&&(0,m.mf)(ot.toDataURL)}function tt(ot,vt,pt,Et){F(function(Pt,Lt){var wt=Pt==="fill"||Pt==="stroke";wt&&(0,p.H3)(Lt)?At(vt,ot,Pt,Et):wt&&(0,p.R)(Lt)?j(pt,ot,Pt,Et):ot[Pt]=Lt},vt,pt,!1),Tt(pt,ot,Et)}function rt(ot){return(0,p.zT)(ot[0]-1)&&(0,p.zT)(ot[1])&&(0,p.zT)(ot[2])&&(0,p.zT)(ot[3]-1)}function ut(ot){return(0,p.zT)(ot[4])&&(0,p.zT)(ot[5])}function ct(ot,vt,pt){if(vt&&!(ut(vt)&&rt(vt))){var Et=pt?10:1e4;ot.transform=rt(vt)?"translate("+at(vt[4]*Et)/Et+" "+at(vt[5]*Et)/Et+")":(0,p.qV)(vt)}}function st(ot,vt,pt){for(var Et=ot.points,Pt=[],Lt=0;Lt<Et.length;Lt++)Pt.push(at(Et[Lt][0]*pt)/pt),Pt.push(at(Et[Lt][1]*pt)/pt);vt.points=Pt.join(" ")}function dt(ot){return!ot.smooth}function ht(ot){var vt=(0,m.UI)(ot,function(pt){return typeof pt=="string"?[pt,pt]:pt});return function(pt,Et,Pt){for(var Lt=0;Lt<vt.length;Lt++){var wt=vt[Lt],Bt=pt[wt[0]];Bt!=null&&(Et[wt[1]]=at(Bt*Pt)/Pt)}}}var xt={circle:[ht(["cx","cy","r"])],polyline:[st,dt],polygon:[st,dt]};function Rt(ot){for(var vt=ot.animators,pt=0;pt<vt.length;pt++)if(vt[pt].targetName==="shape")return!0;return!1}function mt(ot,vt){var pt=ot.style,Et=ot.shape,Pt=xt[ot.type],Lt={},wt=vt.animation,Bt="path",Nt=ot.style.strokePercent,Ut=vt.compress&&(0,p.Gk)(ot)||4;if(Pt&&!vt.willUpdate&&!(Pt[1]&&!Pt[1](Et))&&!(wt&&Rt(ot))&&!(Nt<1)){Bt=ot.type;var Wt=Math.pow(10,Ut);Pt[0](Et,Lt,Wt)}else{var Vt=!ot.path||ot.shapeChanged();ot.path||ot.createPathProxy();var Gt=ot.path;Vt&&(Gt.beginPath(),ot.buildPath(Gt,ot.shape),ot.pathUpdated());var Xt=Gt.getVersion(),Yt=ot,Kt=Yt.__svgPathBuilder;(Yt.__svgPathVersion!==Xt||!Kt||Nt!==Yt.__svgPathStrokePercent)&&(Kt||(Kt=Yt.__svgPathBuilder=new _),Kt.reset(Ut),Gt.rebuildPath(Kt,Nt),Kt.generateStr(),Yt.__svgPathVersion=Xt,Yt.__svgPathStrokePercent=Nt),Lt.d=Kt.getStr()}return ct(Lt,ot.transform),tt(Lt,pt,ot,vt),vt.animation&&et(ot,Lt,vt),u(Bt,ot.id+"",Lt)}function St(ot,vt){var pt=ot.style,Et=pt.image;if(Et&&!(0,m.HD)(Et)&&(ft(Et)?Et=Et.src:_t(Et)&&(Et=Et.toDataURL())),!!Et){var Pt=pt.x||0,Lt=pt.y||0,wt=pt.width,Bt=pt.height,Nt={href:Et,width:wt,height:Bt};return Pt&&(Nt.x=Pt),Lt&&(Nt.y=Lt),ct(Nt,ot.transform),tt(Nt,pt,ot,vt),vt.animation&&et(ot,Nt,vt),u("image",ot.id+"",Nt)}}function It(ot,vt){var pt=ot.style,Et=pt.text;if(Et!=null&&(Et+=""),!(!Et||isNaN(pt.x)||isNaN(pt.y))){var Pt=pt.font||k.Uo,Lt=pt.x||0,wt=(0,p.mU)(pt.y||0,(0,r.Dp)(Pt),pt.textBaseline),Bt=p.jY[pt.textAlign]||pt.textAlign,Nt={"dominant-baseline":"central","text-anchor":Bt};if((0,z.Y1)(pt)){var Ut="",Wt=pt.fontStyle,Vt=(0,z.VG)(pt.fontSize);if(!parseFloat(Vt))return;var Gt=pt.fontFamily||k.rk,Xt=pt.fontWeight;Ut+="font-size:"+Vt+";font-family:"+Gt+";",Wt&&Wt!=="normal"&&(Ut+="font-style:"+Wt+";"),Xt&&Xt!=="normal"&&(Ut+="font-weight:"+Xt+";"),Nt.style=Ut}else Nt.style="font: "+Pt;return Et.match(/\s/)&&(Nt["xml:space"]="preserve"),Lt&&(Nt.x=Lt),wt&&(Nt.y=wt),ct(Nt,ot.transform),tt(Nt,pt,ot,vt),vt.animation&&et(ot,Nt,vt),u("text",ot.id+"",Nt,void 0,Et)}}function gt(ot,vt){if(ot instanceof o.ZP)return mt(ot,vt);if(ot instanceof t.ZP)return St(ot,vt);if(ot instanceof n.Z)return It(ot,vt)}function Tt(ot,vt,pt){var Et=ot.style;if((0,p.i2)(Et)){var Pt=(0,p.n1)(ot),Lt=pt.shadowCache,wt=Lt[Pt];if(!wt){var Bt=ot.getGlobalScale(),Nt=Bt[0],Ut=Bt[1];if(!Nt||!Ut)return;var Wt=Et.shadowOffsetX||0,Vt=Et.shadowOffsetY||0,Gt=Et.shadowBlur,Xt=(0,p.ut)(Et.shadowColor),Yt=Xt.opacity,Kt=Xt.color,$t=Gt/2/Nt,qt=Gt/2/Ut,tr=$t+" "+qt;wt=pt.zrId+"-s"+pt.shadowIdx++,pt.defs[wt]=u("filter",wt,{id:wt,x:"-100%",y:"-100%",width:"300%",height:"300%"},[u("feDropShadow","",{dx:Wt/Nt,dy:Vt/Ut,stdDeviation:tr,"flood-color":Kt,"flood-opacity":Yt})]),Lt[Pt]=wt}vt.filter=(0,p.m1)(wt)}}function At(ot,vt,pt,Et){var Pt=ot[pt],Lt,wt={gradientUnits:Pt.global?"userSpaceOnUse":"objectBoundingBox"};if((0,p.I1)(Pt))Lt="linearGradient",wt.x1=Pt.x,wt.y1=Pt.y,wt.x2=Pt.x2,wt.y2=Pt.y2;else if((0,p.gO)(Pt))Lt="radialGradient",wt.cx=(0,m.pD)(Pt.x,.5),wt.cy=(0,m.pD)(Pt.y,.5),wt.r=(0,m.pD)(Pt.r,.5);else return;for(var Bt=Pt.colorStops,Nt=[],Ut=0,Wt=Bt.length;Ut<Wt;++Ut){var Vt=(0,p.Pn)(Bt[Ut].offset)*100+"%",Gt=Bt[Ut].color,Xt=(0,p.ut)(Gt),Yt=Xt.color,Kt=Xt.opacity,$t={offset:Vt};$t["stop-color"]=Yt,Kt<1&&($t["stop-opacity"]=Kt),Nt.push(u("stop",Ut+"",$t))}var qt=u(Lt,"",wt,Nt),tr=g(qt),ar=Et.gradientCache,rr=ar[tr];rr||(rr=Et.zrId+"-g"+Et.gradientIdx++,ar[tr]=rr,wt.id=rr,Et.defs[rr]=u(Lt,rr,wt,Nt)),vt[pt]=(0,p.m1)(rr)}function j(ot,vt,pt,Et){var Pt=ot.style[pt],Lt=ot.getBoundingRect(),wt={},Bt=Pt.repeat,Nt=Bt==="no-repeat",Ut=Bt==="repeat-x",Wt=Bt==="repeat-y",Vt;if((0,p.Cv)(Pt)){var Gt=Pt.imageWidth,Xt=Pt.imageHeight,Yt=void 0,Kt=Pt.image;if((0,m.HD)(Kt)?Yt=Kt:ft(Kt)?Yt=Kt.src:_t(Kt)&&(Yt=Kt.toDataURL()),typeof Image=="undefined"){var $t="Image width/height must been given explictly in svg-ssr renderer.";(0,m.hu)(Gt,$t),(0,m.hu)(Xt,$t)}else if(Gt==null||Xt==null){var qt=function(ir,vr){if(ir){var yr=ir.elm,nr=Gt||vr.width,cr=Xt||vr.height;ir.tag==="pattern"&&(Ut?(cr=1,nr/=Lt.width):Wt&&(nr=1,cr/=Lt.height)),ir.attrs.width=nr,ir.attrs.height=cr,yr&&(yr.setAttribute("width",nr),yr.setAttribute("height",cr))}},tr=(0,Z.Gq)(Yt,null,ot,function(ir){Nt||qt(_r,ir),qt(Vt,ir)});tr&&tr.width&&tr.height&&(Gt=Gt||tr.width,Xt=Xt||tr.height)}Vt=u("image","img",{href:Yt,width:Gt,height:Xt}),wt.width=Gt,wt.height=Xt}else Pt.svgElement&&(Vt=(0,m.d9)(Pt.svgElement),wt.width=Pt.svgWidth,wt.height=Pt.svgHeight);if(Vt){var ar,rr;Nt?ar=rr=1:Ut?(rr=1,ar=wt.width/Lt.width):Wt?(ar=1,rr=wt.height/Lt.height):wt.patternUnits="userSpaceOnUse",ar!=null&&!isNaN(ar)&&(wt.width=ar),rr!=null&&!isNaN(rr)&&(wt.height=rr);var lr=(0,p.gA)(Pt);lr&&(wt.patternTransform=lr);var _r=u("pattern","",wt,[Vt]),er=g(_r),pr=Et.patternCache,hr=pr[er];hr||(hr=Et.zrId+"-p"+Et.patternIdx++,pr[er]=hr,wt.id=hr,_r=Et.defs[hr]=u("pattern",hr,wt,[Vt])),vt[pt]=(0,p.m1)(hr)}}function q(ot,vt,pt){var Et=pt.clipPathCache,Pt=pt.defs,Lt=Et[ot.id];if(!Lt){Lt=pt.zrId+"-c"+pt.clipPathIdx++;var wt={id:Lt};Et[ot.id]=Lt,Pt[Lt]=u("clipPath",Lt,wt,[mt(ot,pt)])}vt["clip-path"]=(0,p.m1)(Lt)}function yt(ot){return document.createTextNode(ot)}function Mt(ot){return document.createComment(ot)}function Q(ot,vt,pt){ot.insertBefore(vt,pt)}function $(ot,vt){ot.removeChild(vt)}function nt(ot,vt){ot.appendChild(vt)}function lt(ot){return ot.parentNode}function Ct(ot){return ot.nextSibling}function Zt(ot){return ot.tagName}function Ot(ot,vt){ot.textContent=vt}function bt(ot){return ot.textContent}function Ft(ot){return ot.nodeType===1}function zt(ot){return ot.nodeType===3}function Ht(ot){return ot.nodeType===8}var kt=58,jt=120,Qt=u("","");function ur(ot){return ot===void 0}function Jt(ot){return ot!==void 0}function or(ot,vt,pt){for(var Et={},Pt=vt;Pt<=pt;++Pt){var Lt=ot[Pt].key;Lt!==void 0&&(Et[Lt]=Pt)}return Et}function sr(ot,vt){var pt=ot.key===vt.key,Et=ot.tag===vt.tag;return Et&&pt}function fr(ot){var vt,pt=ot.children,Et=ot.tag;if(Jt(Et)){var Pt=ot.elm=f(Et);if(Er(Qt,ot),(0,m.kJ)(pt))for(vt=0;vt<pt.length;++vt){var Lt=pt[vt];Lt!=null&&nt(Pt,fr(Lt))}else Jt(ot.text)&&!(0,m.Kn)(ot.text)&&nt(Pt,yt(ot.text))}else ot.elm=yt(ot.text);return ot.elm}function gr(ot,vt,pt,Et,Pt){for(;Et<=Pt;++Et){var Lt=pt[Et];Lt!=null&&Q(ot,fr(Lt),vt)}}function mr(ot,vt,pt,Et){for(;pt<=Et;++pt){var Pt=vt[pt];if(Pt!=null)if(Jt(Pt.tag)){var Lt=lt(Pt.elm);$(Lt,Pt.elm)}else $(ot,Pt.elm)}}function Er(ot,vt){var pt,Et=vt.elm,Pt=ot&&ot.attrs||{},Lt=vt.attrs||{};if(Pt!==Lt){for(pt in Lt){var wt=Lt[pt],Bt=Pt[pt];Bt!==wt&&(wt===!0?Et.setAttribute(pt,""):wt===!1?Et.removeAttribute(pt):pt.charCodeAt(0)!==jt?Et.setAttribute(pt,wt):pt==="xmlns:xlink"||pt==="xmlns"?Et.setAttributeNS(E,pt,wt):pt.charCodeAt(3)===kt?Et.setAttributeNS(c,pt,wt):pt.charCodeAt(5)===kt?Et.setAttributeNS(P,pt,wt):Et.setAttribute(pt,wt))}for(pt in Pt)pt in Lt||Et.removeAttribute(pt)}}function Ar(ot,vt,pt){for(var Et=0,Pt=0,Lt=vt.length-1,wt=vt[0],Bt=vt[Lt],Nt=pt.length-1,Ut=pt[0],Wt=pt[Nt],Vt,Gt,Xt,Yt;Et<=Lt&&Pt<=Nt;)wt==null?wt=vt[++Et]:Bt==null?Bt=vt[--Lt]:Ut==null?Ut=pt[++Pt]:Wt==null?Wt=pt[--Nt]:sr(wt,Ut)?(dr(wt,Ut),wt=vt[++Et],Ut=pt[++Pt]):sr(Bt,Wt)?(dr(Bt,Wt),Bt=vt[--Lt],Wt=pt[--Nt]):sr(wt,Wt)?(dr(wt,Wt),Q(ot,wt.elm,Ct(Bt.elm)),wt=vt[++Et],Wt=pt[--Nt]):sr(Bt,Ut)?(dr(Bt,Ut),Q(ot,Bt.elm,wt.elm),Bt=vt[--Lt],Ut=pt[++Pt]):(ur(Vt)&&(Vt=or(vt,Et,Lt)),Gt=Vt[Ut.key],ur(Gt)?Q(ot,fr(Ut),wt.elm):(Xt=vt[Gt],Xt.tag!==Ut.tag?Q(ot,fr(Ut),wt.elm):(dr(Xt,Ut),vt[Gt]=void 0,Q(ot,Xt.elm,wt.elm))),Ut=pt[++Pt]);(Et<=Lt||Pt<=Nt)&&(Et>Lt?(Yt=pt[Nt+1]==null?null:pt[Nt+1].elm,gr(ot,Yt,pt,Pt,Nt)):mr(ot,vt,Et,Lt))}function dr(ot,vt){var pt=vt.elm=ot.elm,Et=ot.children,Pt=vt.children;ot!==vt&&(Er(ot,vt),ur(vt.text)?Jt(Et)&&Jt(Pt)?Et!==Pt&&Ar(pt,Et,Pt):Jt(Pt)?(Jt(ot.text)&&Ot(pt,""),gr(pt,null,Pt,0,Pt.length-1)):Jt(Et)?mr(pt,Et,0,Et.length-1):Jt(ot.text)&&Ot(pt,""):ot.text!==vt.text&&(Jt(Et)&&mr(pt,Et,0,Et.length-1),Ot(pt,vt.text)))}function br(ot,vt){if(sr(ot,vt))dr(ot,vt);else{var pt=ot.elm,Et=lt(pt);fr(vt),Et!==null&&(Q(Et,vt.elm,Ct(pt)),mr(Et,[ot],0,0))}return vt}var xr=C(89625),Rr=0,Dr=function(){function ot(vt,pt,Et){if(this.type="svg",this.refreshHover=Mr("refreshHover"),this.configLayer=Mr("configLayer"),this.storage=pt,this._opts=Et=(0,m.l7)({},Et),this.root=vt,this._id="zr"+Rr++,this._oldVNode=w(Et.width,Et.height),vt&&!Et.ssr){var Pt=this._viewport=document.createElement("div");Pt.style.cssText="position:relative;overflow:hidden";var Lt=this._svgDom=this._oldVNode.elm=f("svg");Er(null,this._oldVNode),Pt.appendChild(Lt),vt.appendChild(Pt)}this.resize(Et.width,Et.height)}return ot.prototype.getType=function(){return this.type},ot.prototype.getViewportRoot=function(){return this._viewport},ot.prototype.getViewportRootOffset=function(){var vt=this.getViewportRoot();if(vt)return{offsetLeft:vt.offsetLeft||0,offsetTop:vt.offsetTop||0}},ot.prototype.getSvgDom=function(){return this._svgDom},ot.prototype.refresh=function(){if(this.root){var vt=this.renderToVNode({willUpdate:!0});vt.attrs.style="position:absolute;left:0;top:0;user-select:none",br(this._oldVNode,vt),this._oldVNode=vt}},ot.prototype.renderOneToVNode=function(vt){return gt(vt,x(this._id))},ot.prototype.renderToVNode=function(vt){vt=vt||{};var pt=this.storage.getDisplayList(!0),Et=this._width,Pt=this._height,Lt=x(this._id);Lt.animation=vt.animation,Lt.willUpdate=vt.willUpdate,Lt.compress=vt.compress;var wt=[],Bt=this._bgVNode=jr(Et,Pt,this._backgroundColor,Lt);Bt&&wt.push(Bt);var Nt=vt.compress?null:this._mainVNode=u("g","main",{},[]);this._paintList(pt,Lt,Nt?Nt.children:wt),Nt&&wt.push(Nt);var Ut=(0,m.UI)((0,m.XP)(Lt.defs),function(Gt){return Lt.defs[Gt]});if(Ut.length&&wt.push(u("defs","defs",{},Ut)),vt.animation){var Wt=R(Lt.cssNodes,Lt.cssAnims,{newline:!0});if(Wt){var Vt=u("style","stl",{},[],Wt);wt.push(Vt)}}return w(Et,Pt,wt,vt.useViewBox)},ot.prototype.renderToString=function(vt){return vt=vt||{},g(this.renderToVNode({animation:(0,m.pD)(vt.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:(0,m.pD)(vt.useViewBox,!0)}),{newline:!0})},ot.prototype.setBackgroundColor=function(vt){this._backgroundColor=vt},ot.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},ot.prototype._paintList=function(vt,pt,Et){for(var Pt=vt.length,Lt=[],wt=0,Bt,Nt,Ut=0,Wt=0;Wt<Pt;Wt++){var Vt=vt[Wt];if(!Vt.invisible){var Gt=Vt.__clipPaths,Xt=Gt&&Gt.length||0,Yt=Nt&&Nt.length||0,Kt=void 0;for(Kt=Math.max(Xt-1,Yt-1);Kt>=0&&!(Gt&&Nt&&Gt[Kt]===Nt[Kt]);Kt--);for(var $t=Yt-1;$t>Kt;$t--)wt--,Bt=Lt[wt-1];for(var qt=Kt+1;qt<Xt;qt++){var tr={};q(Gt[qt],tr,pt);var ar=u("g","clip-g-"+Ut++,tr,[]);(Bt?Bt.children:Et).push(ar),Lt[wt++]=ar,Bt=ar}Nt=Gt;var rr=gt(Vt,pt);rr&&(Bt?Bt.children:Et).push(rr)}}},ot.prototype.resize=function(vt,pt){var Et=this._opts,Pt=this.root,Lt=this._viewport;if(vt!=null&&(Et.width=vt),pt!=null&&(Et.height=pt),Pt&&Lt&&(Lt.style.display="none",vt=(0,xr.ap)(Pt,0,Et),pt=(0,xr.ap)(Pt,1,Et),Lt.style.display=""),this._width!==vt||this._height!==pt){if(this._width=vt,this._height=pt,Lt){var wt=Lt.style;wt.width=vt+"px",wt.height=pt+"px"}if((0,p.R)(this._backgroundColor))this.refresh();else{var Bt=this._svgDom;Bt&&(Bt.setAttribute("width",vt),Bt.setAttribute("height",pt));var Nt=this._bgVNode&&this._bgVNode.elm;Nt&&(Nt.setAttribute("width",vt),Nt.setAttribute("height",pt))}}},ot.prototype.getWidth=function(){return this._width},ot.prototype.getHeight=function(){return this._height},ot.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},ot.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},ot.prototype.toDataURL=function(vt){var pt=this.renderToString(),Et="data:image/svg+xml;";return vt?(pt=(0,p.oF)(pt),pt&&Et+"base64,"+pt):Et+"charset=UTF-8,"+encodeURIComponent(pt)},ot}();function Mr(ot){return function(){}}function jr(ot,vt,pt,Et){var Pt;if(pt&&pt!=="none")if(Pt=u("rect","bg",{width:ot,height:vt,x:"0",y:"0",id:"0"}),(0,p.H3)(pt))At({fill:pt},Pt.attrs,"fill",Et);else if((0,p.R)(pt))j({style:{fill:pt},dirty:m.ZT,getBoundingRect:function(){return{width:ot,height:vt}}},Pt.attrs,"fill",Et);else{var Lt=(0,p.ut)(pt),wt=Lt.color,Bt=Lt.opacity;Pt.attrs.fill=wt,Bt<1&&(Pt.attrs["fill-opacity"]=Bt)}return Pt}var Qr=Dr},72352:function(Dt,it,C){C.d(it,{Cv:function(){return D},Gk:function(){return E},H3:function(){return O},I1:function(){return F},Pn:function(){return a},R:function(){return I},gA:function(){return c},gO:function(){return b},i2:function(){return T},jY:function(){return M},m1:function(){return P},mU:function(){return m},n1:function(){return y},oF:function(){return f},qV:function(){return _},ut:function(){return e},zT:function(){return h}});var p=C(70324),o=C(96170),t=C(54490),r=C(91620).lW,n=Math.round;function e(u){var d;if(!u||u==="transparent")u="none";else if(typeof u=="string"&&u.indexOf("rgba")>-1){var v=(0,o.parse)(u);v&&(u="rgb("+v[0]+","+v[1]+","+v[2]+")",d=v[3])}return{color:u,opacity:d==null?1:d}}var s=1e-4;function h(u){return u<s&&u>-s}function i(u){return n(u*1e3)/1e3}function a(u){return n(u*1e4)/1e4}function l(u){return n(u*10)/10}function _(u){return"matrix("+i(u[0])+","+i(u[1])+","+i(u[2])+","+i(u[3])+","+a(u[4])+","+a(u[5])+")"}var M={left:"start",right:"end",center:"middle",middle:"middle"};function m(u,d,v){return v==="top"?u+=d/2:v==="bottom"&&(u-=d/2),u}function T(u){return u&&(u.shadowBlur||u.shadowOffsetX||u.shadowOffsetY)}function y(u){var d=u.style,v=u.getGlobalScale();return[d.shadowColor,(d.shadowBlur||0).toFixed(2),(d.shadowOffsetX||0).toFixed(2),(d.shadowOffsetY||0).toFixed(2),v[0],v[1]].join(",")}function A(u){var d=[];if(u)for(var v=0;v<u.length;v++){var g=u[v];d.push(g.id)}return d.join(",")}function D(u){return u&&!!u.image}function L(u){return u&&!!u.svgElement}function I(u){return D(u)||L(u)}function F(u){return u.type==="linear"}function b(u){return u.type==="radial"}function O(u){return u&&(u.type==="linear"||u.type==="radial")}function P(u){return"url(#"+u+")"}function E(u){var d=u.getGlobalScale(),v=Math.max(d[0],d[1]);return Math.max(Math.ceil(Math.log(v)/Math.log(10)),1)}function c(u){var d=u.x||0,v=u.y||0,g=(u.rotation||0)*p.I3,R=(0,p.pD)(u.scaleX,1),x=(0,p.pD)(u.scaleY,1),w=u.skewX||0,Z=u.skewY||0,N=[];return(d||v)&&N.push("translate("+d+"px,"+v+"px)"),g&&N.push("rotate("+g+")"),(R!==1||x!==1)&&N.push("scale("+R+","+x+")"),(w||Z)&&N.push("skew("+n(w*p.I3)+"deg, "+n(Z*p.I3)+"deg)"),N.join(" ")}var f=function(){return t.Z.hasGlobalWindow&&(0,p.mf)(window.btoa)?function(u){return window.btoa(unescape(encodeURIComponent(u)))}:typeof r!="undefined"?function(u){return r.from(u).toString("base64")}:function(u){return null}}()},96170:function(Dt,it,C){C.r(it),C.d(it,{fastLerp:function(){return I},fastMapToColor:function(){return F},lerp:function(){return b},lift:function(){return D},lum:function(){return f},mapToColor:function(){return O},modifyAlpha:function(){return E},modifyHSL:function(){return P},parse:function(){return T},random:function(){return u},stringify:function(){return c},toHex:function(){return L}});var p=C(86280),o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function t(d){return d=Math.round(d),d<0?0:d>255?255:d}function r(d){return d=Math.round(d),d<0?0:d>360?360:d}function n(d){return d<0?0:d>1?1:d}function e(d){var v=d;return v.length&&v.charAt(v.length-1)==="%"?t(parseFloat(v)/100*255):t(parseInt(v,10))}function s(d){var v=d;return v.length&&v.charAt(v.length-1)==="%"?n(parseFloat(v)/100):n(parseFloat(v))}function h(d,v,g){return g<0?g+=1:g>1&&(g-=1),g*6<1?d+(v-d)*g*6:g*2<1?v:g*3<2?d+(v-d)*(2/3-g)*6:d}function i(d,v,g){return d+(v-d)*g}function a(d,v,g,R,x){return d[0]=v,d[1]=g,d[2]=R,d[3]=x,d}function l(d,v){return d[0]=v[0],d[1]=v[1],d[2]=v[2],d[3]=v[3],d}var _=new p.ZP(20),M=null;function m(d,v){M&&l(M,v),M=_.put(d,M||v.slice())}function T(d,v){if(d){v=v||[];var g=_.get(d);if(g)return l(v,g);d=d+"";var R=d.replace(/ /g,"").toLowerCase();if(R in o)return l(v,o[R]),m(d,v),v;var x=R.length;if(R.charAt(0)==="#"){if(x===4||x===5){var w=parseInt(R.slice(1,4),16);if(!(w>=0&&w<=4095)){a(v,0,0,0,1);return}return a(v,(w&3840)>>4|(w&3840)>>8,w&240|(w&240)>>4,w&15|(w&15)<<4,x===5?parseInt(R.slice(4),16)/15:1),m(d,v),v}else if(x===7||x===9){var w=parseInt(R.slice(1,7),16);if(!(w>=0&&w<=16777215)){a(v,0,0,0,1);return}return a(v,(w&16711680)>>16,(w&65280)>>8,w&255,x===9?parseInt(R.slice(7),16)/255:1),m(d,v),v}return}var Z=R.indexOf("("),N=R.indexOf(")");if(Z!==-1&&N+1===x){var G=R.substr(0,Z),K=R.substr(Z+1,N-(Z+1)).split(","),J=1;switch(G){case"rgba":if(K.length!==4)return K.length===3?a(v,+K[0],+K[1],+K[2],1):a(v,0,0,0,1);J=s(K.pop());case"rgb":if(K.length>=3)return a(v,e(K[0]),e(K[1]),e(K[2]),K.length===3?J:s(K[3])),m(d,v),v;a(v,0,0,0,1);return;case"hsla":if(K.length!==4){a(v,0,0,0,1);return}return K[3]=s(K[3]),y(K,v),m(d,v),v;case"hsl":if(K.length!==3){a(v,0,0,0,1);return}return y(K,v),m(d,v),v;default:return}}a(v,0,0,0,1)}}function y(d,v){var g=(parseFloat(d[0])%360+360)%360/360,R=s(d[1]),x=s(d[2]),w=x<=.5?x*(R+1):x+R-x*R,Z=x*2-w;return v=v||[],a(v,t(h(Z,w,g+1/3)*255),t(h(Z,w,g)*255),t(h(Z,w,g-1/3)*255),1),d.length===4&&(v[3]=d[3]),v}function A(d){if(d){var v=d[0]/255,g=d[1]/255,R=d[2]/255,x=Math.min(v,g,R),w=Math.max(v,g,R),Z=w-x,N=(w+x)/2,G,K;if(Z===0)G=0,K=0;else{N<.5?K=Z/(w+x):K=Z/(2-w-x);var J=((w-v)/6+Z/2)/Z,U=((w-g)/6+Z/2)/Z,H=((w-R)/6+Z/2)/Z;v===w?G=H-U:g===w?G=1/3+J-H:R===w&&(G=2/3+U-J),G<0&&(G+=1),G>1&&(G-=1)}var V=[G*360,K,N];return d[3]!=null&&V.push(d[3]),V}}function D(d,v){var g=T(d);if(g){for(var R=0;R<3;R++)v<0?g[R]=g[R]*(1-v)|0:g[R]=(255-g[R])*v+g[R]|0,g[R]>255?g[R]=255:g[R]<0&&(g[R]=0);return c(g,g.length===4?"rgba":"rgb")}}function L(d){var v=T(d);if(v)return((1<<24)+(v[0]<<16)+(v[1]<<8)+ +v[2]).toString(16).slice(1)}function I(d,v,g){if(!(!(v&&v.length)||!(d>=0&&d<=1))){g=g||[];var R=d*(v.length-1),x=Math.floor(R),w=Math.ceil(R),Z=v[x],N=v[w],G=R-x;return g[0]=t(i(Z[0],N[0],G)),g[1]=t(i(Z[1],N[1],G)),g[2]=t(i(Z[2],N[2],G)),g[3]=n(i(Z[3],N[3],G)),g}}var F=I;function b(d,v,g){if(!(!(v&&v.length)||!(d>=0&&d<=1))){var R=d*(v.length-1),x=Math.floor(R),w=Math.ceil(R),Z=T(v[x]),N=T(v[w]),G=R-x,K=c([t(i(Z[0],N[0],G)),t(i(Z[1],N[1],G)),t(i(Z[2],N[2],G)),n(i(Z[3],N[3],G))],"rgba");return g?{color:K,leftIndex:x,rightIndex:w,value:R}:K}}var O=b;function P(d,v,g,R){var x=T(d);if(d)return x=A(x),v!=null&&(x[0]=r(v)),g!=null&&(x[1]=s(g)),R!=null&&(x[2]=s(R)),c(y(x),"rgba")}function E(d,v){var g=T(d);if(g&&v!=null)return g[3]=n(v),c(g,"rgba")}function c(d,v){if(!(!d||!d.length)){var g=d[0]+","+d[1]+","+d[2];return(v==="rgba"||v==="hsva"||v==="hsla")&&(g+=","+d[3]),v+"("+g+")"}}function f(d,v){var g=T(d);return g?(.299*g[0]+.587*g[1]+.114*g[2])*g[3]/255+(1-g[3])*v:0}function u(){return c([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}},27033:function(Dt,it,C){C.d(it,{a4:function(){return ft},j:function(){return U},xQ:function(){return Y},nY:function(){return _t}});var p=C(14296),o=C(66210),t=C(70324),r=C(85755),n=C(1205),e=C(23463),s=C(19169),h=C(16128),i=C(73913),a=C(7228),l=C(73909),_=C(29902),M=C(29436),m=M.Z.CMD;function T(tt,rt){return Math.abs(tt-rt)<1e-5}function y(tt){var rt=tt.data,ut=tt.len(),ct=[],st,dt=0,ht=0,xt=0,Rt=0;function mt(Ht,kt){st&&st.length>2&&ct.push(st),st=[Ht,kt]}function St(Ht,kt,jt,Qt){T(Ht,jt)&&T(kt,Qt)||st.push(Ht,kt,jt,Qt,jt,Qt)}function It(Ht,kt,jt,Qt,ur,Jt){var or=Math.abs(kt-Ht),sr=Math.tan(or/4)*4/3,fr=kt<Ht?-1:1,gr=Math.cos(Ht),mr=Math.sin(Ht),Er=Math.cos(kt),Ar=Math.sin(kt),dr=gr*ur+jt,br=mr*Jt+Qt,xr=Er*ur+jt,Rr=Ar*Jt+Qt,Dr=ur*sr*fr,Mr=Jt*sr*fr;st.push(dr-Dr*mr,br+Mr*gr,xr+Dr*Ar,Rr-Mr*Er,xr,Rr)}for(var gt,Tt,At,j,q=0;q<ut;){var yt=rt[q++],Mt=q===1;switch(Mt&&(dt=rt[q],ht=rt[q+1],xt=dt,Rt=ht,(yt===m.L||yt===m.C||yt===m.Q)&&(st=[xt,Rt])),yt){case m.M:dt=xt=rt[q++],ht=Rt=rt[q++],mt(xt,Rt);break;case m.L:gt=rt[q++],Tt=rt[q++],St(dt,ht,gt,Tt),dt=gt,ht=Tt;break;case m.C:st.push(rt[q++],rt[q++],rt[q++],rt[q++],dt=rt[q++],ht=rt[q++]);break;case m.Q:gt=rt[q++],Tt=rt[q++],At=rt[q++],j=rt[q++],st.push(dt+2/3*(gt-dt),ht+2/3*(Tt-ht),At+2/3*(gt-At),j+2/3*(Tt-j),At,j),dt=At,ht=j;break;case m.A:var Q=rt[q++],$=rt[q++],nt=rt[q++],lt=rt[q++],Ct=rt[q++],Zt=rt[q++]+Ct;q+=1;var Ot=!rt[q++];gt=Math.cos(Ct)*nt+Q,Tt=Math.sin(Ct)*lt+$,Mt?(xt=gt,Rt=Tt,mt(xt,Rt)):St(dt,ht,gt,Tt),dt=Math.cos(Zt)*nt+Q,ht=Math.sin(Zt)*lt+$;for(var bt=(Ot?-1:1)*Math.PI/2,Ft=Ct;Ot?Ft>Zt:Ft<Zt;Ft+=bt){var zt=Ot?Math.max(Ft+bt,Zt):Math.min(Ft+bt,Zt);It(Ft,zt,Q,$,nt,lt)}break;case m.R:xt=dt=rt[q++],Rt=ht=rt[q++],gt=xt+rt[q++],Tt=Rt+rt[q++],mt(gt,Rt),St(gt,Rt,gt,Tt),St(gt,Tt,xt,Tt),St(xt,Tt,xt,Rt),St(xt,Rt,gt,Rt);break;case m.Z:st&&St(dt,ht,xt,Rt),dt=xt,ht=Rt;break}}return st&&st.length>2&&ct.push(st),ct}function A(tt,rt,ut,ct,st,dt,ht,xt,Rt,mt){if(T(tt,ut)&&T(rt,ct)&&T(st,ht)&&T(dt,xt)){Rt.push(ht,xt);return}var St=2/mt,It=St*St,gt=ht-tt,Tt=xt-rt,At=Math.sqrt(gt*gt+Tt*Tt);gt/=At,Tt/=At;var j=ut-tt,q=ct-rt,yt=st-ht,Mt=dt-xt,Q=j*j+q*q,$=yt*yt+Mt*Mt;if(Q<It&&$<It){Rt.push(ht,xt);return}var nt=gt*j+Tt*q,lt=-gt*yt-Tt*Mt,Ct=Q-nt*nt,Zt=$-lt*lt;if(Ct<It&&nt>=0&&Zt<It&&lt>=0){Rt.push(ht,xt);return}var Ot=[],bt=[];(0,p.Vz)(tt,ut,st,ht,.5,Ot),(0,p.Vz)(rt,ct,dt,xt,.5,bt),A(Ot[0],bt[0],Ot[1],bt[1],Ot[2],bt[2],Ot[3],bt[3],Rt,mt),A(Ot[4],bt[4],Ot[5],bt[5],Ot[6],bt[6],Ot[7],bt[7],Rt,mt)}function D(tt,rt){var ut=y(tt),ct=[];rt=rt||1;for(var st=0;st<ut.length;st++){var dt=ut[st],ht=[],xt=dt[0],Rt=dt[1];ht.push(xt,Rt);for(var mt=2;mt<dt.length;){var St=dt[mt++],It=dt[mt++],gt=dt[mt++],Tt=dt[mt++],At=dt[mt++],j=dt[mt++];A(xt,Rt,St,It,gt,Tt,At,j,ht,rt),xt=At,Rt=j}ct.push(ht)}return ct}function L(tt,rt,ut){var ct=tt[rt],st=tt[1-rt],dt=Math.abs(ct/st),ht=Math.ceil(Math.sqrt(dt*ut)),xt=Math.floor(ut/ht);xt===0&&(xt=1,ht=ut);for(var Rt=[],mt=0;mt<ht;mt++)Rt.push(xt);var St=ht*xt,It=ut-St;if(It>0)for(var mt=0;mt<It;mt++)Rt[mt%ht]+=1;return Rt}function I(tt,rt,ut){for(var ct=tt.r0,st=tt.r,dt=tt.startAngle,ht=tt.endAngle,xt=Math.abs(ht-dt),Rt=xt*st,mt=st-ct,St=Rt>Math.abs(mt),It=L([Rt,mt],St?0:1,rt),gt=(St?xt:mt)/It.length,Tt=0;Tt<It.length;Tt++)for(var At=(St?mt:xt)/It[Tt],j=0;j<It[Tt];j++){var q={};St?(q.startAngle=dt+gt*Tt,q.endAngle=dt+gt*(Tt+1),q.r0=ct+At*j,q.r=ct+At*(j+1)):(q.startAngle=dt+At*j,q.endAngle=dt+At*(j+1),q.r0=ct+gt*Tt,q.r=ct+gt*(Tt+1)),q.clockwise=tt.clockwise,q.cx=tt.cx,q.cy=tt.cy,ut.push(q)}}function F(tt,rt,ut){for(var ct=tt.width,st=tt.height,dt=ct>st,ht=L([ct,st],dt?0:1,rt),xt=dt?"width":"height",Rt=dt?"height":"width",mt=dt?"x":"y",St=dt?"y":"x",It=tt[xt]/ht.length,gt=0;gt<ht.length;gt++)for(var Tt=tt[Rt]/ht[gt],At=0;At<ht[gt];At++){var j={};j[mt]=gt*It,j[St]=At*Tt,j[xt]=It,j[Rt]=Tt,j.x+=tt.x,j.y+=tt.y,ut.push(j)}}function b(tt,rt,ut,ct){return tt*ct-ut*rt}function O(tt,rt,ut,ct,st,dt,ht,xt){var Rt=ut-tt,mt=ct-rt,St=ht-st,It=xt-dt,gt=b(St,It,Rt,mt);if(Math.abs(gt)<1e-6)return null;var Tt=tt-st,At=rt-dt,j=b(Tt,At,St,It)/gt;return j<0||j>1?null:new i.Z(j*Rt+tt,j*mt+rt)}function P(tt,rt,ut){var ct=new i.Z;i.Z.sub(ct,ut,rt),ct.normalize();var st=new i.Z;i.Z.sub(st,tt,rt);var dt=st.dot(ct);return dt}function E(tt,rt){var ut=tt[tt.length-1];ut&&ut[0]===rt[0]&&ut[1]===rt[1]||tt.push(rt)}function c(tt,rt,ut){for(var ct=tt.length,st=[],dt=0;dt<ct;dt++){var ht=tt[dt],xt=tt[(dt+1)%ct],Rt=O(ht[0],ht[1],xt[0],xt[1],rt.x,rt.y,ut.x,ut.y);Rt&&st.push({projPt:P(Rt,rt,ut),pt:Rt,idx:dt})}if(st.length<2)return[{points:tt},{points:tt}];st.sort(function(q,yt){return q.projPt-yt.projPt});var mt=st[0],St=st[st.length-1];if(St.idx<mt.idx){var It=mt;mt=St,St=It}for(var gt=[mt.pt.x,mt.pt.y],Tt=[St.pt.x,St.pt.y],At=[gt],j=[Tt],dt=mt.idx+1;dt<=St.idx;dt++)E(At,tt[dt].slice());E(At,Tt),E(At,gt);for(var dt=St.idx+1;dt<=mt.idx+ct;dt++)E(j,tt[dt%ct].slice());return E(j,gt),E(j,Tt),[{points:At},{points:j}]}function f(tt){var rt=tt.points,ut=[],ct=[];(0,s.zk)(rt,ut,ct);var st=new h.Z(ut[0],ut[1],ct[0]-ut[0],ct[1]-ut[1]),dt=st.width,ht=st.height,xt=st.x,Rt=st.y,mt=new i.Z,St=new i.Z;return dt>ht?(mt.x=St.x=xt+dt/2,mt.y=Rt,St.y=Rt+ht):(mt.y=St.y=Rt+ht/2,mt.x=xt,St.x=xt+dt),c(rt,mt,St)}function u(tt,rt,ut,ct){if(ut===1)ct.push(rt);else{var st=Math.floor(ut/2),dt=tt(rt);u(tt,dt[0],st,ct),u(tt,dt[1],ut-st,ct)}return ct}function d(tt,rt){for(var ut=[],ct=0;ct<rt;ct++)ut.push((0,n.U5)(tt));return ut}function v(tt,rt){rt.setStyle(tt.style),rt.z=tt.z,rt.z2=tt.z2,rt.zlevel=tt.zlevel}function g(tt){for(var rt=[],ut=0;ut<tt.length;)rt.push([tt[ut++],tt[ut++]]);return rt}function R(tt,rt){var ut=[],ct=tt.shape,st;switch(tt.type){case"rect":F(ct,rt,ut),st=l.Z;break;case"sector":I(ct,rt,ut),st=_.C;break;case"circle":I({r0:0,r:ct.r,startAngle:0,endAngle:Math.PI*2,cx:ct.cx,cy:ct.cy},rt,ut),st=_.C;break;default:var dt=tt.getComputedTransform(),ht=dt?Math.sqrt(Math.max(dt[0]*dt[0]+dt[1]*dt[1],dt[2]*dt[2]+dt[3]*dt[3])):1,xt=(0,t.UI)(D(tt.getUpdatedPathProxy(),ht),function(yt){return g(yt)}),Rt=xt.length;if(Rt===0)u(f,{points:xt[0]},rt,ut);else if(Rt===rt)for(var mt=0;mt<Rt;mt++)ut.push({points:xt[mt]});else{var St=0,It=(0,t.UI)(xt,function(yt){var Mt=[],Q=[];(0,s.zk)(yt,Mt,Q);var $=(Q[1]-Mt[1])*(Q[0]-Mt[0]);return St+=$,{poly:yt,area:$}});It.sort(function(yt,Mt){return Mt.area-yt.area});for(var gt=rt,mt=0;mt<Rt;mt++){var Tt=It[mt];if(gt<=0)break;var At=mt===Rt-1?gt:Math.ceil(Tt.area/St*rt);At<0||(u(f,{points:Tt.poly},At,ut),gt-=At)}}st=a.Z;break}if(!st)return d(tt,rt);for(var j=[],mt=0;mt<ut.length;mt++){var q=new st;q.setShape(ut[mt]),v(tt,q),j.push(q)}return j}function x(tt,rt){var ut=tt.length,ct=rt.length;if(ut===ct)return[tt,rt];for(var st=[],dt=[],ht=ut<ct?tt:rt,xt=Math.min(ut,ct),Rt=Math.abs(ct-ut)/6,mt=(xt-2)/6,St=Math.ceil(Rt/mt)+1,It=[ht[0],ht[1]],gt=Rt,Tt=2;Tt<xt;){var At=ht[Tt-2],j=ht[Tt-1],q=ht[Tt++],yt=ht[Tt++],Mt=ht[Tt++],Q=ht[Tt++],$=ht[Tt++],nt=ht[Tt++];if(gt<=0){It.push(q,yt,Mt,Q,$,nt);continue}for(var lt=Math.min(gt,St-1)+1,Ct=1;Ct<=lt;Ct++){var Zt=Ct/lt;(0,p.Vz)(At,q,Mt,$,Zt,st),(0,p.Vz)(j,yt,Q,nt,Zt,dt),At=st[3],j=dt[3],It.push(st[1],dt[1],st[2],dt[2],At,j),q=st[5],yt=dt[5],Mt=st[6],Q=dt[6]}gt-=lt-1}return ht===tt?[It,rt]:[tt,It]}function w(tt,rt){for(var ut=tt.length,ct=tt[ut-2],st=tt[ut-1],dt=[],ht=0;ht<rt.length;)dt[ht++]=ct,dt[ht++]=st;return dt}function Z(tt,rt){for(var ut,ct,st,dt=[],ht=[],xt=0;xt<Math.max(tt.length,rt.length);xt++){var Rt=tt[xt],mt=rt[xt],St=void 0,It=void 0;Rt?mt?(ut=x(Rt,mt),St=ut[0],It=ut[1],ct=St,st=It):(It=w(st||Rt,Rt),St=Rt):(St=w(ct||mt,mt),It=mt),dt.push(St),ht.push(It)}return[dt,ht]}function N(tt){for(var rt=0,ut=0,ct=0,st=tt.length,dt=0,ht=st-2;dt<st;ht=dt,dt+=2){var xt=tt[ht],Rt=tt[ht+1],mt=tt[dt],St=tt[dt+1],It=xt*St-mt*Rt;rt+=It,ut+=(xt+mt)*It,ct+=(Rt+St)*It}return rt===0?[tt[0]||0,tt[1]||0]:[ut/rt/3,ct/rt/3,rt]}function G(tt,rt,ut,ct){for(var st=(tt.length-2)/6,dt=1/0,ht=0,xt=tt.length,Rt=xt-2,mt=0;mt<st;mt++){for(var St=mt*6,It=0,gt=0;gt<xt;gt+=2){var Tt=gt===0?St:(St+gt-2)%Rt+2,At=tt[Tt]-ut[0],j=tt[Tt+1]-ut[1],q=rt[gt]-ct[0],yt=rt[gt+1]-ct[1],Mt=q-At,Q=yt-j;It+=Mt*Mt+Q*Q}It<dt&&(dt=It,ht=mt)}return ht}function K(tt){for(var rt=[],ut=tt.length,ct=0;ct<ut;ct+=2)rt[ct]=tt[ut-ct-2],rt[ct+1]=tt[ut-ct-1];return rt}function J(tt,rt,ut,ct){for(var st=[],dt,ht=0;ht<tt.length;ht++){var xt=tt[ht],Rt=rt[ht],mt=N(xt),St=N(Rt);dt==null&&(dt=mt[2]<0!=St[2]<0);var It=[],gt=[],Tt=0,At=1/0,j=[],q=xt.length;dt&&(xt=K(xt));for(var yt=G(xt,Rt,mt,St)*6,Mt=q-2,Q=0;Q<Mt;Q+=2){var $=(yt+Q)%Mt+2;It[Q+2]=xt[$]-mt[0],It[Q+3]=xt[$+1]-mt[1]}if(It[0]=xt[yt]-mt[0],It[1]=xt[yt+1]-mt[1],ut>0)for(var nt=ct/ut,lt=-ct/2;lt<=ct/2;lt+=nt){for(var Ct=Math.sin(lt),Zt=Math.cos(lt),Ot=0,Q=0;Q<xt.length;Q+=2){var bt=It[Q],Ft=It[Q+1],zt=Rt[Q]-St[0],Ht=Rt[Q+1]-St[1],kt=zt*Zt-Ht*Ct,jt=zt*Ct+Ht*Zt;j[Q]=kt,j[Q+1]=jt;var Qt=kt-bt,ur=jt-Ft;Ot+=Qt*Qt+ur*ur}if(Ot<At){At=Ot,Tt=lt;for(var Jt=0;Jt<j.length;Jt++)gt[Jt]=j[Jt]}}else for(var or=0;or<q;or+=2)gt[or]=Rt[or]-St[0],gt[or+1]=Rt[or+1]-St[1];st.push({from:It,to:gt,fromCp:mt,toCp:St,rotation:-Tt})}return st}function U(tt){return tt.__isCombineMorphing}function H(tt){return tt.__morphT>=0}var V="__mOriginal_";function S(tt,rt,ut){var ct=V+rt,st=tt[ct]||tt[rt];tt[ct]||(tt[ct]=tt[rt]);var dt=ut.replace,ht=ut.after,xt=ut.before;tt[rt]=function(){var Rt=arguments,mt;return xt&&xt.apply(this,Rt),dt?mt=dt.apply(this,Rt):mt=st.apply(this,Rt),ht&&ht.apply(this,Rt),mt}}function W(tt,rt){var ut=V+rt;tt[ut]&&(tt[rt]=tt[ut],tt[ut]=null)}function B(tt,rt){for(var ut=0;ut<tt.length;ut++)for(var ct=tt[ut],st=0;st<ct.length;){var dt=ct[st],ht=ct[st+1];ct[st++]=rt[0]*dt+rt[2]*ht+rt[4],ct[st++]=rt[1]*dt+rt[3]*ht+rt[5]}}function X(tt,rt){var ut=tt.getUpdatedPathProxy(),ct=rt.getUpdatedPathProxy(),st=Z(y(ut),y(ct)),dt=st[0],ht=st[1],xt=tt.getComputedTransform(),Rt=rt.getComputedTransform();function mt(){this.transform=null}xt&&B(dt,xt),Rt&&B(ht,Rt),S(rt,"updateTransform",{replace:mt}),rt.transform=null;var St=J(dt,ht,10,Math.PI),It=[];S(rt,"buildPath",{replace:function(gt){for(var Tt=rt.__morphT,At=1-Tt,j=[],q=0;q<St.length;q++){var yt=St[q],Mt=yt.from,Q=yt.to,$=yt.rotation*Tt,nt=yt.fromCp,lt=yt.toCp,Ct=Math.sin($),Zt=Math.cos($);(0,r.t7)(j,nt,lt,Tt);for(var Ot=0;Ot<Mt.length;Ot+=2){var bt=Mt[Ot],Ft=Mt[Ot+1],zt=Q[Ot],Ht=Q[Ot+1],kt=bt*At+zt*Tt,jt=Ft*At+Ht*Tt;It[Ot]=kt*Zt-jt*Ct+j[0],It[Ot+1]=kt*Ct+jt*Zt+j[1]}var Qt=It[0],ur=It[1];gt.moveTo(Qt,ur);for(var Ot=2;Ot<Mt.length;){var zt=It[Ot++],Ht=It[Ot++],Jt=It[Ot++],or=It[Ot++],sr=It[Ot++],fr=It[Ot++];Qt===zt&&ur===Ht&&Jt===sr&&or===fr?gt.lineTo(sr,fr):gt.bezierCurveTo(zt,Ht,Jt,or,sr,fr),Qt=sr,ur=fr}}}})}function Y(tt,rt,ut){if(!tt||!rt)return rt;var ct=ut.done,st=ut.during;X(tt,rt),rt.__morphT=0;function dt(){W(rt,"buildPath"),W(rt,"updateTransform"),rt.__morphT=-1,rt.createPathProxy(),rt.dirtyShape()}return rt.animateTo({__morphT:1},(0,t.ce)({during:function(ht){rt.dirtyShape(),st&&st(ht)},done:function(){dt(),ct&&ct()}},ut)),rt}function et(tt,rt,ut,ct,st,dt){var ht=16;tt=st===ut?0:Math.round(32767*(tt-ut)/(st-ut)),rt=dt===ct?0:Math.round(32767*(rt-ct)/(dt-ct));for(var xt=0,Rt,mt=(1<<ht)/2;mt>0;mt/=2){var St=0,It=0;(tt&mt)>0&&(St=1),(rt&mt)>0&&(It=1),xt+=mt*mt*(3*St^It),It===0&&(St===1&&(tt=mt-1-tt,rt=mt-1-rt),Rt=tt,tt=rt,rt=Rt)}return xt}function z(tt){var rt=1/0,ut=1/0,ct=-1/0,st=-1/0,dt=(0,t.UI)(tt,function(xt){var Rt=xt.getBoundingRect(),mt=xt.getComputedTransform(),St=Rt.x+Rt.width/2+(mt?mt[4]:0),It=Rt.y+Rt.height/2+(mt?mt[5]:0);return rt=Math.min(St,rt),ut=Math.min(It,ut),ct=Math.max(St,ct),st=Math.max(It,st),[St,It]}),ht=(0,t.UI)(dt,function(xt,Rt){return{cp:xt,z:et(xt[0],xt[1],rt,ut,ct,st),path:tt[Rt]}});return ht.sort(function(xt,Rt){return xt.z-Rt.z}).map(function(xt){return xt.path})}function k(tt){return R(tt.path,tt.count)}function at(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ft(tt,rt,ut){var ct=[];function st(nt){for(var lt=0;lt<nt.length;lt++){var Ct=nt[lt];U(Ct)?st(Ct.childrenRef()):Ct instanceof o.ZP&&ct.push(Ct)}}st(tt);var dt=ct.length;if(!dt)return at();var ht=ut.dividePath||k,xt=ht({path:rt,count:dt});if(xt.length!==dt)return console.error("Invalid morphing: unmatched splitted path"),at();ct=z(ct),xt=z(xt);for(var Rt=ut.done,mt=ut.during,St=ut.individualDelay,It=new e.ZP,gt=0;gt<dt;gt++){var Tt=ct[gt],At=xt[gt];At.parent=rt,At.copyTransform(It),St||X(Tt,At)}rt.__isCombineMorphing=!0,rt.childrenRef=function(){return xt};function j(nt){for(var lt=0;lt<xt.length;lt++)xt[lt].addSelfToZr(nt)}S(rt,"addSelfToZr",{after:function(nt){j(nt)}}),S(rt,"removeSelfFromZr",{after:function(nt){for(var lt=0;lt<xt.length;lt++)xt[lt].removeSelfFromZr(nt)}});function q(){rt.__isCombineMorphing=!1,rt.__morphT=-1,rt.childrenRef=null,W(rt,"addSelfToZr"),W(rt,"removeSelfFromZr")}var yt=xt.length;if(St)for(var Mt=yt,Q=function(){Mt--,Mt===0&&(q(),Rt&&Rt())},gt=0;gt<yt;gt++){var $=St?(0,t.ce)({delay:(ut.delay||0)+St(gt,yt,ct[gt],xt[gt]),done:Q},ut):ut;Y(ct[gt],xt[gt],$)}else rt.__morphT=0,rt.animateTo({__morphT:1},(0,t.ce)({during:function(nt){for(var lt=0;lt<yt;lt++){var Ct=xt[lt];Ct.__morphT=rt.__morphT,Ct.dirtyShape()}mt&&mt(nt)},done:function(){q();for(var nt=0;nt<tt.length;nt++)W(tt[nt],"updateTransform");Rt&&Rt()}},ut));return rt.__zr&&j(rt.__zr),{fromIndividuals:ct,toIndividuals:xt,count:yt}}function _t(tt,rt,ut){var ct=rt.length,st=[],dt=ut.dividePath||k;function ht(Tt){for(var At=0;At<Tt.length;At++){var j=Tt[At];U(j)?ht(j.childrenRef()):j instanceof o.ZP&&st.push(j)}}if(U(tt)){ht(tt.childrenRef());var xt=st.length;if(xt<ct)for(var Rt=0,mt=xt;mt<ct;mt++)st.push((0,n.U5)(st[Rt++%xt]));st.length=ct}else{st=dt({path:tt,count:ct});for(var St=tt.getComputedTransform(),mt=0;mt<st.length;mt++)st[mt].setLocalTransform(St);if(st.length!==ct)return console.error("Invalid morphing: unmatched splitted path"),at()}st=z(st),rt=z(rt);for(var It=ut.individualDelay,mt=0;mt<ct;mt++){var gt=It?(0,t.ce)({delay:(ut.delay||0)+It(mt,ct,st[mt],rt[mt])},ut):ut;Y(st[mt],rt[mt],gt)}return{fromIndividuals:st,toIndividuals:rt,count:rt.length}}},29777:function(Dt,it,C){C.d(it,{hS:function(){return H},sd:function(){return U}});var p=C(2574),o=C(13806),t=C(16513),r=C(73909),n=C(15904),e=C(40596),s=C(7228),h=C(6224),i=C(58427),a=C(1205),l=C(70324),_=C(55602),M=C(43606),m=C(83007),T=C(9843),y,A={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},D=(0,l.XP)(A),L={"alignment-baseline":"textBaseline","stop-color":"stopColor"},I=(0,l.XP)(L),F=function(){function V(){this._defs={},this._root=null}return V.prototype.parse=function(S,W){W=W||{};var B=(0,T.s)(S);this._defsUsePending=[];var X=new p.Z;this._root=X;var Y=[],et=B.getAttribute("viewBox")||"",z=parseFloat(B.getAttribute("width")||W.width),k=parseFloat(B.getAttribute("height")||W.height);isNaN(z)&&(z=null),isNaN(k)&&(k=null),f(B,X,null,!0,!1);for(var at=B.firstChild;at;)this._parseNode(at,X,Y,null,!1,!1),at=at.nextSibling;g(this._defs,this._defsUsePending),this._defsUsePending=[];var ft,_t;if(et){var tt=x(et);tt.length>=4&&(ft={x:parseFloat(tt[0]||0),y:parseFloat(tt[1]||0),width:parseFloat(tt[2]),height:parseFloat(tt[3])})}if(ft&&z!=null&&k!=null&&(_t=U(ft,{x:0,y:0,width:z,height:k}),!W.ignoreViewBox)){var rt=X;X=new p.Z,X.add(rt),rt.scaleX=rt.scaleY=_t.scale,rt.x=_t.x,rt.y=_t.y}return!W.ignoreRootClip&&z!=null&&k!=null&&X.setClipPath(new r.Z({shape:{x:0,y:0,width:z,height:k}})),{root:X,width:z,height:k,viewBoxRect:ft,viewBoxTransform:_t,named:Y}},V.prototype._parseNode=function(S,W,B,X,Y,et){var z=S.nodeName.toLowerCase(),k,at=X;if(z==="defs"&&(Y=!0),z==="text"&&(et=!0),z==="defs"||z==="switch")k=W;else{if(!Y){var ft=y[z];if(ft&&(0,l.RI)(y,z)){k=ft.call(this,S,W);var _t=S.getAttribute("name");if(_t){var tt={name:_t,namedFrom:null,svgNodeTagLower:z,el:k};B.push(tt),z==="g"&&(at=tt)}else X&&B.push({name:X.name,namedFrom:X,svgNodeTagLower:z,el:k});W.add(k)}}var rt=b[z];if(rt&&(0,l.RI)(b,z)){var ut=rt.call(this,S),ct=S.getAttribute("id");ct&&(this._defs[ct]=ut)}}if(k&&k.isGroup)for(var st=S.firstChild;st;)st.nodeType===1?this._parseNode(st,k,B,at,Y,et):st.nodeType===3&&et&&this._parseText(st,k),st=st.nextSibling},V.prototype._parseText=function(S,W){var B=new m.Z({style:{text:S.textContent},silent:!0,x:this._textX||0,y:this._textY||0});E(W,B),f(S,B,this._defsUsePending,!1,!1),u(B,W);var X=B.style,Y=X.fontSize;Y&&Y<9&&(X.fontSize=9,B.scaleX*=Y/9,B.scaleY*=Y/9);var et=(X.fontSize||X.fontFamily)&&[X.fontStyle,X.fontWeight,(X.fontSize||12)+"px",X.fontFamily||"sans-serif"].join(" ");X.font=et;var z=B.getBoundingRect();return this._textX+=z.width,W.add(B),B},V.internalField=function(){y={g:function(S,W){var B=new p.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B},rect:function(S,W){var B=new r.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({x:parseFloat(S.getAttribute("x")||"0"),y:parseFloat(S.getAttribute("y")||"0"),width:parseFloat(S.getAttribute("width")||"0"),height:parseFloat(S.getAttribute("height")||"0")}),B.silent=!0,B},circle:function(S,W){var B=new t.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({cx:parseFloat(S.getAttribute("cx")||"0"),cy:parseFloat(S.getAttribute("cy")||"0"),r:parseFloat(S.getAttribute("r")||"0")}),B.silent=!0,B},line:function(S,W){var B=new e.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({x1:parseFloat(S.getAttribute("x1")||"0"),y1:parseFloat(S.getAttribute("y1")||"0"),x2:parseFloat(S.getAttribute("x2")||"0"),y2:parseFloat(S.getAttribute("y2")||"0")}),B.silent=!0,B},ellipse:function(S,W){var B=new n.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({cx:parseFloat(S.getAttribute("cx")||"0"),cy:parseFloat(S.getAttribute("cy")||"0"),rx:parseFloat(S.getAttribute("rx")||"0"),ry:parseFloat(S.getAttribute("ry")||"0")}),B.silent=!0,B},polygon:function(S,W){var B=S.getAttribute("points"),X;B&&(X=c(B));var Y=new s.Z({shape:{points:X||[]},silent:!0});return E(W,Y),f(S,Y,this._defsUsePending,!1,!1),Y},polyline:function(S,W){var B=S.getAttribute("points"),X;B&&(X=c(B));var Y=new h.Z({shape:{points:X||[]},silent:!0});return E(W,Y),f(S,Y,this._defsUsePending,!1,!1),Y},image:function(S,W){var B=new o.ZP;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setStyle({image:S.getAttribute("xlink:href")||S.getAttribute("href"),x:+S.getAttribute("x"),y:+S.getAttribute("y"),width:+S.getAttribute("width"),height:+S.getAttribute("height")}),B.silent=!0,B},text:function(S,W){var B=S.getAttribute("x")||"0",X=S.getAttribute("y")||"0",Y=S.getAttribute("dx")||"0",et=S.getAttribute("dy")||"0";this._textX=parseFloat(B)+parseFloat(Y),this._textY=parseFloat(X)+parseFloat(et);var z=new p.Z;return E(W,z),f(S,z,this._defsUsePending,!1,!0),z},tspan:function(S,W){var B=S.getAttribute("x"),X=S.getAttribute("y");B!=null&&(this._textX=parseFloat(B)),X!=null&&(this._textY=parseFloat(X));var Y=S.getAttribute("dx")||"0",et=S.getAttribute("dy")||"0",z=new p.Z;return E(W,z),f(S,z,this._defsUsePending,!1,!0),this._textX+=parseFloat(Y),this._textY+=parseFloat(et),z},path:function(S,W){var B=S.getAttribute("d")||"",X=(0,a.iR)(B);return E(W,X),f(S,X,this._defsUsePending,!1,!1),X.silent=!0,X}}}(),V}(),b={lineargradient:function(V){var S=parseInt(V.getAttribute("x1")||"0",10),W=parseInt(V.getAttribute("y1")||"0",10),B=parseInt(V.getAttribute("x2")||"10",10),X=parseInt(V.getAttribute("y2")||"0",10),Y=new _.Z(S,W,B,X);return O(V,Y),P(V,Y),Y},radialgradient:function(V){var S=parseInt(V.getAttribute("cx")||"0",10),W=parseInt(V.getAttribute("cy")||"0",10),B=parseInt(V.getAttribute("r")||"0",10),X=new M.Z(S,W,B);return O(V,X),P(V,X),X}};function O(V,S){var W=V.getAttribute("gradientUnits");W==="userSpaceOnUse"&&(S.global=!0)}function P(V,S){for(var W=V.firstChild;W;){if(W.nodeType===1&&W.nodeName.toLocaleLowerCase()==="stop"){var B=W.getAttribute("offset"),X=void 0;B&&B.indexOf("%")>0?X=parseInt(B,10)/100:B?X=parseFloat(B):X=0;var Y={};K(W,Y,Y);var et=Y.stopColor||W.getAttribute("stop-color")||"#000000";S.colorStops.push({offset:X,color:et})}W=W.nextSibling}}function E(V,S){V&&V.__inheritedStyle&&(S.__inheritedStyle||(S.__inheritedStyle={}),(0,l.ce)(S.__inheritedStyle,V.__inheritedStyle))}function c(V){for(var S=x(V),W=[],B=0;B<S.length;B+=2){var X=parseFloat(S[B]),Y=parseFloat(S[B+1]);W.push([X,Y])}return W}function f(V,S,W,B,X){var Y=S,et=Y.__inheritedStyle=Y.__inheritedStyle||{},z={};V.nodeType===1&&(N(V,S),K(V,et,z),B||J(V,et,z)),Y.style=Y.style||{},et.fill!=null&&(Y.style.fill=v(Y,"fill",et.fill,W)),et.stroke!=null&&(Y.style.stroke=v(Y,"stroke",et.stroke,W)),(0,l.S6)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(k){et[k]!=null&&(Y.style[k]=parseFloat(et[k]))}),(0,l.S6)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(k){et[k]!=null&&(Y.style[k]=et[k])}),X&&(Y.__selfStyle=z),et.lineDash&&(Y.style.lineDash=(0,l.UI)(x(et.lineDash),function(k){return parseFloat(k)})),(et.visibility==="hidden"||et.visibility==="collapse")&&(Y.invisible=!0),et.display==="none"&&(Y.ignore=!0)}function u(V,S){var W=S.__selfStyle;if(W){var B=W.textBaseline,X=B;!B||B==="auto"||B==="baseline"?X="alphabetic":B==="before-edge"||B==="text-before-edge"?X="top":B==="after-edge"||B==="text-after-edge"?X="bottom":(B==="central"||B==="mathematical")&&(X="middle"),V.style.textBaseline=X}var Y=S.__inheritedStyle;if(Y){var et=Y.textAlign,z=et;et&&(et==="middle"&&(z="center"),V.style.textAlign=z)}}var d=/^url\(\s*#(.*?)\)/;function v(V,S,W,B){var X=W&&W.match(d);if(X){var Y=(0,l.fy)(X[1]);B.push([V,S,Y]);return}return W==="none"&&(W=null),W}function g(V,S){for(var W=0;W<S.length;W++){var B=S[W];B[0].style[B[1]]=V[B[2]]}}var R=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function x(V){return V.match(R)||[]}var w=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Z=Math.PI/180;function N(V,S){var W=V.getAttribute("transform");if(W){W=W.replace(/,/g," ");var B=[],X=null;W.replace(w,function(_t,tt,rt){return B.push(tt,rt),""});for(var Y=B.length-1;Y>0;Y-=2){var et=B[Y],z=B[Y-1],k=x(et);switch(X=X||i.Ue(),z){case"translate":i.Iu(X,X,[parseFloat(k[0]),parseFloat(k[1]||"0")]);break;case"scale":i.bA(X,X,[parseFloat(k[0]),parseFloat(k[1]||k[0])]);break;case"rotate":i.U1(X,X,-parseFloat(k[0])*Z);break;case"skewX":var at=Math.tan(parseFloat(k[0])*Z);i.dC(X,[1,0,at,1,0,0],X);break;case"skewY":var ft=Math.tan(parseFloat(k[0])*Z);i.dC(X,[1,ft,0,1,0,0],X);break;case"matrix":X[0]=parseFloat(k[0]),X[1]=parseFloat(k[1]),X[2]=parseFloat(k[2]),X[3]=parseFloat(k[3]),X[4]=parseFloat(k[4]),X[5]=parseFloat(k[5]);break}}S.setLocalTransform(X)}}var G=/([^\s:;]+)\s*:\s*([^:;]+)/g;function K(V,S,W){var B=V.getAttribute("style");if(B){G.lastIndex=0;for(var X;(X=G.exec(B))!=null;){var Y=X[1],et=(0,l.RI)(A,Y)?A[Y]:null;et&&(S[et]=X[2]);var z=(0,l.RI)(L,Y)?L[Y]:null;z&&(W[z]=X[2])}}}function J(V,S,W){for(var B=0;B<D.length;B++){var X=D[B],Y=V.getAttribute(X);Y!=null&&(S[A[X]]=Y)}for(var B=0;B<I.length;B++){var X=I[B],Y=V.getAttribute(X);Y!=null&&(W[L[X]]=Y)}}function U(V,S){var W=S.width/V.width,B=S.height/V.height,X=Math.min(W,B);return{scale:X,x:-(V.x+V.width/2)*X+(S.x+S.width/2),y:-(V.y+V.height/2)*X+(S.y+S.height/2)}}function H(V,S){var W=new F;return W.parse(V,S)}},9843:function(Dt,it,C){C.d(it,{s:function(){return o}});var p=C(70324);function o(t){if((0,p.HD)(t)){var r=new DOMParser;t=r.parseFromString(t,"text/xml")}var n=t;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}},1205:function(Dt,it,C){C.d(it,{U5:function(){return u},iR:function(){return E},Pc:function(){return c},AA:function(){return f}});var p=C(12012),o=C(66210),t=C(29436),r=C(85755),n=t.Z.CMD,e=[[],[],[]],s=Math.sqrt,h=Math.atan2;function i(d,v){if(v){var g=d.data,R=d.len(),x,w,Z,N,G,K,J=n.M,U=n.C,H=n.L,V=n.R,S=n.A,W=n.Q;for(Z=0,N=0;Z<R;){switch(x=g[Z++],N=Z,w=0,x){case J:w=1;break;case H:w=1;break;case U:w=3;break;case W:w=2;break;case S:var B=v[4],X=v[5],Y=s(v[0]*v[0]+v[1]*v[1]),et=s(v[2]*v[2]+v[3]*v[3]),z=h(-v[1]/et,v[0]/Y);g[Z]*=Y,g[Z++]+=B,g[Z]*=et,g[Z++]+=X,g[Z++]*=Y,g[Z++]*=et,g[Z++]+=z,g[Z++]+=z,Z+=2,N=Z;break;case V:K[0]=g[Z++],K[1]=g[Z++],(0,r.Ne)(K,K,v),g[N++]=K[0],g[N++]=K[1],K[0]+=g[Z++],K[1]+=g[Z++],(0,r.Ne)(K,K,v),g[N++]=K[0],g[N++]=K[1]}for(G=0;G<w;G++){var k=e[G];k[0]=g[Z++],k[1]=g[Z++],(0,r.Ne)(k,k,v),g[N++]=k[0],g[N++]=k[1]}}d.increaseVersion()}}var a=C(70324),l=Math.sqrt,_=Math.sin,M=Math.cos,m=Math.PI;function T(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function y(d,v){return(d[0]*v[0]+d[1]*v[1])/(T(d)*T(v))}function A(d,v){return(d[0]*v[1]<d[1]*v[0]?-1:1)*Math.acos(y(d,v))}function D(d,v,g,R,x,w,Z,N,G,K,J){var U=G*(m/180),H=M(U)*(d-g)/2+_(U)*(v-R)/2,V=-1*_(U)*(d-g)/2+M(U)*(v-R)/2,S=H*H/(Z*Z)+V*V/(N*N);S>1&&(Z*=l(S),N*=l(S));var W=(x===w?-1:1)*l((Z*Z*(N*N)-Z*Z*(V*V)-N*N*(H*H))/(Z*Z*(V*V)+N*N*(H*H)))||0,B=W*Z*V/N,X=W*-N*H/Z,Y=(d+g)/2+M(U)*B-_(U)*X,et=(v+R)/2+_(U)*B+M(U)*X,z=A([1,0],[(H-B)/Z,(V-X)/N]),k=[(H-B)/Z,(V-X)/N],at=[(-1*H-B)/Z,(-1*V-X)/N],ft=A(k,at);if(y(k,at)<=-1&&(ft=m),y(k,at)>=1&&(ft=0),ft<0){var _t=Math.round(ft/m*1e6)/1e6;ft=m*2+_t%2*m}J.addData(K,Y,et,Z,N,z,ft,U,w)}var L=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,I=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function F(d){var v=new t.Z;if(!d)return v;var g=0,R=0,x=g,w=R,Z,N=t.Z.CMD,G=d.match(L);if(!G)return v;for(var K=0;K<G.length;K++){for(var J=G[K],U=J.charAt(0),H=void 0,V=J.match(I)||[],S=V.length,W=0;W<S;W++)V[W]=parseFloat(V[W]);for(var B=0;B<S;){var X=void 0,Y=void 0,et=void 0,z=void 0,k=void 0,at=void 0,ft=void 0,_t=g,tt=R,rt=void 0,ut=void 0;switch(U){case"l":g+=V[B++],R+=V[B++],H=N.L,v.addData(H,g,R);break;case"L":g=V[B++],R=V[B++],H=N.L,v.addData(H,g,R);break;case"m":g+=V[B++],R+=V[B++],H=N.M,v.addData(H,g,R),x=g,w=R,U="l";break;case"M":g=V[B++],R=V[B++],H=N.M,v.addData(H,g,R),x=g,w=R,U="L";break;case"h":g+=V[B++],H=N.L,v.addData(H,g,R);break;case"H":g=V[B++],H=N.L,v.addData(H,g,R);break;case"v":R+=V[B++],H=N.L,v.addData(H,g,R);break;case"V":R=V[B++],H=N.L,v.addData(H,g,R);break;case"C":H=N.C,v.addData(H,V[B++],V[B++],V[B++],V[B++],V[B++],V[B++]),g=V[B-2],R=V[B-1];break;case"c":H=N.C,v.addData(H,V[B++]+g,V[B++]+R,V[B++]+g,V[B++]+R,V[B++]+g,V[B++]+R),g+=V[B-2],R+=V[B-1];break;case"S":X=g,Y=R,rt=v.len(),ut=v.data,Z===N.C&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),H=N.C,_t=V[B++],tt=V[B++],g=V[B++],R=V[B++],v.addData(H,X,Y,_t,tt,g,R);break;case"s":X=g,Y=R,rt=v.len(),ut=v.data,Z===N.C&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),H=N.C,_t=g+V[B++],tt=R+V[B++],g+=V[B++],R+=V[B++],v.addData(H,X,Y,_t,tt,g,R);break;case"Q":_t=V[B++],tt=V[B++],g=V[B++],R=V[B++],H=N.Q,v.addData(H,_t,tt,g,R);break;case"q":_t=V[B++]+g,tt=V[B++]+R,g+=V[B++],R+=V[B++],H=N.Q,v.addData(H,_t,tt,g,R);break;case"T":X=g,Y=R,rt=v.len(),ut=v.data,Z===N.Q&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),g=V[B++],R=V[B++],H=N.Q,v.addData(H,X,Y,g,R);break;case"t":X=g,Y=R,rt=v.len(),ut=v.data,Z===N.Q&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),g+=V[B++],R+=V[B++],H=N.Q,v.addData(H,X,Y,g,R);break;case"A":et=V[B++],z=V[B++],k=V[B++],at=V[B++],ft=V[B++],_t=g,tt=R,g=V[B++],R=V[B++],H=N.A,D(_t,tt,g,R,at,ft,et,z,k,H,v);break;case"a":et=V[B++],z=V[B++],k=V[B++],at=V[B++],ft=V[B++],_t=g,tt=R,g+=V[B++],R+=V[B++],H=N.A,D(_t,tt,g,R,at,ft,et,z,k,H,v);break}}(U==="z"||U==="Z")&&(H=N.Z,v.addData(H),g=x,R=w),Z=H}return v.toStatic(),v}var b=function(d){(0,p.ZT)(v,d);function v(){return d!==null&&d.apply(this,arguments)||this}return v.prototype.applyTransform=function(g){},v}(o.ZP);function O(d){return d.setData!=null}function P(d,v){var g=F(d),R=(0,a.l7)({},v);return R.buildPath=function(x){if(O(x)){x.setData(g.data);var w=x.getContext();w&&x.rebuildPath(w,1)}else{var w=x;g.rebuildPath(w,1)}},R.applyTransform=function(x){i(g,x),this.dirtyShape()},R}function E(d,v){return new b(P(d,v))}function c(d,v){var g=P(d,v),R=function(x){(0,p.ZT)(w,x);function w(Z){var N=x.call(this,Z)||this;return N.applyTransform=g.applyTransform,N.buildPath=g.buildPath,N}return w}(b);return R}function f(d,v){for(var g=[],R=d.length,x=0;x<R;x++){var w=d[x];g.push(w.getUpdatedPathProxy(!0))}var Z=new o.ZP(v);return Z.createPathProxy(),Z.buildPath=function(N){if(O(N)){N.appendPath(g);var G=N.getContext();G&&N.rebuildPath(G,1)}},Z}function u(d,v){v=v||{};var g=new o.ZP;return d.shape&&g.setShape(d.shape),g.setStyle(d.style),v.bakeTransform?i(g.path,d.getComputedTransform()):v.toLocal?g.setLocalTransform(d.getComputedTransform()):g.copyTransform(d),g.buildPath=d.buildPath,g.applyTransform=g.applyTransform,g.z=d.z,g.z2=d.z2,g.zlevel=d.zlevel,g}},32389:function(Dt,it,C){C.r(it),C.d(it,{dispose:function(){return At},disposeAll:function(){return j},getInstance:function(){return q},init:function(){return Tt},registerPainter:function(){return yt},version:function(){return Mt}});var p=C(54490),o=C(70324),t=C(12012),r=C(85755),n=function(){function Q($,nt){this.target=$,this.topTarget=nt&&nt.topTarget}return Q}(),e=function(){function Q($){this.handler=$,$.on("mousedown",this._dragStart,this),$.on("mousemove",this._drag,this),$.on("mouseup",this._dragEnd,this)}return Q.prototype._dragStart=function($){for(var nt=$.target;nt&&!nt.draggable;)nt=nt.parent||nt.__hostTarget;nt&&(this._draggingTarget=nt,nt.dragging=!0,this._x=$.offsetX,this._y=$.offsetY,this.handler.dispatchToElement(new n(nt,$),"dragstart",$.event))},Q.prototype._drag=function($){var nt=this._draggingTarget;if(nt){var lt=$.offsetX,Ct=$.offsetY,Zt=lt-this._x,Ot=Ct-this._y;this._x=lt,this._y=Ct,nt.drift(Zt,Ot,$),this.handler.dispatchToElement(new n(nt,$),"drag",$.event);var bt=this.handler.findHover(lt,Ct,nt).target,Ft=this._dropTarget;this._dropTarget=bt,nt!==bt&&(Ft&&bt!==Ft&&this.handler.dispatchToElement(new n(Ft,$),"dragleave",$.event),bt&&bt!==Ft&&this.handler.dispatchToElement(new n(bt,$),"dragenter",$.event))}},Q.prototype._dragEnd=function($){var nt=this._draggingTarget;nt&&(nt.dragging=!1),this.handler.dispatchToElement(new n(nt,$),"dragend",$.event),this._dropTarget&&this.handler.dispatchToElement(new n(this._dropTarget,$),"drop",$.event),this._draggingTarget=null,this._dropTarget=null},Q}(),s=e,h=C(10563),i=C(11300),a=function(){function Q(){this._track=[]}return Q.prototype.recognize=function($,nt,lt){return this._doTrack($,nt,lt),this._recognize($)},Q.prototype.clear=function(){return this._track.length=0,this},Q.prototype._doTrack=function($,nt,lt){var Ct=$.touches;if(Ct){for(var Zt={points:[],touches:[],target:nt,event:$},Ot=0,bt=Ct.length;Ot<bt;Ot++){var Ft=Ct[Ot],zt=i.eV(lt,Ft,{});Zt.points.push([zt.zrX,zt.zrY]),Zt.touches.push(Ft)}this._track.push(Zt)}},Q.prototype._recognize=function($){for(var nt in M)if(M.hasOwnProperty(nt)){var lt=M[nt](this._track,$);if(lt)return lt}},Q}();function l(Q){var $=Q[1][0]-Q[0][0],nt=Q[1][1]-Q[0][1];return Math.sqrt($*$+nt*nt)}function _(Q){return[(Q[0][0]+Q[1][0])/2,(Q[0][1]+Q[1][1])/2]}var M={pinch:function(Q,$){var nt=Q.length;if(nt){var lt=(Q[nt-1]||{}).points,Ct=(Q[nt-2]||{}).points||lt;if(Ct&&Ct.length>1&&lt&&lt.length>1){var Zt=l(lt)/l(Ct);!isFinite(Zt)&&(Zt=1),$.pinchScale=Zt;var Ot=_(lt);return $.pinchX=Ot[0],$.pinchY=Ot[1],{type:"pinch",target:Q[0].target,event:$}}}}},m=C(16128),T="silent";function y(Q,$,nt){return{type:Q,event:nt,target:$.target,topTarget:$.topTarget,cancelBubble:!1,offsetX:nt.zrX,offsetY:nt.zrY,gestureEvent:nt.gestureEvent,pinchX:nt.pinchX,pinchY:nt.pinchY,pinchScale:nt.pinchScale,wheelDelta:nt.zrDelta,zrByTouch:nt.zrByTouch,which:nt.which,stop:A}}function A(){i.sT(this.event)}var D=function(Q){(0,t.ZT)($,Q);function $(){var nt=Q!==null&&Q.apply(this,arguments)||this;return nt.handler=null,nt}return $.prototype.dispose=function(){},$.prototype.setCursor=function(){},$}(h.Z),L=function(){function Q($,nt){this.x=$,this.y=nt}return Q}(),I=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],F=new m.Z(0,0,0,0),b=function(Q){(0,t.ZT)($,Q);function $(nt,lt,Ct,Zt,Ot){var bt=Q.call(this)||this;return bt._hovered=new L(0,0),bt.storage=nt,bt.painter=lt,bt.painterRoot=Zt,bt._pointerSize=Ot,Ct=Ct||new D,bt.proxy=null,bt.setHandlerProxy(Ct),bt._draggingMgr=new s(bt),bt}return $.prototype.setHandlerProxy=function(nt){this.proxy&&this.proxy.dispose(),nt&&(o.S6(I,function(lt){nt.on&&nt.on(lt,this[lt],this)},this),nt.handler=this),this.proxy=nt},$.prototype.mousemove=function(nt){var lt=nt.zrX,Ct=nt.zrY,Zt=E(this,lt,Ct),Ot=this._hovered,bt=Ot.target;bt&&!bt.__zr&&(Ot=this.findHover(Ot.x,Ot.y),bt=Ot.target);var Ft=this._hovered=Zt?new L(lt,Ct):this.findHover(lt,Ct),zt=Ft.target,Ht=this.proxy;Ht.setCursor&&Ht.setCursor(zt?zt.cursor:"default"),bt&&zt!==bt&&this.dispatchToElement(Ot,"mouseout",nt),this.dispatchToElement(Ft,"mousemove",nt),zt&&zt!==bt&&this.dispatchToElement(Ft,"mouseover",nt)},$.prototype.mouseout=function(nt){var lt=nt.zrEventControl;lt!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",nt),lt!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:nt})},$.prototype.resize=function(){this._hovered=new L(0,0)},$.prototype.dispatch=function(nt,lt){var Ct=this[nt];Ct&&Ct.call(this,lt)},$.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},$.prototype.setCursorStyle=function(nt){var lt=this.proxy;lt.setCursor&&lt.setCursor(nt)},$.prototype.dispatchToElement=function(nt,lt,Ct){nt=nt||{};var Zt=nt.target;if(!(Zt&&Zt.silent)){for(var Ot="on"+lt,bt=y(lt,nt,Ct);Zt&&(Zt[Ot]&&(bt.cancelBubble=!!Zt[Ot].call(Zt,bt)),Zt.trigger(lt,bt),Zt=Zt.__hostTarget?Zt.__hostTarget:Zt.parent,!bt.cancelBubble););bt.cancelBubble||(this.trigger(lt,bt),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(Ft){typeof Ft[Ot]=="function"&&Ft[Ot].call(Ft,bt),Ft.trigger&&Ft.trigger(lt,bt)}))}},$.prototype.findHover=function(nt,lt,Ct){var Zt=this.storage.getDisplayList(),Ot=new L(nt,lt);if(P(Zt,Ot,nt,lt,Ct),this._pointerSize&&!Ot.target){for(var bt=[],Ft=this._pointerSize,zt=Ft/2,Ht=new m.Z(nt-zt,lt-zt,Ft,Ft),kt=Zt.length-1;kt>=0;kt--){var jt=Zt[kt];jt!==Ct&&!jt.ignore&&!jt.ignoreCoarsePointer&&(!jt.parent||!jt.parent.ignoreCoarsePointer)&&(F.copy(jt.getBoundingRect()),jt.transform&&F.applyTransform(jt.transform),F.intersect(Ht)&&bt.push(jt))}if(bt.length)for(var Qt=4,ur=Math.PI/12,Jt=Math.PI*2,or=0;or<zt;or+=Qt)for(var sr=0;sr<Jt;sr+=ur){var fr=nt+or*Math.cos(sr),gr=lt+or*Math.sin(sr);if(P(bt,Ot,fr,gr,Ct),Ot.target)return Ot}}return Ot},$.prototype.processGesture=function(nt,lt){this._gestureMgr||(this._gestureMgr=new a);var Ct=this._gestureMgr;lt==="start"&&Ct.clear();var Zt=Ct.recognize(nt,this.findHover(nt.zrX,nt.zrY,null).target,this.proxy.dom);if(lt==="end"&&Ct.clear(),Zt){var Ot=Zt.type;nt.gestureEvent=Ot;var bt=new L;bt.target=Zt.target,this.dispatchToElement(bt,Ot,Zt.event)}},$}(h.Z);o.S6(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Q){b.prototype[Q]=function($){var nt=$.zrX,lt=$.zrY,Ct=E(this,nt,lt),Zt,Ot;if((Q!=="mouseup"||!Ct)&&(Zt=this.findHover(nt,lt),Ot=Zt.target),Q==="mousedown")this._downEl=Ot,this._downPoint=[$.zrX,$.zrY],this._upEl=Ot;else if(Q==="mouseup")this._upEl=Ot;else if(Q==="click"){if(this._downEl!==this._upEl||!this._downPoint||r.TK(this._downPoint,[$.zrX,$.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Zt,Q,$)}});function O(Q,$,nt){if(Q[Q.rectHover?"rectContain":"contain"]($,nt)){for(var lt=Q,Ct=void 0,Zt=!1;lt;){if(lt.ignoreClip&&(Zt=!0),!Zt){var Ot=lt.getClipPath();if(Ot&&!Ot.contain($,nt))return!1;lt.silent&&(Ct=!0)}var bt=lt.__hostTarget;lt=bt||lt.parent}return Ct?T:!0}return!1}function P(Q,$,nt,lt,Ct){for(var Zt=Q.length-1;Zt>=0;Zt--){var Ot=Q[Zt],bt=void 0;if(Ot!==Ct&&!Ot.ignore&&(bt=O(Ot,nt,lt))&&(!$.topTarget&&($.topTarget=Ot),bt!==T)){$.target=Ot;break}}}function E(Q,$,nt){var lt=Q.painter;return $<0||$>lt.getWidth()||nt<0||nt>lt.getHeight()}var c=b,f=C(59330),u=C(53197),d=!1;function v(){d||(d=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function g(Q,$){return Q.zlevel===$.zlevel?Q.z===$.z?Q.z2-$.z2:Q.z-$.z:Q.zlevel-$.zlevel}var R=function(){function Q(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=g}return Q.prototype.traverse=function($,nt){for(var lt=0;lt<this._roots.length;lt++)this._roots[lt].traverse($,nt)},Q.prototype.getDisplayList=function($,nt){nt=nt||!1;var lt=this._displayList;return($||!lt.length)&&this.updateDisplayList(nt),lt},Q.prototype.updateDisplayList=function($){this._displayListLen=0;for(var nt=this._roots,lt=this._displayList,Ct=0,Zt=nt.length;Ct<Zt;Ct++)this._updateAndAddDisplayable(nt[Ct],null,$);lt.length=this._displayListLen,(0,f.Z)(lt,g)},Q.prototype._updateAndAddDisplayable=function($,nt,lt){if(!($.ignore&&!lt)){$.beforeUpdate(),$.update(),$.afterUpdate();var Ct=$.getClipPath();if($.ignoreClip)nt=null;else if(Ct){nt?nt=nt.slice():nt=[];for(var Zt=Ct,Ot=$;Zt;)Zt.parent=Ot,Zt.updateTransform(),nt.push(Zt),Ot=Zt,Zt=Zt.getClipPath()}if($.childrenRef){for(var bt=$.childrenRef(),Ft=0;Ft<bt.length;Ft++){var zt=bt[Ft];$.__dirty&&(zt.__dirty|=u.YV),this._updateAndAddDisplayable(zt,nt,lt)}$.__dirty=0}else{var Ht=$;nt&&nt.length?Ht.__clipPaths=nt:Ht.__clipPaths&&Ht.__clipPaths.length>0&&(Ht.__clipPaths=[]),isNaN(Ht.z)&&(v(),Ht.z=0),isNaN(Ht.z2)&&(v(),Ht.z2=0),isNaN(Ht.zlevel)&&(v(),Ht.zlevel=0),this._displayList[this._displayListLen++]=Ht}var kt=$.getDecalElement&&$.getDecalElement();kt&&this._updateAndAddDisplayable(kt,nt,lt);var jt=$.getTextGuideLine();jt&&this._updateAndAddDisplayable(jt,nt,lt);var Qt=$.getTextContent();Qt&&this._updateAndAddDisplayable(Qt,nt,lt)}},Q.prototype.addRoot=function($){$.__zr&&$.__zr.storage===this||this._roots.push($)},Q.prototype.delRoot=function($){if($ instanceof Array){for(var nt=0,lt=$.length;nt<lt;nt++)this.delRoot($[nt]);return}var Ct=o.cq(this._roots,$);Ct>=0&&this._roots.splice(Ct,1)},Q.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Q.prototype.getRoots=function(){return this._roots},Q.prototype.dispose=function(){this._displayList=null,this._roots=null},Q}(),x=R,w=C(75820),Z=C(70295);function N(){return new Date().getTime()}var G=function(Q){(0,t.ZT)($,Q);function $(nt){var lt=Q.call(this)||this;return lt._running=!1,lt._time=0,lt._pausedTime=0,lt._pauseStart=0,lt._paused=!1,nt=nt||{},lt.stage=nt.stage||{},lt}return $.prototype.addClip=function(nt){nt.animation&&this.removeClip(nt),this._head?(this._tail.next=nt,nt.prev=this._tail,nt.next=null,this._tail=nt):this._head=this._tail=nt,nt.animation=this},$.prototype.addAnimator=function(nt){nt.animation=this;var lt=nt.getClip();lt&&this.addClip(lt)},$.prototype.removeClip=function(nt){if(nt.animation){var lt=nt.prev,Ct=nt.next;lt?lt.next=Ct:this._head=Ct,Ct?Ct.prev=lt:this._tail=lt,nt.next=nt.prev=nt.animation=null}},$.prototype.removeAnimator=function(nt){var lt=nt.getClip();lt&&this.removeClip(lt),nt.animation=null},$.prototype.update=function(nt){for(var lt=N()-this._pausedTime,Ct=lt-this._time,Zt=this._head;Zt;){var Ot=Zt.next,bt=Zt.step(lt,Ct);bt&&(Zt.ondestroy(),this.removeClip(Zt)),Zt=Ot}this._time=lt,nt||(this.trigger("frame",Ct),this.stage.update&&this.stage.update())},$.prototype._startLoop=function(){var nt=this;this._running=!0;function lt(){nt._running&&((0,w.Z)(lt),!nt._paused&&nt.update())}(0,w.Z)(lt)},$.prototype.start=function(){this._running||(this._time=N(),this._pausedTime=0,this._startLoop())},$.prototype.stop=function(){this._running=!1},$.prototype.pause=function(){this._paused||(this._pauseStart=N(),this._paused=!0)},$.prototype.resume=function(){this._paused&&(this._pausedTime+=N()-this._pauseStart,this._paused=!1)},$.prototype.clear=function(){for(var nt=this._head;nt;){var lt=nt.next;nt.prev=nt.next=nt.animation=null,nt=lt}this._head=this._tail=null},$.prototype.isFinished=function(){return this._head==null},$.prototype.animate=function(nt,lt){lt=lt||{},this.start();var Ct=new Z.Z(nt,lt.loop);return this.addAnimator(Ct),Ct},$}(h.Z),K=G,J=300,U=p.Z.domSupported,H=function(){var Q=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],$=["touchstart","touchend","touchmove"],nt={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},lt=o.UI(Q,function(Ct){var Zt=Ct.replace("mouse","pointer");return nt.hasOwnProperty(Zt)?Zt:Ct});return{mouse:Q,touch:$,pointer:lt}}(),V={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},S=!1;function W(Q){var $=Q.pointerType;return $==="pen"||$==="touch"}function B(Q){Q.touching=!0,Q.touchTimer!=null&&(clearTimeout(Q.touchTimer),Q.touchTimer=null),Q.touchTimer=setTimeout(function(){Q.touching=!1,Q.touchTimer=null},700)}function X(Q){Q&&(Q.zrByTouch=!0)}function Y(Q,$){return(0,i.OD)(Q.dom,new z(Q,$),!0)}function et(Q,$){for(var nt=$,lt=!1;nt&&nt.nodeType!==9&&!(lt=nt.domBelongToZr||nt!==$&&nt===Q.painterRoot);)nt=nt.parentNode;return lt}var z=function(){function Q($,nt){this.stopPropagation=o.ZT,this.stopImmediatePropagation=o.ZT,this.preventDefault=o.ZT,this.type=nt.type,this.target=this.currentTarget=$.dom,this.pointerType=nt.pointerType,this.clientX=nt.clientX,this.clientY=nt.clientY}return Q}(),k={mousedown:function(Q){Q=(0,i.OD)(this.dom,Q),this.__mayPointerCapture=[Q.zrX,Q.zrY],this.trigger("mousedown",Q)},mousemove:function(Q){Q=(0,i.OD)(this.dom,Q);var $=this.__mayPointerCapture;$&&(Q.zrX!==$[0]||Q.zrY!==$[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",Q)},mouseup:function(Q){Q=(0,i.OD)(this.dom,Q),this.__togglePointerCapture(!1),this.trigger("mouseup",Q)},mouseout:function(Q){Q=(0,i.OD)(this.dom,Q);var $=Q.toElement||Q.relatedTarget;et(this,$)||(this.__pointerCapturing&&(Q.zrEventControl="no_globalout"),this.trigger("mouseout",Q))},wheel:function(Q){S=!0,Q=(0,i.OD)(this.dom,Q),this.trigger("mousewheel",Q)},mousewheel:function(Q){S||(Q=(0,i.OD)(this.dom,Q),this.trigger("mousewheel",Q))},touchstart:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.__lastTouchMoment=new Date,this.handler.processGesture(Q,"start"),k.mousemove.call(this,Q),k.mousedown.call(this,Q)},touchmove:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.handler.processGesture(Q,"change"),k.mousemove.call(this,Q)},touchend:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.handler.processGesture(Q,"end"),k.mouseup.call(this,Q),+new Date-+this.__lastTouchMoment<J&&k.click.call(this,Q)},pointerdown:function(Q){k.mousedown.call(this,Q)},pointermove:function(Q){W(Q)||k.mousemove.call(this,Q)},pointerup:function(Q){k.mouseup.call(this,Q)},pointerout:function(Q){W(Q)||k.mouseout.call(this,Q)}};o.S6(["click","dblclick","contextmenu"],function(Q){k[Q]=function($){$=(0,i.OD)(this.dom,$),this.trigger(Q,$)}});var at={pointermove:function(Q){W(Q)||at.mousemove.call(this,Q)},pointerup:function(Q){at.mouseup.call(this,Q)},mousemove:function(Q){this.trigger("mousemove",Q)},mouseup:function(Q){var $=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",Q),$&&(Q.zrEventControl="only_globalout",this.trigger("mouseout",Q))}};function ft(Q,$){var nt=$.domHandlers;p.Z.pointerEventsSupported?o.S6(H.pointer,function(lt){tt($,lt,function(Ct){nt[lt].call(Q,Ct)})}):(p.Z.touchEventsSupported&&o.S6(H.touch,function(lt){tt($,lt,function(Ct){nt[lt].call(Q,Ct),B($)})}),o.S6(H.mouse,function(lt){tt($,lt,function(Ct){Ct=(0,i.iP)(Ct),$.touching||nt[lt].call(Q,Ct)})}))}function _t(Q,$){p.Z.pointerEventsSupported?o.S6(V.pointer,nt):p.Z.touchEventsSupported||o.S6(V.mouse,nt);function nt(lt){function Ct(Zt){Zt=(0,i.iP)(Zt),et(Q,Zt.target)||(Zt=Y(Q,Zt),$.domHandlers[lt].call(Q,Zt))}tt($,lt,Ct,{capture:!0})}}function tt(Q,$,nt,lt){Q.mounted[$]=nt,Q.listenerOpts[$]=lt,(0,i.Oo)(Q.domTarget,$,nt,lt)}function rt(Q){var $=Q.mounted;for(var nt in $)$.hasOwnProperty(nt)&&(0,i.xg)(Q.domTarget,nt,$[nt],Q.listenerOpts[nt]);Q.mounted={}}var ut=function(){function Q($,nt){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=$,this.domHandlers=nt}return Q}(),ct=function(Q){(0,t.ZT)($,Q);function $(nt,lt){var Ct=Q.call(this)||this;return Ct.__pointerCapturing=!1,Ct.dom=nt,Ct.painterRoot=lt,Ct._localHandlerScope=new ut(nt,k),U&&(Ct._globalHandlerScope=new ut(document,at)),ft(Ct,Ct._localHandlerScope),Ct}return $.prototype.dispose=function(){rt(this._localHandlerScope),U&&rt(this._globalHandlerScope)},$.prototype.setCursor=function(nt){this.dom.style&&(this.dom.style.cursor=nt||"default")},$.prototype.__togglePointerCapture=function(nt){if(this.__mayPointerCapture=null,U&&+this.__pointerCapturing^+nt){this.__pointerCapturing=nt;var lt=this._globalHandlerScope;nt?_t(this,lt):rt(lt)}},$}(h.Z),st=ct,dt=C(96170),ht=C(62623),xt=C(2574);var Rt={},mt={};function St(Q){delete mt[Q]}function It(Q){if(!Q)return!1;if(typeof Q=="string")return(0,dt.lum)(Q,1)<ht.Ak;if(Q.colorStops){for(var $=Q.colorStops,nt=0,lt=$.length,Ct=0;Ct<lt;Ct++)nt+=(0,dt.lum)($[Ct].color,1);return nt/=lt,nt<ht.Ak}return!1}var gt=function(){function Q($,nt,lt){var Ct=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,lt=lt||{},this.dom=nt,this.id=$;var Zt=new x,Ot=lt.renderer||"canvas";Rt[Ot]||(Ot=o.XP(Rt)[0]),lt.useDirtyRect=lt.useDirtyRect==null?!1:lt.useDirtyRect;var bt=new Rt[Ot](nt,Zt,lt,$),Ft=lt.ssr||bt.ssrOnly;this.storage=Zt,this.painter=bt;var zt=!p.Z.node&&!p.Z.worker&&!Ft?new st(bt.getViewportRoot(),bt.root):null,Ht=lt.useCoarsePointer,kt=Ht==null||Ht==="auto"?p.Z.touchEventsSupported:!!Ht,jt=44,Qt;kt&&(Qt=o.pD(lt.pointerSize,jt)),this.handler=new c(Zt,bt,zt,bt.root,Qt),this.animation=new K({stage:{update:Ft?null:function(){return Ct._flush(!0)}}}),Ft||this.animation.start()}return Q.prototype.add=function($){$&&(this.storage.addRoot($),$.addSelfToZr(this),this.refresh())},Q.prototype.remove=function($){$&&(this.storage.delRoot($),$.removeSelfFromZr(this),this.refresh())},Q.prototype.configLayer=function($,nt){this.painter.configLayer&&this.painter.configLayer($,nt),this.refresh()},Q.prototype.setBackgroundColor=function($){this.painter.setBackgroundColor&&this.painter.setBackgroundColor($),this.refresh(),this._backgroundColor=$,this._darkMode=It($)},Q.prototype.getBackgroundColor=function(){return this._backgroundColor},Q.prototype.setDarkMode=function($){this._darkMode=$},Q.prototype.isDarkMode=function(){return this._darkMode},Q.prototype.refreshImmediately=function($){$||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},Q.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},Q.prototype.flush=function(){this._flush(!1)},Q.prototype._flush=function($){var nt,lt=N();this._needsRefresh&&(nt=!0,this.refreshImmediately($)),this._needsRefreshHover&&(nt=!0,this.refreshHoverImmediately());var Ct=N();nt?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Ct-lt})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Q.prototype.setSleepAfterStill=function($){this._sleepAfterStill=$},Q.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},Q.prototype.refreshHover=function(){this._needsRefreshHover=!0},Q.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},Q.prototype.resize=function($){$=$||{},this.painter.resize($.width,$.height),this.handler.resize()},Q.prototype.clearAnimation=function(){this.animation.clear()},Q.prototype.getWidth=function(){return this.painter.getWidth()},Q.prototype.getHeight=function(){return this.painter.getHeight()},Q.prototype.setCursorStyle=function($){this.handler.setCursorStyle($)},Q.prototype.findHover=function($,nt){return this.handler.findHover($,nt)},Q.prototype.on=function($,nt,lt){return this.handler.on($,nt,lt),this},Q.prototype.off=function($,nt){this.handler.off($,nt)},Q.prototype.trigger=function($,nt){this.handler.trigger($,nt)},Q.prototype.clear=function(){for(var $=this.storage.getRoots(),nt=0;nt<$.length;nt++)$[nt]instanceof xt.Z&&$[nt].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},Q.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,St(this.id)},Q}();function Tt(Q,$){var nt=new gt(o.M8(),Q,$);return mt[nt.id]=nt,nt}function At(Q){Q.dispose()}function j(){for(var Q in mt)mt.hasOwnProperty(Q)&&mt[Q].dispose();mt={}}function q(Q){return mt[Q]}function yt(Q,$){Rt[Q]=$}var Mt="5.4.3"}}]);
