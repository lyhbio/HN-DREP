"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[584],{37046:function(Dt,it,C){var p=C(80881),o=C(49865),t=C(88908),r=C(76867),n=C(39186),e=C(3023),s=p.Z.extend(function(){return{projectionMatrix:new o.Z,invProjectionMatrix:new o.Z,viewMatrix:new o.Z,frustum:new t.Z}},function(){this.update(!0)},{update:function(h){p.Z.prototype.update.call(this,h),o.Z.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),o.Z.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(h){o.Z.copy(this.viewMatrix,h),o.Z.invert(this.worldTransform,h),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(h){o.Z.copy(this.projectionMatrix,h),o.Z.invert(this.invProjectionMatrix,h),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var h=n.Z.create();return function(i,a){var l=a!==void 0?a:new r.Z,_=i.array[0],M=i.array[1];return n.Z.set(h,_,M,-1,1),n.Z.transformMat4(h,h,this.invProjectionMatrix.array),n.Z.transformMat4(h,h,this.worldTransform.array),e.Z.scale(l.origin.array,h,1/h[3]),n.Z.set(h,_,M,1,1),n.Z.transformMat4(h,h,this.invProjectionMatrix.array),n.Z.transformMat4(h,h,this.worldTransform.array),e.Z.scale(h,h,1/h[3]),e.Z.sub(l.direction.array,h,l.origin.array),e.Z.normalize(l.direction.array,l.direction.array),l.direction._dirty=!0,l.origin._dirty=!0,l}}()});it.Z=s},76728:function(Dt,it,C){var p=C(85038),o=C(88693),t=C(23044),r=C(29100),n="framebuffer",e="renderbuffer",s=e+"_width",h=e+"_height",i=e+"_attached",a="depthtexture_attached",l=t.Z.FRAMEBUFFER,_=t.Z.RENDERBUFFER,M=t.Z.DEPTH_ATTACHMENT,m=t.Z.COLOR_ATTACHMENT0,T=p.Z.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new r.Z,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(y){if(y.__currentFrameBuffer){if(y.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}y.__currentFrameBuffer=this;var P=y.gl;P.bindFramebuffer(l,this._getFrameBufferGL(y)),this._boundRenderer=y;var S=this._cache;S.put("viewport",y.viewport);var w=!1,b,W;for(var B in this._textures){w=!0;var O=this._textures[B];O&&(b=O.texture.width,W=O.texture.height,this._doAttach(y,O.texture,B,O.target))}this._width=b,this._height=W,!w&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?y.setViewport(this.viewport):y.setViewport(0,0,b,W,1);var A=S.get("attached_textures");if(A){for(var B in A)if(!this._textures[B]){var E=A[B];this._doDetach(P,B,E)}}if(!S.get(a)&&this.depthBuffer){S.miss(e)&&S.put(e,P.createRenderbuffer());var d=S.get(e);(b!==S.get(s)||W!==S.get(h))&&(P.bindRenderbuffer(_,d),P.renderbufferStorage(_,P.DEPTH_COMPONENT16,b,W),S.put(s,b),S.put(h,W),P.bindRenderbuffer(_,null)),S.get(i)||(P.framebufferRenderbuffer(l,M,_,d),S.put(i,!0))}},unbind:function(y){y.__currentFrameBuffer=null;var P=y.gl;P.bindFramebuffer(l,null),this._boundRenderer=null,this._cache.use(y.__uid__);var S=this._cache.get("viewport");S&&y.setViewport(S),this.updateMipmap(y)},updateMipmap:function(y){var P=y.gl;for(var S in this._textures){var w=this._textures[S];if(w){var b=w.texture;if(!b.NPOT&&b.useMipmap&&b.minFilter===o.Z.LINEAR_MIPMAP_LINEAR){var W=b.textureType==="textureCube"?t.Z.TEXTURE_CUBE_MAP:t.Z.TEXTURE_2D;P.bindTexture(W,b.getWebGLTexture(y)),P.generateMipmap(W),P.bindTexture(W,null)}}}},checkStatus:function(y){return y.checkFramebufferStatus(l)},_getFrameBufferGL:function(y){var P=this._cache;return P.use(y.__uid__),P.miss(n)&&P.put(n,y.gl.createFramebuffer()),P.get(n)},attach:function(y,P,S){if(!y.width)throw new Error("The texture attached to color buffer is not a valid.");P=P||m,S=S||t.Z.TEXTURE_2D;var w=this._boundRenderer,b=w&&w.gl,W;if(b){var B=this._cache;B.use(w.__uid__),W=B.get("attached_textures")}var O=this._textures[P];if(!(O&&O.target===S&&O.texture===y&&W&&W[P]!=null)){var A=!0;w&&(A=this._doAttach(w,y,P,S),this.viewport||w.setViewport(0,0,y.width,y.height,1)),A&&(this._textures[P]=this._textures[P]||{},this._textures[P].texture=y,this._textures[P].target=S)}},_doAttach:function(y,P,S,w){var b=y.gl,W=P.getWebGLTexture(y),B=this._cache.get("attached_textures");if(B&&B[S]){var O=B[S];if(O.texture===P&&O.target===w)return}S=+S;var A=!0;if(S===M||S===t.Z.DEPTH_STENCIL_ATTACHMENT){var E=y.getGLExtension("WEBGL_depth_texture");if(E||(console.error("Depth texture is not supported by the browser"),A=!1),P.format!==t.Z.DEPTH_COMPONENT&&P.format!==t.Z.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),A=!1),A){var d=this._cache.get(e);d&&(b.framebufferRenderbuffer(l,M,_,null),b.deleteRenderbuffer(d),this._cache.put(e,!1)),this._cache.put(i,!1),this._cache.put(a,!0)}}return b.framebufferTexture2D(l,S,w,W,0),B||(B={},this._cache.put("attached_textures",B)),B[S]=B[S]||{},B[S].texture=P,B[S].target=w,A},_doDetach:function(y,P,S){y.framebufferTexture2D(l,P,S,null,0);var w=this._cache.get("attached_textures");w&&w[P]&&(w[P]=null),(P===M||P===t.Z.DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(a,!1)},detach:function(y,P){if(this._textures[y]=null,this._boundRenderer){var S=this._cache;S.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,y,P)}},dispose:function(y){var P=y.gl,S=this._cache;S.use(y.__uid__);var w=S.get(e);w&&P.deleteRenderbuffer(w);var b=S.get(n);b&&P.deleteFramebuffer(b),S.deleteContext(y.__uid__),this._textures={}}});T.DEPTH_ATTACHMENT=M,T.COLOR_ATTACHMENT0=m,T.STENCIL_ATTACHMENT=t.Z.STENCIL_ATTACHMENT,T.DEPTH_STENCIL_ATTACHMENT=t.Z.DEPTH_STENCIL_ATTACHMENT,it.Z=T},11476:function(Dt,it,C){C.d(it,{Z:function(){return b}});var p=C(82544),o=C(3023),t=C(85822),r=C(37233),n=C(85038),e=C(23044),s=C(29100);function h(W){return{byte:p.Z.Int8Array,ubyte:p.Z.Uint8Array,short:p.Z.Int16Array,ushort:p.Z.Uint16Array}[W]||p.Z.Float32Array}function i(W){return"attr_"+W}function a(W,B,O,A){switch(this.name=W,this.type=B,this.size=O,this.semantic=A||"",this.value=null,O){case 1:this.get=function(E){return this.value[E]},this.set=function(E,d){this.value[E]=d},this.copy=function(E,d){this.value[E]=this.value[E]};break;case 2:this.get=function(E,d){var f=this.value;return d[0]=f[E*2],d[1]=f[E*2+1],d},this.set=function(E,d){var f=this.value;f[E*2]=d[0],f[E*2+1]=d[1]},this.copy=function(E,d){var f=this.value;d*=2,E*=2,f[E]=f[d],f[E+1]=f[d+1]};break;case 3:this.get=function(E,d){var f=E*3,u=this.value;return d[0]=u[f],d[1]=u[f+1],d[2]=u[f+2],d},this.set=function(E,d){var f=E*3,u=this.value;u[f]=d[0],u[f+1]=d[1],u[f+2]=d[2]},this.copy=function(E,d){var f=this.value;d*=3,E*=3,f[E]=f[d],f[E+1]=f[d+1],f[E+2]=f[d+2]};break;case 4:this.get=function(E,d){var f=this.value,u=E*4;return d[0]=f[u],d[1]=f[u+1],d[2]=f[u+2],d[3]=f[u+3],d},this.set=function(E,d){var f=this.value,u=E*4;f[u]=d[0],f[u+1]=d[1],f[u+2]=d[2],f[u+3]=d[3]},this.copy=function(E,d){var f=this.value;d*=4,E*=4,f[E]=f[d],f[E+1]=f[d+1],f[E+2]=f[d+2],f[E+3]=f[d+3]}}}a.prototype.init=function(W){if(!this.value||this.value.length!==W*this.size){var B=h(this.type);this.value=new B(W*this.size)}},a.prototype.fromArray=function(W){var B=h(this.type),O;if(W[0]&&W[0].length){var A=0,E=this.size;O=new B(W.length*E);for(var d=0;d<W.length;d++)for(var f=0;f<E;f++)O[A++]=W[d][f]}else O=new B(W);this.value=O},a.prototype.clone=function(W){var B=new a(this.name,this.type,this.size,this.semantic);return W&&console.warn("todo"),B};function l(W,B,O,A,E){this.name=W,this.type=B,this.buffer=O,this.size=A,this.semantic=E,this.symbol="",this.needsRemove=!1}function _(W){this.buffer=W,this.count=0}var M=n.Z.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new s.Z,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var W=this.getEnabledAttributes(),B=0;B<W.length;B++)this.dirtyAttribute(W[B]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(W){this._cache.dirtyAll(i(W)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(W,B){if(W<this.triangleCount&&W>=0){B||(B=[]);var O=this.indices;return B[0]=O[W*3],B[1]=O[W*3+1],B[2]=O[W*3+2],B}},setTriangleIndices:function(W,B){var O=this.indices;O[W*3]=B[0],O[W*3+1]=B[1],O[W*3+2]=B[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(W){var B,O=this.vertexCount>65535?p.Z.Uint32Array:p.Z.Uint16Array;if(W[0]&&W[0].length){var A=0,E=3;B=new O(W.length*E);for(var d=0;d<W.length;d++)for(var f=0;f<E;f++)B[A++]=W[d][f]}else B=new O(W);this.indices=B},createAttribute:function(W,B,O,A){var E=new a(W,B,O,A);return this.attributes[W]&&this.removeAttribute(W),this.attributes[W]=E,this._attributeList.push(W),E},removeAttribute:function(W){var B=this._attributeList,O=B.indexOf(W);return O>=0?(B.splice(O,1),delete this.attributes[W],!0):!1},getAttribute:function(W){return this.attributes[W]},getEnabledAttributes:function(){var W=this._enabledAttributes,B=this._attributeList;if(W)return W;for(var O=[],A=this.vertexCount,E=0;E<B.length;E++){var d=B[E],f=this.attributes[d];f.value&&f.value.length===A*f.size&&O.push(d)}return this._enabledAttributes=O,O},getBufferChunks:function(W){var B=this._cache;B.use(W.__uid__);var O=B.isDirty("attributes"),A=B.isDirty("indices");if(O||A){this._updateBuffer(W.gl,O,A);for(var E=this.getEnabledAttributes(),d=0;d<E.length;d++)B.fresh(i(E[d]));B.fresh("attributes"),B.fresh("indices")}return B.fresh("any"),B.get("chunks")},_updateBuffer:function(W,B,O){var A=this._cache,E=A.get("chunks"),d=!1;E||(E=[],E[0]={attributeBuffers:[],indicesBuffer:null},A.put("chunks",E),d=!0);var f=E[0],u=f.attributeBuffers,c=f.indicesBuffer;if(B||d){var v=this.getEnabledAttributes(),g={};if(!d)for(var R=0;R<u.length;R++)g[u[R].name]=u[R];for(var x=0;x<v.length;x++){var L=v[x],I=this.attributes[L],Z;d||(Z=g[L]);var G;Z?G=Z.buffer:G=W.createBuffer(),A.isDirty(i(L))&&(W.bindBuffer(W.ARRAY_BUFFER,G),W.bufferData(W.ARRAY_BUFFER,I.value,this.dynamic?W.DYNAMIC_DRAW:W.STATIC_DRAW)),u[x]=new l(L,I.type,G,I.size,I.semantic)}for(var R=x;R<u.length;R++)W.deleteBuffer(u[R].buffer);u.length=x}this.isUseIndices()&&(O||d)&&(c||(c=new _(W.createBuffer()),f.indicesBuffer=c),c.count=this.indices.length,W.bindBuffer(W.ELEMENT_ARRAY_BUFFER,c.buffer),W.bufferData(W.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?W.DYNAMIC_DRAW:W.STATIC_DRAW))},dispose:function(W){var B=this._cache;B.use(W.__uid__);var O=B.get("chunks");if(O)for(var A=0;A<O.length;A++){for(var E=O[A],d=0;d<E.attributeBuffers.length;d++){var f=E.attributeBuffers[d];W.gl.deleteBuffer(f.buffer)}E.indicesBuffer&&W.gl.deleteBuffer(E.indicesBuffer.buffer)}if(this.__vaoCache){var u=W.getGLExtension("OES_vertex_array_object");for(var c in this.__vaoCache){var v=this.__vaoCache[c].vao;v&&u.deleteVertexArrayOES(v)}}this.__vaoCache={},B.deleteContext(W.__uid__)}});Object.defineProperty&&(Object.defineProperty(M.prototype,"vertexCount",{enumerable:!1,get:function(){var W=this.attributes[this.mainAttribute];return W||(W=this.attributes[this._attributeList[0]]),!W||!W.value?0:W.value.length/W.size}}),Object.defineProperty(M.prototype,"triangleCount",{enumerable:!1,get:function(){var W=this.indices;return W?W.length/3:0}})),M.STATIC_DRAW=e.Z.STATIC_DRAW,M.DYNAMIC_DRAW=e.Z.DYNAMIC_DRAW,M.STREAM_DRAW=e.Z.STREAM_DRAW,M.AttributeBuffer=l,M.IndicesBuffer=_,M.Attribute=a;var m=M,T=o.Z.create,y=o.Z.add,P=o.Z.set,S=m.Attribute,w=m.extend(function(){return{attributes:{position:new S("position","float",3,"POSITION"),texcoord0:new S("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new S("texcoord1","float",2,"TEXCOORD_1"),normal:new S("normal","float",3,"NORMAL"),tangent:new S("tangent","float",4,"TANGENT"),color:new S("color","float",4,"COLOR"),weight:new S("weight","float",3,"WEIGHT"),joint:new S("joint","float",4,"JOINT"),barycentric:new S("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var W=this.boundingBox;W||(W=this.boundingBox=new r.Z);var B=this.attributes.position.value;if(B&&B.length){var O=W.min,A=W.max,E=O.array,d=A.array;o.Z.set(E,B[0],B[1],B[2]),o.Z.set(d,B[0],B[1],B[2]);for(var f=3;f<B.length;){var u=B[f++],c=B[f++],v=B[f++];u<E[0]&&(E[0]=u),c<E[1]&&(E[1]=c),v<E[2]&&(E[2]=v),u>d[0]&&(d[0]=u),c>d[1]&&(d[1]=c),v>d[2]&&(d[2]=v)}O._dirty=!0,A._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var W=this.indices,B=this.attributes,O=B.position.value,A=B.normal.value;if(!A||A.length!==O.length)A=B.normal.value=new p.Z.Float32Array(O.length);else for(var E=0;E<A.length;E++)A[E]=0;for(var d=T(),f=T(),u=T(),c=T(),v=T(),g=T(),R=W?W.length:this.vertexCount,x,L,I,Z=0;Z<R;){W?(x=W[Z++],L=W[Z++],I=W[Z++]):(x=Z++,L=Z++,I=Z++),P(d,O[x*3],O[x*3+1],O[x*3+2]),P(f,O[L*3],O[L*3+1],O[L*3+2]),P(u,O[I*3],O[I*3+1],O[I*3+2]),o.Z.sub(c,d,f),o.Z.sub(v,f,u),o.Z.cross(g,c,v);for(var E=0;E<3;E++)A[x*3+E]=A[x*3+E]+g[E],A[L*3+E]=A[L*3+E]+g[E],A[I*3+E]=A[I*3+E]+g[E]}for(var E=0;E<A.length;)P(g,A[E],A[E+1],A[E+2]),o.Z.normalize(g,g),A[E++]=g[0],A[E++]=g[1],A[E++]=g[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var W=this.indices,B=this.attributes,O=B.position.value,A=B.normal.value,E=T(),d=T(),f=T(),u=T(),c=T(),v=T();A||(A=B.normal.value=new Float32Array(O.length));for(var g=W?W.length:this.vertexCount,R,x,L,I=0;I<g;){W?(R=W[I++],x=W[I++],L=W[I++]):(R=I++,x=I++,L=I++),P(E,O[R*3],O[R*3+1],O[R*3+2]),P(d,O[x*3],O[x*3+1],O[x*3+2]),P(f,O[L*3],O[L*3+1],O[L*3+2]),o.Z.sub(u,E,d),o.Z.sub(c,d,f),o.Z.cross(v,u,c),o.Z.normalize(v,v);for(var Z=0;Z<3;Z++)A[R*3+Z]=v[Z],A[x*3+Z]=v[Z],A[L*3+Z]=v[Z]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var W=this.vertexCount,B=this.attributes;B.tangent.value||(B.tangent.value=new Float32Array(W*4));var O=B.texcoord0.value,A=B.position.value,E=B.tangent.value,d=B.normal.value;if(!O){console.warn("Geometry without texcoords can't generate tangents.");return}for(var f=[],u=[],c=0;c<W;c++)f[c]=[0,0,0],u[c]=[0,0,0];for(var v=[0,0,0],g=[0,0,0],R=this.indices,x=R?R.length:this.vertexCount,L,I,Z,c=0;c<x;){R?(L=R[c++],I=R[c++],Z=R[c++]):(L=c++,I=c++,Z=c++);var G=O[L*2],K=O[I*2],J=O[Z*2],U=O[L*2+1],H=O[I*2+1],V=O[Z*2+1],D=A[L*3],F=A[I*3],N=A[Z*3],X=A[L*3+1],Y=A[I*3+1],et=A[Z*3+1],z=A[L*3+2],k=A[I*3+2],at=A[Z*3+2],ft=F-D,_t=N-D,tt=Y-X,rt=et-X,ut=k-z,ct=at-z,st=K-G,dt=J-G,ht=H-U,xt=V-U,Rt=1/(st*xt-ht*dt);v[0]=(xt*ft-ht*_t)*Rt,v[1]=(xt*tt-ht*rt)*Rt,v[2]=(xt*ut-ht*ct)*Rt,g[0]=(st*_t-dt*ft)*Rt,g[1]=(st*rt-dt*tt)*Rt,g[2]=(st*ct-dt*ut)*Rt,y(f[L],f[L],v),y(f[I],f[I],v),y(f[Z],f[Z],v),y(u[L],u[L],g),y(u[I],u[I],g),y(u[Z],u[Z],g)}for(var mt=T(),St=T(),It=T(),c=0;c<W;c++){It[0]=d[c*3],It[1]=d[c*3+1],It[2]=d[c*3+2];var gt=f[c];o.Z.scale(mt,It,o.Z.dot(It,gt)),o.Z.sub(mt,gt,mt),o.Z.normalize(mt,mt),o.Z.cross(St,It,gt),E[c*4]=mt[0],E[c*4+1]=mt[1],E[c*4+2]=mt[2],E[c*4+3]=o.Z.dot(St,u[c])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return this.isUseIndices()?this.vertexCount===this.indices.length:!0},generateUniqueVertex:function(){if(!(!this.vertexCount||!this.indices)){this.indices.length>65535&&(this.indices=new p.Z.Uint32Array(this.indices));for(var W=this.attributes,B=this.indices,O=this.getEnabledAttributes(),A={},E=0;E<O.length;E++){var d=O[E];A[d]=W[d].value,W[d].init(this.indices.length)}for(var f=0,u=0;u<B.length;u++){for(var c=B[u],E=0;E<O.length;E++)for(var d=O[E],v=W[d].value,g=W[d].size,R=0;R<g;R++)v[f*g+R]=A[d][c*g+R];B[u]=f,f++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var W=this.attributes,B=W.barycentric.value,O=this.indices;if(!(B&&B.length===O.length*3)){B=W.barycentric.value=new Float32Array(O.length*3);for(var A=0;A<(O?O.length:this.vertexCount/3);)for(var E=0;E<3;E++){var d=O?O[A++]:A*3+E;B[d*3+E]=1}this.dirty()}}},applyTransform:function(W){var B=this.attributes,O=B.position.value,A=B.normal.value,E=B.tangent.value;W=W.array;var d=t.Z.create();t.Z.invert(d,W),t.Z.transpose(d,d);var f=o.Z.transformMat4,u=o.Z.forEach;u(O,3,0,null,f,W),A&&u(A,3,0,null,f,d),E&&u(E,4,0,null,f,d),this.boundingBox&&this.updateBoundingBox()},dispose:function(W){var B=this._cache;B.use(W.__uid__);var O=B.get("chunks");if(O)for(var A=0;A<O.length;A++){for(var E=O[A],d=0;d<E.attributeBuffers.length;d++){var f=E.attributeBuffers[d];W.gl.deleteBuffer(f.buffer)}E.indicesBuffer&&W.gl.deleteBuffer(E.indicesBuffer.buffer)}if(this.__vaoCache){var u=W.getGLExtension("OES_vertex_array_object");for(var c in this.__vaoCache){var v=this.__vaoCache[c].vao;v&&u.deleteVertexArrayOES(v)}}this.__vaoCache={},B.deleteContext(W.__uid__)}});w.STATIC_DRAW=m.STATIC_DRAW,w.DYNAMIC_DRAW=m.DYNAMIC_DRAW,w.STREAM_DRAW=m.STREAM_DRAW,w.AttributeBuffer=m.AttributeBuffer,w.IndicesBuffer=m.IndicesBuffer,w.Attribute=S;var b=w},92449:function(Dt,it,C){C.d(it,{Z:function(){return l}});var p=C(80881),o=C(60217),t=`vec3 calcAmbientSHLight(int idx, vec3 N) {
 int offset = 9 * idx;
 return ambientSHLightCoefficients[0]
 + ambientSHLightCoefficients[1] * N.x
 + ambientSHLightCoefficients[2] * N.y
 + ambientSHLightCoefficients[3] * N.z
 + ambientSHLightCoefficients[4] * N.x * N.z
 + ambientSHLightCoefficients[5] * N.z * N.y
 + ambientSHLightCoefficients[6] * N.y * N.x
 + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)
 + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);
}`,r="uniform vec3 ",n="uniform float ",e="@export clay.header.",s="@end",h=":unconfigurable;",i=[e+"directional_light",r+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+h,r+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+h,s,e+"ambient_light",r+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+h,s,e+"ambient_sh_light",r+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+h,r+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+h,t,s,e+"ambient_cubemap_light",r+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,s,e+"point_light",r+"pointLightPosition[POINT_LIGHT_COUNT]"+h,n+"pointLightRange[POINT_LIGHT_COUNT]"+h,r+"pointLightColor[POINT_LIGHT_COUNT]"+h,s,e+"spot_light",r+"spotLightPosition[SPOT_LIGHT_COUNT]"+h,r+"spotLightDirection[SPOT_LIGHT_COUNT]"+h,n+"spotLightRange[SPOT_LIGHT_COUNT]"+h,n+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+h,n+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+h,n+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+h,r+"spotLightColor[SPOT_LIGHT_COUNT]"+h,s].join(`
`);o.Z.import(i);var a=p.Z.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var _=p.Z.prototype.clone.call(this);return _.color=Array.prototype.slice.call(this.color),_.intensity=this.intensity,_.castShadow=this.castShadow,_.shadowResolution=this.shadowResolution,_}}),l=a},84708:function(Dt,it,C){C.d(it,{Z:function(){return d}});var p=C(85038),o=C(34635),t=C(60193),r={},n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function e(f){return f=Math.round(f),f<0?0:f>255?255:f}function s(f){return f=Math.round(f),f<0?0:f>360?360:f}function h(f){return f<0?0:f>1?1:f}function i(f){return f.length&&f.charAt(f.length-1)==="%"?e(parseFloat(f)/100*255):e(parseInt(f,10))}function a(f){return f.length&&f.charAt(f.length-1)==="%"?h(parseFloat(f)/100):h(parseFloat(f))}function l(f,u,c){return c<0?c+=1:c>1&&(c-=1),c*6<1?f+(u-f)*c*6:c*2<1?u:c*3<2?f+(u-f)*(2/3-c)*6:f}function _(f,u,c){return f+(u-f)*c}function M(f,u,c,v,g){return f[0]=u,f[1]=c,f[2]=v,f[3]=g,f}function m(f,u){return f[0]=u[0],f[1]=u[1],f[2]=u[2],f[3]=u[3],f}var T=new t.Z(20),y=null;function P(f,u){y&&m(y,u),y=T.put(f,y||u.slice())}r.parse=function(f,u){if(f){u=u||[];var c=T.get(f);if(c)return m(u,c);f=f+"";var v=f.replace(/ /g,"").toLowerCase();if(v in n)return m(u,n[v]),P(f,u),u;if(v.charAt(0)==="#"){if(v.length===4){var g=parseInt(v.substr(1),16);if(!(g>=0&&g<=4095)){M(u,0,0,0,1);return}return M(u,(g&3840)>>4|(g&3840)>>8,g&240|(g&240)>>4,g&15|(g&15)<<4,1),P(f,u),u}else if(v.length===7){var g=parseInt(v.substr(1),16);if(!(g>=0&&g<=16777215)){M(u,0,0,0,1);return}return M(u,(g&16711680)>>16,(g&65280)>>8,g&255,1),P(f,u),u}return}var R=v.indexOf("("),x=v.indexOf(")");if(R!==-1&&x+1===v.length){var L=v.substr(0,R),I=v.substr(R+1,x-(R+1)).split(","),Z=1;switch(L){case"rgba":if(I.length!==4){M(u,0,0,0,1);return}Z=a(I.pop());case"rgb":if(I.length!==3){M(u,0,0,0,1);return}return M(u,i(I[0]),i(I[1]),i(I[2]),Z),P(f,u),u;case"hsla":if(I.length!==4){M(u,0,0,0,1);return}return I[3]=a(I[3]),S(I,u),P(f,u),u;case"hsl":if(I.length!==3){M(u,0,0,0,1);return}return S(I,u),P(f,u),u;default:return}}M(u,0,0,0,1)}},r.parseToFloat=function(f,u){if(u=r.parse(f,u),!!u)return u[0]/=255,u[1]/=255,u[2]/=255,u};function S(f,u){var c=(parseFloat(f[0])%360+360)%360/360,v=a(f[1]),g=a(f[2]),R=g<=.5?g*(v+1):g+v-g*v,x=g*2-R;return u=u||[],M(u,e(l(x,R,c+1/3)*255),e(l(x,R,c)*255),e(l(x,R,c-1/3)*255),1),f.length===4&&(u[3]=f[3]),u}function w(f){if(f){var u=f[0]/255,c=f[1]/255,v=f[2]/255,g=Math.min(u,c,v),R=Math.max(u,c,v),x=R-g,L=(R+g)/2,I,Z;if(x===0)I=0,Z=0;else{L<.5?Z=x/(R+g):Z=x/(2-R-g);var G=((R-u)/6+x/2)/x,K=((R-c)/6+x/2)/x,J=((R-v)/6+x/2)/x;u===R?I=J-K:c===R?I=1/3+G-J:v===R&&(I=2/3+K-G),I<0&&(I+=1),I>1&&(I-=1)}var U=[I*360,Z,L];return f[3]!=null&&U.push(f[3]),U}}r.lift=function(f,u){var c=r.parse(f);if(c){for(var v=0;v<3;v++)u<0?c[v]=c[v]*(1-u)|0:c[v]=(255-c[v])*u+c[v]|0;return r.stringify(c,c.length===4?"rgba":"rgb")}},r.toHex=function(f){var u=r.parse(f);if(u)return((1<<24)+(u[0]<<16)+(u[1]<<8)+ +u[2]).toString(16).slice(1)},r.fastLerp=function(f,u,c){if(!(!(u&&u.length)||!(f>=0&&f<=1))){c=c||[];var v=f*(u.length-1),g=Math.floor(v),R=Math.ceil(v),x=u[g],L=u[R],I=v-g;return c[0]=e(_(x[0],L[0],I)),c[1]=e(_(x[1],L[1],I)),c[2]=e(_(x[2],L[2],I)),c[3]=h(_(x[3],L[3],I)),c}},r.fastMapToColor=r.fastLerp,r.lerp=function(f,u,c){if(!(!(u&&u.length)||!(f>=0&&f<=1))){var v=f*(u.length-1),g=Math.floor(v),R=Math.ceil(v),x=r.parse(u[g]),L=r.parse(u[R]),I=v-g,Z=r.stringify([e(_(x[0],L[0],I)),e(_(x[1],L[1],I)),e(_(x[2],L[2],I)),h(_(x[3],L[3],I))],"rgba");return c?{color:Z,leftIndex:g,rightIndex:R,value:v}:Z}},r.mapToColor=r.lerp,r.modifyHSL=function(f,u,c,v){if(f=r.parse(f),f)return f=w(f),u!=null&&(f[0]=s(u)),c!=null&&(f[1]=a(c)),v!=null&&(f[2]=a(v)),r.stringify(S(f),"rgba")},r.modifyAlpha=function(f,u){if(f=r.parse(f),f&&u!=null)return f[3]=h(u),r.stringify(f,"rgba")},r.stringify=function(f,u){if(!(!f||!f.length)){var c=f[0]+","+f[1]+","+f[2];return(u==="rgba"||u==="hsva"||u==="hsla")&&(c+=","+f[3]),u+"("+c+")"}};var b=r,W=b.parseToFloat,B={};function O(f){var u=Object.keys(f);u.sort();for(var c=[],v=0;v<u.length;v++){var g=u[v],R=f[g];R===null?c.push(g):c.push(g+" "+R.toString())}return c.join(`
`)}function A(f,u,c){c.sort();for(var v=[],g=0;g<c.length;g++){var R=c[g];v.push(R)}var x=O(f)+`
`+O(u)+`
`+v.join(`
`);if(B[x])return B[x];var L=o.Z.genGUID();return B[x]=L,L}var E=p.Z.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(f,u){u===void 0&&console.warn('Uniform value "'+f+'" is undefined');var c=this.uniforms[f];c&&(typeof u=="string"&&(u=W(u)||u),c.value=u,this.autoUpdateTextureStatus&&c.type==="t"&&(u?this.enableTexture(f):this.disableTexture(f)))},setUniforms:function(f){for(var u in f){var c=f[u];this.setUniform(u,c)}},isUniformEnabled:function(f){return this._enabledUniforms.indexOf(f)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(f,u){if(typeof f=="object")for(var c in f){var v=f[c];this.setUniform(c,v)}else this.setUniform(f,u)},get:function(f){var u=this.uniforms[f];if(u)return u.value},attachShader:function(f,u){var c=this.uniforms;this.uniforms=f.createUniforms(),this.shader=f;var v=this.uniforms;this._enabledUniforms=Object.keys(v),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(Z){var G=this.uniforms[Z].type;return G==="t"||G==="tv"},this);var g=this.vertexDefines,R=this.fragmentDefines;if(this.vertexDefines=o.Z.clone(f.vertexDefines),this.fragmentDefines=o.Z.clone(f.fragmentDefines),u){for(var x in c)v[x]&&(v[x].value=c[x].value);o.Z.defaults(this.vertexDefines,g),o.Z.defaults(this.fragmentDefines,R)}var L={};for(var I in f.textures)L[I]={shaderType:f.textures[I].shaderType,type:f.textures[I].type,enabled:u&&this._textureStatus[I]?this._textureStatus[I].enabled:!1};this._textureStatus=L,this._programKey=""},clone:function(){var f=new this.constructor({name:this.name,shader:this.shader});for(var u in this.uniforms)f.uniforms[u].value=this.uniforms[u].value;return f.depthTest=this.depthTest,f.depthMask=this.depthMask,f.transparent=this.transparent,f.blend=this.blend,f.vertexDefines=o.Z.clone(this.vertexDefines),f.fragmentDefines=o.Z.clone(this.fragmentDefines),f.enableTexture(this.getEnabledTextures()),f.precision=this.precision,f},define:function(f,u,c){var v=this.vertexDefines,g=this.fragmentDefines;f!=="vertex"&&f!=="fragment"&&f!=="both"&&arguments.length<3&&(c=u,u=f,f="both"),c=c!=null?c:null,(f==="vertex"||f==="both")&&v[u]!==c&&(v[u]=c,this._programKey=""),(f==="fragment"||f==="both")&&g[u]!==c&&(g[u]=c,f!=="both"&&(this._programKey=""))},undefine:function(f,u){f!=="vertex"&&f!=="fragment"&&f!=="both"&&arguments.length<2&&(u=f,f="both"),(f==="vertex"||f==="both")&&this.isDefined("vertex",u)&&(delete this.vertexDefines[u],this._programKey=""),(f==="fragment"||f==="both")&&this.isDefined("fragment",u)&&(delete this.fragmentDefines[u],f!=="both"&&(this._programKey=""))},isDefined:function(f,u){switch(f){case"vertex":return this.vertexDefines[u]!==void 0;case"fragment":return this.fragmentDefines[u]!==void 0}},getDefine:function(f,u){switch(f){case"vertex":return this.vertexDefines[u];case"fragment":return this.fragmentDefines[u]}},enableTexture:function(f){if(Array.isArray(f)){for(var u=0;u<f.length;u++)this.enableTexture(f[u]);return}var c=this._textureStatus[f];if(c){var v=c.enabled;v||(c.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var f=this._textureStatus;for(var u in f)f[u].enabled=!0;this._programKey=""},disableTexture:function(f){if(Array.isArray(f)){for(var u=0;u<f.length;u++)this.disableTexture(f[u]);return}var c=this._textureStatus[f];if(c){var v=!c.enabled;v||(c.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var f=this._textureStatus;for(var u in f)f[u].enabled=!1;this._programKey=""},isTextureEnabled:function(f){var u=this._textureStatus;return!!u[f]&&u[f].enabled},getEnabledTextures:function(){var f=[],u=this._textureStatus;for(var c in u)u[c].enabled&&f.push(c);return f},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=A(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),d=E},30420:function(Dt,it,C){var p=C(38934),o=C(23044),t=p.Z.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var r=p.Z.prototype.clone.call(this);return r.skeleton=this.skeleton,this.joints&&(r.joints=this.joints.slice()),r}});t.POINTS=o.Z.POINTS,t.LINES=o.Z.LINES,t.LINE_LOOP=o.Z.LINE_LOOP,t.LINE_STRIP=o.Z.LINE_STRIP,t.TRIANGLES=o.Z.TRIANGLES,t.TRIANGLE_STRIP=o.Z.TRIANGLE_STRIP,t.TRIANGLE_FAN=o.Z.TRIANGLE_FAN,t.BACK=o.Z.BACK,t.FRONT=o.Z.FRONT,t.FRONT_AND_BACK=o.Z.FRONT_AND_BACK,t.CW=o.Z.CW,t.CCW=o.Z.CCW,it.Z=t},80881:function(Dt,it,C){var p=C(85038),o=C(14147),t=C(13075),r=C(49865),n=C(85822),e=C(37233),s=0,h=p.Z.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+s++),this.position||(this.position=new o.Z),this.rotation||(this.rotation=new t.Z),this.scale||(this.scale=new o.Z(1,1,1)),this.worldTransform=new r.Z,this.localTransform=new r.Z,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(i){var a=this._scene;if(a){var l=a._nodeRepository;delete l[this.name],l[i]=this}this.name=i},add:function(i){var a=i._parent;if(a!==this){a&&a.remove(i),i._parent=this,this._children.push(i);var l=this._scene;l&&l!==i.scene&&i.traverse(this._addSelfToScene,this),i._needsUpdateWorldTransform=!0}},remove:function(i){var a=this._children,l=a.indexOf(i);l<0||(a.splice(l,1),i._parent=null,this._scene&&i.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var i=this._children,a=0;a<i.length;a++)i[a]._parent=null,this._scene&&i[a].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(i){i._scene.removeFromScene(i),i._scene=null},_addSelfToScene:function(i){this._scene.addToScene(i),i._scene=this._scene},isAncestor:function(i){for(var a=i._parent;a;){if(a===this)return!0;a=a._parent}return!1},children:function(){return this._children.slice()},childAt:function(i){return this._children[i]},getChildByName:function(i){for(var a=this._children,l=0;l<a.length;l++)if(a[l].name===i)return a[l]},getDescendantByName:function(i){for(var a=this._children,l=0;l<a.length;l++){var _=a[l];if(_.name===i)return _;var M=_.getDescendantByName(i);if(M)return M}},queryNode:function(i){if(i){for(var a=i.split("/"),l=this,_=0;_<a.length;_++){var M=a[_];if(M){for(var m=!1,T=l._children,y=0;y<T.length;y++){var P=T[y];if(P.name===M){l=P,m=!0;break}}if(!m)return}}return l}},getPath:function(i){if(!this._parent)return"/";for(var a=this._parent,l=this.name;a._parent&&(l=a.name+"/"+l,a._parent!=i);)a=a._parent;return!a._parent&&i?null:l},traverse:function(i,a){i.call(a,this);for(var l=this._children,_=0,M=l.length;_<M;_++)l[_].traverse(i,a)},eachChild:function(i,a){for(var l=this._children,_=0,M=l.length;_<M;_++){var m=l[_];i.call(a,m,_)}},setLocalTransform:function(i){n.Z.copy(this.localTransform.array,i.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(i){var a=i?null:this.scale;this.localTransform.decomposeMatrix(a,this.rotation,this.position)},setWorldTransform:function(i){n.Z.copy(this.worldTransform.array,i.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var i=n.Z.create();return function(a){var l=this.localTransform,_=this.worldTransform;this._parent?(n.Z.invert(i,this._parent.worldTransform.array),n.Z.multiply(l.array,i,_.array)):n.Z.copy(l.array,_.array);var M=a?null:this.scale;l.decomposeMatrix(M,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var i=this.position,a=this.rotation,l=this.scale;if(this.transformNeedsUpdate()){var _=this.localTransform.array;n.Z.fromRotationTranslation(_,a.array,i.array),n.Z.scale(_,_,l.array),a._dirty=!1,l._dirty=!1,i._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var i=this.localTransform.array,a=this.worldTransform.array;this._parent?n.Z.multiplyAffine(a,this._parent.worldTransform.array,i):n.Z.copy(a,i)},updateWorldTransform:function(){for(var i=this;i&&i.getParent()&&i.getParent().transformNeedsUpdate();)i=i.getParent();i.update()},update:function(i){this.autoUpdateLocalTransform?this.updateLocalTransform():i=!0,(i||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),i=!0,this._needsUpdateWorldTransform=!1);for(var a=this._children,l=0,_=a.length;l<_;l++)a[l].update(i)},getBoundingBox:function(){function i(M){return!M.invisible&&M.geometry}var a=new e.Z,l=new r.Z,_=new r.Z;return function(M,m){return m=m||new e.Z,M=M||i,this._parent?r.Z.invert(_,this._parent.worldTransform):r.Z.identity(_),this.traverse(function(T){T.geometry&&T.geometry.boundingBox&&(a.copy(T.geometry.boundingBox),r.Z.multiply(l,_,T.worldTransform),a.applyTransform(l),m.union(a))},this,i),m}}(),getWorldPosition:function(i){this.transformNeedsUpdate()&&this.updateWorldTransform();var a=this.worldTransform.array;if(i){var l=i.array;return l[0]=a[12],l[1]=a[13],l[2]=a[14],i}else return new o.Z(a[12],a[13],a[14])},clone:function(){var i=new this.constructor,a=this._children;i.setName(this.name),i.position.copy(this.position),i.rotation.copy(this.rotation),i.scale.copy(this.scale);for(var l=0;l<a.length;l++)i.add(a[l].clone());return i},rotateAround:function(){var i=new o.Z,a=new r.Z;return function(l,_,M){i.copy(this.position).subtract(l);var m=this.localTransform;m.identity(),m.translate(l),m.rotate(M,_),a.fromRotationTranslation(this.rotation,i),m.multiply(a),m.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var i=new r.Z;return function(a,l){i.lookAt(this.position,a,l||this.localTransform.y).invert(),this.setLocalTransform(i),this.target=a}}()});it.Z=h},38934:function(Dt,it,C){var p=C(80881),o=C(23044),t=p.Z.extend({material:null,geometry:null,mode:o.Z.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:o.Z.BACK,frontFace:o.Z.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(r){},afterRender:function(r,n){},getBoundingBox:function(r,n){return n=p.Z.prototype.getBoundingBox.call(this,r,n),this.geometry&&this.geometry.boundingBox&&n.union(this.geometry.boundingBox),n},clone:function(){var r=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var n=p.Z.prototype.clone.call(this);n.geometry=this.geometry,n.material=this.material;for(var e=0;e<r.length;e++){var s=r[e];n[s]!==this[s]&&(n[s]=this[s])}return n}}()});t.POINTS=o.Z.POINTS,t.LINES=o.Z.LINES,t.LINE_LOOP=o.Z.LINE_LOOP,t.LINE_STRIP=o.Z.LINE_STRIP,t.TRIANGLES=o.Z.TRIANGLES,t.TRIANGLE_STRIP=o.Z.TRIANGLE_STRIP,t.TRIANGLE_FAN=o.Z.TRIANGLE_FAN,t.BACK=o.Z.BACK,t.FRONT=o.Z.FRONT,t.FRONT_AND_BACK=o.Z.FRONT_AND_BACK,t.CW=o.Z.CW,t.CCW=o.Z.CCW,it.Z=t},17103:function(Dt,it,C){C.d(it,{Z:function(){return V}});var p=C(85038),o=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],t=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function r(D){for(var F={},N={},X=0;X<o.length;X++){var Y=o[X];z(Y)}for(var X=0;X<t.length;X++){var et=t[X];N[et]=D.getParameter(D[et])}this.getExtension=function(k){return k in F||z(k),F[k]},this.getParameter=function(k){return N[k]};function z(k){if(D.getExtension){var at=D.getExtension(k);at||(at=D.getExtension("MOZ_"+k)),at||(at=D.getExtension("WEBKIT_"+k)),F[k]=at}}}var n=r,e=C(23044),s=C(82544),h=C(84708),i=C(38077),a=1,l=2,_=3,M={};function m(D){for(var F=D.split(`
`),N=0,X=F.length;N<X;N++)F[N]=N+1+": "+F[N];return F.join(`
`)}function T(D,F,N){if(!D.getShaderParameter(F,D.COMPILE_STATUS))return[D.getShaderInfoLog(F),m(N)].join(`
`)}var y=new s.Z.Float32Array(16),P=p.Z.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(D){this._textureSlot=0,D.gl.useProgram(this._program)},hasUniform:function(D){var F=this._locations[D];return F!=null},useTextureSlot:function(D,F,N){F&&(D.gl.activeTexture(D.gl.TEXTURE0+N),F.isRenderable()?F.bind(D):F.unbind(D))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(D){this._textureSlot=D||0},takeCurrentTextureSlot:function(D,F){var N=this._textureSlot;return this.useTextureSlot(D,F,N),this._textureSlot++,N},setUniform:function(D,F,N,X){var Y=this._locations,et=Y[N];if(et==null)return!1;switch(F){case"m4":if(!(X instanceof Float32Array)){for(var z=0;z<X.length;z++)y[z]=X[z];X=y}D.uniformMatrix4fv(et,!1,X);break;case"2i":D.uniform2i(et,X[0],X[1]);break;case"2f":D.uniform2f(et,X[0],X[1]);break;case"3i":D.uniform3i(et,X[0],X[1],X[2]);break;case"3f":D.uniform3f(et,X[0],X[1],X[2]);break;case"4i":D.uniform4i(et,X[0],X[1],X[2],X[3]);break;case"4f":D.uniform4f(et,X[0],X[1],X[2],X[3]);break;case"1i":D.uniform1i(et,X);break;case"1f":D.uniform1f(et,X);break;case"1fv":D.uniform1fv(et,X);break;case"1iv":D.uniform1iv(et,X);break;case"2iv":D.uniform2iv(et,X);break;case"2fv":D.uniform2fv(et,X);break;case"3iv":D.uniform3iv(et,X);break;case"3fv":D.uniform3fv(et,X);break;case"4iv":D.uniform4iv(et,X);break;case"4fv":D.uniform4fv(et,X);break;case"m2":case"m2v":D.uniformMatrix2fv(et,!1,X);break;case"m3":case"m3v":D.uniformMatrix3fv(et,!1,X);break;case"m4v":if(Array.isArray(X)&&Array.isArray(X[0])){for(var k=new s.Z.Float32Array(X.length*16),at=0,z=0;z<X.length;z++)for(var ft=X[z],_t=0;_t<16;_t++)k[at++]=ft[_t];D.uniformMatrix4fv(et,!1,k)}else D.uniformMatrix4fv(et,!1,X);break}return!0},setUniformOfSemantic:function(D,F,N){var X=this.uniformSemantics[F];return X?this.setUniform(D,X.type,X.symbol,N):!1},enableAttributes:function(D,F,N){var X=D.gl,Y=this._program,et=this._locations,z;N?z=N.__enabledAttributeList:z=M[D.__uid__],z||(N?z=N.__enabledAttributeList=[]:z=M[D.__uid__]=[]);for(var k=[],at=0;at<F.length;at++){var ft=F[at];if(!this.attributes[ft]){k[at]=-1;continue}var _t=et[ft];if(_t==null){if(_t=X.getAttribLocation(Y,ft),_t===-1){k[at]=-1;continue}et[ft]=_t}k[at]=_t,z[_t]?z[_t]=l:z[_t]=a}for(var at=0;at<z.length;at++)switch(z[at]){case a:X.enableVertexAttribArray(at),z[at]=_;break;case l:z[at]=_;break;case _:X.disableVertexAttribArray(at),z[at]=0;break}return k},getAttribLocation:function(D,F){var N=this._locations,X=N[F];return X==null&&(X=D.getAttribLocation(this._program,F),N[F]=X),X},buildProgram:function(D,F,N,X){var Y=D.createShader(D.VERTEX_SHADER),et=D.createProgram();D.shaderSource(Y,N),D.compileShader(Y);var z=D.createShader(D.FRAGMENT_SHADER);D.shaderSource(z,X),D.compileShader(z);var k=T(D,Y,N);if(k||(k=T(D,z,X),k))return k;if(D.attachShader(et,Y),D.attachShader(et,z),F.attributeSemantics.POSITION)D.bindAttribLocation(et,0,F.attributeSemantics.POSITION.symbol);else{var at=Object.keys(this.attributes);D.bindAttribLocation(et,0,at[0])}if(D.linkProgram(et),D.deleteShader(Y),D.deleteShader(z),this._program=et,this.vertexCode=N,this.fragmentCode=X,!D.getProgramParameter(et,D.LINK_STATUS))return`Could not link program
`+D.getProgramInfoLog(et);for(var ft=0;ft<F.uniforms.length;ft++){var _t=F.uniforms[ft];this._locations[_t]=D.getUniformLocation(et,_t)}}}),S=P,w=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function b(D,F,N){function X(z,k,at,ft){var _t="";isNaN(k)&&(k in F?k=F[k]:k=Y[k]),isNaN(at)&&(at in F?at=F[at]:at=Y[at]);for(var tt=parseInt(k);tt<parseInt(at);tt++)_t+="{"+ft.replace(/float\s*\(\s*_idx_\s*\)/g,tt.toFixed(1)).replace(/_idx_/g,tt)+"}";return _t}var Y={};for(var et in N)Y[et+"_COUNT"]=N[et];return D.replace(w,X)}function W(D,F,N){var X=[];if(F)for(var Y in F){var et=F[Y];et>0&&X.push("#define "+Y.toUpperCase()+"_COUNT "+et)}if(N)for(var z=0;z<N.length;z++){var k=N[z];X.push("#define "+k.toUpperCase()+"_ENABLED")}for(var k in D){var at=D[k];at===null?X.push("#define "+k):X.push("#define "+k+" "+at.toString())}return X.join(`
`)}function B(D){for(var F=[],N=0;N<D.length;N++)F.push("#extension GL_"+D[N]+" : enable");return F.join(`
`)}function O(D){return["precision",D,"float"].join(" ")+`;
`+["precision",D,"int"].join(" ")+`;
`+["precision",D,"sampler2D"].join(" ")+`;
`}function A(D){this._renderer=D,this._cache={}}A.prototype.getProgram=function(D,F,N){var X=this._cache,Y=D.isSkinnedMesh&&D.isSkinnedMesh(),et=D.isInstancedMesh&&D.isInstancedMesh(),z="s"+F.shader.shaderID+"m"+F.getProgramKey();N&&(z+="se"+N.getProgramKey(D.lightGroup)),Y&&(z+=",sk"+D.joints.length),et&&(z+=",is");var mt=X[z];if(mt)return mt;var k=N?N.getLightsNumbers(D.lightGroup):{},at=this._renderer,ft=at.gl,_t=F.getEnabledTextures(),tt="";if(Y){var rt={SKINNING:null,JOINT_COUNT:D.joints.length};D.joints.length>at.getMaxJointNumber()&&(rt.USE_SKIN_MATRICES_TEXTURE=null),tt+=`
`+W(rt)+`
`}et&&(tt+=`
#define INSTANCING
`);var ut=tt+W(F.vertexDefines,k,_t),ct=tt+W(F.fragmentDefines,k,_t),st=ut+`
`+F.shader.vertex,dt=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(It){return at.getGLExtension(It)!=null});dt.indexOf("EXT_shader_texture_lod")>=0&&(ct+=`
#define SUPPORT_TEXTURE_LOD`),dt.indexOf("OES_standard_derivatives")>=0&&(ct+=`
#define SUPPORT_STANDARD_DERIVATIVES`);var ht=B(dt)+`
`+O(F.precision)+`
`+ct+`
`+F.shader.fragment,xt=b(st,F.vertexDefines,k),Rt=b(ht,F.fragmentDefines,k),mt=new S;mt.uniformSemantics=F.shader.uniformSemantics,mt.attributes=F.shader.attributes;var St=mt.buildProgram(ft,F.shader,xt,Rt);return mt.__error=St,X[z]=mt,mt};var E=A,d=C(60217),f=C(19671),u=C(85822),c=C(3023);d.Z.import(f.Z);var v=u.Z.create,g={};function R(D){return D.material}function x(D,F,N){return F.uniforms[N].value}function L(D,F,N,X){return N!==X}function I(D){return!0}function Z(){}var G={float:e.Z.FLOAT,byte:e.Z.BYTE,ubyte:e.Z.UNSIGNED_BYTE,short:e.Z.SHORT,ushort:e.Z.UNSIGNED_SHORT};function K(D,F,N){this.availableAttributes=D,this.availableAttributeSymbols=F,this.indicesBuffer=N,this.vao=null}function J(D){var F,N;this.bind=function(X){F||(F=s.Z.createCanvas(),F.width=F.height=1,F.getContext("2d"));var Y=X.gl,et=!N;et&&(N=Y.createTexture()),Y.bindTexture(Y.TEXTURE_2D,N),et&&Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Y.RGBA,Y.UNSIGNED_BYTE,F)},this.unbind=function(X){X.gl.bindTexture(X.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var U=p.Z.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=s.Z.createCanvas());var D=this.canvas;try{var F={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=D.getContext("webgl",F)||D.getContext("experimental-webgl",F),!this.gl)throw new Error;this._glinfo=new n(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(N){throw"Error creating WebGL Context "+N}this._programMgr=new E(this),this._placeholderTexture=new J(this)},{resize:function(D,F){var N=this.canvas,X=this.devicePixelRatio;D!=null?(N.style&&(N.style.width=D+"px",N.style.height=F+"px"),N.width=D*X,N.height=F*X,this._width=D,this._height=F):(this._width=N.width/X,this._height=N.height/X),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var D=this.viewport;return D.width/D.height},setDevicePixelRatio:function(D){this.devicePixelRatio=D,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(D){return this._glinfo.getExtension(D)},getGLParameter:function(D){return this._glinfo.getParameter(D)},setViewport:function(D,F,N,X,Y){if(typeof D=="object"){var et=D;D=et.x,F=et.y,N=et.width,X=et.height,Y=et.devicePixelRatio}Y=Y||this.devicePixelRatio,this.gl.viewport(D*Y,F*Y,N*Y,X*Y),this.viewport={x:D,y:F,width:N,height:X,devicePixelRatio:Y}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var D=this._clearStack.pop();this.clearColor=D.clearColor,this.clearBit=D.clearBit}},bindSceneRendering:function(D){this._sceneRendering=D},render:function(D,F,N,X){var Y=this.gl,et=this.clearColor;if(this.clearBit){Y.colorMask(!0,!0,!0,!0),Y.depthMask(!0);var z=this.viewport,k=!1,at=z.devicePixelRatio;(z.width!==this._width||z.height!==this._height||at&&at!==this.devicePixelRatio||z.x||z.y)&&(k=!0,Y.enable(Y.SCISSOR_TEST),Y.scissor(z.x*at,z.y*at,z.width*at,z.height*at)),Y.clearColor(et[0],et[1],et[2],et[3]),Y.clear(this.clearBit),k&&Y.disable(Y.SCISSOR_TEST)}if(N||D.update(!1),D.updateLights(),F=F||D.getMainCamera(),!F){console.error("Can't find camera in the scene.");return}F.update();var ft=D.updateRenderList(F,!0);this._sceneRendering=D;var _t=ft.opaque,tt=ft.transparent,rt=D.material;D.trigger("beforerender",this,D,F,ft),X?(this.renderPreZ(_t,D,F),Y.depthFunc(Y.LEQUAL)):Y.depthFunc(Y.LESS);for(var ut=v(),ct=c.Z.create(),st=0;st<tt.length;st++){var dt=tt[st];u.Z.multiplyAffine(ut,F.viewMatrix.array,dt.worldTransform.array),c.Z.transformMat4(ct,dt.position.array,ut),dt.__depth=ct[2]}this.renderPass(_t,F,{getMaterial:function(ht){return rt||ht.material},sortCompare:this.opaqueSortCompare}),this.renderPass(tt,F,{getMaterial:function(ht){return rt||ht.material},sortCompare:this.transparentSortCompare}),D.trigger("afterrender",this,D,F,ft),this._sceneRendering=null},getProgram:function(D,F,N){return F=F||D.material,this._programMgr.getProgram(D,F,N)},validateProgram:function(D){if(D.__error){var F=D.__error;if(g[D.__uid__])return;if(g[D.__uid__]=!0,this.throwError)throw new Error(F);this.trigger("error",F)}},updatePrograms:function(D,F,N){var X=N&&N.getMaterial||R;F=F||null;for(var Y=0;Y<D.length;Y++){var et=D[Y],z=X.call(this,et);if(Y>0){var k=D[Y-1],at=k.joints?k.joints.length:0,ft=et.joints?et.joints.length:0;if(ft===at&&et.material===k.material&&et.lightGroup===k.lightGroup){et.__program=k.__program;continue}}var _t=this._programMgr.getProgram(et,z,F);this.validateProgram(_t),et.__program=_t}},renderPass:function(D,F,N){this.trigger("beforerenderpass",this,D,F,N),N=N||{},N.getMaterial=N.getMaterial||R,N.getUniform=N.getUniform||x,N.isMaterialChanged=N.isMaterialChanged||L,N.beforeRender=N.beforeRender||Z,N.afterRender=N.afterRender||Z;var X=N.ifRender||I;this.updatePrograms(D,this._sceneRendering,N),N.sortCompare&&D.sort(N.sortCompare);var Y=this.viewport,et=Y.devicePixelRatio,z=[Y.x*et,Y.y*et,Y.width*et,Y.height*et],k=this.devicePixelRatio,at=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*k,this._height*k],ft=[z[2],z[3]],_t=Date.now();F?(u.Z.copy(H.VIEW,F.viewMatrix.array),u.Z.copy(H.PROJECTION,F.projectionMatrix.array),u.Z.copy(H.VIEWINVERSE,F.worldTransform.array)):(u.Z.identity(H.VIEW),u.Z.identity(H.PROJECTION),u.Z.identity(H.VIEWINVERSE)),u.Z.multiply(H.VIEWPROJECTION,H.PROJECTION,H.VIEW),u.Z.invert(H.PROJECTIONINVERSE,H.PROJECTION),u.Z.invert(H.VIEWPROJECTIONINVERSE,H.VIEWPROJECTION);for(var tt=this.gl,rt=this._sceneRendering,ut,ct,st,dt,ht,xt,Rt,mt,St,It,gt,Tt,At=null,j=0;j<D.length;j++){var q=D[j],yt=q.worldTransform!=null,Mt;if(X(q)){yt&&(Mt=q.isSkinnedMesh&&q.isSkinnedMesh()?q.offsetMatrix?q.offsetMatrix.array:H.IDENTITY:q.worldTransform.array);var Q=q.geometry,$=N.getMaterial.call(this,q),nt=q.__program,lt=$.shader,Ct=Q.__uid__+"-"+nt.__uid__,Zt=Ct!==It;It=Ct,Zt&&At&&At.bindVertexArrayOES(null),yt&&(u.Z.copy(H.WORLD,Mt),u.Z.multiply(H.WORLDVIEWPROJECTION,H.VIEWPROJECTION,Mt),u.Z.multiplyAffine(H.WORLDVIEW,H.VIEW,Mt),(lt.matrixSemantics.WORLDINVERSE||lt.matrixSemantics.WORLDINVERSETRANSPOSE)&&u.Z.invert(H.WORLDINVERSE,Mt),(lt.matrixSemantics.WORLDVIEWINVERSE||lt.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&u.Z.invert(H.WORLDVIEWINVERSE,H.WORLDVIEW),(lt.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||lt.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&u.Z.invert(H.WORLDVIEWPROJECTIONINVERSE,H.WORLDVIEWPROJECTION)),q.beforeRender&&q.beforeRender(this),N.beforeRender.call(this,q,$,ut);var Ot=nt!==ct;Ot?(nt.bind(this),nt.setUniformOfSemantic(tt,"VIEWPORT",z),nt.setUniformOfSemantic(tt,"WINDOW_SIZE",at),F&&(nt.setUniformOfSemantic(tt,"NEAR",F.near),nt.setUniformOfSemantic(tt,"FAR",F.far)),nt.setUniformOfSemantic(tt,"DEVICEPIXELRATIO",et),nt.setUniformOfSemantic(tt,"TIME",_t),nt.setUniformOfSemantic(tt,"VIEWPORT_SIZE",ft),rt&&rt.setLightUniforms(nt,q.lightGroup,this)):nt=ct,(Ot||N.isMaterialChanged(q,st,$,ut))&&($.depthTest!==dt&&($.depthTest?tt.enable(tt.DEPTH_TEST):tt.disable(tt.DEPTH_TEST),dt=$.depthTest),$.depthMask!==ht&&(tt.depthMask($.depthMask),ht=$.depthMask),$.transparent!==St&&($.transparent?tt.enable(tt.BLEND):tt.disable(tt.BLEND),St=$.transparent),$.transparent&&($.blend?$.blend(tt):(tt.blendEquationSeparate(tt.FUNC_ADD,tt.FUNC_ADD),tt.blendFuncSeparate(tt.SRC_ALPHA,tt.ONE_MINUS_SRC_ALPHA,tt.ONE,tt.ONE_MINUS_SRC_ALPHA))),Tt=this._bindMaterial(q,$,nt,st||null,ut||null,ct||null,N.getUniform),ut=$);var bt=lt.matrixSemanticKeys;if(yt)for(var Ft=0;Ft<bt.length;Ft++){var zt=bt[Ft],Ht=lt.matrixSemantics[zt],kt=H[zt];if(Ht.isTranspose){var jt=H[Ht.semanticNoTranspose];u.Z.transpose(kt,jt)}nt.setUniform(tt,Ht.type,Ht.symbol,kt)}q.cullFace!==Rt&&(Rt=q.cullFace,tt.cullFace(Rt)),q.frontFace!==mt&&(mt=q.frontFace,tt.frontFace(mt)),q.culling!==xt&&(xt=q.culling,xt?tt.enable(tt.CULL_FACE):tt.disable(tt.CULL_FACE)),this._updateSkeleton(q,nt,Tt),Zt&&(gt=this._bindVAO(At,lt,Q,nt)),this._renderObject(q,gt,nt),N.afterRender(this,q),q.afterRender&&q.afterRender(this),ct=nt,st=q}}At&&At.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,D,F,N)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(D,F,N){var X=this.gl,Y=D.skeleton;if(Y)if(Y.update(),D.joints.length>this.getMaxJointNumber()){var et=Y.getSubSkinMatricesTexture(D.__uid__,D.joints);F.useTextureSlot(this,et,N),F.setUniform(X,"1i","skinMatricesTexture",N),F.setUniform(X,"1f","skinMatricesTextureSize",et.width)}else{var z=Y.getSubSkinMatrices(D.__uid__,D.joints);F.setUniformOfSemantic(X,"SKIN_MATRIX",z)}},_renderObject:function(D,F,N){var X=this.gl,Y=D.geometry,et=D.mode;et==null&&(et=4);var z=null,k=D.isInstancedMesh&&D.isInstancedMesh();if(k&&(z=this.getGLExtension("ANGLE_instanced_arrays"),!z)){console.warn("Device not support ANGLE_instanced_arrays extension");return}var at;if(k&&(at=this._bindInstancedAttributes(D,N,z)),F.indicesBuffer){var ft=this.getGLExtension("OES_element_index_uint"),_t=ft&&Y.indices instanceof Uint32Array,tt=_t?X.UNSIGNED_INT:X.UNSIGNED_SHORT;k?z.drawElementsInstancedANGLE(et,F.indicesBuffer.count,tt,0,D.getInstanceCount()):X.drawElements(et,F.indicesBuffer.count,tt,0)}else k?z.drawArraysInstancedANGLE(et,0,Y.vertexCount,D.getInstanceCount()):X.drawArrays(et,0,Y.vertexCount);if(k)for(var rt=0;rt<at.length;rt++)X.disableVertexAttribArray(at[rt])},_bindInstancedAttributes:function(D,F,N){for(var X=this.gl,Y=D.getInstancedAttributesBuffers(this),et=[],z=0;z<Y.length;z++){var k=Y[z],at=F.getAttribLocation(X,k.symbol);if(!(at<0)){var ft=G[k.type]||X.FLOAT;X.enableVertexAttribArray(at),X.bindBuffer(X.ARRAY_BUFFER,k.buffer),X.vertexAttribPointer(at,k.size,ft,!1,0,0),N.vertexAttribDivisorANGLE(at,k.divisor),et.push(at)}}return et},_bindMaterial:function(D,F,N,X,Y,et,z){for(var k=this.gl,at=et===N,ft=N.currentTextureSlot(),_t=F.getEnabledUniforms(),tt=F.getTextureUniforms(),rt=this._placeholderTexture,ut=0;ut<tt.length;ut++){var ct=tt[ut],st=z(D,F,ct),dt=F.uniforms[ct].type;if(dt==="t"&&st)st.__slot=-1;else if(dt==="tv")for(var ht=0;ht<st.length;ht++)st[ht]&&(st[ht].__slot=-1)}rt.__slot=-1;for(var ut=0;ut<_t.length;ut++){var ct=_t[ut],xt=F.uniforms[ct],st=z(D,F,ct),dt=xt.type,Rt=dt==="t";if(Rt&&(!st||!st.isRenderable())&&(st=rt),Y&&at){var mt=z(X,Y,ct);if(Rt&&(!mt||!mt.isRenderable())&&(mt=rt),mt===st){if(Rt)N.takeCurrentTextureSlot(this,null);else if(dt==="tv"&&st)for(var ht=0;ht<st.length;ht++)N.takeCurrentTextureSlot(this,null);continue}}if(st!=null)if(Rt)if(st.__slot<0){var St=N.currentTextureSlot(),It=N.setUniform(k,"1i",ct,St);It&&(N.takeCurrentTextureSlot(this,st),st.__slot=St)}else N.setUniform(k,"1i",ct,st.__slot);else if(Array.isArray(st)){if(st.length===0)continue;if(dt==="tv"){if(!N.hasUniform(ct))continue;for(var gt=[],ht=0;ht<st.length;ht++){var Tt=st[ht];if(Tt.__slot<0){var St=N.currentTextureSlot();gt.push(St),N.takeCurrentTextureSlot(this,Tt),Tt.__slot=St}else gt.push(Tt.__slot)}N.setUniform(k,"1iv",ct,gt)}else N.setUniform(k,xt.type,ct,st)}else N.setUniform(k,xt.type,ct,st)}var At=N.currentTextureSlot();return N.resetTextureSlot(ft),At},_bindVAO:function(D,F,N,X){var Y=!N.dynamic,et=this.gl,z=this.__uid__+"-"+X.__uid__,k=N.__vaoCache[z];if(!k){var at=N.getBufferChunks(this);if(!at||!at.length)return;for(var ft=at[0],_t=ft.attributeBuffers,mt=ft.indicesBuffer,Rt=[],tt=[],rt=0;rt<_t.length;rt++){var ut=_t[rt],ct=ut.name,st=ut.semantic,dt;if(st){var ht=F.attributeSemantics[st];dt=ht&&ht.symbol}else dt=ct;dt&&X.attributes[dt]&&(Rt.push(ut),tt.push(dt))}k=new K(Rt,tt,mt),Y&&(N.__vaoCache[z]=k)}var xt=!0;D&&Y&&(k.vao==null?k.vao=D.createVertexArrayOES():xt=!1,D.bindVertexArrayOES(k.vao));var Rt=k.availableAttributes,mt=k.indicesBuffer;if(xt){for(var St=X.enableAttributes(this,k.availableAttributeSymbols,D&&Y&&k),rt=0;rt<Rt.length;rt++){var It=St[rt];if(It!==-1){var ut=Rt[rt],gt=ut.buffer,Tt=ut.size,At=G[ut.type]||et.FLOAT;et.bindBuffer(et.ARRAY_BUFFER,gt),et.vertexAttribPointer(It,Tt,At,!1,0,0)}}N.isUseIndices()&&et.bindBuffer(et.ELEMENT_ARRAY_BUFFER,mt.buffer)}return k},renderPreZ:function(D,F,N){var X=this.gl,Y=this._prezMaterial||new h.Z({shader:new d.Z(d.Z.source("clay.prez.vertex"),d.Z.source("clay.prez.fragment"))});this._prezMaterial=Y,X.colorMask(!1,!1,!1,!1),X.depthMask(!0),this.renderPass(D,N,{ifRender:function(et){return!et.ignorePreZ},isMaterialChanged:function(et,z){var k=et.material,at=z.material;return k.get("diffuseMap")!==at.get("diffuseMap")||(k.get("alphaCutoff")||0)!==(at.get("alphaCutoff")||0)},getUniform:function(et,z,k){if(k==="alphaMap")return et.material.get("diffuseMap");if(k==="alphaCutoff"){if(et.material.isDefined("fragment","ALPHA_TEST")&&et.material.get("diffuseMap")){var at=et.material.get("alphaCutoff");return at||0}return 0}else return k==="uvRepeat"?et.material.get("uvRepeat"):k==="uvOffset"?et.material.get("uvOffset"):z.get(k)},getMaterial:function(){return Y},sort:this.opaqueSortCompare}),X.colorMask(!0,!0,!0,!0),X.depthMask(!0)},disposeScene:function(D){this.disposeNode(D,!0,!0),D.dispose()},disposeNode:function(D,F,N){D.getParent()&&D.getParent().remove(D);var X={};D.traverse(function(Y){var et=Y.material;if(Y.geometry&&F&&Y.geometry.dispose(this),N&&et&&!X[et.__uid__]){for(var z=et.getTextureUniforms(),k=0;k<z.length;k++){var at=z[k],ft=et.uniforms[at].value,_t=et.uniforms[at].type;if(ft){if(_t==="t")ft.dispose&&ft.dispose(this);else if(_t==="tv")for(var tt=0;tt<ft.length;tt++)ft[tt]&&ft[tt].dispose&&ft[tt].dispose(this)}}X[et.__uid__]=!0}Y.dispose&&Y.dispose(this)},this)},disposeGeometry:function(D){D.dispose(this)},disposeTexture:function(D){D.dispose(this)},disposeFrameBuffer:function(D){D.dispose(this)},dispose:function(){},screenToNDC:function(D,F,N){N||(N=new i.Z),F=this._height-F;var X=this.viewport,Y=N.array;return Y[0]=(D-X.x)/X.width,Y[0]=Y[0]*2-1,Y[1]=(F-X.y)/X.height,Y[1]=Y[1]*2-1,N}});U.opaqueSortCompare=U.prototype.opaqueSortCompare=function(D,F){return D.renderOrder===F.renderOrder?D.__program===F.__program?D.material===F.material?D.geometry.__uid__-F.geometry.__uid__:D.material.__uid__-F.material.__uid__:D.__program&&F.__program?D.__program.__uid__-F.__program.__uid__:0:D.renderOrder-F.renderOrder},U.transparentSortCompare=U.prototype.transparentSortCompare=function(D,F){return D.renderOrder===F.renderOrder?D.__depth===F.__depth?D.__program===F.__program?D.material===F.material?D.geometry.__uid__-F.geometry.__uid__:D.material.__uid__-F.material.__uid__:D.__program&&F.__program?D.__program.__uid__-F.__program.__uid__:0:D.__depth-F.__depth:D.renderOrder-F.renderOrder};var H={IDENTITY:v(),WORLD:v(),VIEW:v(),PROJECTION:v(),WORLDVIEW:v(),VIEWPROJECTION:v(),WORLDVIEWPROJECTION:v(),WORLDINVERSE:v(),VIEWINVERSE:v(),PROJECTIONINVERSE:v(),WORLDVIEWINVERSE:v(),VIEWPROJECTIONINVERSE:v(),WORLDVIEWPROJECTIONINVERSE:v(),WORLDTRANSPOSE:v(),VIEWTRANSPOSE:v(),PROJECTIONTRANSPOSE:v(),WORLDVIEWTRANSPOSE:v(),VIEWPROJECTIONTRANSPOSE:v(),WORLDVIEWPROJECTIONTRANSPOSE:v(),WORLDINVERSETRANSPOSE:v(),VIEWINVERSETRANSPOSE:v(),PROJECTIONINVERSETRANSPOSE:v(),WORLDVIEWINVERSETRANSPOSE:v(),VIEWPROJECTIONINVERSETRANSPOSE:v(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:v()};U.COLOR_BUFFER_BIT=e.Z.COLOR_BUFFER_BIT,U.DEPTH_BUFFER_BIT=e.Z.DEPTH_BUFFER_BIT,U.STENCIL_BUFFER_BIT=e.Z.STENCIL_BUFFER_BIT;var V=U},50908:function(Dt,it,C){var p=C(80881),o=C(92449),t=C(37046),r=C(37233),n=C(34635),e=C(85822),s=C(60193),h=C(49865),i=e.Z.create(),a=e.Z.create(),l={};function _(y){var P=[],S=Object.keys(y);S.sort();for(var w=0;w<S.length;w++){var b=S[w];P.push(b+" "+y[b])}var W=P.join(`
`);if(l[W])return l[W];var B=n.Z.genGUID();return l[W]=B,B}function M(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}M.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},M.prototype.add=function(y,P){P?this.transparent[this._transparentCount++]=y:this.opaque[this._opaqueCount++]=y},M.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var m=p.Z.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new r.Z,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new s.Z(20)}},function(){this._scene=this},{addToScene:function(y){y instanceof t.Z?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(y)):y instanceof o.Z&&this.lights.push(y),y.name&&(this._nodeRepository[y.name]=y)},removeFromScene:function(y){var P;y instanceof t.Z?(P=this._cameraList.indexOf(y),P>=0&&this._cameraList.splice(P,1)):y instanceof o.Z&&(P=this.lights.indexOf(y),P>=0&&this.lights.splice(P,1)),y.name&&delete this._nodeRepository[y.name]},getNode:function(y){return this._nodeRepository[y]},setMainCamera:function(y){var P=this._cameraList.indexOf(y);P>=0&&this._cameraList.splice(P,1),this._cameraList.unshift(y)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var y=this.lights;this._previousLightNumber=this._lightNumber;for(var P={},S=0;S<y.length;S++){var w=y[S];if(!w.invisible){var b=w.group;P[b]||(P[b]={}),P[b][w.type]=P[b][w.type]||0,P[b][w.type]++}}this._lightNumber=P;for(var W in P)this._lightProgramKeys[W]=_(P[W]);this._updateLightUniforms()},cloneNode:function(y){var P=y.clone(),S={};function w(b,W){S[b.__uid__]=W;for(var B=0;B<b._children.length;B++){var O=b._children[B],A=W._children[B];w(O,A)}}return w(y,P),P.traverse(function(b){b.skeleton&&(b.skeleton=b.skeleton.clone(S)),b.material&&(b.material=b.material.clone())}),P},updateRenderList:function(y,P){var S=y.__uid__,w=this._renderLists.get(S);w||(w=new M,this._renderLists.put(S,w)),w.startCount(),P&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var b=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,y,b,w,P),w.endCount(),w},getRenderList:function(y){return this._renderLists.get(y.__uid__)},_doUpdateRenderList:function(y,P,S,w,b){if(!y.invisible)for(var W=0;W<y._children.length;W++){var B=y._children[W];if(B.isRenderable()){var O=B.isSkinnedMesh()?i:B.worldTransform.array,A=B.geometry;e.Z.multiplyAffine(a,P.viewMatrix.array,O),(b&&!A.boundingBox||!this.isFrustumCulled(B,P,a))&&w.add(B,B.material.transparent||S)}B._children.length>0&&this._doUpdateRenderList(B,P,S,w,b)}},isFrustumCulled:function(){var y=new r.Z,P=new h.Z;return function(S,w,b){var W=S.boundingBox;if(W||(S.skeleton&&S.skeleton.boundingBox?W=S.skeleton.boundingBox:W=S.geometry.boundingBox),!W)return!1;if(P.array=b,y.transformFrom(W,P),S.castShadow&&this.viewBoundingBoxLastFrame.union(y),S.frustumCulling){if(!y.intersectBoundingBox(w.frustum.boundingBox))return!0;P.array=w.projectionMatrix.array,y.max.array[2]>0&&y.min.array[2]<0&&(y.max.array[2]=-1e-20),y.applyProjection(P);var B=y.min.array,O=y.max.array;if(O[0]<-1||B[0]>1||O[1]<-1||B[1]>1||O[2]<-1||B[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var y=this.lights;y.sort(T);var P=this._lightUniforms;for(var S in P)for(var w in P[S])P[S][w].value.length=0;for(var b=0;b<y.length;b++){var W=y[b];if(!W.invisible){var S=W.group;for(var w in W.uniformTemplates){var B=W.uniformTemplates[w],O=B.value(W);if(O!=null){P[S]||(P[S]={}),P[S][w]||(P[S][w]={type:"",value:[]});var A=P[S][w];switch(A.type=B.type+"v",B.type){case"1i":case"1f":case"t":A.value.push(O);break;case"2f":case"3f":case"4f":for(var E=0;E<O.length;E++)A.value.push(O[E]);break;default:console.error("Unkown light uniform type "+B.type)}}}}}},getLightGroups:function(){var y=[];for(var P in this._lightNumber)y.push(P);return y},getNumberChangedLightGroups:function(){var y=[];for(var P in this._lightNumber)this.isLightNumberChanged(P)&&y.push(P);return y},isLightNumberChanged:function(y){var P=this._previousLightNumber,S=this._lightNumber;for(var w in S[y])if(!P[y]||S[y][w]!==P[y][w])return!0;for(var w in P[y])if(!S[y]||S[y][w]!==P[y][w])return!0;return!1},getLightsNumbers:function(y){return this._lightNumber[y]},getProgramKey:function(y){return this._lightProgramKeys[y]},setLightUniforms:function(){function y(P,S,w){for(var b in P){var W=P[b];if(W.type==="tv"){if(!S.hasUniform(b))continue;for(var B=[],O=0;O<W.value.length;O++){var A=W.value[O],E=S.takeCurrentTextureSlot(w,A);B.push(E)}S.setUniform(w.gl,"1iv",b,B)}else S.setUniform(w.gl,W.type,b,W.value)}}return function(P,S,w){y(this._lightUniforms[S],P,w),y(this.shadowUniforms,P,w)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function T(y,P){if(P.castShadow&&!y.castShadow)return!0}it.Z=m},60217:function(Dt,it,C){var p=C(34635),o=C(82544),t=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,r=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,n=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,e={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function s(B){for(var O=[],A=0;A<B;A++)O[A]=0;return O}var h={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return s(2)},vec3:function(){return s(3)},vec4:function(){return s(4)},ivec2:function(){return s(2)},ivec3:function(){return s(3)},ivec4:function(){return s(4)},mat2:function(){return s(4)},mat3:function(){return s(9)},mat4:function(){return s(16)},array:function(){return[]}},i=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],a=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],l=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],_={vec4:4,vec3:3,vec2:2,float:1},M={},m={};function T(B,O){var A="vertex:"+B+"fragment:"+O;if(M[A])return M[A];var E=p.Z.genGUID();return M[A]=E,m[E]={vertex:B,fragment:O},E}function y(B){return B.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function P(){console.error("Wrong uniform/attributes syntax")}function S(B,O){for(var A=/[,=\(\):]/,E=O.replace(/:\s*\[\s*(.*)\s*\]/g,"="+B+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),d=[],f=0;f<E.length;f++)E[f].match(A)?d.push(E[f].charAt(0),E[f].slice(1)):d.push(E[f]);E=d;var u=0,c=1,v=2,g=3,R=4,x=5,L=u,I={},Z=null,G;K(E[0]);function K(H){H||P();var V=H.match(/\[(.*?)\]/);G=H.replace(/\[(.*?)\]/,""),I[G]={},V&&(I[G].isArray=!0,I[G].arraySize=V[1])}for(var f=1;f<E.length;f++){var J=E[f];if(J){if(J==="="){if(L!==u&&L!==g){P();break}L=c;continue}else if(J===":"){L=R;continue}else if(J===","){if(L===v){if(!(Z instanceof Array)){P();break}Z.push(+E[++f])}else L=x;continue}else if(J===")"){I[G].value=new o.Z.Float32Array(Z),Z=null,L=x;continue}else if(J==="("){if(L!==v){P();break}if(!(Z instanceof Array)){P();break}Z.push(+E[++f]);continue}else if(J.indexOf("vec")>=0){if(L!==c&&L!==R){P();break}L=v,Z=[];continue}else if(L===c){B==="bool"?I[G].value=J==="true":I[G].value=parseFloat(J),Z=null;continue}else if(L===R){var U=J;i.indexOf(U)>=0||a.indexOf(U)>=0||l.indexOf(U)>=0?I[G].semantic=U:U==="ignore"||U==="unconfigurable"?I[G].ignore=!0:B==="bool"?I[G].value=U==="true":I[G].value=parseFloat(U);continue}K(J),L=u}}return I}function w(B,O){typeof B=="object"&&(O=B.fragment,B=B.vertex),B=y(B),O=y(O),this._shaderID=T(B,O),this._vertexCode=w.parseImport(B),this._fragmentCode=w.parseImport(O),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}w.prototype={constructor:w,createUniforms:function(){var B={};for(var O in this.uniformTemplates){var A=this.uniformTemplates[O];B[O]={type:A.type,value:A.value()}}return B},_parseImport:function(){this._vertexCode=w.parseImport(this.vertex),this._fragmentCode=w.parseImport(this.fragment)},_addSemanticUniform:function(B,O,A){if(i.indexOf(A)>=0)this.attributeSemantics[A]={symbol:B,type:O};else if(l.indexOf(A)>=0){var E=!1,d=A;A.match(/TRANSPOSE$/)&&(E=!0,d=A.slice(0,-9)),this.matrixSemantics[A]={symbol:B,type:O,isTranspose:E,semanticNoTranspose:d}}else a.indexOf(A)>=0&&(this.uniformSemantics[A]={symbol:B,type:O})},_addMaterialUniform:function(B,O,A,E,d,f){f[B]={type:A,value:d?h.array:E||h[O],semantic:null}},_parseUniforms:function(){var B={},O=this,A="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace(t,d),A="fragment",this._fragmentCode=this._fragmentCode.replace(t,d),O.matrixSemanticKeys=Object.keys(this.matrixSemantics);function E(f){return f!=null?function(){return f}:null}function d(f,u,c){var v=S(u,c),g=[];for(var R in v){var x=v[R],L=x.semantic,I=R,Z=e[u],G=E(v[R].value);v[R].isArray&&(I+="["+v[R].arraySize+"]",Z+="v"),g.push(I),O._uniformList.push(R),x.ignore||((u==="sampler2D"||u==="samplerCube")&&(O.textures[R]={shaderType:A,type:u}),L?O._addSemanticUniform(R,Z,L):O._addMaterialUniform(R,u,Z,G,v[R].isArray,B))}return g.length>0?"uniform "+u+" "+g.join(",")+`;
`:""}this.uniformTemplates=B},_parseAttributes:function(){var B={},O=this;this._vertexCode=this._vertexCode.replace(r,A);function A(E,d,f){var u=S(d,f),c=_[d]||1,v=[];for(var g in u){var R=u[g].semantic;if(B[g]={type:"float",size:c,semantic:R||null},R){if(i.indexOf(R)<0)throw new Error('Unkown semantic "'+R+'"');O.attributeSemantics[R]={symbol:g,type:d}}v.push(g)}return"attribute "+d+" "+v.join(",")+`;
`}this.attributes=B},_parseDefines:function(){var B=this,O="vertex";this._vertexCode=this._vertexCode.replace(n,A),O="fragment",this._fragmentCode=this._fragmentCode.replace(n,A);function A(E,d,f){var u=O==="vertex"?B.vertexDefines:B.fragmentDefines;return u[d]||(f==="false"?u[d]=!1:f==="true"?u[d]=!0:u[d]=f?isNaN(parseFloat(f))?f.trim():parseFloat(f):null),""}},clone:function(){var B=m[this._shaderID],O=new w(B.vertex,B.fragment);return O}},Object.defineProperty&&(Object.defineProperty(w.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(w.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(w.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(w.prototype,"uniforms",{get:function(){return this._uniformList}}));var b=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;w.parseImport=function(B){return B=B.replace(b,function(d,A,E){var d=w.source(E);return d?w.parseImport(d):(console.error('Shader chunk "'+E+'" not existed in library'),"")}),B};var W=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;w.import=function(B){B.replace(W,function(O,A,E,f){var f=f.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(f){for(var u=E.split("."),c=w.codes,v=0,g;v<u.length-1;)g=u[v++],c[g]||(c[g]={}),c=c[g];g=u[v],c[g]=f}return f})},w.codes={},w.source=function(B){for(var O=B.split("."),A=w.codes,E=0;A&&E<O.length;){var d=O[E++];A=A[d]}return typeof A!="string"?(console.error('Shader "'+B+'" not existed in library'),""):A},it.Z=w},88693:function(Dt,it,C){var p=C(85038),o=C(23044),t=C(29100),r=p.Z.extend({width:512,height:512,type:o.Z.UNSIGNED_BYTE,format:o.Z.RGBA,wrapS:o.Z.REPEAT,wrapT:o.Z.REPEAT,minFilter:o.Z.LINEAR_MIPMAP_LINEAR,magFilter:o.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new t.Z},{getWebGLTexture:function(n){var e=n.gl,s=this._cache;return s.use(n.__uid__),s.miss("webgl_texture")&&s.put("webgl_texture",e.createTexture()),this.dynamic?this.update(n):s.isDirty()&&(this.update(n),s.fresh()),s.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(n){},updateCommon:function(n){var e=n.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===o.Z.DEPTH_COMPONENT&&(this.useMipmap=!1);var s=n.getGLExtension("EXT_sRGB");this.format===r.SRGB&&!s&&(this.format=r.RGB),this.format===r.SRGB_ALPHA&&!s&&(this.format=r.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?o.Z.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?o.Z.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var n=this.minFilter;return this.NPOT||!this.useMipmap?n===o.Z.NEAREST_MIPMAP_NEAREST||n===o.Z.NEAREST_MIPMAP_LINEAR?o.Z.NEAREST:n===o.Z.LINEAR_MIPMAP_LINEAR||n===o.Z.LINEAR_MIPMAP_NEAREST?o.Z.LINEAR:n:n},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(n){--n;for(var e=1;e<32;e<<=1)n=n|n>>e;return n+1},dispose:function(n){var e=this._cache;e.use(n.__uid__);var s=e.get("webgl_texture");s&&n.gl.deleteTexture(s),e.deleteContext(n.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n}}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n}}),r.BYTE=o.Z.BYTE,r.UNSIGNED_BYTE=o.Z.UNSIGNED_BYTE,r.SHORT=o.Z.SHORT,r.UNSIGNED_SHORT=o.Z.UNSIGNED_SHORT,r.INT=o.Z.INT,r.UNSIGNED_INT=o.Z.UNSIGNED_INT,r.FLOAT=o.Z.FLOAT,r.HALF_FLOAT=36193,r.UNSIGNED_INT_24_8_WEBGL=34042,r.DEPTH_COMPONENT=o.Z.DEPTH_COMPONENT,r.DEPTH_STENCIL=o.Z.DEPTH_STENCIL,r.ALPHA=o.Z.ALPHA,r.RGB=o.Z.RGB,r.RGBA=o.Z.RGBA,r.LUMINANCE=o.Z.LUMINANCE,r.LUMINANCE_ALPHA=o.Z.LUMINANCE_ALPHA,r.SRGB=35904,r.SRGB_ALPHA=35906,r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,r.NEAREST=o.Z.NEAREST,r.LINEAR=o.Z.LINEAR,r.NEAREST_MIPMAP_NEAREST=o.Z.NEAREST_MIPMAP_NEAREST,r.LINEAR_MIPMAP_NEAREST=o.Z.LINEAR_MIPMAP_NEAREST,r.NEAREST_MIPMAP_LINEAR=o.Z.NEAREST_MIPMAP_LINEAR,r.LINEAR_MIPMAP_LINEAR=o.Z.LINEAR_MIPMAP_LINEAR,r.REPEAT=o.Z.REPEAT,r.CLAMP_TO_EDGE=o.Z.CLAMP_TO_EDGE,r.MIRRORED_REPEAT=o.Z.MIRRORED_REPEAT,it.Z=r},75142:function(Dt,it,C){var p=C(88693),o=C(23044),t=C(82544),r=C(14983),n=r.Z.isPowerOfTwo;function e(i){return Math.pow(2,Math.round(Math.log(i)/Math.LN2))}function s(i,a){var l=e(i.width),_=e(i.height);a=a||document.createElement("canvas"),a.width=l,a.height=_;var M=a.getContext("2d");return M.drawImage(i.image,0,0,l,_),a}var h=p.Z.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(i){var a=i.gl;a.bindTexture(a.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(i);var l=this.format,_=this.type,M=!!(this.convertToPOT&&!this.mipmaps.length&&this.image&&(this.wrapS===p.Z.REPEAT||this.wrapT===p.Z.REPEAT)&&this.NPOT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,M?this.wrapS:this.getAvailableWrapS()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,M?this.wrapT:this.getAvailableWrapT()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,M?this.magFilter:this.getAvailableMagFilter()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,M?this.minFilter:this.getAvailableMinFilter());var m=i.getGLExtension("EXT_texture_filter_anisotropic");if(m&&this.anisotropic>1&&a.texParameterf(a.TEXTURE_2D,m.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),_===36193){var T=i.getGLExtension("OES_texture_half_float");T||(_=o.Z.FLOAT)}if(this.mipmaps.length)for(var y=this.width,P=this.height,S=0;S<this.mipmaps.length;S++){var w=this.mipmaps[S];this._updateTextureData(a,w,S,y,P,l,_,!1),y/=2,P/=2}else this._updateTextureData(a,this,0,this.width,this.height,l,_,M),this.useMipmap&&(!this.NPOT||M)&&a.generateMipmap(a.TEXTURE_2D);a.bindTexture(a.TEXTURE_2D,null)},_updateTextureData:function(i,a,l,_,M,m,T,y){if(a.image){var P=a.image;y&&(this._potCanvas=s(this,this._potCanvas),P=this._potCanvas),i.texImage2D(i.TEXTURE_2D,l,m,m,T,P)}else m<=p.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT&&m>=p.Z.COMPRESSED_RGB_S3TC_DXT1_EXT?i.compressedTexImage2D(i.TEXTURE_2D,l,m,_,M,0,a.pixels):i.texImage2D(i.TEXTURE_2D,l,m,_,M,0,m,T,a.pixels)},generateMipmap:function(i){var a=i.gl;this.useMipmap&&!this.NPOT&&(a.bindTexture(a.TEXTURE_2D,this._cache.get("webgl_texture")),a.generateMipmap(a.TEXTURE_2D))},isPowerOfTwo:function(){return n(this.width)&&n(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!!(this.width&&this.height)},bind:function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,this.getWebGLTexture(i))},unbind:function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,null)},load:function(i,a){var l=t.Z.createImage();a&&(l.crossOrigin=a);var _=this;return l.onload=function(){_.dirty(),_.trigger("success",_)},l.onerror=function(){_.trigger("error",_)},l.src=i,this.image=l,this}});Object.defineProperty(h.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(i){this.image?console.warn("Texture from image can't set width"):(this._width!==i&&this.dirty(),this._width=i)}}),Object.defineProperty(h.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(i){this.image?console.warn("Texture from image can't set height"):(this._height!==i&&this.dirty(),this._height=i)}}),it.Z=h},5847:function(Dt,it,C){var p=C(88693),o=C(23044),t=C(34635),r=C(14983),n=C(82544),e=r.Z.isPowerOfTwo,s=["px","nx","py","ny","pz","nz"],h=p.Z.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(a){var l=a.gl;l.bindTexture(l.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(a);var _=this.format,M=this.type;l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_S,this.getAvailableWrapS()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_T,this.getAvailableWrapT()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var m=a.getGLExtension("EXT_texture_filter_anisotropic");if(m&&this.anisotropic>1&&l.texParameterf(l.TEXTURE_CUBE_MAP,m.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),M===36193){var T=a.getGLExtension("OES_texture_half_float");T||(M=o.Z.FLOAT)}if(this.mipmaps.length)for(var y=this.width,P=this.height,S=0;S<this.mipmaps.length;S++){var w=this.mipmaps[S];this._updateTextureData(l,w,S,y,P,_,M),y/=2,P/=2}else this._updateTextureData(l,this,0,this.width,this.height,_,M),!this.NPOT&&this.useMipmap&&l.generateMipmap(l.TEXTURE_CUBE_MAP);l.bindTexture(l.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(a,l,_,M,m,T,y){for(var P=0;P<6;P++){var S=s[P],w=l.image&&l.image[S];w?a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+P,_,T,T,y,w):a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+P,_,T,M,m,0,T,y,l.pixels&&l.pixels[S])}},generateMipmap:function(a){var l=a.gl;this.useMipmap&&!this.NPOT&&(l.bindTexture(l.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),l.generateMipmap(l.TEXTURE_CUBE_MAP))},bind:function(a){a.gl.bindTexture(a.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(a))},unbind:function(a){a.gl.bindTexture(a.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?e(this.image.px.width)&&e(this.image.px.height):e(this.width)&&e(this.height)},isRenderable:function(){return this.image.px?i(this.image.px)&&i(this.image.nx)&&i(this.image.py)&&i(this.image.ny)&&i(this.image.pz)&&i(this.image.nz):!!(this.width&&this.height)},load:function(a,l){var _=0,M=this;return t.Z.each(a,function(m,T){var y=n.Z.createImage();l&&(y.crossOrigin=l),y.onload=function(){_--,_===0&&(M.dirty(),M.trigger("success",M))},y.onerror=function(){_--},_++,y.src=m,M.image[T]=y}),this}});Object.defineProperty(h.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(a){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==a&&this.dirty(),this._width=a)}}),Object.defineProperty(h.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(a){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==a&&this.dirty(),this._height=a)}});function i(a){return a.width>0&&a.height>0}it.Z=h},95347:function(Dt,it,C){var p=C(37046),o=p.Z.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=p.Z.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});it.Z=o},18850:function(Dt,it,C){var p=C(37046),o=p.Z.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,r=Math.atan(1/t[5])*2;this.fov=r/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=p.Z.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}});it.Z=o},80785:function(Dt,it,C){C.d(it,{Z:function(){return M}});var p=C(85038),o=C(95347),t=C(6132),r=C(60217),n=C(84708),e=C(30420),s=C(23044),h=`
@export clay.compositor.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
varying vec2 v_Texcoord;
void main()
{
 v_Texcoord = texcoord;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end`;r.Z.import(h);var i=new t.Z,a=new e.Z({geometry:i,frustumCulling:!1}),l=new o.Z,_=p.Z.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var m=new r.Z(r.Z.source("clay.compositor.vertex"),this.fragment),T=new n.Z({shader:m});T.enableTexturesAll(),this.material=T},{setUniform:function(m,T){this.material.setUniform(m,T)},getUniform:function(m){var T=this.material.uniforms[m];if(T)return T.value},attachOutput:function(m,T){this.outputs||(this.outputs={}),T=T||s.Z.COLOR_ATTACHMENT0,this.outputs[T]=m},detachOutput:function(m){for(var T in this.outputs)this.outputs[T]===m&&(this.outputs[T]=null)},bind:function(m,T){if(this.outputs)for(var y in this.outputs){var P=this.outputs[y];P&&T.attach(P,y)}T&&T.bind(m)},unbind:function(m,T){T.unbind(m)},render:function(m,T){var y=m.gl;if(T){this.bind(m,T);var P=m.getGLExtension("EXT_draw_buffers");if(P&&this.outputs){var S=[];for(var w in this.outputs)w=+w,w>=y.COLOR_ATTACHMENT0&&w<=y.COLOR_ATTACHMENT0+8&&S.push(w);P.drawBuffersEXT(S)}}this.trigger("beforerender",this,m);var b=this.clearDepth?y.DEPTH_BUFFER_BIT:0;if(y.depthMask(!0),this.clearColor){b=b|y.COLOR_BUFFER_BIT,y.colorMask(!0,!0,!0,!0);var W=this.clearColor;Array.isArray(W)&&y.clearColor(W[0],W[1],W[2],W[3])}y.clear(b),this.blendWithPrevious?(y.enable(y.BLEND),this.material.transparent=!0):(y.disable(y.BLEND),this.material.transparent=!1),this.renderQuad(m),this.trigger("afterrender",this,m),T&&this.unbind(m,T)},renderQuad:function(m){a.material=this.material,m.renderPass([a],l)},dispose:function(m){}}),M=_},9904:function(Dt,it,C){var p=C(75142),o=C(23044),t=C(34635),r=function(){this._pool={},this._allocatedTextures=[]};r.prototype={constructor:r,get:function(a){var l=s(a);this._pool.hasOwnProperty(l)||(this._pool[l]=[]);var _=this._pool[l];if(!_.length){var M=new p.Z(a);return this._allocatedTextures.push(M),M}return _.pop()},put:function(a){var l=s(a);this._pool.hasOwnProperty(l)||(this._pool[l]=[]);var _=this._pool[l];_.push(a)},clear:function(a){for(var l=0;l<this._allocatedTextures.length;l++)this._allocatedTextures[l].dispose(a);this._pool={},this._allocatedTextures=[]}};var n={width:512,height:512,type:o.Z.UNSIGNED_BYTE,format:o.Z.RGBA,wrapS:o.Z.CLAMP_TO_EDGE,wrapT:o.Z.CLAMP_TO_EDGE,minFilter:o.Z.LINEAR_MIPMAP_LINEAR,magFilter:o.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},e=Object.keys(n);function s(a){t.Z.defaultsWithPropList(a,n,e),h(a);for(var l="",_=0;_<e.length;_++){var M=e[_],m=a[M].toString();l+=m}return l}function h(a){var l=i(a.width,a.height);a.format===o.Z.DEPTH_COMPONENT&&(a.useMipmap=!1),(!l||!a.useMipmap)&&(a.minFilter==o.Z.NEAREST_MIPMAP_NEAREST||a.minFilter==o.Z.NEAREST_MIPMAP_LINEAR?a.minFilter=o.Z.NEAREST:(a.minFilter==o.Z.LINEAR_MIPMAP_LINEAR||a.minFilter==o.Z.LINEAR_MIPMAP_NEAREST)&&(a.minFilter=o.Z.LINEAR)),l||(a.wrapS=o.Z.CLAMP_TO_EDGE,a.wrapT=o.Z.CLAMP_TO_EDGE)}function i(a,l){return(a&a-1)===0&&(l&l-1)===0}it.Z=r},61857:function(Dt,it,C){C.d(it,{Z:function(){return et}});var p=C(34635),o=C(85038),t=o.Z.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(z,k){var at=this.outputs[z],ft=at.parameters,_t=at._parametersCopy;if(_t||(_t=at._parametersCopy={}),ft)for(var tt in ft)tt!=="width"&&tt!=="height"&&(_t[tt]=ft[tt]);var rt,ut;return ft.width instanceof Function?rt=ft.width.call(this,k):rt=ft.width,ft.height instanceof Function?ut=ft.height.call(this,k):ut=ft.height,(_t.width!==rt||_t.height!==ut)&&this._outputTextures[z]&&this._outputTextures[z].dispose(k.gl),_t.width=rt,_t.height=ut,_t},setParameter:function(z,k){},getParameter:function(z){},setParameters:function(z){for(var k in z)this.setParameter(k,z[k])},render:function(){},getOutput:function(z,k){if(k==null)return k=z,this._outputTextures[k];var at=this.outputs[k];if(at)return this._rendered?at.outputLastFrame?this._prevOutputTextures[k]:this._outputTextures[k]:this._rendering?(this._prevOutputTextures[k]||(this._prevOutputTextures[k]=this._compositor.allocateTexture(at.parameters||{})),this._prevOutputTextures[k]):(this.render(z),this._outputTextures[k])},removeReference:function(z){if(this._outputReferences[z]--,this._outputReferences[z]===0){var k=this.outputs[z];k.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}},link:function(z,k,at){this.inputLinks[z]={node:k,pin:at},k.outputLinks[at]||(k.outputLinks[at]=[]),k.outputLinks[at].push({node:this,pin:z}),this.pass.material.enableTexture(z)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(z){if(!this._rendering){this._rendering=!0;for(var k in this.inputLinks){var at=this.inputLinks[k];at.node.updateReference(at.pin)}this._rendering=!1}z&&this._outputReferences[z]++},beforeFrame:function(){this._rendered=!1;for(var z in this.outputLinks)this._outputReferences[z]=0},afterFrame:function(){for(var z in this.outputLinks)if(this._outputReferences[z]>0){var k=this.outputs[z];k.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}}}),r=t,n=o.Z.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(z){this.nodes.indexOf(z)>=0||(this.nodes.push(z),this._dirty=!0)},removeNode:function(z){typeof z=="string"&&(z=this.getNodeByName(z));var k=this.nodes.indexOf(z);k>=0&&(this.nodes.splice(k,1),this._dirty=!0)},getNodeByName:function(z){for(var k=0;k<this.nodes.length;k++)if(this.nodes[k].name===z)return this.nodes[k]},update:function(){for(var z=0;z<this.nodes.length;z++)this.nodes[z].clear();for(var z=0;z<this.nodes.length;z++){var k=this.nodes[z];if(k.inputs){for(var at in k.inputs)if(k.inputs[at]){if(k.pass&&!k.pass.material.isUniformEnabled(at)){console.warn("Pin "+k.name+"."+at+" not used.");continue}var ft=k.inputs[at],_t=this.findPin(ft);_t?k.link(at,_t.node,_t.pin):console.warn(typeof ft=="string"?"Node "+ft+" not exist":"Pin of "+ft.node+"."+ft.pin+" not exist")}}}},findPin:function(z){var k;if((typeof z=="string"||z instanceof r)&&(z={node:z}),typeof z.node=="string")for(var at=0;at<this.nodes.length;at++){var ft=this.nodes[at];ft.name===z.node&&(k=ft)}else k=z.node;if(k){var _t=z.pin;if(_t||k.outputs&&(_t=Object.keys(k.outputs)[0]),k.outputs[_t])return{node:k,pin:_t}}}}),e=n,s=C(9904),h=C(76728),i=e.extend(function(){return{_outputs:[],_texturePool:new s.Z,_frameBuffer:new h.Z({depthBuffer:!1})}},{addNode:function(z){e.prototype.addNode.call(this,z),z._compositor=this},render:function(z,k){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var at=0;at<this.nodes.length;at++)this.nodes[at].outputs||this._outputs.push(this.nodes[at])}for(var at=0;at<this.nodes.length;at++)this.nodes[at].beforeFrame();for(var at=0;at<this._outputs.length;at++)this._outputs[at].updateReference();for(var at=0;at<this._outputs.length;at++)this._outputs[at].render(z,k);for(var at=0;at<this.nodes.length;at++)this.nodes[at].afterFrame()},allocateTexture:function(z){return this._texturePool.get(z)},releaseTexture:function(z){this._texturePool.put(z)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(z){this._texturePool.clear(z)}}),a=i,l=C(23044),_=r.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new h.Z},{render:function(z){this._rendering=!0;var k=z.gl;this.trigger("beforerender");var at;if(!this.outputs)at=z.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);else{var ft=this.frameBuffer;for(var _t in this.outputs){var tt=this.updateParameter(_t,z),rt=this.outputs[_t],ut=this._compositor.allocateTexture(tt);this._outputTextures[_t]=ut;var ct=rt.attachment||k.COLOR_ATTACHMENT0;typeof ct=="string"&&(ct=k[ct]),ft.attach(ut,ct)}ft.bind(z);var st=z.getGLExtension("EXT_draw_buffers");if(st){var dt=[];for(var ct in this.outputs)ct=parseInt(ct),ct>=k.COLOR_ATTACHMENT0&&ct<=k.COLOR_ATTACHMENT0+8&&dt.push(ct);st.drawBuffersEXT(dt)}z.saveClear(),z.clearBit=l.Z.DEPTH_BUFFER_BIT|l.Z.COLOR_BUFFER_BIT,at=z.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),z.restoreClear(),ft.unbind(z)}this.trigger("afterrender",at),this._rendering=!1,this._rendered=!0}}),M=_,m=r.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(z,k){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),T=m,y=C(80785),P=r.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var z=new y.Z({fragment:this.shader});this.pass=z},{render:function(z,k){this.trigger("beforerender",z),this._rendering=!0;var at=z.gl;for(var ft in this.inputLinks){var _t=this.inputLinks[ft],tt=_t.node.getOutput(z,_t.pin);this.pass.setUniform(ft,tt)}if(!this.outputs)this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(z),this.pass.render(z,k);else{this.pass.outputs={};var rt={};for(var ut in this.outputs){var ct=this.updateParameter(ut,z);isNaN(ct.width)&&this.updateParameter(ut,z);var st=this.outputs[ut],dt=this._compositor.allocateTexture(ct);this._outputTextures[ut]=dt;var ht=st.attachment||at.COLOR_ATTACHMENT0;typeof ht=="string"&&(ht=at[ht]),rt[ht]=dt}this._compositor.getFrameBuffer().bind(z);for(var ht in rt)this._compositor.getFrameBuffer().attach(rt[ht],ht);this.pass.render(z),this._compositor.getFrameBuffer().updateMipmap(z)}for(var ft in this.inputLinks){var _t=this.inputLinks[ft];_t.node.removeReference(_t.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",z)},updateParameter:function(z,k){var at=this.outputs[z],ft=at.parameters,_t=at._parametersCopy;if(_t||(_t=at._parametersCopy={}),ft)for(var tt in ft)tt!=="width"&&tt!=="height"&&(_t[tt]=ft[tt]);var rt,ut;return typeof ft.width=="function"?rt=ft.width.call(this,k):rt=ft.width,typeof ft.height=="function"?ut=ft.height.call(this,k):ut=ft.height,rt=Math.ceil(rt),ut=Math.ceil(ut),(_t.width!==rt||_t.height!==ut)&&this._outputTextures[z]&&this._outputTextures[z].dispose(k),_t.width=rt,_t.height=ut,_t},setParameter:function(z,k){this.pass.setUniform(z,k)},getParameter:function(z){return this.pass.getUniform(z)},setParameters:function(z){for(var k in z)this.setParameter(k,z[k])},define:function(z,k){this.pass.material.define("fragment",z,k)},undefine:function(z){this.pass.material.undefine("fragment",z)},removeReference:function(z){if(this._outputReferences[z]--,this._outputReferences[z]===0){var k=this.outputs[z];k.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}},clear:function(){r.prototype.clear.call(this),this.pass.material.disableTexturesAll()}}),S=P,w=C(60217),b=C(88693),W=C(75142),B=C(5847),O=`@export clay.compositor.coloradjust
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float exposure : 0.0;
uniform float gamma : 1.0;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);
 color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 color = clamp( color * pow(2.0, exposure), 0.0, 1.0);
 color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);
 float luminance = dot( color, w );
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.brightness
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = tex.rgb + vec3(brightness);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.contrast
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float contrast : 1.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.exposure
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float exposure : 0.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb * pow(2.0, exposure);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.gamma
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float gamma : 1.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = pow(tex.rgb, vec3(gamma));
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.saturation
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb;
 float luminance = dot(color, w);
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end`,A=C(71364),E=`@export clay.compositor.hdr.log_lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 float luminance = dot(tex.rgb, w);
 luminance = log(luminance + 0.001);
 gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));
}
@end
@export clay.compositor.hdr.lum_adaption
varying vec2 v_Texcoord;
uniform sampler2D adaptedLum;
uniform sampler2D currentLum;
uniform float frameTime : 0.02;
@import clay.util.rgbm
void main()
{
 float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;
 float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);
 fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));
 gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));
}
@end
@export clay.compositor.lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord );
 float luminance = dot(tex.rgb, w);
 gl_FragColor = vec4(vec3(luminance), 1.0);
}
@end`,d=C(69663),f=`@export clay.compositor.vignette
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float darkness: 1;
uniform float offset: 1;
@import clay.util.rgbm
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = texel.rgb;
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);
 gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));
}
@end`,u=C(71032),c=C(61430),v=C(12045),g=C(85747),R=C(53746),x=`@export clay.compositor.lensflare
#define SAMPLE_NUMBER 8
uniform sampler2D texture;
uniform sampler2D lenscolor;
uniform vec2 textureSize : [512, 512];
uniform float dispersal : 0.3;
uniform float haloWidth : 0.4;
uniform float distortion : 1.0;
varying vec2 v_Texcoord;
@import clay.util.rgbm
vec4 textureDistorted(
 in vec2 texcoord,
 in vec2 direction,
 in vec3 distortion
) {
 return vec4(
 decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,
 1.0
 );
}
void main()
{
 vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;
 vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;
 vec2 haloVec = normalize(ghostVec) * haloWidth;
 vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);
 vec4 result = vec4(0.0);
 for (int i = 0; i < SAMPLE_NUMBER; i++)
 {
 vec2 offset = fract(texcoord + ghostVec * float(i));
 float weight = length(vec2(0.5) - offset) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 }
 result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));
 float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 vec2 offset = fract(texcoord + haloVec);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 gl_FragColor = result;
}
@end`,L=C(34725),I=C(14289);function Z(z){z.import(O),z.import(A.Z),z.import(E),z.import(d.Z),z.import(f),z.import(u.Z),z.import(c.Z),z.import(v.Z),z.import(g.Z),z.import(R.Z),z.import(x),z.import(L.Z),z.import(I.Z)}Z(w.Z);var G=/^#source\((.*?)\)/;function K(z,k){var at=new a;k=k||{};var ft={textures:{},parameters:{}},_t=function(ut,ct){for(var st=0;st<z.nodes.length;st++){var dt=z.nodes[st],ht=J(dt,ft,k);ht&&at.addNode(ht)}};for(var tt in z.parameters){var rt=z.parameters[tt];ft.parameters[tt]=V(rt)}return D(z,ft,k,function(ut){ft.textures=ut,_t()}),at}function J(z,k,at){var ft=z.type||"filter",_t,tt,rt;if(ft==="filter"){var ut=z.shader.trim(),ct=G.exec(ut);if(ct?_t=w.Z.source(ct[1].trim()):ut.charAt(0)==="#"&&(_t=k.shaders[ut.substr(1)]),_t||(_t=ut),!_t)return}if(z.inputs){tt={};for(var st in z.inputs)typeof z.inputs[st]=="string"?tt[st]=z.inputs[st]:tt[st]={node:z.inputs[st].node,pin:z.inputs[st].pin}}if(z.outputs){rt={};for(var st in z.outputs){var dt=z.outputs[st];rt[st]={},dt.attachment!=null&&(rt[st].attachment=dt.attachment),dt.keepLastFrame!=null&&(rt[st].keepLastFrame=dt.keepLastFrame),dt.outputLastFrame!=null&&(rt[st].outputLastFrame=dt.outputLastFrame),dt.parameters&&(rt[st].parameters=V(dt.parameters))}}var ht;if(ft==="scene"?ht=new M({name:z.name,scene:at.scene,camera:at.camera,outputs:rt}):ft==="texture"?ht=new T({name:z.name,outputs:rt}):ht=new S({name:z.name,shader:_t,inputs:tt,outputs:rt}),ht){if(z.parameters)for(var st in z.parameters){var xt=z.parameters[st];typeof xt=="string"?(xt=xt.trim(),xt.charAt(0)==="#"?xt=k.textures[xt.substr(1)]:ht.on("beforerender",F(st,X(xt)))):typeof xt=="function"&&ht.on("beforerender",xt),ht.setParameter(st,xt)}if(z.defines&&ht.pass)for(var st in z.defines){var xt=z.defines[st];ht.pass.material.define("fragment",st,xt)}}return ht}function U(z,k){return z}function H(z,k){return k}function V(z){var k={};if(!z)return k;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(ft){var _t=z[ft];_t!=null&&(typeof _t=="string"&&(_t=b.Z[_t]),k[ft]=_t)});var at=z.scale||1;return["width","height"].forEach(function(ft){if(z[ft]!=null){var _t=z[ft];typeof _t=="string"?(_t=_t.trim(),k[ft]=N(ft,X(_t),at)):k[ft]=_t}}),k.width||(k.width=U),k.height||(k.height=H),z.useMipmap!=null&&(k.useMipmap=z.useMipmap),k}function D(z,k,at,ft){if(!z.textures){ft({});return}var _t={},tt=0,rt=!1,ut=at.textureRootPath;p.Z.each(z.textures,function(ct,st){var dt,ht=ct.path,xt=V(ct.parameters);if(Array.isArray(ht)&&ht.length===6)ut&&(ht=ht.map(function(Rt){return p.Z.relative2absolute(Rt,ut)})),dt=new B.Z(xt);else if(typeof ht=="string")ut&&(ht=p.Z.relative2absolute(ht,ut)),dt=new W.Z(xt);else return;dt.load(ht),tt++,dt.once("success",function(){_t[st]=dt,tt--,tt===0&&(ft(_t),rt=!0)})}),tt===0&&!rt&&ft(_t)}function F(z,k){return function(at){var ft=at.getDevicePixelRatio(),_t=at.getWidth(),tt=at.getHeight(),rt=k(_t,tt,ft);this.setParameter(z,rt)}}function N(z,k,at){return at=at||1,function(ft){var _t=ft.getDevicePixelRatio(),tt=ft.getWidth()*at,rt=ft.getHeight()*at;return k(tt,rt,_t)}}function X(z){var k=/^expr\((.*)\)$/.exec(z);if(k)try{var at=new Function("width","height","dpr","return "+k[1]);return at(1,1),at}catch(ft){throw new Error("Invalid expression.")}}var Y=K,et=Y},85038:function(Dt,it,C){C.d(it,{Z:function(){return h}});function p(i,a,l){typeof a=="object"&&(l=a,a=null);var _=this,M;if(!(i instanceof Function)){M=[];for(var m in i)i.hasOwnProperty(m)&&M.push(m)}var T=function(P){if(_.apply(this,arguments),i instanceof Function?o(this,i.call(this,P)):t(this,i,M),this.constructor===T)for(var S=T.__initializers__,w=0;w<S.length;w++)S[w].apply(this,arguments)};T.__super__=_,_.__initializers__?T.__initializers__=_.__initializers__.slice():T.__initializers__=[],a&&T.__initializers__.push(a);var y=function(){};return y.prototype=_.prototype,T.prototype=new y,T.prototype.constructor=T,o(T.prototype,l),T.extend=_.extend,T.derive=_.extend,T}function o(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l])}function t(i,a,l){for(var _=0;_<l.length;_++){var M=l[_];i[M]=a[M]}}var r={extend:p,derive:p},n=C(18167),e=C(34635),s=function(){this.__uid__=e.Z.genGUID()};s.__initializers__=[function(i){e.Z.extend(this,i)}],e.Z.extend(s,r),e.Z.extend(s.prototype,n.Z);var h=s},29100:function(Dt,it){var C="__dt__",p=function(){this._contextId=0,this._caches=[],this._context={}};p.prototype={use:function(o,t){var r=this._caches;r[o]||(r[o]={},t&&(r[o]=t())),this._contextId=o,this._context=r[o]},put:function(o,t){this._context[o]=t},get:function(o){return this._context[o]},dirty:function(o){o=o||"";var t=C+o;this.put(t,!0)},dirtyAll:function(o){o=o||"";for(var t=C+o,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!0)},fresh:function(o){o=o||"";var t=C+o;this.put(t,!1)},freshAll:function(o){o=o||"";for(var t=C+o,r=this._caches,n=0;n<r.length;n++)r[n]&&(r[n][t]=!1)},isDirty:function(o){o=o||"";var t=C+o,r=this._context;return!r.hasOwnProperty(t)||r[t]===!0},deleteContext:function(o){delete this._caches[o],this._context={}},delete:function(o){delete this._context[o]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(o,t){var r=Object.keys(this._caches);r.forEach(function(n){o&&o.call(t,n)})},miss:function(o){return!this._context.hasOwnProperty(o)}},p.prototype.constructor=p,it.Z=p},60193:function(Dt,it,C){C.d(it,{Z:function(){return r}});var p=function(){this.head=null,this.tail=null,this._length=0};p.prototype.insert=function(n){var e=new p.Entry(n);return this.insertEntry(e),e},p.prototype.insertAt=function(n,e){if(!(n<0)){for(var s=this.head,h=0;s&&h!=n;)s=s.next,h++;if(s){var i=new p.Entry(e),a=s.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=s,s.prev=i}else this.insert(e)}},p.prototype.insertBeforeEntry=function(n,e){var s=new p.Entry(n),h=e.prev;h?(h.next=s,s.prev=h):this.head=s,s.next=e,e.prev=s,this._length++},p.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,this.tail=n):this.head=this.tail=n,this._length++},p.prototype.remove=function(n){var e=n.prev,s=n.next;e?e.next=s:this.head=s,s?s.prev=e:this.tail=e,n.next=n.prev=null,this._length--},p.prototype.removeAt=function(n){if(!(n<0)){for(var e=this.head,s=0;e&&s!=n;)e=e.next,s++;if(e)return this.remove(e),e.value}},p.prototype.getHead=function(){if(this.head)return this.head.value},p.prototype.getTail=function(){if(this.tail)return this.tail.value},p.prototype.getAt=function(n){if(!(n<0)){for(var e=this.head,s=0;e&&s!=n;)e=e.next,s++;return e.value}},p.prototype.indexOf=function(n){for(var e=this.head,s=0;e;){if(e.value===n)return s;e=e.next,s++}},p.prototype.length=function(){return this._length},p.prototype.isEmpty=function(){return this._length===0},p.prototype.forEach=function(n,e){for(var s=this.head,h=0,i=typeof e!="undefined";s;)i?n.call(e,s.value,h):n(s.value,h),s=s.next,h++},p.prototype.clear=function(){this.tail=this.head=null,this._length=0},p.Entry=function(n){this.value=n,this.next=null,this.prev=null};var o=p,t=function(n){this._list=new o,this._map={},this._maxSize=n||10};t.prototype.setMaxSize=function(n){this._maxSize=n},t.prototype.put=function(n,e){if(!this._map.hasOwnProperty(n)){var s=this._list.length();if(s>=this._maxSize&&s>0){var h=this._list.head;this._list.remove(h),delete this._map[h.key]}var i=this._list.insert(e);i.key=n,this._map[n]=i}},t.prototype.get=function(n){var e=this._map[n];if(this._map.hasOwnProperty(n))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},t.prototype.remove=function(n){var e=this._map[n];typeof e!="undefined"&&(delete this._map[n],this._list.remove(e))},t.prototype.clear=function(){this._list.clear(),this._map={}};var r=t},23044:function(Dt,it){it.Z={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},18167:function(Dt,it){function C(o,t){this.action=o,this.context=t}var p={trigger:function(o){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(o)){var t=this.__handlers__[o],r=t.length,n=-1,e=arguments;switch(e.length){case 1:for(;++n<r;)t[n].action.call(t[n].context);return;case 2:for(;++n<r;)t[n].action.call(t[n].context,e[1]);return;case 3:for(;++n<r;)t[n].action.call(t[n].context,e[1],e[2]);return;case 4:for(;++n<r;)t[n].action.call(t[n].context,e[1],e[2],e[3]);return;case 5:for(;++n<r;)t[n].action.call(t[n].context,e[1],e[2],e[3],e[4]);return;default:for(;++n<r;)t[n].action.apply(t[n].context,Array.prototype.slice.call(e,1));return}}},on:function(o,t,r){if(!(!o||!t)){var n=this.__handlers__||(this.__handlers__={});if(!n[o])n[o]=[];else if(this.has(o,t))return;var e=new C(t,r||this);return n[o].push(e),this}},once:function(o,t,r){if(!o||!t)return;var n=this;function e(){n.off(o,e),t.apply(this,arguments)}return this.on(o,e,r)},before:function(o,t,r){if(!(!o||!t))return o="before"+o,this.on(o,t,r)},after:function(o,t,r){if(!(!o||!t))return o="after"+o,this.on(o,t,r)},success:function(o,t){return this.once("success",o,t)},error:function(o,t){return this.once("error",o,t)},off:function(o,t){var r=this.__handlers__||(this.__handlers__={});if(!t){r[o]=[];return}if(r[o]){for(var n=r[o],e=[],s=0;s<n.length;s++)t&&n[s].action!==t&&e.push(n[s]);r[o]=e}return this},has:function(o,t){var r=this.__handlers__;if(!r||!r[o])return!1;for(var n=r[o],e=0;e<n.length;e++)if(n[e].action===t)return!0}};it.Z=p},34635:function(Dt,it){var C=0,p=Array.prototype,o=p.forEach,t={genGUID:function(){return++C},relative2absolute:function(r,n){if(!n||r.match(/^\//))return r;for(var e=r.split("/"),s=n.split("/"),h=e[0];h==="."||h==="..";)h===".."&&s.pop(),e.shift(),h=e[0];return s.join("/")+"/"+e.join("/")},extend:function(r,n){if(n)for(var e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},defaults:function(r,n){if(n)for(var e in n)r[e]===void 0&&(r[e]=n[e]);return r},extendWithPropList:function(r,n,e){if(n)for(var s=0;s<e.length;s++){var h=e[s];r[h]=n[h]}return r},defaultsWithPropList:function(r,n,e){if(n)for(var s=0;s<e.length;s++){var h=e[s];r[h]==null&&(r[h]=n[h])}return r},each:function(r,n,e){if(r&&n)if(r.forEach&&r.forEach===o)r.forEach(n,e);else if(r.length===+r.length)for(var s=0,h=r.length;s<h;s++)n.call(e,r[s],s,r);else for(var i in r)r.hasOwnProperty(i)&&n.call(e,r[i],i,r)},isObject:function(r){return r===Object(r)},isArray:function(r){return Array.isArray(r)},isArrayLike:function(r){return r?r.length===+r.length:!1},clone:function(r){if(t.isObject(r)){if(t.isArray(r))return r.slice();if(t.isArrayLike(r)){for(var n=new r.constructor(r.length),e=0;e<r.length;e++)n[e]=r[e];return n}else return t.extend({},r)}else return r}};it.Z=t},82544:function(Dt,it,C){C.d(it,{Z:function(){return e}});function p(s){var h=new XMLHttpRequest;h.open("get",s.url),h.responseType=s.responseType||"text",s.onprogress&&(h.onprogress=function(i){if(i.lengthComputable){var a=i.loaded/i.total;s.onprogress(a,i.loaded,i.total)}else s.onprogress(null)}),h.onload=function(i){h.status>=400?s.onerror&&s.onerror():s.onload&&s.onload(h.response)},s.onerror&&(h.onerror=s.onerror),h.send(null)}var o={get:p},t,r={};r.supportWebGL=function(){if(t==null)try{var s=document.createElement("canvas"),h=s.getContext("webgl")||s.getContext("experimental-webgl");if(!h)throw new Error}catch(i){t=!1}return t},r.Int8Array=typeof Int8Array=="undefined"?Array:Int8Array,r.Uint8Array=typeof Uint8Array=="undefined"?Array:Uint8Array,r.Uint16Array=typeof Uint16Array=="undefined"?Array:Uint16Array,r.Uint32Array=typeof Uint32Array=="undefined"?Array:Uint32Array,r.Int16Array=typeof Int16Array=="undefined"?Array:Int16Array,r.Float32Array=typeof Float32Array=="undefined"?Array:Float32Array,r.Float64Array=typeof Float64Array=="undefined"?Array:Float64Array;var n={};typeof window!="undefined"?n=window:typeof C.g!="undefined"&&(n=C.g),r.requestAnimationFrame=n.requestAnimationFrame||n.msRequestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(s){setTimeout(s,16)},r.createCanvas=function(){return document.createElement("canvas")},r.createImage=function(){return new n.Image},r.request={get:o.get},r.addEventListener=function(s,h,i,a){s.addEventListener(h,i,a)},r.removeEventListener=function(s,h,i){s.removeEventListener(h,i)};var e=r},43938:function(Dt,it,C){C.d(it,{Z:function(){return a}});var p=C(97410),o=C(3023),t=C(39186),r=C(3522),n=C(66987),e=C(98663),s=C(85822),h=C(81520),i={vec2:p.Z,vec3:o.Z,vec4:t.Z,mat2:r.Z,mat2d:n.Z,mat3:e.Z,mat4:s.Z,quat:h.Z},a=i},99439:function(Dt,it,C){var p=C(11476),o=C(6132),t=C(49865),r=C(14147),n=C(37233),e=C(82544),s=new t.Z,h=p.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var a={px:i("px",this.depthSegments,this.heightSegments),nx:i("nx",this.depthSegments,this.heightSegments),py:i("py",this.widthSegments,this.depthSegments),ny:i("ny",this.widthSegments,this.depthSegments),pz:i("pz",this.widthSegments,this.heightSegments),nz:i("nz",this.widthSegments,this.heightSegments)},l=["position","texcoord0","normal"],_=0,M=0;for(var m in a)_+=a[m].vertexCount,M+=a[m].indices.length;for(var T=0;T<l.length;T++)this.attributes[l[T]].init(_);this.indices=new e.Z.Uint16Array(M);var y=0,P=0;for(var m in a){for(var S=a[m],T=0;T<l.length;T++)for(var w=l[T],b=S.attributes[w].value,W=S.attributes[w].size,B=w==="normal",O=0;O<b.length;O++){var A=b[O];this.inside&&B&&(A=-A),this.attributes[w].value[O+W*P]=A}for(var E=S.indices.length,O=0;O<S.indices.length;O++)this.indices[O+y]=P+S.indices[this.inside?E-O-1:O];y+=S.indices.length,P+=S.vertexCount}this.boundingBox=new n.Z,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function i(a,l,_){s.identity();var M=new o.Z({widthSegments:l,heightSegments:_});switch(a){case"px":t.Z.translate(s,s,r.Z.POSITIVE_X),t.Z.rotateY(s,s,Math.PI/2);break;case"nx":t.Z.translate(s,s,r.Z.NEGATIVE_X),t.Z.rotateY(s,s,-Math.PI/2);break;case"py":t.Z.translate(s,s,r.Z.POSITIVE_Y),t.Z.rotateX(s,s,-Math.PI/2);break;case"ny":t.Z.translate(s,s,r.Z.NEGATIVE_Y),t.Z.rotateX(s,s,Math.PI/2);break;case"pz":t.Z.translate(s,s,r.Z.POSITIVE_Z);break;case"nz":t.Z.translate(s,s,r.Z.NEGATIVE_Z),t.Z.rotateY(s,s,Math.PI);break}return M.applyTransform(s),M}it.Z=h},6132:function(Dt,it,C){var p=C(11476),o=C(37233),t=p.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var r=this.heightSegments,n=this.widthSegments,e=this.attributes,s=[],h=[],i=[],a=[],l=0;l<=r;l++)for(var _=l/r,M=0;M<=n;M++){var m=M/n;if(s.push([2*m-1,2*_-1,0]),h&&h.push([m,_]),i&&i.push([0,0,1]),M<n&&l<r){var T=M+l*(n+1);a.push([T,T+1,T+n+1]),a.push([T+n+1,T+1,T+n+2])}}e.position.fromArray(s),e.texcoord0.fromArray(h),e.normal.fromArray(i),this.initIndicesFromArray(a),this.boundingBox=new o.Z,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});it.Z=t},88935:function(Dt,it,C){var p=C(11476),o=C(37233),t=p.Z.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var r=this.heightSegments,n=this.widthSegments,e=this.attributes.position,s=this.attributes.texcoord0,h=this.attributes.normal,i=(n+1)*(r+1);e.init(i),s.init(i),h.init(i);var a=i>65535?Uint32Array:Uint16Array,l=this.indices=new a(n*r*6),_,M,m,T,y,P,S,O=this.radius,w=this.phiStart,b=this.phiLength,W=this.thetaStart,B=this.thetaLength,O=this.radius,A=[],E=[],d=0,f=1/O;for(S=0;S<=r;S++)for(P=0;P<=n;P++)T=P/n,y=S/r,_=-O*Math.cos(w+T*b)*Math.sin(W+y*B),M=O*Math.cos(W+y*B),m=O*Math.sin(w+T*b)*Math.sin(W+y*B),A[0]=_,A[1]=M,A[2]=m,E[0]=T,E[1]=y,e.set(d,A),s.set(d,E),A[0]*=f,A[1]*=f,A[2]*=f,h.set(d,A),d++;var u,c,v,g,R=n+1,x=0;for(S=0;S<r;S++)for(P=0;P<n;P++)c=S*R+P,u=S*R+P+1,g=(S+1)*R+P+1,v=(S+1)*R+P,l[x++]=u,l[x++]=c,l[x++]=g,l[x++]=c,l[x++]=v,l[x++]=g;this.boundingBox=new o.Z,this.boundingBox.max.set(O,O,O),this.boundingBox.min.set(-O,-O,-O)}});it.Z=t},55516:function(Dt,it,C){C.d(it,{RQ:function(){return t},Uc:function(){return o},Yh:function(){return p}});var p=1e-6,o=Array,t=Math.random},3522:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var r=new p.Uc(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.transpose=function(t,r){if(t===r){var n=r[1];t[1]=r[2],t[2]=n}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n*h-s*e;return i?(i=1/i,t[0]=h*i,t[1]=-e*i,t[2]=-s*i,t[3]=n*i,t):null},o.adjoint=function(t,r){var n=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=n,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=n[0],l=n[1],_=n[2],M=n[3];return t[0]=e*a+h*l,t[1]=s*a+i*l,t[2]=e*_+h*M,t[3]=s*_+i*M,t},o.mul=o.multiply,o.rotate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=Math.sin(n),l=Math.cos(n);return t[0]=e*l+h*a,t[1]=s*l+i*a,t[2]=e*-a+h*l,t[3]=s*-a+i*l,t},o.scale=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=n[0],l=n[1];return t[0]=e*a,t[1]=s*a,t[2]=h*l,t[3]=i*l,t},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,r,n,e){return t[2]=e[2]/e[0],n[0]=e[0],n[1]=e[1],n[3]=e[3]-t[2]*n[1],[t,r,n]},it.Z=o},66987:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var r=new p.Uc(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=n*h-e*s;return l?(l=1/l,t[0]=h*l,t[1]=-e*l,t[2]=-s*l,t[3]=n*l,t[4]=(s*a-h*i)*l,t[5]=(e*i-n*a)*l,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=n[0],M=n[1],m=n[2],T=n[3],y=n[4],P=n[5];return t[0]=e*_+h*M,t[1]=s*_+i*M,t[2]=e*m+h*T,t[3]=s*m+i*T,t[4]=e*y+h*P+a,t[5]=s*y+i*P+l,t},o.mul=o.multiply,o.rotate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=Math.sin(n),M=Math.cos(n);return t[0]=e*M+h*_,t[1]=s*M+i*_,t[2]=e*-_+h*M,t[3]=s*-_+i*M,t[4]=a,t[5]=l,t},o.scale=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=n[0],M=n[1];return t[0]=e*_,t[1]=s*_,t[2]=h*M,t[3]=i*M,t[4]=a,t[5]=l,t},o.translate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=n[0],M=n[1];return t[0]=e,t[1]=s,t[2]=h,t[3]=i,t[4]=e*_+h*M+a,t[5]=s*_+i*M+l,t},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},it.Z=o},98663:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t},o.clone=function(t){var r=new p.Uc(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,r){if(t===r){var n=r[1],e=r[2],s=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=e,t[7]=s}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=M*i-a*_,T=-M*h+a*l,y=_*h-i*l,P=n*m+e*T+s*y;return P?(P=1/P,t[0]=m*P,t[1]=(-M*e+s*_)*P,t[2]=(a*e-s*i)*P,t[3]=T*P,t[4]=(M*n-s*l)*P,t[5]=(-a*n+s*h)*P,t[6]=y*P,t[7]=(-_*n+e*l)*P,t[8]=(i*n-e*h)*P,t):null},o.adjoint=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8];return t[0]=i*M-a*_,t[1]=s*_-e*M,t[2]=e*a-s*i,t[3]=a*l-h*M,t[4]=n*M-s*l,t[5]=s*h-n*a,t[6]=h*_-i*l,t[7]=e*l-n*_,t[8]=n*i-e*h,t},o.determinant=function(t){var r=t[0],n=t[1],e=t[2],s=t[3],h=t[4],i=t[5],a=t[6],l=t[7],_=t[8];return r*(_*h-i*l)+n*(-_*s+i*a)+e*(l*s-h*a)},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=n[0],y=n[1],P=n[2],S=n[3],w=n[4],b=n[5],W=n[6],B=n[7],O=n[8];return t[0]=T*e+y*i+P*_,t[1]=T*s+y*a+P*M,t[2]=T*h+y*l+P*m,t[3]=S*e+w*i+b*_,t[4]=S*s+w*a+b*M,t[5]=S*h+w*l+b*m,t[6]=W*e+B*i+O*_,t[7]=W*s+B*a+O*M,t[8]=W*h+B*l+O*m,t},o.mul=o.multiply,o.translate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=n[0],y=n[1];return t[0]=e,t[1]=s,t[2]=h,t[3]=i,t[4]=a,t[5]=l,t[6]=T*e+y*i+_,t[7]=T*s+y*a+M,t[8]=T*h+y*l+m,t},o.rotate=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=Math.sin(n),y=Math.cos(n);return t[0]=y*e+T*i,t[1]=y*s+T*a,t[2]=y*h+T*l,t[3]=y*i-T*e,t[4]=y*a-T*s,t[5]=y*l-T*h,t[6]=_,t[7]=M,t[8]=m,t},o.scale=function(t,r,n){var e=n[0],s=n[1];return t[0]=e*r[0],t[1]=e*r[1],t[2]=e*r[2],t[3]=s*r[3],t[4]=s*r[4],t[5]=s*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},o.fromMat2d=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},o.fromQuat=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n+n,a=e+e,l=s+s,_=n*i,M=e*i,m=e*a,T=s*i,y=s*a,P=s*l,S=h*i,w=h*a,b=h*l;return t[0]=1-m-P,t[3]=M-b,t[6]=T+w,t[1]=M+b,t[4]=1-_-P,t[7]=y-S,t[2]=T-w,t[5]=y+S,t[8]=1-_-m,t},o.normalFromMat4=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],P=r[12],S=r[13],w=r[14],b=r[15],W=n*a-e*i,B=n*l-s*i,O=n*_-h*i,A=e*l-s*a,E=e*_-h*a,d=s*_-h*l,f=M*S-m*P,u=M*w-T*P,c=M*b-y*P,v=m*w-T*S,g=m*b-y*S,R=T*b-y*w,x=W*R-B*g+O*v+A*c-E*u+d*f;return x?(x=1/x,t[0]=(a*R-l*g+_*v)*x,t[1]=(l*c-i*R-_*u)*x,t[2]=(i*g-a*c+_*f)*x,t[3]=(s*g-e*R-h*v)*x,t[4]=(n*R-s*c+h*u)*x,t[5]=(e*c-n*g-h*f)*x,t[6]=(S*d-w*E+b*A)*x,t[7]=(w*O-P*d-b*B)*x,t[8]=(P*E-S*O+b*W)*x,t):null},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},it.Z=o},85822:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var r=new p.Uc(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.transpose=function(t,r){if(t===r){var n=r[1],e=r[2],s=r[3],h=r[6],i=r[7],a=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=e,t[9]=h,t[11]=r[14],t[12]=s,t[13]=i,t[14]=a}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},o.invert=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],P=r[12],S=r[13],w=r[14],b=r[15],W=n*a-e*i,B=n*l-s*i,O=n*_-h*i,A=e*l-s*a,E=e*_-h*a,d=s*_-h*l,f=M*S-m*P,u=M*w-T*P,c=M*b-y*P,v=m*w-T*S,g=m*b-y*S,R=T*b-y*w,x=W*R-B*g+O*v+A*c-E*u+d*f;return x?(x=1/x,t[0]=(a*R-l*g+_*v)*x,t[1]=(s*g-e*R-h*v)*x,t[2]=(S*d-w*E+b*A)*x,t[3]=(T*E-m*d-y*A)*x,t[4]=(l*c-i*R-_*u)*x,t[5]=(n*R-s*c+h*u)*x,t[6]=(w*O-P*d-b*B)*x,t[7]=(M*d-T*O+y*B)*x,t[8]=(i*g-a*c+_*f)*x,t[9]=(e*c-n*g-h*f)*x,t[10]=(P*E-S*O+b*W)*x,t[11]=(m*O-M*E-y*W)*x,t[12]=(a*u-i*v-l*f)*x,t[13]=(n*v-e*u+s*f)*x,t[14]=(S*B-P*A-w*W)*x,t[15]=(M*A-m*B+T*W)*x,t):null},o.adjoint=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],P=r[12],S=r[13],w=r[14],b=r[15];return t[0]=a*(T*b-y*w)-m*(l*b-_*w)+S*(l*y-_*T),t[1]=-(e*(T*b-y*w)-m*(s*b-h*w)+S*(s*y-h*T)),t[2]=e*(l*b-_*w)-a*(s*b-h*w)+S*(s*_-h*l),t[3]=-(e*(l*y-_*T)-a*(s*y-h*T)+m*(s*_-h*l)),t[4]=-(i*(T*b-y*w)-M*(l*b-_*w)+P*(l*y-_*T)),t[5]=n*(T*b-y*w)-M*(s*b-h*w)+P*(s*y-h*T),t[6]=-(n*(l*b-_*w)-i*(s*b-h*w)+P*(s*_-h*l)),t[7]=n*(l*y-_*T)-i*(s*y-h*T)+M*(s*_-h*l),t[8]=i*(m*b-y*S)-M*(a*b-_*S)+P*(a*y-_*m),t[9]=-(n*(m*b-y*S)-M*(e*b-h*S)+P*(e*y-h*m)),t[10]=n*(a*b-_*S)-i*(e*b-h*S)+P*(e*_-h*a),t[11]=-(n*(a*y-_*m)-i*(e*y-h*m)+M*(e*_-h*a)),t[12]=-(i*(m*w-T*S)-M*(a*w-l*S)+P*(a*T-l*m)),t[13]=n*(m*w-T*S)-M*(e*w-s*S)+P*(e*T-s*m),t[14]=-(n*(a*w-l*S)-i*(e*w-s*S)+P*(e*l-s*a)),t[15]=n*(a*T-l*m)-i*(e*T-s*m)+M*(e*l-s*a),t},o.determinant=function(t){var r=t[0],n=t[1],e=t[2],s=t[3],h=t[4],i=t[5],a=t[6],l=t[7],_=t[8],M=t[9],m=t[10],T=t[11],y=t[12],P=t[13],S=t[14],w=t[15],b=r*i-n*h,W=r*a-e*h,B=r*l-s*h,O=n*a-e*i,A=n*l-s*i,E=e*l-s*a,d=_*P-M*y,f=_*S-m*y,u=_*w-T*y,c=M*S-m*P,v=M*w-T*P,g=m*w-T*S;return b*g-W*v+B*c+O*u-A*f+E*d},o.multiply=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=r[9],y=r[10],P=r[11],S=r[12],w=r[13],b=r[14],W=r[15],B=n[0],O=n[1],A=n[2],E=n[3];return t[0]=B*e+O*a+A*m+E*S,t[1]=B*s+O*l+A*T+E*w,t[2]=B*h+O*_+A*y+E*b,t[3]=B*i+O*M+A*P+E*W,B=n[4],O=n[5],A=n[6],E=n[7],t[4]=B*e+O*a+A*m+E*S,t[5]=B*s+O*l+A*T+E*w,t[6]=B*h+O*_+A*y+E*b,t[7]=B*i+O*M+A*P+E*W,B=n[8],O=n[9],A=n[10],E=n[11],t[8]=B*e+O*a+A*m+E*S,t[9]=B*s+O*l+A*T+E*w,t[10]=B*h+O*_+A*y+E*b,t[11]=B*i+O*M+A*P+E*W,B=n[12],O=n[13],A=n[14],E=n[15],t[12]=B*e+O*a+A*m+E*S,t[13]=B*s+O*l+A*T+E*w,t[14]=B*h+O*_+A*y+E*b,t[15]=B*i+O*M+A*P+E*W,t},o.multiplyAffine=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[4],a=r[5],l=r[6],_=r[8],M=r[9],m=r[10],T=r[12],y=r[13],P=r[14],S=n[0],w=n[1],b=n[2];return t[0]=S*e+w*i+b*_,t[1]=S*s+w*a+b*M,t[2]=S*h+w*l+b*m,S=n[4],w=n[5],b=n[6],t[4]=S*e+w*i+b*_,t[5]=S*s+w*a+b*M,t[6]=S*h+w*l+b*m,S=n[8],w=n[9],b=n[10],t[8]=S*e+w*i+b*_,t[9]=S*s+w*a+b*M,t[10]=S*h+w*l+b*m,S=n[12],w=n[13],b=n[14],t[12]=S*e+w*i+b*_+T,t[13]=S*s+w*a+b*M+y,t[14]=S*h+w*l+b*m+P,t},o.mul=o.multiply,o.mulAffine=o.multiplyAffine,o.translate=function(t,r,n){var e=n[0],s=n[1],h=n[2],i,a,l,_,M,m,T,y,P,S,w,b;return r===t?(t[12]=r[0]*e+r[4]*s+r[8]*h+r[12],t[13]=r[1]*e+r[5]*s+r[9]*h+r[13],t[14]=r[2]*e+r[6]*s+r[10]*h+r[14],t[15]=r[3]*e+r[7]*s+r[11]*h+r[15]):(i=r[0],a=r[1],l=r[2],_=r[3],M=r[4],m=r[5],T=r[6],y=r[7],P=r[8],S=r[9],w=r[10],b=r[11],t[0]=i,t[1]=a,t[2]=l,t[3]=_,t[4]=M,t[5]=m,t[6]=T,t[7]=y,t[8]=P,t[9]=S,t[10]=w,t[11]=b,t[12]=i*e+M*s+P*h+r[12],t[13]=a*e+m*s+S*h+r[13],t[14]=l*e+T*s+w*h+r[14],t[15]=_*e+y*s+b*h+r[15]),t},o.scale=function(t,r,n){var e=n[0],s=n[1],h=n[2];return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=r[7]*s,t[8]=r[8]*h,t[9]=r[9]*h,t[10]=r[10]*h,t[11]=r[11]*h,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},o.rotate=function(t,r,n,e){var s=e[0],h=e[1],i=e[2],a=Math.sqrt(s*s+h*h+i*i),l,_,M,m,T,y,P,S,w,b,W,B,O,A,E,d,f,u,c,v,g,R,x,L;return Math.abs(a)<p.Yh?null:(a=1/a,s*=a,h*=a,i*=a,l=Math.sin(n),_=Math.cos(n),M=1-_,m=r[0],T=r[1],y=r[2],P=r[3],S=r[4],w=r[5],b=r[6],W=r[7],B=r[8],O=r[9],A=r[10],E=r[11],d=s*s*M+_,f=h*s*M+i*l,u=i*s*M-h*l,c=s*h*M-i*l,v=h*h*M+_,g=i*h*M+s*l,R=s*i*M+h*l,x=h*i*M-s*l,L=i*i*M+_,t[0]=m*d+S*f+B*u,t[1]=T*d+w*f+O*u,t[2]=y*d+b*f+A*u,t[3]=P*d+W*f+E*u,t[4]=m*c+S*v+B*g,t[5]=T*c+w*v+O*g,t[6]=y*c+b*v+A*g,t[7]=P*c+W*v+E*g,t[8]=m*R+S*x+B*L,t[9]=T*R+w*x+O*L,t[10]=y*R+b*x+A*L,t[11]=P*R+W*x+E*L,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},o.rotateX=function(t,r,n){var e=Math.sin(n),s=Math.cos(n),h=r[4],i=r[5],a=r[6],l=r[7],_=r[8],M=r[9],m=r[10],T=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=h*s+_*e,t[5]=i*s+M*e,t[6]=a*s+m*e,t[7]=l*s+T*e,t[8]=_*s-h*e,t[9]=M*s-i*e,t[10]=m*s-a*e,t[11]=T*s-l*e,t},o.rotateY=function(t,r,n){var e=Math.sin(n),s=Math.cos(n),h=r[0],i=r[1],a=r[2],l=r[3],_=r[8],M=r[9],m=r[10],T=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*s-_*e,t[1]=i*s-M*e,t[2]=a*s-m*e,t[3]=l*s-T*e,t[8]=h*e+_*s,t[9]=i*e+M*s,t[10]=a*e+m*s,t[11]=l*e+T*s,t},o.rotateZ=function(t,r,n){var e=Math.sin(n),s=Math.cos(n),h=r[0],i=r[1],a=r[2],l=r[3],_=r[4],M=r[5],m=r[6],T=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*s+_*e,t[1]=i*s+M*e,t[2]=a*s+m*e,t[3]=l*s+T*e,t[4]=_*s-h*e,t[5]=M*s-i*e,t[6]=m*s-a*e,t[7]=T*s-l*e,t},o.fromRotationTranslation=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3],a=e+e,l=s+s,_=h+h,M=e*a,m=e*l,T=e*_,y=s*l,P=s*_,S=h*_,w=i*a,b=i*l,W=i*_;return t[0]=1-(y+S),t[1]=m+W,t[2]=T-b,t[3]=0,t[4]=m-W,t[5]=1-(M+S),t[6]=P+w,t[7]=0,t[8]=T+b,t[9]=P-w,t[10]=1-(M+y),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromQuat=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n+n,a=e+e,l=s+s,_=n*i,M=e*i,m=e*a,T=s*i,y=s*a,P=s*l,S=h*i,w=h*a,b=h*l;return t[0]=1-m-P,t[1]=M+b,t[2]=T-w,t[3]=0,t[4]=M-b,t[5]=1-_-P,t[6]=y+S,t[7]=0,t[8]=T+w,t[9]=y-S,t[10]=1-_-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,r,n,e,s,h,i){var a=1/(n-r),l=1/(s-e),_=1/(h-i);return t[0]=h*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h*2*l,t[6]=0,t[7]=0,t[8]=(n+r)*a,t[9]=(s+e)*l,t[10]=(i+h)*_,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*h*2*_,t[15]=0,t},o.perspective=function(t,r,n,e,s){var h=1/Math.tan(r/2),i=1/(e-s);return t[0]=h/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+e)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*e*i,t[15]=0,t},o.ortho=function(t,r,n,e,s,h,i){var a=1/(r-n),l=1/(e-s),_=1/(h-i);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*_,t[11]=0,t[12]=(r+n)*a,t[13]=(s+e)*l,t[14]=(i+h)*_,t[15]=1,t},o.lookAt=function(t,r,n,e){var s,h,i,a,l,_,M,m,T,y,P=r[0],S=r[1],w=r[2],b=e[0],W=e[1],B=e[2],O=n[0],A=n[1],E=n[2];return Math.abs(P-O)<p.Yh&&Math.abs(S-A)<p.Yh&&Math.abs(w-E)<p.Yh?o.identity(t):(M=P-O,m=S-A,T=w-E,y=1/Math.sqrt(M*M+m*m+T*T),M*=y,m*=y,T*=y,s=W*T-B*m,h=B*M-b*T,i=b*m-W*M,y=Math.sqrt(s*s+h*h+i*i),y?(y=1/y,s*=y,h*=y,i*=y):(s=0,h=0,i=0),a=m*i-T*h,l=T*s-M*i,_=M*h-m*s,y=Math.sqrt(a*a+l*l+_*_),y?(y=1/y,a*=y,l*=y,_*=y):(a=0,l=0,_=0),t[0]=s,t[1]=a,t[2]=M,t[3]=0,t[4]=h,t[5]=l,t[6]=m,t[7]=0,t[8]=i,t[9]=_,t[10]=T,t[11]=0,t[12]=-(s*P+h*S+i*w),t[13]=-(a*P+l*S+_*w),t[14]=-(M*P+m*S+T*w),t[15]=1,t)},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},it.Z=o},81520:function(Dt,it,C){var p=C(55516),o=C(3023),t=C(39186),r=C(98663),n={};n.create=function(){var e=new p.Uc(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},n.rotationTo=function(){var e=o.Z.create(),s=o.Z.fromValues(1,0,0),h=o.Z.fromValues(0,1,0);return function(i,a,l){var _=o.Z.dot(a,l);return _<-.999999?(o.Z.cross(e,s,a),o.Z.length(e)<1e-6&&o.Z.cross(e,h,a),o.Z.normalize(e,e),n.setAxisAngle(i,e,Math.PI),i):_>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(o.Z.cross(e,a,l),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+_,n.normalize(i,i))}}(),n.setAxes=function(){var e=r.Z.create();return function(s,h,i,a){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-h[0],e[5]=-h[1],e[8]=-h[2],n.normalize(s,n.fromMat3(s,e))}}(),n.clone=t.Z.clone,n.fromValues=t.Z.fromValues,n.copy=t.Z.copy,n.set=t.Z.set,n.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},n.setAxisAngle=function(e,s,h){h=h*.5;var i=Math.sin(h);return e[0]=i*s[0],e[1]=i*s[1],e[2]=i*s[2],e[3]=Math.cos(h),e},n.add=t.Z.add,n.multiply=function(e,s,h){var i=s[0],a=s[1],l=s[2],_=s[3],M=h[0],m=h[1],T=h[2],y=h[3];return e[0]=i*y+_*M+a*T-l*m,e[1]=a*y+_*m+l*M-i*T,e[2]=l*y+_*T+i*m-a*M,e[3]=_*y-i*M-a*m-l*T,e},n.mul=n.multiply,n.scale=t.Z.scale,n.rotateX=function(e,s,h){h*=.5;var i=s[0],a=s[1],l=s[2],_=s[3],M=Math.sin(h),m=Math.cos(h);return e[0]=i*m+_*M,e[1]=a*m+l*M,e[2]=l*m-a*M,e[3]=_*m-i*M,e},n.rotateY=function(e,s,h){h*=.5;var i=s[0],a=s[1],l=s[2],_=s[3],M=Math.sin(h),m=Math.cos(h);return e[0]=i*m-l*M,e[1]=a*m+_*M,e[2]=l*m+i*M,e[3]=_*m-a*M,e},n.rotateZ=function(e,s,h){h*=.5;var i=s[0],a=s[1],l=s[2],_=s[3],M=Math.sin(h),m=Math.cos(h);return e[0]=i*m+a*M,e[1]=a*m-i*M,e[2]=l*m+_*M,e[3]=_*m-l*M,e},n.calculateW=function(e,s){var h=s[0],i=s[1],a=s[2];return e[0]=h,e[1]=i,e[2]=a,e[3]=Math.sqrt(Math.abs(1-h*h-i*i-a*a)),e},n.dot=t.Z.dot,n.lerp=t.Z.lerp,n.slerp=function(e,s,h,i){var a=s[0],l=s[1],_=s[2],M=s[3],m=h[0],T=h[1],y=h[2],P=h[3],S,w,b,W,B;return w=a*m+l*T+_*y+M*P,w<0&&(w=-w,m=-m,T=-T,y=-y,P=-P),1-w>1e-6?(S=Math.acos(w),b=Math.sin(S),W=Math.sin((1-i)*S)/b,B=Math.sin(i*S)/b):(W=1-i,B=i),e[0]=W*a+B*m,e[1]=W*l+B*T,e[2]=W*_+B*y,e[3]=W*M+B*P,e},n.invert=function(e,s){var h=s[0],i=s[1],a=s[2],l=s[3],_=h*h+i*i+a*a+l*l,M=_?1/_:0;return e[0]=-h*M,e[1]=-i*M,e[2]=-a*M,e[3]=l*M,e},n.conjugate=function(e,s){return e[0]=-s[0],e[1]=-s[1],e[2]=-s[2],e[3]=s[3],e},n.length=t.Z.length,n.len=n.length,n.squaredLength=t.Z.squaredLength,n.sqrLen=n.squaredLength,n.normalize=t.Z.normalize,n.fromMat3=function(e,s){var h=s[0]+s[4]+s[8],i;if(h>0)i=Math.sqrt(h+1),e[3]=.5*i,i=.5/i,e[0]=(s[5]-s[7])*i,e[1]=(s[6]-s[2])*i,e[2]=(s[1]-s[3])*i;else{var a=0;s[4]>s[0]&&(a=1),s[8]>s[a*3+a]&&(a=2);var l=(a+1)%3,_=(a+2)%3;i=Math.sqrt(s[a*3+a]-s[l*3+l]-s[_*3+_]+1),e[a]=.5*i,i=.5/i,e[3]=(s[l*3+_]-s[_*3+l])*i,e[l]=(s[l*3+a]+s[a*3+l])*i,e[_]=(s[_*3+a]+s[a*3+_])*i}return e},it.Z=n},97410:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var r=new p.Uc(2);return r[0]=t[0],r[1]=t[1],r},o.fromValues=function(t,r){var n=new p.Uc(2);return n[0]=t,n[1]=r,n},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t},o.set=function(t,r,n){return t[0]=r,t[1]=n,t},o.add=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t},o.subtract=function(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t},o.sub=o.subtract,o.multiply=function(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t},o.mul=o.multiply,o.divide=function(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t},o.div=o.divide,o.min=function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t},o.max=function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t},o.scale=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t},o.scaleAndAdd=function(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t},o.distance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1];return Math.sqrt(n*n+e*e)},o.dist=o.distance,o.squaredDistance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1];return n*n+e*e},o.sqrDist=o.squaredDistance,o.length=function(t){var r=t[0],n=t[1];return Math.sqrt(r*r+n*n)},o.len=o.length,o.squaredLength=function(t){var r=t[0],n=t[1];return r*r+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t},o.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},o.normalize=function(t,r){var n=r[0],e=r[1],s=n*n+e*e;return s>0&&(s=1/Math.sqrt(s),t[0]=r[0]*s,t[1]=r[1]*s),t},o.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]},o.cross=function(t,r,n){var e=r[0]*n[1]-r[1]*n[0];return t[0]=t[1]=0,t[2]=e,t},o.lerp=function(t,r,n,e){var s=r[0],h=r[1];return t[0]=s+e*(n[0]-s),t[1]=h+e*(n[1]-h),t},o.random=function(t,r){r=r||1;var n=GLMAT_RANDOM()*2*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t},o.transformMat2=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[2]*s,t[1]=n[1]*e+n[3]*s,t},o.transformMat2d=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[2]*s+n[4],t[1]=n[1]*e+n[3]*s+n[5],t},o.transformMat3=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[3]*s+n[6],t[1]=n[1]*e+n[4]*s+n[7],t},o.transformMat4=function(t,r,n){var e=r[0],s=r[1];return t[0]=n[0]*e+n[4]*s+n[12],t[1]=n[1]*e+n[5]*s+n[13],t},o.forEach=function(){var t=o.create();return function(r,n,e,s,h,i){var a,l;for(n||(n=2),e||(e=0),s?l=Math.min(s*n+e,r.length):l=r.length,a=e;a<l;a+=n)t[0]=r[a],t[1]=r[a+1],h(t,t,i),r[a]=t[0],r[a+1]=t[1];return r}}(),it.Z=o},3023:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var r=new p.Uc(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},o.fromValues=function(t,r,n){var e=new p.Uc(3);return e[0]=t,e[1]=r,e[2]=n,e},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},o.set=function(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t},o.add=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t},o.subtract=function(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t},o.sub=o.subtract,o.multiply=function(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t},o.div=o.divide,o.min=function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t},o.max=function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t},o.scale=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t},o.scaleAndAdd=function(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t},o.distance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2];return Math.sqrt(n*n+e*e+s*s)},o.dist=o.distance,o.squaredDistance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2];return n*n+e*e+s*s},o.sqrDist=o.squaredDistance,o.length=function(t){var r=t[0],n=t[1],e=t[2];return Math.sqrt(r*r+n*n+e*e)},o.len=o.length,o.squaredLength=function(t){var r=t[0],n=t[1],e=t[2];return r*r+n*n+e*e},o.sqrLen=o.squaredLength,o.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},o.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},o.normalize=function(t,r){var n=r[0],e=r[1],s=r[2],h=n*n+e*e+s*s;return h>0&&(h=1/Math.sqrt(h),t[0]=r[0]*h,t[1]=r[1]*h,t[2]=r[2]*h),t},o.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},o.cross=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[0],a=n[1],l=n[2];return t[0]=s*l-h*a,t[1]=h*i-e*l,t[2]=e*a-s*i,t},o.lerp=function(t,r,n,e){var s=r[0],h=r[1],i=r[2];return t[0]=s+e*(n[0]-s),t[1]=h+e*(n[1]-h),t[2]=i+e*(n[2]-i),t},o.random=function(t,r){r=r||1;var n=(0,p.RQ)()*2*Math.PI,e=(0,p.RQ)()*2-1,s=Math.sqrt(1-e*e)*r;return t[0]=Math.cos(n)*s,t[1]=Math.sin(n)*s,t[2]=e*r,t},o.transformMat4=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[3]*e+n[7]*s+n[11]*h+n[15];return i=i||1,t[0]=(n[0]*e+n[4]*s+n[8]*h+n[12])/i,t[1]=(n[1]*e+n[5]*s+n[9]*h+n[13])/i,t[2]=(n[2]*e+n[6]*s+n[10]*h+n[14])/i,t},o.transformMat3=function(t,r,n){var e=r[0],s=r[1],h=r[2];return t[0]=e*n[0]+s*n[3]+h*n[6],t[1]=e*n[1]+s*n[4]+h*n[7],t[2]=e*n[2]+s*n[5]+h*n[8],t},o.transformQuat=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[0],a=n[1],l=n[2],_=n[3],M=_*e+a*h-l*s,m=_*s+l*e-i*h,T=_*h+i*s-a*e,y=-i*e-a*s-l*h;return t[0]=M*_+y*-i+m*-l-T*-a,t[1]=m*_+y*-a+T*-i-M*-l,t[2]=T*_+y*-l+M*-a-m*-i,t},o.rotateX=function(t,r,n,e){var s=[],h=[];return s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],h[0]=s[0],h[1]=s[1]*Math.cos(e)-s[2]*Math.sin(e),h[2]=s[1]*Math.sin(e)+s[2]*Math.cos(e),t[0]=h[0]+n[0],t[1]=h[1]+n[1],t[2]=h[2]+n[2],t},o.rotateY=function(t,r,n,e){var s=[],h=[];return s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],h[0]=s[2]*Math.sin(e)+s[0]*Math.cos(e),h[1]=s[1],h[2]=s[2]*Math.cos(e)-s[0]*Math.sin(e),t[0]=h[0]+n[0],t[1]=h[1]+n[1],t[2]=h[2]+n[2],t},o.rotateZ=function(t,r,n,e){var s=[],h=[];return s[0]=r[0]-n[0],s[1]=r[1]-n[1],s[2]=r[2]-n[2],h[0]=s[0]*Math.cos(e)-s[1]*Math.sin(e),h[1]=s[0]*Math.sin(e)+s[1]*Math.cos(e),h[2]=s[2],t[0]=h[0]+n[0],t[1]=h[1]+n[1],t[2]=h[2]+n[2],t},o.forEach=function(){var t=o.create();return function(r,n,e,s,h,i){var a,l;for(n||(n=3),e||(e=0),s?l=Math.min(s*n+e,r.length):l=r.length,a=e;a<l;a+=n)t[0]=r[a],t[1]=r[a+1],t[2]=r[a+2],h(t,t,i),r[a]=t[0],r[a+1]=t[1],r[a+2]=t[2];return r}}(),o.angle=function(t,r){var n=o.fromValues(t[0],t[1],t[2]),e=o.fromValues(r[0],r[1],r[2]);o.normalize(n,n),o.normalize(e,e);var s=o.dot(n,e);return s>1?0:Math.acos(s)},it.Z=o},39186:function(Dt,it,C){var p=C(55516),o={};o.create=function(){var t=new p.Uc(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var r=new p.Uc(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},o.fromValues=function(t,r,n,e){var s=new p.Uc(4);return s[0]=t,s[1]=r,s[2]=n,s[3]=e,s},o.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},o.set=function(t,r,n,e,s){return t[0]=r,t[1]=n,t[2]=e,t[3]=s,t},o.add=function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t},o.subtract=function(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t},o.sub=o.subtract,o.multiply=function(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t[3]=r[3]*n[3],t},o.mul=o.multiply,o.divide=function(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t[3]=r[3]/n[3],t},o.div=o.divide,o.min=function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t[3]=Math.min(r[3],n[3]),t},o.max=function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t[3]=Math.max(r[3],n[3]),t},o.scale=function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t},o.scaleAndAdd=function(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t},o.distance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2],h=r[3]-t[3];return Math.sqrt(n*n+e*e+s*s+h*h)},o.dist=o.distance,o.squaredDistance=function(t,r){var n=r[0]-t[0],e=r[1]-t[1],s=r[2]-t[2],h=r[3]-t[3];return n*n+e*e+s*s+h*h},o.sqrDist=o.squaredDistance,o.length=function(t){var r=t[0],n=t[1],e=t[2],s=t[3];return Math.sqrt(r*r+n*n+e*e+s*s)},o.len=o.length,o.squaredLength=function(t){var r=t[0],n=t[1],e=t[2],s=t[3];return r*r+n*n+e*e+s*s},o.sqrLen=o.squaredLength,o.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},o.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},o.normalize=function(t,r){var n=r[0],e=r[1],s=r[2],h=r[3],i=n*n+e*e+s*s+h*h;return i>0&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i),t},o.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},o.lerp=function(t,r,n,e){var s=r[0],h=r[1],i=r[2],a=r[3];return t[0]=s+e*(n[0]-s),t[1]=h+e*(n[1]-h),t[2]=i+e*(n[2]-i),t[3]=a+e*(n[3]-a),t},o.random=function(t,r){return r=r||1,t[0]=(0,p.RQ)(),t[1]=(0,p.RQ)(),t[2]=(0,p.RQ)(),t[3]=(0,p.RQ)(),o.normalize(t,t),o.scale(t,t,r),t},o.transformMat4=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=r[3];return t[0]=n[0]*e+n[4]*s+n[8]*h+n[12]*i,t[1]=n[1]*e+n[5]*s+n[9]*h+n[13]*i,t[2]=n[2]*e+n[6]*s+n[10]*h+n[14]*i,t[3]=n[3]*e+n[7]*s+n[11]*h+n[15]*i,t},o.transformQuat=function(t,r,n){var e=r[0],s=r[1],h=r[2],i=n[0],a=n[1],l=n[2],_=n[3],M=_*e+a*h-l*s,m=_*s+l*e-i*h,T=_*h+i*s-a*e,y=-i*e-a*s-l*h;return t[0]=M*_+y*-i+m*-l-T*-a,t[1]=m*_+y*-a+T*-i-M*-l,t[2]=T*_+y*-l+M*-a-m*-i,t},o.forEach=function(){var t=o.create();return function(r,n,e,s,h,i){var a,l;for(n||(n=4),e||(e=0),s?l=Math.min(s*n+e,r.length):l=r.length,a=e;a<l;a+=n)t[0]=r[a],t[1]=r[a+1],t[2]=r[a+2],t[3]=r[a+3],h(t,t,i),r[a]=t[0],r[a+1]=t[1],r[a+2]=t[2],r[a+3]=t[3];return r}}(),it.Z=o},82085:function(Dt,it,C){var p=C(92449),o=p.Z.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var r=t.color,n=t.intensity;return[r[0]*n,r[1]*n,r[2]*n]}}}});it.Z=o},81157:function(Dt,it,C){var p=C(92449),o=C(74208),t=p.Z.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(r,n){if(!r.getGLExtension("EXT_shader_texture_lod")){console.warn("Device not support textureCubeLodEXT");return}this._brdfLookup||(this._normalDistribution=o.Z.generateNormalDistribution(),this._brdfLookup=o.Z.integrateBRDF(r,this._normalDistribution));var e=this.cubemap;if(!e.__prefiltered){var s=o.Z.prefilterEnvironmentMap(r,e,{encodeRGBM:!0,width:n,height:n},this._normalDistribution,this._brdfLookup);this.cubemap=s.environmentMap,this.cubemap.__prefiltered=!0,e.dispose(r)}},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}},ambientCubemapLightCubemap:{type:"t",value:function(r){return r.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(r){return r._brdfLookup}}}});it.Z=t},43577:function(Dt,it,C){var p=C(92449),o=C(82544),t=p.Z.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new o.Z.Float32Array(9*3)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}},ambientSHLightCoefficients:{type:"3f",value:function(r){for(var n=r._coefficientsTmpArr,e=0;e<r.coefficients.length;e++)n[e]=r.coefficients[e];return n}}}});it.Z=t},47555:function(Dt,it,C){var p=C(92449),o=C(14147),t=p.Z.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(r){return r.__dir=r.__dir||new o.Z,r.__dir.copy(r.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}}},clone:function(){var r=p.Z.prototype.clone.call(this);return r.shadowBias=this.shadowBias,r.shadowSlopeScale=this.shadowSlopeScale,r}});it.Z=t},21971:function(Dt,it,C){var p=C(92449),o=p.Z.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var r=t.color,n=t.intensity;return[r[0]*n,r[1]*n,r[2]*n]}}},clone:function(){var t=p.Z.prototype.clone.call(this);return t.range=this.range,t}});it.Z=o},57766:function(Dt,it,C){var p=C(92449),o=C(14147),t=p.Z.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(r){return r.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(r){return r.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(r){return Math.cos(r.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(r){return Math.cos(r.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(r){return r.falloffFactor}},spotLightDirection:{type:"3f",value:function(r){return r.__dir=r.__dir||new o.Z,r.__dir.copy(r.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(r){var n=r.color,e=r.intensity;return[n[0]*e,n[1]*e,n[2]*e]}}},clone:function(){var r=p.Z.prototype.clone.call(this);return r.range=this.range,r.umbraAngle=this.umbraAngle,r.penumbraAngle=this.penumbraAngle,r.falloffFactor=this.falloffFactor,r.shadowBias=this.shadowBias,r.shadowSlopeScale=this.shadowSlopeScale,r}});it.Z=t},37233:function(Dt,it,C){var p=C(14147),o=C(3023),t=o.Z.set,r=o.Z.copy,n=function(e,s){this.min=e||new p.Z(1/0,1/0,1/0),this.max=s||new p.Z(-1/0,-1/0,-1/0),this.vertices=null};n.prototype={constructor:n,updateFromVertices:function(e){if(e.length>0){var s=this.min,h=this.max,i=s.array,a=h.array;r(i,e[0]),r(a,e[0]);for(var l=1;l<e.length;l++){var _=e[l];_[0]<i[0]&&(i[0]=_[0]),_[1]<i[1]&&(i[1]=_[1]),_[2]<i[2]&&(i[2]=_[2]),_[0]>a[0]&&(a[0]=_[0]),_[1]>a[1]&&(a[1]=_[1]),_[2]>a[2]&&(a[2]=_[2])}s._dirty=!0,h._dirty=!0}},union:function(e){var s=this.min,h=this.max;return o.Z.min(s.array,s.array,e.min.array),o.Z.max(h.array,h.array,e.max.array),s._dirty=!0,h._dirty=!0,this},intersection:function(e){var s=this.min,h=this.max;return o.Z.max(s.array,s.array,e.min.array),o.Z.min(h.array,h.array,e.max.array),s._dirty=!0,h._dirty=!0,this},intersectBoundingBox:function(e){var s=this.min.array,h=this.max.array,i=e.min.array,a=e.max.array;return!(s[0]>a[0]||s[1]>a[1]||s[2]>a[2]||h[0]<i[0]||h[1]<i[1]||h[2]<i[2])},containBoundingBox:function(e){var s=this.min.array,h=this.max.array,i=e.min.array,a=e.max.array;return s[0]<=i[0]&&s[1]<=i[1]&&s[2]<=i[2]&&h[0]>=a[0]&&h[1]>=a[1]&&h[2]>=a[2]},containPoint:function(e){var s=this.min.array,h=this.max.array,i=e.array;return s[0]<=i[0]&&s[1]<=i[1]&&s[2]<=i[2]&&h[0]>=i[0]&&h[1]>=i[1]&&h[2]>=i[2]},isFinite:function(){var e=this.min.array,s=this.max.array;return isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(s[2])},applyTransform:function(e){this.transformFrom(this,e)},transformFrom:function(){var e=o.Z.create(),s=o.Z.create(),h=o.Z.create(),i=o.Z.create(),a=o.Z.create(),l=o.Z.create();return function(_,M){var m=_.min.array,T=_.max.array,y=M.array;return e[0]=y[0]*m[0],e[1]=y[1]*m[0],e[2]=y[2]*m[0],s[0]=y[0]*T[0],s[1]=y[1]*T[0],s[2]=y[2]*T[0],h[0]=y[4]*m[1],h[1]=y[5]*m[1],h[2]=y[6]*m[1],i[0]=y[4]*T[1],i[1]=y[5]*T[1],i[2]=y[6]*T[1],a[0]=y[8]*m[2],a[1]=y[9]*m[2],a[2]=y[10]*m[2],l[0]=y[8]*T[2],l[1]=y[9]*T[2],l[2]=y[10]*T[2],m=this.min.array,T=this.max.array,m[0]=Math.min(e[0],s[0])+Math.min(h[0],i[0])+Math.min(a[0],l[0])+y[12],m[1]=Math.min(e[1],s[1])+Math.min(h[1],i[1])+Math.min(a[1],l[1])+y[13],m[2]=Math.min(e[2],s[2])+Math.min(h[2],i[2])+Math.min(a[2],l[2])+y[14],T[0]=Math.max(e[0],s[0])+Math.max(h[0],i[0])+Math.max(a[0],l[0])+y[12],T[1]=Math.max(e[1],s[1])+Math.max(h[1],i[1])+Math.max(a[1],l[1])+y[13],T[2]=Math.max(e[2],s[2])+Math.max(h[2],i[2])+Math.max(a[2],l[2])+y[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(e){var s=this.min.array,h=this.max.array,i=e.array,a=s[0],l=s[1],_=s[2],M=h[0],m=h[1],T=s[2],y=h[0],P=h[1],S=h[2];if(i[15]===1)s[0]=i[0]*a+i[12],s[1]=i[5]*l+i[13],h[2]=i[10]*_+i[14],h[0]=i[0]*y+i[12],h[1]=i[5]*P+i[13],s[2]=i[10]*S+i[14];else{var w=-1/_;s[0]=i[0]*a*w,s[1]=i[5]*l*w,h[2]=(i[10]*_+i[14])*w,w=-1/T,h[0]=i[0]*M*w,h[1]=i[5]*m*w,w=-1/S,s[2]=(i[10]*S+i[14])*w}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var e=this.vertices;if(!e){e=[];for(var s=0;s<8;s++)e[s]=o.Z.fromValues(0,0,0);this.vertices=e}var h=this.min.array,i=this.max.array;return t(e[0],h[0],h[1],h[2]),t(e[1],h[0],i[1],h[2]),t(e[2],i[0],h[1],h[2]),t(e[3],i[0],i[1],h[2]),t(e[4],h[0],h[1],i[2]),t(e[5],h[0],i[1],i[2]),t(e[6],i[0],h[1],i[2]),t(e[7],i[0],i[1],i[2]),this},copy:function(e){var s=this.min,h=this.max;return r(s.array,e.min.array),r(h.array,e.max.array),s._dirty=!0,h._dirty=!0,this},clone:function(){var e=new n;return e.copy(this),e}},it.Z=n},88908:function(Dt,it,C){var p=C(37233),o=C(87542),t=C(3023),r=t.Z.set,n=t.Z.copy,e=t.Z.transformMat4,s=Math.min,h=Math.max,i=function(){this.planes=[];for(var a=0;a<6;a++)this.planes.push(new o.Z);this.boundingBox=new p.Z,this.vertices=[];for(var a=0;a<8;a++)this.vertices[a]=t.Z.fromValues(0,0,0)};i.prototype={setFromProjection:function(a){var l=this.planes,_=a.array,M=_[0],m=_[1],T=_[2],y=_[3],P=_[4],S=_[5],w=_[6],b=_[7],W=_[8],B=_[9],O=_[10],A=_[11],E=_[12],d=_[13],f=_[14],u=_[15];r(l[0].normal.array,y-M,b-P,A-W),l[0].distance=-(u-E),l[0].normalize(),r(l[1].normal.array,y+M,b+P,A+W),l[1].distance=-(u+E),l[1].normalize(),r(l[2].normal.array,y+m,b+S,A+B),l[2].distance=-(u+d),l[2].normalize(),r(l[3].normal.array,y-m,b-S,A-B),l[3].distance=-(u-d),l[3].normalize(),r(l[4].normal.array,y-T,b-w,A-O),l[4].distance=-(u-f),l[4].normalize(),r(l[5].normal.array,y+T,b+w,A+O),l[5].distance=-(u+f),l[5].normalize();var c=this.boundingBox,v=this.vertices;if(u===0){var g=S/M,R=-f/(O-1),x=-f/(O+1),L=-x/S,I=-R/S;c.min.set(-L*g,-L,x),c.max.set(L*g,L,R),r(v[0],-L*g,-L,x),r(v[1],-L*g,L,x),r(v[2],L*g,-L,x),r(v[3],L*g,L,x),r(v[4],-I*g,-I,R),r(v[5],-I*g,I,R),r(v[6],I*g,-I,R),r(v[7],I*g,I,R)}else{var Z=(-1-E)/M,G=(1-E)/M,K=(1-d)/S,J=(-1-d)/S,U=(-1-f)/O,H=(1-f)/O;c.min.set(Math.min(Z,G),Math.min(J,K),Math.min(H,U)),c.max.set(Math.max(G,Z),Math.max(K,J),Math.max(U,H));var V=c.min.array,D=c.max.array;r(v[0],V[0],V[1],V[2]),r(v[1],V[0],D[1],V[2]),r(v[2],D[0],V[1],V[2]),r(v[3],D[0],D[1],V[2]),r(v[4],V[0],V[1],D[2]),r(v[5],V[0],D[1],D[2]),r(v[6],D[0],V[1],D[2]),r(v[7],D[0],D[1],D[2])}},getTransformedBoundingBox:function(){var a=t.Z.create();return function(l,_){var M=this.vertices,m=_.array,T=l.min,y=l.max,P=T.array,S=y.array,w=M[0];e(a,w,m),n(P,a),n(S,a);for(var b=1;b<8;b++)w=M[b],e(a,w,m),P[0]=s(a[0],P[0]),P[1]=s(a[1],P[1]),P[2]=s(a[2],P[2]),S[0]=h(a[0],S[0]),S[1]=h(a[1],S[1]),S[2]=h(a[2],S[2]);return T._dirty=!0,y._dirty=!0,l}}()},it.Z=i},22351:function(Dt,it,C){var p=C(3522),o=function(){this.array=p.Z.create(),this._dirty=!0};o.prototype={constructor:o,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},clone:function(){return new o().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},o.adjoint=function(t,r){return p.Z.adjoint(t.array,r.array),t._dirty=!0,t},o.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},o.determinant=function(t){return p.Z.determinant(t.array)},o.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},o.invert=function(t,r){return p.Z.invert(t.array,r.array),t._dirty=!0,t},o.mul=function(t,r,n){return p.Z.mul(t.array,r.array,n.array),t._dirty=!0,t},o.multiply=o.mul,o.rotate=function(t,r,n){return p.Z.rotate(t.array,r.array,n),t._dirty=!0,t},o.scale=function(t,r,n){return p.Z.scale(t.array,r.array,n.array),t._dirty=!0,t},o.transpose=function(t,r){return p.Z.transpose(t.array,r.array),t._dirty=!0,t},it.Z=o},40004:function(Dt,it,C){var p=C(66987),o=function(){this.array=p.Z.create(),this._dirty=!0};o.prototype={constructor:o,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},clone:function(){return new o().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return p.Z.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},o.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},o.determinant=function(t){return p.Z.determinant(t.array)},o.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},o.invert=function(t,r){return p.Z.invert(t.array,r.array),t._dirty=!0,t},o.mul=function(t,r,n){return p.Z.mul(t.array,r.array,n.array),t._dirty=!0,t},o.multiply=o.mul,o.rotate=function(t,r,n){return p.Z.rotate(t.array,r.array,n),t._dirty=!0,t},o.scale=function(t,r,n){return p.Z.scale(t.array,r.array,n.array),t._dirty=!0,t},o.translate=function(t,r,n){return p.Z.translate(t.array,r.array,n.array),t._dirty=!0,t},it.Z=o},35692:function(Dt,it,C){var p=C(98663),o=function(){this.array=p.Z.create(),this._dirty=!0};o.prototype={constructor:o,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new o().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},fromMat2d:function(t){return p.Z.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return p.Z.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return p.Z.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return p.Z.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return p.Z.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},o.adjoint=function(t,r){return p.Z.adjoint(t.array,r.array),t._dirty=!0,t},o.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},o.determinant=function(t){return p.Z.determinant(t.array)},o.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},o.invert=function(t,r){return p.Z.invert(t.array,r.array),t},o.mul=function(t,r,n){return p.Z.mul(t.array,r.array,n.array),t._dirty=!0,t},o.multiply=o.mul,o.fromMat2d=function(t,r){return p.Z.fromMat2d(t.array,r.array),t._dirty=!0,t},o.fromMat4=function(t,r){return p.Z.fromMat4(t.array,r.array),t._dirty=!0,t},o.fromQuat=function(t,r){return p.Z.fromQuat(t.array,r.array),t._dirty=!0,t},o.normalFromMat4=function(t,r){return p.Z.normalFromMat4(t.array,r.array),t._dirty=!0,t},o.rotate=function(t,r,n){return p.Z.rotate(t.array,r.array,n),t._dirty=!0,t},o.scale=function(t,r,n){return p.Z.scale(t.array,r.array,n.array),t._dirty=!0,t},o.transpose=function(t,r){return p.Z.transpose(t.array,r.array),t._dirty=!0,t},o.translate=function(t,r,n){return p.Z.translate(t.array,r.array,n.array),t._dirty=!0,t},it.Z=o},49865:function(Dt,it,C){var p=C(85822),o=C(3023),t=C(81520),r=C(98663),n=C(14147),e=function(){this._axisX=new n.Z,this._axisY=new n.Z,this._axisZ=new n.Z,this.array=p.Z.create(),this._dirty=!0};e.prototype={constructor:e,setArray:function(i){for(var a=0;a<this.array.length;a++)this.array[a]=i[a];return this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new e().copy(this)},copy:function(i){return p.Z.copy(this.array,i.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},fromQuat:function(i){return p.Z.fromQuat(this.array,i.array),this._dirty=!0,this},fromRotationTranslation:function(i,a){return p.Z.fromRotationTranslation(this.array,i.array,a.array),this._dirty=!0,this},fromMat2d:function(i){return e.fromMat2d(this,i),this},frustum:function(i,a,l,_,M,m){return p.Z.frustum(this.array,i,a,l,_,M,m),this._dirty=!0,this},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(i,a,l){return p.Z.lookAt(this.array,i.array,a.array,l.array),this._dirty=!0,this},mul:function(i){return p.Z.mul(this.array,this.array,i.array),this._dirty=!0,this},mulLeft:function(i){return p.Z.mul(this.array,i.array,this.array),this._dirty=!0,this},multiply:function(i){return p.Z.multiply(this.array,this.array,i.array),this._dirty=!0,this},multiplyLeft:function(i){return p.Z.multiply(this.array,i.array,this.array),this._dirty=!0,this},ortho:function(i,a,l,_,M,m){return p.Z.ortho(this.array,i,a,l,_,M,m),this._dirty=!0,this},perspective:function(i,a,l,_){return p.Z.perspective(this.array,i,a,l,_),this._dirty=!0,this},rotate:function(i,a){return p.Z.rotate(this.array,this.array,i,a.array),this._dirty=!0,this},rotateX:function(i){return p.Z.rotateX(this.array,this.array,i),this._dirty=!0,this},rotateY:function(i){return p.Z.rotateY(this.array,this.array,i),this._dirty=!0,this},rotateZ:function(i){return p.Z.rotateZ(this.array,this.array,i),this._dirty=!0,this},scale:function(i){return p.Z.scale(this.array,this.array,i.array),this._dirty=!0,this},translate:function(i){return p.Z.translate(this.array,this.array,i.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var i=o.Z.create(),a=o.Z.create(),l=o.Z.create(),_=r.Z.create();return function(M,m,T){var y=this.array;o.Z.set(i,y[0],y[1],y[2]),o.Z.set(a,y[4],y[5],y[6]),o.Z.set(l,y[8],y[9],y[10]);var P=o.Z.length(i),S=o.Z.length(a),w=o.Z.length(l),b=this.determinant();b<0&&(P=-P),M&&M.set(P,S,w),T.set(y[12],y[13],y[14]),r.Z.fromMat4(_,y),_[0]/=P,_[1]/=P,_[2]/=P,_[3]/=S,_[4]/=S,_[5]/=S,_[6]/=w,_[7]/=w,_[8]/=w,t.Z.fromMat3(m.array,_),t.Z.normalize(m.array,m.array),m._dirty=!0,T._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var s=Object.defineProperty;if(s){var h=e.prototype;s(h,"z",{get:function(){var i=this.array;return this._axisZ.set(i[8],i[9],i[10]),this._axisZ},set:function(i){var a=this.array;i=i.array,a[8]=i[0],a[9]=i[1],a[10]=i[2],this._dirty=!0}}),s(h,"y",{get:function(){var i=this.array;return this._axisY.set(i[4],i[5],i[6]),this._axisY},set:function(i){var a=this.array;i=i.array,a[4]=i[0],a[5]=i[1],a[6]=i[2],this._dirty=!0}}),s(h,"x",{get:function(){var i=this.array;return this._axisX.set(i[0],i[1],i[2]),this._axisX},set:function(i){var a=this.array;i=i.array,a[0]=i[0],a[1]=i[1],a[2]=i[2],this._dirty=!0}})}e.adjoint=function(i,a){return p.Z.adjoint(i.array,a.array),i._dirty=!0,i},e.copy=function(i,a){return p.Z.copy(i.array,a.array),i._dirty=!0,i},e.determinant=function(i){return p.Z.determinant(i.array)},e.identity=function(i){return p.Z.identity(i.array),i._dirty=!0,i},e.ortho=function(i,a,l,_,M,m,T){return p.Z.ortho(i.array,a,l,_,M,m,T),i._dirty=!0,i},e.perspective=function(i,a,l,_,M){return p.Z.perspective(i.array,a,l,_,M),i._dirty=!0,i},e.lookAt=function(i,a,l,_){return p.Z.lookAt(i.array,a.array,l.array,_.array),i._dirty=!0,i},e.invert=function(i,a){return p.Z.invert(i.array,a.array),i._dirty=!0,i},e.mul=function(i,a,l){return p.Z.mul(i.array,a.array,l.array),i._dirty=!0,i},e.multiply=e.mul,e.fromQuat=function(i,a){return p.Z.fromQuat(i.array,a.array),i._dirty=!0,i},e.fromRotationTranslation=function(i,a,l){return p.Z.fromRotationTranslation(i.array,a.array,l.array),i._dirty=!0,i},e.fromMat2d=function(_,l){_._dirty=!0;var l=l.array,_=_.array;return _[0]=l[0],_[4]=l[2],_[12]=l[4],_[1]=l[1],_[5]=l[3],_[13]=l[5],_},e.rotate=function(i,a,l,_){return p.Z.rotate(i.array,a.array,l,_.array),i._dirty=!0,i},e.rotateX=function(i,a,l){return p.Z.rotateX(i.array,a.array,l),i._dirty=!0,i},e.rotateY=function(i,a,l){return p.Z.rotateY(i.array,a.array,l),i._dirty=!0,i},e.rotateZ=function(i,a,l){return p.Z.rotateZ(i.array,a.array,l),i._dirty=!0,i},e.scale=function(i,a,l){return p.Z.scale(i.array,a.array,l.array),i._dirty=!0,i},e.transpose=function(i,a){return p.Z.transpose(i.array,a.array),i._dirty=!0,i},e.translate=function(i,a,l){return p.Z.translate(i.array,a.array,l.array),i._dirty=!0,i},it.Z=e},87542:function(Dt,it,C){var p=C(14147),o=C(85822),t=C(3023),r=C(39186),n=function(e,s){this.normal=e||new p.Z(0,1,0),this.distance=s||0};n.prototype={constructor:n,distanceToPoint:function(e){return t.Z.dot(e.array,this.normal.array)-this.distance},projectPoint:function(e,s){s||(s=new p.Z);var h=this.distanceToPoint(e);return t.Z.scaleAndAdd(s.array,e.array,this.normal.array,-h),s._dirty=!0,s},normalize:function(){var e=1/t.Z.len(this.normal.array);t.Z.scale(this.normal.array,e),this.distance*=e},intersectFrustum:function(e){for(var s=e.vertices,h=this.normal.array,i=t.Z.dot(s[0].array,h)>this.distance,a=1;a<8;a++)if(t.Z.dot(s[a].array,h)>this.distance!=i)return!0},intersectLine:function(){var e=t.Z.create();return function(s,h,i){var a=this.distanceToPoint(s),l=this.distanceToPoint(h);if(a>0&&l>0||a<0&&l<0)return null;var _=this.normal.array,M=this.distance,m=s.array;t.Z.sub(e,h.array,s.array),t.Z.normalize(e,e);var T=t.Z.dot(_,e);if(T===0)return null;i||(i=new p.Z);var y=(t.Z.dot(_,m)-M)/T;return t.Z.scaleAndAdd(i.array,m,e,-y),i._dirty=!0,i}}(),applyTransform:function(){var e=o.Z.create(),s=r.Z.create(),h=r.Z.create();return h[3]=1,function(i){i=i.array,t.Z.scale(h,this.normal.array,this.distance),r.Z.transformMat4(h,h,i),this.distance=t.Z.dot(h,this.normal.array),o.Z.invert(e,i),o.Z.transpose(e,e),s[3]=0,t.Z.copy(s,this.normal.array),r.Z.transformMat4(s,s,e),t.Z.copy(this.normal.array,s)}}(),copy:function(e){t.Z.copy(this.normal.array,e.normal.array),this.normal._dirty=!0,this.distance=e.distance},clone:function(){var e=new n;return e.copy(this),e}},it.Z=n},13075:function(Dt,it,C){var p=C(81520),o=C(98663),t=function(e,s,h,i){e=e||0,s=s||0,h=h||0,i=i===void 0?1:i,this.array=p.Z.fromValues(e,s,h,i),this._dirty=!0};t.prototype={constructor:t,add:function(e){return p.Z.add(this.array,this.array,e.array),this._dirty=!0,this},calculateW:function(){return p.Z.calculateW(this.array,this.array),this._dirty=!0,this},set:function(e,s,h,i){return this.array[0]=e,this.array[1]=s,this.array[2]=h,this.array[3]=i,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new t(this.x,this.y,this.z,this.w)},conjugate:function(){return p.Z.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(e){return p.Z.copy(this.array,e.array),this._dirty=!0,this},dot:function(e){return p.Z.dot(this.array,e.array)},fromMat3:function(e){return p.Z.fromMat3(this.array,e.array),this._dirty=!0,this},fromMat4:function(){var e=o.Z.create();return function(s){return o.Z.fromMat4(e,s.array),o.Z.transpose(e,e),p.Z.fromMat3(this.array,e),this._dirty=!0,this}}(),identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(e,s,h){return p.Z.lerp(this.array,e.array,s.array,h),this._dirty=!0,this},mul:function(e){return p.Z.mul(this.array,this.array,e.array),this._dirty=!0,this},mulLeft:function(e){return p.Z.multiply(this.array,e.array,this.array),this._dirty=!0,this},multiply:function(e){return p.Z.multiply(this.array,this.array,e.array),this._dirty=!0,this},multiplyLeft:function(e){return p.Z.multiply(this.array,e.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(e){return p.Z.rotateX(this.array,this.array,e),this._dirty=!0,this},rotateY:function(e){return p.Z.rotateY(this.array,this.array,e),this._dirty=!0,this},rotateZ:function(e){return p.Z.rotateZ(this.array,this.array,e),this._dirty=!0,this},rotationTo:function(e,s){return p.Z.rotationTo(this.array,e.array,s.array),this._dirty=!0,this},setAxes:function(e,s,h){return p.Z.setAxes(this.array,e.array,s.array,h.array),this._dirty=!0,this},setAxisAngle:function(e,s){return p.Z.setAxisAngle(this.array,e.array,s),this._dirty=!0,this},slerp:function(e,s,h){return p.Z.slerp(this.array,e.array,s.array,h),this._dirty=!0,this},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},fromEuler:function(e,s){return t.fromEuler(this,e,s)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var r=Object.defineProperty;if(r){var n=t.prototype;r(n,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),r(n,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),r(n,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),r(n,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}t.add=function(e,s,h){return p.Z.add(e.array,s.array,h.array),e._dirty=!0,e},t.set=function(e,s,h,i,a){p.Z.set(e.array,s,h,i,a),e._dirty=!0},t.copy=function(e,s){return p.Z.copy(e.array,s.array),e._dirty=!0,e},t.calculateW=function(e,s){return p.Z.calculateW(e.array,s.array),e._dirty=!0,e},t.conjugate=function(e,s){return p.Z.conjugate(e.array,s.array),e._dirty=!0,e},t.identity=function(e){return p.Z.identity(e.array),e._dirty=!0,e},t.invert=function(e,s){return p.Z.invert(e.array,s.array),e._dirty=!0,e},t.dot=function(e,s){return p.Z.dot(e.array,s.array)},t.len=function(e){return p.Z.length(e.array)},t.lerp=function(e,s,h,i){return p.Z.lerp(e.array,s.array,h.array,i),e._dirty=!0,e},t.slerp=function(e,s,h,i){return p.Z.slerp(e.array,s.array,h.array,i),e._dirty=!0,e},t.mul=function(e,s,h){return p.Z.multiply(e.array,s.array,h.array),e._dirty=!0,e},t.multiply=t.mul,t.rotateX=function(e,s,h){return p.Z.rotateX(e.array,s.array,h),e._dirty=!0,e},t.rotateY=function(e,s,h){return p.Z.rotateY(e.array,s.array,h),e._dirty=!0,e},t.rotateZ=function(e,s,h){return p.Z.rotateZ(e.array,s.array,h),e._dirty=!0,e},t.setAxisAngle=function(e,s,h){return p.Z.setAxisAngle(e.array,s.array,h),e._dirty=!0,e},t.normalize=function(e,s){return p.Z.normalize(e.array,s.array),e._dirty=!0,e},t.sqrLen=function(e){return p.Z.sqrLen(e.array)},t.squaredLength=t.sqrLen,t.fromMat3=function(e,s){return p.Z.fromMat3(e.array,s.array),e._dirty=!0,e},t.setAxes=function(e,s,h,i){return p.Z.setAxes(e.array,s.array,h.array,i.array),e._dirty=!0,e},t.rotationTo=function(e,s,h){return p.Z.rotationTo(e.array,s.array,h.array),e._dirty=!0,e},t.fromEuler=function(e,s,y){e._dirty=!0,s=s.array;var i=e.array,a=Math.cos(s[0]/2),l=Math.cos(s[1]/2),_=Math.cos(s[2]/2),M=Math.sin(s[0]/2),m=Math.sin(s[1]/2),T=Math.sin(s[2]/2),y=(y||"XYZ").toUpperCase();switch(y){case"XYZ":i[0]=M*l*_+a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_-M*m*T;break;case"YXZ":i[0]=M*l*_+a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_+M*m*T;break;case"ZXY":i[0]=M*l*_-a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_-M*m*T;break;case"ZYX":i[0]=M*l*_-a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_+M*m*T;break;case"YZX":i[0]=M*l*_+a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_-M*m*T;break;case"XZY":i[0]=M*l*_-a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_+M*m*T;break}},it.Z=t},76867:function(Dt,it,C){var p=C(14147),o=C(3023),t=1e-5,r=function(n,e){this.origin=n||new p.Z,this.direction=e||new p.Z};r.prototype={constructor:r,intersectPlane:function(n,e){var s=n.normal.array,h=n.distance,i=this.origin.array,a=this.direction.array,l=o.Z.dot(s,a);if(l===0)return null;e||(e=new p.Z);var _=(o.Z.dot(s,i)-h)/l;return o.Z.scaleAndAdd(e.array,i,a,-_),e._dirty=!0,e},mirrorAgainstPlane:function(n){var e=o.Z.dot(n.normal.array,this.direction.array);o.Z.scaleAndAdd(this.direction.array,this.direction.array,n.normal.array,-e*2),this.direction._dirty=!0},distanceToPoint:function(){var n=o.Z.create();return function(e){o.Z.sub(n,e,this.origin.array);var s=o.Z.dot(n,this.direction.array);if(s<0)return o.Z.distance(this.origin.array,e);var h=o.Z.lenSquared(n);return Math.sqrt(h-s*s)}}(),intersectSphere:function(){var n=o.Z.create();return function(e,s,h){var i=this.origin.array,a=this.direction.array;e=e.array,o.Z.sub(n,e,i);var l=o.Z.dot(n,a),_=o.Z.squaredLength(n),M=_-l*l,m=s*s;if(!(M>m)){var T=Math.sqrt(m-M),y=l-T,P=l+T;return h||(h=new p.Z),y<0?P<0?null:(o.Z.scaleAndAdd(h.array,i,a,P),h):(o.Z.scaleAndAdd(h.array,i,a,y),h)}}}(),intersectBoundingBox:function(n,e){var s=this.direction.array,h=this.origin.array,i=n.min.array,a=n.max.array,l=1/s[0],_=1/s[1],M=1/s[2],m,T,y,P,S,w;if(l>=0?(m=(i[0]-h[0])*l,T=(a[0]-h[0])*l):(T=(i[0]-h[0])*l,m=(a[0]-h[0])*l),_>=0?(y=(i[1]-h[1])*_,P=(a[1]-h[1])*_):(P=(i[1]-h[1])*_,y=(a[1]-h[1])*_),m>P||y>T||((y>m||m!==m)&&(m=y),(P<T||T!==T)&&(T=P),M>=0?(S=(i[2]-h[2])*M,w=(a[2]-h[2])*M):(w=(i[2]-h[2])*M,S=(a[2]-h[2])*M),m>w||S>T)||((S>m||m!==m)&&(m=S),(w<T||T!==T)&&(T=w),T<0))return null;var b=m>=0?m:T;return e||(e=new p.Z),o.Z.scaleAndAdd(e.array,h,s,b),e},intersectTriangle:function(){var n=o.Z.create(),e=o.Z.create(),s=o.Z.create(),h=o.Z.create();return function(i,a,l,_,M,m){var T=this.direction.array,y=this.origin.array;i=i.array,a=a.array,l=l.array,o.Z.sub(n,a,i),o.Z.sub(e,l,i),o.Z.cross(h,e,T);var P=o.Z.dot(n,h);if(_){if(P>-t)return null}else if(P>-t&&P<t)return null;o.Z.sub(s,y,i);var S=o.Z.dot(h,s)/P;if(S<0||S>1)return null;o.Z.cross(h,n,s);var w=o.Z.dot(T,h)/P;if(w<0||w>1||S+w>1)return null;o.Z.cross(h,n,e);var b=-o.Z.dot(s,h)/P;return b<0?null:(M||(M=new p.Z),m&&p.Z.set(m,1-S-w,S,w),o.Z.scaleAndAdd(M.array,y,T,b),M)}}(),applyTransform:function(n){p.Z.add(this.direction,this.direction,this.origin),p.Z.transformMat4(this.origin,this.origin,n),p.Z.transformMat4(this.direction,this.direction,n),p.Z.sub(this.direction,this.direction,this.origin),p.Z.normalize(this.direction,this.direction)},copy:function(n){p.Z.copy(this.origin,n.origin),p.Z.copy(this.direction,n.direction)},clone:function(){var n=new r;return n.copy(this),n}},it.Z=r},38077:function(Dt,it,C){var p=C(97410),o=function(r,n){r=r||0,n=n||0,this.array=p.Z.fromValues(r,n),this._dirty=!0};if(o.prototype={constructor:o,add:function(r){return p.Z.add(this.array,this.array,r.array),this._dirty=!0,this},set:function(r,n){return this.array[0]=r,this.array[1]=n,this._dirty=!0,this},setArray:function(r){return this.array[0]=r[0],this.array[1]=r[1],this._dirty=!0,this},clone:function(){return new o(this.x,this.y)},copy:function(r){return p.Z.copy(this.array,r.array),this._dirty=!0,this},cross:function(r,n){return p.Z.cross(r.array,this.array,n.array),r._dirty=!0,this},dist:function(r){return p.Z.dist(this.array,r.array)},distance:function(r){return p.Z.distance(this.array,r.array)},div:function(r){return p.Z.div(this.array,this.array,r.array),this._dirty=!0,this},divide:function(r){return p.Z.divide(this.array,this.array,r.array),this._dirty=!0,this},dot:function(r){return p.Z.dot(this.array,r.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(r,n,e){return p.Z.lerp(this.array,r.array,n.array,e),this._dirty=!0,this},min:function(r){return p.Z.min(this.array,this.array,r.array),this._dirty=!0,this},max:function(r){return p.Z.max(this.array,this.array,r.array),this._dirty=!0,this},mul:function(r){return p.Z.mul(this.array,this.array,r.array),this._dirty=!0,this},multiply:function(r){return p.Z.multiply(this.array,this.array,r.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(r){return p.Z.random(this.array,r),this._dirty=!0,this},scale:function(r){return p.Z.scale(this.array,this.array,r),this._dirty=!0,this},scaleAndAdd:function(r,n){return p.Z.scaleAndAdd(this.array,this.array,r.array,n),this._dirty=!0,this},sqrDist:function(r){return p.Z.sqrDist(this.array,r.array)},squaredDistance:function(r){return p.Z.squaredDistance(this.array,r.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(r){return p.Z.sub(this.array,this.array,r.array),this._dirty=!0,this},subtract:function(r){return p.Z.subtract(this.array,this.array,r.array),this._dirty=!0,this},transformMat2:function(r){return p.Z.transformMat2(this.array,this.array,r.array),this._dirty=!0,this},transformMat2d:function(r){return p.Z.transformMat2d(this.array,this.array,r.array),this._dirty=!0,this},transformMat3:function(r){return p.Z.transformMat3(this.array,this.array,r.array),this._dirty=!0,this},transformMat4:function(r){return p.Z.transformMat4(this.array,this.array,r.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var t=o.prototype;Object.defineProperty(t,"x",{get:function(){return this.array[0]},set:function(r){this.array[0]=r,this._dirty=!0}}),Object.defineProperty(t,"y",{get:function(){return this.array[1]},set:function(r){this.array[1]=r,this._dirty=!0}})}o.add=function(r,n,e){return p.Z.add(r.array,n.array,e.array),r._dirty=!0,r},o.set=function(r,n,e){return p.Z.set(r.array,n,e),r._dirty=!0,r},o.copy=function(r,n){return p.Z.copy(r.array,n.array),r._dirty=!0,r},o.cross=function(r,n,e){return p.Z.cross(r.array,n.array,e.array),r._dirty=!0,r},o.dist=function(r,n){return p.Z.distance(r.array,n.array)},o.distance=o.dist,o.div=function(r,n,e){return p.Z.divide(r.array,n.array,e.array),r._dirty=!0,r},o.divide=o.div,o.dot=function(r,n){return p.Z.dot(r.array,n.array)},o.len=function(r){return p.Z.length(r.array)},o.lerp=function(r,n,e,s){return p.Z.lerp(r.array,n.array,e.array,s),r._dirty=!0,r},o.min=function(r,n,e){return p.Z.min(r.array,n.array,e.array),r._dirty=!0,r},o.max=function(r,n,e){return p.Z.max(r.array,n.array,e.array),r._dirty=!0,r},o.mul=function(r,n,e){return p.Z.multiply(r.array,n.array,e.array),r._dirty=!0,r},o.multiply=o.mul,o.negate=function(r,n){return p.Z.negate(r.array,n.array),r._dirty=!0,r},o.normalize=function(r,n){return p.Z.normalize(r.array,n.array),r._dirty=!0,r},o.random=function(r,n){return p.Z.random(r.array,n),r._dirty=!0,r},o.scale=function(r,n,e){return p.Z.scale(r.array,n.array,e),r._dirty=!0,r},o.scaleAndAdd=function(r,n,e,s){return p.Z.scaleAndAdd(r.array,n.array,e.array,s),r._dirty=!0,r},o.sqrDist=function(r,n){return p.Z.sqrDist(r.array,n.array)},o.squaredDistance=o.sqrDist,o.sqrLen=function(r){return p.Z.sqrLen(r.array)},o.squaredLength=o.sqrLen,o.sub=function(r,n,e){return p.Z.subtract(r.array,n.array,e.array),r._dirty=!0,r},o.subtract=o.sub,o.transformMat2=function(r,n,e){return p.Z.transformMat2(r.array,n.array,e.array),r._dirty=!0,r},o.transformMat2d=function(r,n,e){return p.Z.transformMat2d(r.array,n.array,e.array),r._dirty=!0,r},o.transformMat3=function(r,n,e){return p.Z.transformMat3(r.array,n.array,e.array),r._dirty=!0,r},o.transformMat4=function(r,n,e){return p.Z.transformMat4(r.array,n.array,e.array),r._dirty=!0,r},it.Z=o},14147:function(Dt,it,C){var p=C(3023),o=function(i,a,l){i=i||0,a=a||0,l=l||0,this.array=p.Z.fromValues(i,a,l),this._dirty=!0};o.prototype={constructor:o,add:function(i){return p.Z.add(this.array,this.array,i.array),this._dirty=!0,this},set:function(i,a,l){return this.array[0]=i,this.array[1]=a,this.array[2]=l,this._dirty=!0,this},setArray:function(i){return this.array[0]=i[0],this.array[1]=i[1],this.array[2]=i[2],this._dirty=!0,this},clone:function(){return new o(this.x,this.y,this.z)},copy:function(i){return p.Z.copy(this.array,i.array),this._dirty=!0,this},cross:function(i,a){return p.Z.cross(this.array,i.array,a.array),this._dirty=!0,this},dist:function(i){return p.Z.dist(this.array,i.array)},distance:function(i){return p.Z.distance(this.array,i.array)},div:function(i){return p.Z.div(this.array,this.array,i.array),this._dirty=!0,this},divide:function(i){return p.Z.divide(this.array,this.array,i.array),this._dirty=!0,this},dot:function(i){return p.Z.dot(this.array,i.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(i,a,l){return p.Z.lerp(this.array,i.array,a.array,l),this._dirty=!0,this},min:function(i){return p.Z.min(this.array,this.array,i.array),this._dirty=!0,this},max:function(i){return p.Z.max(this.array,this.array,i.array),this._dirty=!0,this},mul:function(i){return p.Z.mul(this.array,this.array,i.array),this._dirty=!0,this},multiply:function(i){return p.Z.multiply(this.array,this.array,i.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(i){return p.Z.random(this.array,i),this._dirty=!0,this},scale:function(i){return p.Z.scale(this.array,this.array,i),this._dirty=!0,this},scaleAndAdd:function(i,a){return p.Z.scaleAndAdd(this.array,this.array,i.array,a),this._dirty=!0,this},sqrDist:function(i){return p.Z.sqrDist(this.array,i.array)},squaredDistance:function(i){return p.Z.squaredDistance(this.array,i.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(i){return p.Z.sub(this.array,this.array,i.array),this._dirty=!0,this},subtract:function(i){return p.Z.subtract(this.array,this.array,i.array),this._dirty=!0,this},transformMat3:function(i){return p.Z.transformMat3(this.array,this.array,i.array),this._dirty=!0,this},transformMat4:function(i){return p.Z.transformMat4(this.array,this.array,i.array),this._dirty=!0,this},transformQuat:function(i){return p.Z.transformQuat(this.array,this.array,i.array),this._dirty=!0,this},applyProjection:function(i){var a=this.array;if(i=i.array,i[15]===0){var l=-1/a[2];a[0]=i[0]*a[0]*l,a[1]=i[5]*a[1]*l,a[2]=(i[10]*a[2]+i[14])*l}else a[0]=i[0]*a[0]+i[12],a[1]=i[5]*a[1]+i[13],a[2]=i[10]*a[2]+i[14];return this._dirty=!0,this},eulerFromQuat:function(i,a){o.eulerFromQuat(this,i,a)},eulerFromMat3:function(i,a){o.eulerFromMat3(this,i,a)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var t=Object.defineProperty;if(t){var r=o.prototype;t(r,"x",{get:function(){return this.array[0]},set:function(i){this.array[0]=i,this._dirty=!0}}),t(r,"y",{get:function(){return this.array[1]},set:function(i){this.array[1]=i,this._dirty=!0}}),t(r,"z",{get:function(){return this.array[2]},set:function(i){this.array[2]=i,this._dirty=!0}})}o.add=function(i,a,l){return p.Z.add(i.array,a.array,l.array),i._dirty=!0,i},o.set=function(i,a,l,_){p.Z.set(i.array,a,l,_),i._dirty=!0},o.copy=function(i,a){return p.Z.copy(i.array,a.array),i._dirty=!0,i},o.cross=function(i,a,l){return p.Z.cross(i.array,a.array,l.array),i._dirty=!0,i},o.dist=function(i,a){return p.Z.distance(i.array,a.array)},o.distance=o.dist,o.div=function(i,a,l){return p.Z.divide(i.array,a.array,l.array),i._dirty=!0,i},o.divide=o.div,o.dot=function(i,a){return p.Z.dot(i.array,a.array)},o.len=function(i){return p.Z.length(i.array)},o.lerp=function(i,a,l,_){return p.Z.lerp(i.array,a.array,l.array,_),i._dirty=!0,i},o.min=function(i,a,l){return p.Z.min(i.array,a.array,l.array),i._dirty=!0,i},o.max=function(i,a,l){return p.Z.max(i.array,a.array,l.array),i._dirty=!0,i},o.mul=function(i,a,l){return p.Z.multiply(i.array,a.array,l.array),i._dirty=!0,i},o.multiply=o.mul,o.negate=function(i,a){return p.Z.negate(i.array,a.array),i._dirty=!0,i},o.normalize=function(i,a){return p.Z.normalize(i.array,a.array),i._dirty=!0,i},o.random=function(i,a){return p.Z.random(i.array,a),i._dirty=!0,i},o.scale=function(i,a,l){return p.Z.scale(i.array,a.array,l),i._dirty=!0,i},o.scaleAndAdd=function(i,a,l,_){return p.Z.scaleAndAdd(i.array,a.array,l.array,_),i._dirty=!0,i},o.sqrDist=function(i,a){return p.Z.sqrDist(i.array,a.array)},o.squaredDistance=o.sqrDist,o.sqrLen=function(i){return p.Z.sqrLen(i.array)},o.squaredLength=o.sqrLen,o.sub=function(i,a,l){return p.Z.subtract(i.array,a.array,l.array),i._dirty=!0,i},o.subtract=o.sub,o.transformMat3=function(i,a,l){return p.Z.transformMat3(i.array,a.array,l.array),i._dirty=!0,i},o.transformMat4=function(i,a,l){return p.Z.transformMat4(i.array,a.array,l.array),i._dirty=!0,i},o.transformQuat=function(i,a,l){return p.Z.transformQuat(i.array,a.array,l.array),i._dirty=!0,i};function n(i,a,l){return i<a?a:i>l?l:i}var e=Math.atan2,s=Math.asin,h=Math.abs;o.eulerFromQuat=function(i,a,W){i._dirty=!0,a=a.array;var _=i.array,M=a[0],m=a[1],T=a[2],y=a[3],P=M*M,S=m*m,w=T*T,b=y*y,W=(W||"XYZ").toUpperCase();switch(W){case"XYZ":_[0]=e(2*(M*y-m*T),b-P-S+w),_[1]=s(n(2*(M*T+m*y),-1,1)),_[2]=e(2*(T*y-M*m),b+P-S-w);break;case"YXZ":_[0]=s(n(2*(M*y-m*T),-1,1)),_[1]=e(2*(M*T+m*y),b-P-S+w),_[2]=e(2*(M*m+T*y),b-P+S-w);break;case"ZXY":_[0]=s(n(2*(M*y+m*T),-1,1)),_[1]=e(2*(m*y-T*M),b-P-S+w),_[2]=e(2*(T*y-M*m),b-P+S-w);break;case"ZYX":_[0]=e(2*(M*y+T*m),b-P-S+w),_[1]=s(n(2*(m*y-M*T),-1,1)),_[2]=e(2*(M*m+T*y),b+P-S-w);break;case"YZX":_[0]=e(2*(M*y-T*m),b-P+S-w),_[1]=e(2*(m*y-M*T),b+P-S-w),_[2]=s(n(2*(M*m+T*y),-1,1));break;case"XZY":_[0]=e(2*(M*y+m*T),b-P+S-w),_[1]=e(2*(M*T+m*y),b+P-S-w),_[2]=s(n(2*(T*y-M*m),-1,1));break;default:console.warn("Unkown order: "+W)}return i},o.eulerFromMat3=function(i,a,O){var _=a.array,M=_[0],m=_[3],T=_[6],y=_[1],P=_[4],S=_[7],w=_[2],b=_[5],W=_[8],B=i.array,O=(O||"XYZ").toUpperCase();switch(O){case"XYZ":B[1]=s(n(T,-1,1)),h(T)<.99999?(B[0]=e(-S,W),B[2]=e(-m,M)):(B[0]=e(b,P),B[2]=0);break;case"YXZ":B[0]=s(-n(S,-1,1)),h(S)<.99999?(B[1]=e(T,W),B[2]=e(y,P)):(B[1]=e(-w,M),B[2]=0);break;case"ZXY":B[0]=s(n(b,-1,1)),h(b)<.99999?(B[1]=e(-w,W),B[2]=e(-m,P)):(B[1]=0,B[2]=e(y,M));break;case"ZYX":B[1]=s(-n(w,-1,1)),h(w)<.99999?(B[0]=e(b,W),B[2]=e(y,M)):(B[0]=0,B[2]=e(-m,P));break;case"YZX":B[2]=s(n(y,-1,1)),h(y)<.99999?(B[0]=e(-S,P),B[1]=e(-w,M)):(B[0]=0,B[1]=e(T,W));break;case"XZY":B[2]=s(-n(m,-1,1)),h(m)<.99999?(B[0]=e(b,P),B[1]=e(T,M)):(B[0]=e(-S,W),B[1]=0);break;default:console.warn("Unkown order: "+O)}return i._dirty=!0,i},Object.defineProperties(o,{POSITIVE_X:{get:function(){return new o(1,0,0)}},NEGATIVE_X:{get:function(){return new o(-1,0,0)}},POSITIVE_Y:{get:function(){return new o(0,1,0)}},NEGATIVE_Y:{get:function(){return new o(0,-1,0)}},POSITIVE_Z:{get:function(){return new o(0,0,1)}},NEGATIVE_Z:{get:function(){return new o(0,0,-1)}},UP:{get:function(){return new o(0,1,0)}},ZERO:{get:function(){return new o}}}),it.Z=o},60273:function(Dt,it,C){var p=C(39186),o=function(n,e,s,h){n=n||0,e=e||0,s=s||0,h=h||0,this.array=p.Z.fromValues(n,e,s,h),this._dirty=!0};o.prototype={constructor:o,add:function(n){return p.Z.add(this.array,this.array,n.array),this._dirty=!0,this},set:function(n,e,s,h){return this.array[0]=n,this.array[1]=e,this.array[2]=s,this.array[3]=h,this._dirty=!0,this},setArray:function(n){return this.array[0]=n[0],this.array[1]=n[1],this.array[2]=n[2],this.array[3]=n[3],this._dirty=!0,this},clone:function(){return new o(this.x,this.y,this.z,this.w)},copy:function(n){return p.Z.copy(this.array,n.array),this._dirty=!0,this},dist:function(n){return p.Z.dist(this.array,n.array)},distance:function(n){return p.Z.distance(this.array,n.array)},div:function(n){return p.Z.div(this.array,this.array,n.array),this._dirty=!0,this},divide:function(n){return p.Z.divide(this.array,this.array,n.array),this._dirty=!0,this},dot:function(n){return p.Z.dot(this.array,n.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(n,e,s){return p.Z.lerp(this.array,n.array,e.array,s),this._dirty=!0,this},min:function(n){return p.Z.min(this.array,this.array,n.array),this._dirty=!0,this},max:function(n){return p.Z.max(this.array,this.array,n.array),this._dirty=!0,this},mul:function(n){return p.Z.mul(this.array,this.array,n.array),this._dirty=!0,this},multiply:function(n){return p.Z.multiply(this.array,this.array,n.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(n){return p.Z.random(this.array,n),this._dirty=!0,this},scale:function(n){return p.Z.scale(this.array,this.array,n),this._dirty=!0,this},scaleAndAdd:function(n,e){return p.Z.scaleAndAdd(this.array,this.array,n.array,e),this._dirty=!0,this},sqrDist:function(n){return p.Z.sqrDist(this.array,n.array)},squaredDistance:function(n){return p.Z.squaredDistance(this.array,n.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(n){return p.Z.sub(this.array,this.array,n.array),this._dirty=!0,this},subtract:function(n){return p.Z.subtract(this.array,this.array,n.array),this._dirty=!0,this},transformMat4:function(n){return p.Z.transformMat4(this.array,this.array,n.array),this._dirty=!0,this},transformQuat:function(n){return p.Z.transformQuat(this.array,this.array,n.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var t=Object.defineProperty;if(t){var r=o.prototype;t(r,"x",{get:function(){return this.array[0]},set:function(n){this.array[0]=n,this._dirty=!0}}),t(r,"y",{get:function(){return this.array[1]},set:function(n){this.array[1]=n,this._dirty=!0}}),t(r,"z",{get:function(){return this.array[2]},set:function(n){this.array[2]=n,this._dirty=!0}}),t(r,"w",{get:function(){return this.array[3]},set:function(n){this.array[3]=n,this._dirty=!0}})}o.add=function(n,e,s){return p.Z.add(n.array,e.array,s.array),n._dirty=!0,n},o.set=function(n,e,s,h,i){p.Z.set(n.array,e,s,h,i),n._dirty=!0},o.copy=function(n,e){return p.Z.copy(n.array,e.array),n._dirty=!0,n},o.dist=function(n,e){return p.Z.distance(n.array,e.array)},o.distance=o.dist,o.div=function(n,e,s){return p.Z.divide(n.array,e.array,s.array),n._dirty=!0,n},o.divide=o.div,o.dot=function(n,e){return p.Z.dot(n.array,e.array)},o.len=function(n){return p.Z.length(n.array)},o.lerp=function(n,e,s,h){return p.Z.lerp(n.array,e.array,s.array,h),n._dirty=!0,n},o.min=function(n,e,s){return p.Z.min(n.array,e.array,s.array),n._dirty=!0,n},o.max=function(n,e,s){return p.Z.max(n.array,e.array,s.array),n._dirty=!0,n},o.mul=function(n,e,s){return p.Z.multiply(n.array,e.array,s.array),n._dirty=!0,n},o.multiply=o.mul,o.negate=function(n,e){return p.Z.negate(n.array,e.array),n._dirty=!0,n},o.normalize=function(n,e){return p.Z.normalize(n.array,e.array),n._dirty=!0,n},o.random=function(n,e){return p.Z.random(n.array,e),n._dirty=!0,n},o.scale=function(n,e,s){return p.Z.scale(n.array,e.array,s),n._dirty=!0,n},o.scaleAndAdd=function(n,e,s,h){return p.Z.scaleAndAdd(n.array,e.array,s.array,h),n._dirty=!0,n},o.sqrDist=function(n,e){return p.Z.sqrDist(n.array,e.array)},o.squaredDistance=o.sqrDist,o.sqrLen=function(n){return p.Z.sqrLen(n.array)},o.squaredLength=o.sqrLen,o.sub=function(n,e,s){return p.Z.subtract(n.array,e.array,s.array),n._dirty=!0,n},o.subtract=o.sub,o.transformMat4=function(n,e,s){return p.Z.transformMat4(n.array,e.array,s.array),n._dirty=!0,n},o.transformQuat=function(n,e,s){return p.Z.transformQuat(n.array,e.array,s.array),n._dirty=!0,n},it.Z=o},14983:function(Dt,it){var C={};C.isPowerOfTwo=function(p){return(p&p-1)===0},C.nextPowerOfTwo=function(p){return p--,p|=p>>1,p|=p>>2,p|=p>>4,p|=p>>8,p|=p>>16,p++,p},C.nearestPowerOfTwo=function(p){return Math.pow(2,Math.round(Math.log(p)/Math.LN2))},it.Z=C},20739:function(Dt,it,C){var p=C(85038),o=C(76867),t=C(38077),r=C(14147),n=C(49865),e=C(38934),s=C(23044),h=C(3023),i=p.Z.extend({scene:null,camera:null,renderer:null},function(){this._ray=new o.Z,this._ndc=new t.Z},{pick:function(a,l,_){var M=this.pickAll(a,l,[],_);return M[0]||null},pickAll:function(a,l,_,M){return this.renderer.screenToNDC(a,l,this._ndc),this.camera.castRay(this._ndc,this._ray),_=_||[],this._intersectNode(this.scene,_,M||!1),_.sort(this._intersectionCompareFunc),_},_intersectNode:function(a,l,_){a instanceof e.Z&&a.isRenderable()&&(!a.ignorePicking||_)&&(a.mode===s.Z.TRIANGLES&&a.geometry.isUseIndices()||a.geometry.pickByRay||a.geometry.pick)&&this._intersectRenderable(a,l);for(var M=0;M<a._children.length;M++)this._intersectNode(a._children[M],l,_)},_intersectRenderable:function(){var a=new r.Z,l=new r.Z,_=new r.Z,M=new o.Z,m=new n.Z;return function(T,y){var P=T.isSkinnedMesh();M.copy(this._ray),n.Z.invert(m,T.worldTransform),P||M.applyTransform(m);var S=T.geometry,w=P?T.skeleton.boundingBox:S.boundingBox;if(!(w&&!M.intersectBoundingBox(w))){if(S.pick){S.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,T,y);return}else if(S.pickByRay){S.pickByRay(M,T,y);return}var b=T.cullFace===s.Z.BACK&&T.frontFace===s.Z.CCW||T.cullFace===s.Z.FRONT&&T.frontFace===s.Z.CW,W,B=S.indices,O=S.attributes.position,A=S.attributes.weight,E=S.attributes.joint,d,f=[];if(!(!O||!O.value||!B)){if(P){d=T.skeleton.getSubSkinMatrices(T.__uid__,T.joints);for(var u=0;u<T.joints.length;u++){f[u]=f[u]||[];for(var c=0;c<16;c++)f[u][c]=d[u*16+c]}var v=[],g=[],R=[],x=[],L=[],I=S.attributes.skinnedPosition;(!I||!I.value)&&(S.createAttribute("skinnedPosition","f",3),I=S.attributes.skinnedPosition,I.init(S.vertexCount));for(var u=0;u<S.vertexCount;u++){O.get(u,v),A.get(u,g),E.get(u,R),g[3]=1-g[0]-g[1]-g[2],h.Z.set(x,0,0,0);for(var c=0;c<4;c++)R[c]>=0&&g[c]>1e-4&&(h.Z.transformMat4(L,v,f[R[c]]),h.Z.scaleAndAdd(x,x,L,g[c]));I.set(u,x)}}for(var u=0;u<B.length;u+=3){var Z=B[u],G=B[u+1],K=B[u+2],J=P?S.attributes.skinnedPosition:O;if(J.get(Z,a.array),J.get(G,l.array),J.get(K,_.array),b?W=M.intersectTriangle(a,l,_,T.culling):W=M.intersectTriangle(a,_,l,T.culling),W){var U=new r.Z;P?r.Z.copy(U,W):r.Z.transformMat4(U,W,T.worldTransform),y.push(new i.Intersection(W,U,T,[Z,G,K],u/3,r.Z.dist(U,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(a,l){return a.distance-l.distance}});i.Intersection=function(a,l,_,M,m,T){this.point=a,this.pointWorld=l,this.target=_,this.triangle=M,this.triangleIndex=m,this.distance=T},it.Z=i},43484:function(Dt,it,C){C.d(it,{Z:function(){return a}});var p=C(30420),o=C(99439),t=C(60217),r=C(84708),n=C(88693),e=C(18850),s=C(49865),h=`@export clay.skybox.vertex
#define SHADER_NAME skybox
uniform mat4 world : WORLD;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
varying vec3 v_WorldPosition;
void main()
{
 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end
@export clay.skybox.fragment
#define PI 3.1415926
uniform mat4 viewInverse : VIEWINVERSE;
#ifdef EQUIRECTANGULAR
uniform sampler2D environmentMap;
#else
uniform samplerCube environmentMap;
#endif
uniform float lod: 0.0;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
@import clay.util.srgb
@import clay.util.ACES
void main()
{
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
#ifdef EQUIRECTANGULAR
 float phi = acos(V.y);
 float theta = atan(-V.x, V.z) + PI * 0.5;
 vec2 uv = vec2(theta / 2.0 / PI, phi / PI);
 vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));
#else
 #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)
 vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));
 #else
 vec4 texel = decodeHDR(textureCube(environmentMap, V));
 #endif
#endif
#ifdef SRGB_DECODE
 texel = sRGBToLinear(texel);
#endif
#ifdef TONEMAPPING
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
#ifdef SRGB_ENCODE
 texel = linearTosRGB(texel);
#endif
 gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));
}
@end`;t.Z.import(h);var i=p.Z.extend(function(){var l=new t.Z({vertex:t.Z.source("clay.skybox.vertex"),fragment:t.Z.source("clay.skybox.fragment")}),_=new r.Z({shader:l,depthMask:!1});return{scene:null,geometry:new o.Z,material:_,environmentMap:null,culling:!1,_dummyCamera:new e.Z}},function(){var l=this.scene;l&&this.attachScene(l),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(l){this.scene&&this.detachScene(),l.skybox=this,this.scene=l,l.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(l){this.detachScene(),this.geometry.dispose(l)},setEnvironmentMap:function(l){l.textureType==="texture2D"?(this.material.define("EQUIRECTANGULAR"),l.minFilter=n.Z.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",l)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(l,_,M){this.renderSkybox(l,M)},renderSkybox:function(l,_){var M=this._dummyCamera;M.aspect=l.getViewportAspect(),M.fov=_.fov||50,M.updateProjectionMatrix(),s.Z.invert(M.invProjectionMatrix,M.projectionMatrix),M.worldTransform.copy(_.worldTransform),M.viewMatrix.copy(_.viewMatrix),this.position.copy(_.getWorldPosition()),this.update(),l.gl.disable(l.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),l.renderPass([this],M)}}),a=i},74738:function(Dt,it,C){var p=C(43484);it.Z=p.Z},56076:function(Dt,it,C){var p=C(85038),o=C(14147),t=C(18850),r=C(76728),n=["px","nx","py","ny","pz","nz"],e=p.Z.extend(function(){var s={position:new o.Z,far:1e3,near:.1,texture:null,shadowMapPass:null},h=s._cameras={px:new t.Z({fov:90}),nx:new t.Z({fov:90}),py:new t.Z({fov:90}),ny:new t.Z({fov:90}),pz:new t.Z({fov:90}),nz:new t.Z({fov:90})};return h.px.lookAt(o.Z.POSITIVE_X,o.Z.NEGATIVE_Y),h.nx.lookAt(o.Z.NEGATIVE_X,o.Z.NEGATIVE_Y),h.py.lookAt(o.Z.POSITIVE_Y,o.Z.POSITIVE_Z),h.ny.lookAt(o.Z.NEGATIVE_Y,o.Z.NEGATIVE_Z),h.pz.lookAt(o.Z.POSITIVE_Z,o.Z.NEGATIVE_Y),h.nz.lookAt(o.Z.NEGATIVE_Z,o.Z.NEGATIVE_Y),s._frameBuffer=new r.Z,s},{getCamera:function(s){return this._cameras[s]},render:function(s,h,i){var a=s.gl;i||h.update();for(var l=this.texture.width,_=2*Math.atan(l/(l-.5))/Math.PI*180,M=0;M<6;M++){var m=n[M],T=this._cameras[m];if(o.Z.copy(T.position,this.position),T.far=this.far,T.near=this.near,T.fov=_,this.shadowMapPass){T.update();var y=h.getBoundingBox();y.applyTransform(T.viewMatrix),h.viewBoundingBoxLastFrame.copy(y),this.shadowMapPass.render(s,h,T,!0)}this._frameBuffer.attach(this.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+M),this._frameBuffer.bind(s),s.render(h,T,!0),this._frameBuffer.unbind(s)}},dispose:function(s){this._frameBuffer.dispose(s)}});it.Z=e},79908:function(Dt,it,C){C.d(it,{Z:function(){return A}});var p=C(85038),o=C(23044),t=C(14147),r=C(37233),n=C(88908),e=C(49865),s=C(17103),h=C(60217),i=C(84708),a=C(76728),l=C(88693),_=C(75142),M=C(5847),m=C(18850),T=C(95347),y=C(80785),P=C(9904),S=C(85822),w=`@export clay.sm.depth.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
uniform vec2 uvRepeat = vec2(1.0, 1.0);
uniform vec2 uvOffset = vec2(0.0, 0.0);
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
void main(){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 v_ViewPosition = worldViewProjection * P;
 gl_Position = v_ViewPosition;
 v_Texcoord = texcoord * uvRepeat + uvOffset;
}
@end
@export clay.sm.depth.fragment
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
uniform float bias : 0.001;
uniform float slopeScale : 1.0;
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
@import clay.util.encode_float
void main(){
 float depth = v_ViewPosition.z / v_ViewPosition.w;
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
#ifdef USE_VSM
 depth = depth * 0.5 + 0.5;
 float moment1 = depth;
 float moment2 = depth * depth;
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 moment2 += 0.25*(dx*dx+dy*dy);
 #endif
 gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);
#else
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;
 #else
 depth += bias;
 #endif
 gl_FragColor = encodeFloat(depth * 0.5 + 0.5);
#endif
}
@end
@export clay.sm.debug_depth
uniform sampler2D depthMap;
varying vec2 v_Texcoord;
@import clay.util.decode_float
void main() {
 vec4 tex = texture2D(depthMap, v_Texcoord);
#ifdef USE_VSM
 gl_FragColor = vec4(tex.rgb, 1.0);
#else
 float depth = decodeFloat(tex);
 gl_FragColor = vec4(depth, depth, depth, 1.0);
#endif
}
@end
@export clay.sm.distance.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 world : WORLD;
attribute vec3 position : POSITION;
@import clay.chunk.skinning_header
varying vec3 v_WorldPosition;
void main (){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = worldViewProjection * P;
 v_WorldPosition = (world * P).xyz;
}
@end
@export clay.sm.distance.fragment
uniform vec3 lightPosition;
uniform float range : 100;
varying vec3 v_WorldPosition;
@import clay.util.encode_float
void main(){
 float dist = distance(lightPosition, v_WorldPosition);
#ifdef USE_VSM
 gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);
#else
 dist = dist / range;
 gl_FragColor = encodeFloat(dist);
#endif
}
@end
@export clay.plugin.shadow_map_common
@import clay.util.decode_float
float tapShadowMap(sampler2D map, vec2 uv, float z){
 vec4 tex = texture2D(map, uv);
 return step(z, decodeFloat(tex) * 2.0 - 1.0);
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {
 float shadowContrib = tapShadowMap(map, uv, z);
 vec2 offset = vec2(1.0 / textureSize) * scale;
#ifdef PCF_KERNEL_SIZE
 for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{
 shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);
 }}
 return shadowContrib / float(PCF_KERNEL_SIZE + 1);
#else
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);
 return shadowContrib / 9.0;
#endif
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize) {
 return pcf(map, uv, z, textureSize, vec2(1.0));
}
float chebyshevUpperBound(vec2 moments, float z){
 float p = 0.0;
 z = z * 0.5 + 0.5;
 if (z <= moments.x) {
 p = 1.0;
 }
 float variance = moments.y - moments.x * moments.x;
 variance = max(variance, 0.0000001);
 float mD = moments.x - z;
 float pMax = variance / (variance + mD * mD);
 pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);
 return max(p, pMax);
}
float computeShadowContrib(
 sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset
) {
 vec4 posInLightSpace = lightVPM * vec4(position, 1.0);
 posInLightSpace.xyz /= posInLightSpace.w;
 float z = posInLightSpace.z;
 if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&
 all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){
 vec2 uv = (posInLightSpace.xy+1.0) / 2.0;
 #ifdef USE_VSM
 vec2 moments = texture2D(map, uv * scale + offset).xy;
 return chebyshevUpperBound(moments, z);
 #else
 return pcf(map, uv * scale + offset, z, textureSize, scale);
 #endif
 }
 return 1.0;
}
float computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {
 return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));
}
float computeShadowContribOmni(samplerCube map, vec3 direction, float range)
{
 float dist = length(direction);
 vec4 shadowTex = textureCube(map, direction);
#ifdef USE_VSM
 vec2 moments = shadowTex.xy;
 float variance = moments.y - moments.x * moments.x;
 float mD = moments.x - dist;
 float p = variance / (variance + mD * mD);
 if(moments.x + 0.001 < dist){
 return clamp(p, 0.0, 1.0);
 }else{
 return 1.0;
 }
#else
 return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);
#endif
}
@end
@export clay.plugin.compute_shadow_map
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)
#ifdef SPOT_LIGHT_SHADOWMAP_COUNT
uniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT
#if defined(SHADOW_CASCADE)
uniform sampler2D directionalLightShadowMaps[1]:unconfigurable;
uniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;
uniform float directionalLightShadowMapSizes[1]:unconfigurable;
uniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;
uniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;
#else
uniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#endif
#ifdef POINT_LIGHT_SHADOWMAP_COUNT
uniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
uniform bool shadowEnabled : true;
#ifdef PCF_KERNEL_SIZE
uniform vec2 pcfKernel[PCF_KERNEL_SIZE];
#endif
@import clay.plugin.shadow_map_common
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,
 spotLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
#ifdef SHADOW_CASCADE
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)
 / (gl_DepthRange.far - gl_DepthRange.near);
 float shadowContrib;
 shadowContribs[0] = 1.0;
 for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{
 if (
 depth >= shadowCascadeClipsNear[_idx_] &&
 depth <= shadowCascadeClipsFar[_idx_]
 ) {
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[0],
 vec2(1.0 / float(SHADOW_CASCADE), 1.0),
 vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)
 );
 shadowContribs[0] = shadowContrib;
 }
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#else
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
#if defined(POINT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){
 vec3 lightPosition;
 vec3 direction;
 for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 lightPosition = pointLightPosition[_idx_];
 direction = position - lightPosition;
 shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);
 }}
 for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
@end`,b=["px","nx","py","ny","pz","nz"];h.Z.import(w);function W(E,d,f){if(f==="alphaMap")return E.material.get("diffuseMap");if(f==="alphaCutoff"){if(E.material.isDefined("fragment","ALPHA_TEST")&&E.material.get("diffuseMap")){var u=E.material.get("alphaCutoff");return u||0}return 0}else return f==="uvRepeat"?E.material.get("uvRepeat"):f==="uvOffset"?E.material.get("uvOffset"):d.get(f)}function B(E,d){var f=E.material,u=d.material;return f.get("diffuseMap")!==u.get("diffuseMap")||(f.get("alphaCutoff")||0)!==(u.get("alphaCutoff")||0)}var O=p.Z.extend(function(){return{softShadow:O.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new a.Z,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new P.Z}},function(){this._gaussianPassH=new y.Z({fragment:h.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new y.Z({fragment:h.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new y.Z({fragment:h.Z.source("clay.sm.debug_depth")})},{render:function(E,d,f,u){f||(f=d.getMainCamera()),this.trigger("beforerender",this,E,d,f),this._renderShadowPass(E,d,f,u),this.trigger("afterrender",this,E,d,f)},renderDebug:function(E,d){E.saveClear();var f=E.viewport,u=0,c=0,v=d||f.width/4,g=v;this.softShadow===O.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM");for(var R in this._textures){var x=this._textures[R];E.setViewport(u,c,v*x.width/x.height,g),this._outputDepthPass.setUniform("depthMap",x),this._outputDepthPass.render(E),u+=v*x.width/x.height}E.setViewport(f),E.restoreClear()},_updateReceivers:function(E,d){if(d.receiveShadow?(this._receivers.push(d),d.material.set("shadowEnabled",1),d.material.set("pcfKernel",this.kernelPCF)):d.material.set("shadowEnabled",0),this.softShadow===O.VSM)d.material.define("fragment","USE_VSM"),d.material.undefine("fragment","PCF_KERNEL_SIZE");else{d.material.undefine("fragment","USE_VSM");var f=this.kernelPCF;f&&f.length?d.material.define("fragment","PCF_KERNEL_SIZE",f.length/2):d.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(E,d){var f=this;d.traverse(function(v){v.isRenderable()&&f._updateReceivers(E,v)});for(var u=0;u<d.lights.length;u++){var c=d.lights[u];c.castShadow&&!c.invisible&&this._lightsCastShadow.push(c)}},_renderShadowPass:function(E,d,f,u){for(var c in this._shadowMapNumber)this._shadowMapNumber[c]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var v=E.gl;if(u||d.update(),f&&f.update(),d.updateLights(),this._update(E,d),!this._lightsCastShadow.length&&this._lastRenderNotCastShadow)return;this._lastRenderNotCastShadow=this._lightsCastShadow===0,v.enable(v.DEPTH_TEST),v.depthMask(!0),v.disable(v.BLEND),v.clearColor(1,1,1,1);for(var g=[],R=[],x=[],L=[],I=[],Z=[],G,K=0;K<this._lightsCastShadow.length;K++){var J=this._lightsCastShadow[K];if(J.type==="DIRECTIONAL_LIGHT"){if(G){console.warn("Only one direectional light supported with shadow cascade");continue}if(J.shadowCascade>4){console.warn("Support at most 4 cascade");continue}J.shadowCascade>1&&(G=J),this.renderDirectionalLightShadow(E,d,f,J,I,L,x)}else J.type==="SPOT_LIGHT"?this.renderSpotLightShadow(E,d,J,R,g):J.type==="POINT_LIGHT"&&this.renderPointLightShadow(E,d,J,Z);this._shadowMapNumber[J.type]++}for(var U in this._shadowMapNumber)for(var H=this._shadowMapNumber[U],V=U+"_SHADOWMAP_COUNT",K=0;K<this._receivers.length;K++){var D=this._receivers[K],F=D.material;F.fragmentDefines[V]!==H&&(H>0?F.define("fragment",V,H):F.isDefined("fragment",V)&&F.undefine("fragment",V))}for(var K=0;K<this._receivers.length;K++){var D=this._receivers[K],F=D.material;G?F.define("fragment","SHADOW_CASCADE",G.shadowCascade):F.undefine("fragment","SHADOW_CASCADE")}var N=d.shadowUniforms;function X(at){return at.height}if(x.length>0){var Y=x.map(X);if(N.directionalLightShadowMaps={value:x,type:"tv"},N.directionalLightMatrices={value:L,type:"m4v"},N.directionalLightShadowMapSizes={value:Y,type:"1fv"},G){var et=I.slice(),z=I.slice();et.pop(),z.shift(),et.reverse(),z.reverse(),L.reverse(),N.shadowCascadeClipsNear={value:et,type:"1fv"},N.shadowCascadeClipsFar={value:z,type:"1fv"}}}if(g.length>0){var k=g.map(X),N=d.shadowUniforms;N.spotLightShadowMaps={value:g,type:"tv"},N.spotLightMatrices={value:R,type:"m4v"},N.spotLightShadowMapSizes={value:k,type:"1fv"}}Z.length>0&&(N.pointLightShadowMaps={value:Z,type:"tv"})},renderDirectionalLightShadow:function(){var E=new n.Z,d=new e.Z,f=new r.Z,u=new e.Z,c=new e.Z,v=new e.Z,g=new e.Z;return function(R,x,L,I,Z,G,K){var J=this._getDepthMaterial(I),U={getMaterial:function(St){return St.shadowDepthMaterial||J},isMaterialChanged:B,getUniform:W,ifRender:function(St){return St.castShadow},sortCompare:s.Z.opaqueSortCompare};if(!x.viewBoundingBoxLastFrame.isFinite()){var H=x.getBoundingBox();x.viewBoundingBoxLastFrame.copy(H).applyTransform(L.viewMatrix)}var V=Math.min(-x.viewBoundingBoxLastFrame.min.z,L.far),D=Math.max(-x.viewBoundingBoxLastFrame.max.z,L.near),F=this._getDirectionalLightCamera(I,x,L),N=v.array;g.copy(F.projectionMatrix),S.Z.invert(c.array,F.worldTransform.array),S.Z.multiply(c.array,c.array,L.worldTransform.array),S.Z.multiply(N,g.array,c.array);for(var X=[],Y=L instanceof m.Z,et=(L.near+L.far)/(L.near-L.far),z=2*L.near*L.far/(L.near-L.far),k=0;k<=I.shadowCascade;k++){var at=D*Math.pow(V/D,k/I.shadowCascade),ft=D+(V-D)*k/I.shadowCascade,_t=at*I.cascadeSplitLogFactor+ft*(1-I.cascadeSplitLogFactor);X.push(_t),Z.push(-(-_t*et+z)/-_t)}var tt=this._getTexture(I,I.shadowCascade);K.push(tt);var rt=R.viewport,ut=R.gl;this._frameBuffer.attach(tt),this._frameBuffer.bind(R),ut.clear(ut.COLOR_BUFFER_BIT|ut.DEPTH_BUFFER_BIT);for(var k=0;k<I.shadowCascade;k++){var ct=X[k],st=X[k+1];Y?S.Z.perspective(d.array,L.fov/180*Math.PI,L.aspect,ct,st):S.Z.ortho(d.array,L.left,L.right,L.bottom,L.top,ct,st),E.setFromProjection(d),E.getTransformedBoundingBox(f,c),f.applyProjection(g);var dt=f.min.array,ht=f.max.array;dt[0]=Math.max(dt[0],-1),dt[1]=Math.max(dt[1],-1),ht[0]=Math.min(ht[0],1),ht[1]=Math.min(ht[1],1),u.ortho(dt[0],ht[0],dt[1],ht[1],1,-1),F.projectionMatrix.multiplyLeft(u);var xt=I.shadowResolution||512;R.setViewport((I.shadowCascade-k-1)*xt,0,xt,xt,1);var Rt=x.updateRenderList(F);R.renderPass(Rt.opaque,F,U),this.softShadow===O.VSM&&this._gaussianFilter(R,tt,tt.width);var mt=new e.Z;mt.copy(F.viewMatrix).multiplyLeft(F.projectionMatrix),G.push(mt.array),F.projectionMatrix.copy(g)}this._frameBuffer.unbind(R),R.setViewport(rt)}}(),renderSpotLightShadow:function(E,d,f,u,c){var v=this._getTexture(f),g=this._getSpotLightCamera(f),R=E.gl;this._frameBuffer.attach(v),this._frameBuffer.bind(E),R.clear(R.COLOR_BUFFER_BIT|R.DEPTH_BUFFER_BIT);var x=this._getDepthMaterial(f),L={getMaterial:function(G){return G.shadowDepthMaterial||x},isMaterialChanged:B,getUniform:W,ifRender:function(G){return G.castShadow},sortCompare:s.Z.opaqueSortCompare},I=d.updateRenderList(g);E.renderPass(I.opaque,g,L),this._frameBuffer.unbind(E),this.softShadow===O.VSM&&this._gaussianFilter(E,v,v.width);var Z=new e.Z;Z.copy(g.worldTransform).invert().multiplyLeft(g.projectionMatrix),c.push(v),u.push(Z.array)},renderPointLightShadow:function(E,d,f,u){var c=this._getTexture(f),v=E.gl;u.push(c);var g=this._getDepthMaterial(f),R={getMaterial:function(D){return D.shadowDepthMaterial||g},getUniform:W,sortCompare:s.Z.opaqueSortCompare},x={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},L=new r.Z,I=f.getWorldPosition().array,Z=new r.Z,G=f.range;Z.min.setArray(I),Z.max.setArray(I);var K=new t.Z(G,G,G);Z.max.add(K),Z.min.sub(K);var J={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};d.traverse(function(D){if(D.isRenderable()&&D.castShadow){var F=D.geometry;if(!F.boundingBox){for(var N=0;N<b.length;N++)x[b[N]].push(D);return}if(L.transformFrom(F.boundingBox,D.worldTransform),!L.intersectBoundingBox(Z))return;L.updateVertices();for(var N=0;N<b.length;N++)J[b[N]]=!1;for(var N=0;N<8;N++){var X=L.vertices[N],Y=X[0]-I[0],et=X[1]-I[1],z=X[2]-I[2],k=Math.abs(Y),at=Math.abs(et),ft=Math.abs(z);k>at?k>ft?J[Y>0?"px":"nx"]=!0:J[z>0?"pz":"nz"]=!0:at>ft?J[et>0?"py":"ny"]=!0:J[z>0?"pz":"nz"]=!0}for(var N=0;N<b.length;N++)J[b[N]]&&x[b[N]].push(D)}});for(var U=0;U<6;U++){var H=b[U],V=this._getPointLightCamera(f,H);this._frameBuffer.attach(c,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+U),this._frameBuffer.bind(E),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT),E.renderPass(x[H],V,R)}this._frameBuffer.unbind(E)},_getDepthMaterial:function(E){var d=this._lightMaterials[E.__uid__],f=E.type==="POINT_LIGHT";if(!d){var u=f?"clay.sm.distance.":"clay.sm.depth.";d=new i.Z({precision:this.precision,shader:new h.Z(h.Z.source(u+"vertex"),h.Z.source(u+"fragment"))}),this._lightMaterials[E.__uid__]=d}return E.shadowSlopeScale!=null&&d.setUniform("slopeScale",E.shadowSlopeScale),E.shadowBias!=null&&d.setUniform("bias",E.shadowBias),this.softShadow===O.VSM?d.define("fragment","USE_VSM"):d.undefine("fragment","USE_VSM"),f&&(d.set("lightPosition",E.getWorldPosition().array),d.set("range",E.range)),d},_gaussianFilter:function(E,d,f){var u={width:f,height:f,type:l.Z.FLOAT},c=this._texturePool.get(u);this._frameBuffer.attach(c),this._frameBuffer.bind(E),this._gaussianPassH.setUniform("texture",d),this._gaussianPassH.setUniform("textureWidth",f),this._gaussianPassH.render(E),this._frameBuffer.attach(d),this._gaussianPassV.setUniform("texture",c),this._gaussianPassV.setUniform("textureHeight",f),this._gaussianPassV.render(E),this._frameBuffer.unbind(E),this._texturePool.put(c)},_getTexture:function(E,d){var f=E.__uid__,u=this._textures[f],c=E.shadowResolution||512;return d=d||1,u||(E.type==="POINT_LIGHT"?u=new M.Z:u=new _.Z,u.width=c*d,u.height=c,this.softShadow===O.VSM?(u.type=l.Z.FLOAT,u.anisotropic=4):(u.minFilter=o.Z.NEAREST,u.magFilter=o.Z.NEAREST,u.useMipmap=!1),this._textures[f]=u),u},_getPointLightCamera:function(E,d){this._lightCameras.point||(this._lightCameras.point={px:new m.Z,nx:new m.Z,py:new m.Z,ny:new m.Z,pz:new m.Z,nz:new m.Z});var f=this._lightCameras.point[d];switch(f.far=E.range,f.fov=90,f.position.set(0,0,0),d){case"px":f.lookAt(t.Z.POSITIVE_X,t.Z.NEGATIVE_Y);break;case"nx":f.lookAt(t.Z.NEGATIVE_X,t.Z.NEGATIVE_Y);break;case"py":f.lookAt(t.Z.POSITIVE_Y,t.Z.POSITIVE_Z);break;case"ny":f.lookAt(t.Z.NEGATIVE_Y,t.Z.NEGATIVE_Z);break;case"pz":f.lookAt(t.Z.POSITIVE_Z,t.Z.NEGATIVE_Y);break;case"nz":f.lookAt(t.Z.NEGATIVE_Z,t.Z.NEGATIVE_Y);break}return E.getWorldPosition(f.position),f.update(),f},_getDirectionalLightCamera:function(){var E=new e.Z,d=new r.Z,f=new r.Z;return function(u,c,v){this._lightCameras.directional||(this._lightCameras.directional=new T.Z);var g=this._lightCameras.directional;d.copy(c.viewBoundingBoxLastFrame),d.intersection(v.frustum.boundingBox),g.position.copy(d.min).add(d.max).scale(.5).transformMat4(v.worldTransform),g.rotation.copy(u.rotation),g.scale.copy(u.scale),g.updateWorldTransform(),e.Z.invert(E,g.worldTransform),e.Z.multiply(E,E,v.worldTransform),f.copy(d).applyTransform(E);var R=f.min.array,x=f.max.array;return g.position.set((R[0]+x[0])/2,(R[1]+x[1])/2,x[2]).transformMat4(g.worldTransform),g.near=0,g.far=-R[2]+x[2],isNaN(this.lightFrustumBias)?g.far*=4:g.far+=this.lightFrustumBias,g.left=R[0],g.right=x[0],g.top=x[1],g.bottom=R[1],g.update(!0),g}}(),_getSpotLightCamera:function(E){this._lightCameras.spot||(this._lightCameras.spot=new m.Z);var d=this._lightCameras.spot;return d.fov=E.penumbraAngle*2,d.far=E.range,d.worldTransform.copy(E.worldTransform),d.updateProjectionMatrix(),S.Z.invert(d.viewMatrix.array,d.worldTransform.array),d},dispose:function(E){var d=E.gl||E;this._frameBuffer&&this._frameBuffer.dispose(d);for(var f in this._textures)this._textures[f].dispose(d);this._texturePool.clear(E.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var u=0;u<this._receivers.length;u++){var c=this._receivers[u];if(c.material){var v=c.material;v.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),v.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),v.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),v.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});O.VSM=1,O.PCF=2;var A=O},34725:function(Dt,it){it.Z=`@export clay.compositor.blend
#define SHADER_NAME blend
#ifdef TEXTURE1_ENABLED
uniform sampler2D texture1;
uniform float weight1 : 1.0;
#endif
#ifdef TEXTURE2_ENABLED
uniform sampler2D texture2;
uniform float weight2 : 1.0;
#endif
#ifdef TEXTURE3_ENABLED
uniform sampler2D texture3;
uniform float weight3 : 1.0;
#endif
#ifdef TEXTURE4_ENABLED
uniform sampler2D texture4;
uniform float weight4 : 1.0;
#endif
#ifdef TEXTURE5_ENABLED
uniform sampler2D texture5;
uniform float weight5 : 1.0;
#endif
#ifdef TEXTURE6_ENABLED
uniform sampler2D texture6;
uniform float weight6 : 1.0;
#endif
varying vec2 v_Texcoord;
@import clay.util.rgbm
void main()
{
 vec4 tex = vec4(0.0);
#ifdef TEXTURE1_ENABLED
 tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;
#endif
#ifdef TEXTURE2_ENABLED
 tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;
#endif
#ifdef TEXTURE3_ENABLED
 tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;
#endif
#ifdef TEXTURE4_ENABLED
 tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;
#endif
#ifdef TEXTURE5_ENABLED
 tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;
#endif
#ifdef TEXTURE6_ENABLED
 tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;
#endif
 gl_FragColor = encodeHDR(tex);
}
@end`},71364:function(Dt,it){it.Z=`@export clay.compositor.kernel.gaussian_9
float gaussianKernel[9];
gaussianKernel[0] = 0.07;
gaussianKernel[1] = 0.09;
gaussianKernel[2] = 0.12;
gaussianKernel[3] = 0.14;
gaussianKernel[4] = 0.16;
gaussianKernel[5] = 0.14;
gaussianKernel[6] = 0.12;
gaussianKernel[7] = 0.09;
gaussianKernel[8] = 0.07;
@end
@export clay.compositor.kernel.gaussian_13
float gaussianKernel[13];
gaussianKernel[0] = 0.02;
gaussianKernel[1] = 0.03;
gaussianKernel[2] = 0.06;
gaussianKernel[3] = 0.08;
gaussianKernel[4] = 0.11;
gaussianKernel[5] = 0.13;
gaussianKernel[6] = 0.14;
gaussianKernel[7] = 0.13;
gaussianKernel[8] = 0.11;
gaussianKernel[9] = 0.08;
gaussianKernel[10] = 0.06;
gaussianKernel[11] = 0.03;
gaussianKernel[12] = 0.02;
@end
@export clay.compositor.gaussian_blur
#define SHADER_NAME gaussian_blur
uniform sampler2D texture;varying vec2 v_Texcoord;
uniform float blurSize : 2.0;
uniform vec2 textureSize : [512.0, 512.0];
uniform float blurDir : 0.0;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main (void)
{
 @import clay.compositor.kernel.gaussian_9
 vec2 off = blurSize / textureSize;
 off *= vec2(1.0 - blurDir, blurDir);
 vec4 sum = vec4(0.0);
 float weightAll = 0.0;
 for (int i = 0; i < 9; i++) {
 float w = gaussianKernel[i];
 vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));
 sum += texel * w;
 weightAll += w;
 }
 gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));
}
@end
`},61430:function(Dt,it){it.Z=`@export clay.compositor.bright
uniform sampler2D texture;
uniform float threshold : 1;
uniform float scale : 1.0;
uniform vec2 textureSize: [512, 512];
varying vec2 v_Texcoord;
const vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
vec4 median(vec4 a, vec4 b, vec4 c)
{
 return a + b + c - min(min(a, b), c) - max(max(a, b), c);
}
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
#ifdef ANTI_FLICKER
 vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);
 vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));
 vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));
 vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));
 vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));
 texel = median(median(texel, s1, s2), s3, s4);
#endif
 float lum = dot(texel.rgb , lumWeight);
 vec4 color;
 if (lum > threshold && texel.a > 0.0)
 {
 color = vec4(texel.rgb * scale, texel.a * scale);
 }
 else
 {
 color = vec4(0.0);
 }
 gl_FragColor = encodeHDR(color);
}
@end
`},12045:function(Dt,it){it.Z=`@export clay.compositor.downsample
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
varying vec2 v_Texcoord;
@import clay.util.rgbm
float brightness(vec3 c)
{
 return max(max(c.r, c.g), c.b);
}
@import clay.util.clamp_sample
void main()
{
 vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;
#ifdef ANTI_FLICKER
 vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;
 vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;
 vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;
 vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;
 float s1w = 1.0 / (brightness(s1) + 1.0);
 float s2w = 1.0 / (brightness(s2) + 1.0);
 float s3w = 1.0 / (brightness(s3) + 1.0);
 float s4w = 1.0 / (brightness(s4) + 1.0);
 float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);
 vec4 color = vec4(
 (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,
 1.0
 );
#else
 vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 color *= 0.25;
#endif
 gl_FragColor = encodeHDR(color);
}
@end`},14289:function(Dt,it){it.Z=`@export clay.compositor.fxaa
uniform sampler2D texture;
uniform vec4 viewport : VIEWPORT;
varying vec2 v_Texcoord;
#define FXAA_REDUCE_MIN (1.0/128.0)
#define FXAA_REDUCE_MUL (1.0/8.0)
#define FXAA_SPAN_MAX 8.0
@import clay.util.rgbm
void main()
{
 vec2 resolution = 1.0 / viewport.zw;
 vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;
 vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );
 vec3 rgbM = rgbaM.xyz;
 float opacity = rgbaM.w;
 vec3 luma = vec3( 0.299, 0.587, 0.114 );
 float lumaNW = dot( rgbNW, luma );
 float lumaNE = dot( rgbNE, luma );
 float lumaSW = dot( rgbSW, luma );
 float lumaSE = dot( rgbSE, luma );
 float lumaM = dot( rgbM, luma );
 float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );
 float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );
 vec2 dir;
 dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
 dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));
 float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );
 float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );
 dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),
 max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
 dir * rcpDirMin)) * resolution;
 vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA *= 0.5;
 vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;
 rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;
 rgbB *= 0.25;
 rgbB += rgbA * 0.5;
 float lumaB = dot( rgbB, luma );
 if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )
 {
 gl_FragColor = vec4( rgbA, opacity );
 }
 else {
 gl_FragColor = vec4( rgbB, opacity );
 }
}
@end`},53746:function(Dt,it){it.Z=`@export clay.compositor.hdr.composite
#define TONEMAPPING
uniform sampler2D texture;
#ifdef BLOOM_ENABLED
uniform sampler2D bloom;
#endif
#ifdef LENSFLARE_ENABLED
uniform sampler2D lensflare;
uniform sampler2D lensdirt;
#endif
#ifdef LUM_ENABLED
uniform sampler2D lum;
#endif
#ifdef LUT_ENABLED
uniform sampler2D lut;
#endif
#ifdef COLOR_CORRECTION
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float saturation : 1.0;
#endif
#ifdef VIGNETTE
uniform float vignetteDarkness: 1.0;
uniform float vignetteOffset: 1.0;
#endif
uniform float exposure : 1.0;
uniform float bloomIntensity : 0.25;
uniform float lensflareIntensity : 1;
varying vec2 v_Texcoord;
@import clay.util.srgb
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
float eyeAdaption(float fLum)
{
 return mix(0.2, fLum, 0.5);
}
#ifdef LUT_ENABLED
vec3 lutTransform(vec3 color) {
 float blueColor = color.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec4 newColor1 = texture2D(lut, texPos1);
 vec4 newColor2 = texture2D(lut, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 return newColor.rgb;
}
#endif
@import clay.util.rgbm
void main()
{
 vec4 texel = vec4(0.0);
 vec4 originalTexel = vec4(0.0);
#ifdef TEXTURE_ENABLED
 texel = decodeHDR(texture2D(texture, v_Texcoord));
 originalTexel = texel;
#endif
#ifdef BLOOM_ENABLED
 vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));
 texel.rgb += bloomTexel.rgb * bloomIntensity;
 texel.a += bloomTexel.a * bloomIntensity;
#endif
#ifdef LENSFLARE_ENABLED
 texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;
#endif
 texel.a = min(texel.a, 1.0);
#ifdef LUM_ENABLED
 float fLum = texture2D(lum, vec2(0.5, 0.5)).r;
 float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));
 float exposureBias = adaptedLumDest * exposure;
#else
 float exposureBias = exposure;
#endif
#ifdef TONEMAPPING
 texel.rgb *= exposureBias;
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
 texel = linearTosRGB(texel);
#ifdef LUT_ENABLED
 texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));
#endif
#ifdef COLOR_CORRECTION
 texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);
 texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));
 texel.rgb = mix(vec3(lum), texel.rgb, saturation);
#endif
#ifdef VIGNETTE
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);
 texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));
#endif
 gl_FragColor = encodeHDR(texel);
#ifdef DEBUG
 #if DEBUG == 1
 gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));
 #elif DEBUG == 2
 gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);
 #elif DEBUG == 3
 gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));
 #endif
#endif
 if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {
 gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));
 }
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`},69663:function(Dt,it){it.Z=`
@export clay.compositor.lut
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform sampler2D lookup;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 float blueColor = tex.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec4 newColor1 = texture2D(lookup, texPos1);
 vec4 newColor2 = texture2D(lookup, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 gl_FragColor = vec4(newColor.rgb, tex.w);
}
@end`},71032:function(Dt,it){it.Z=`@export clay.compositor.output
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = tex.rgb;
#ifdef OUTPUT_ALPHA
 gl_FragColor.a = tex.a;
#else
 gl_FragColor.a = 1.0;
#endif
 gl_FragColor = encodeHDR(gl_FragColor);
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`},85747:function(Dt,it){it.Z=`
@export clay.compositor.upsample
#define HIGH_QUALITY
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
uniform float sampleScale: 0.5;
varying vec2 v_Texcoord;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main()
{
#ifdef HIGH_QUALITY
 vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 gl_FragColor = encodeHDR(s / 16.0);
#else
 vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 gl_FragColor = encodeHDR(s / 4.0);
#endif
}
@end`},19671:function(Dt,it){it.Z=`@export clay.prez.vertex
uniform mat4 WVP : WORLDVIEWPROJECTION;
attribute vec3 pos : POSITION;
attribute vec2 uv : TEXCOORD_0;
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec2 v_Texcoord;
void main()
{
 vec4 P = vec4(pos, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = WVP * P;
 v_Texcoord = uv * uvRepeat + uvOffset;
}
@end
@export clay.prez.fragment
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
varying vec2 v_Texcoord;
void main()
{
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
 gl_FragColor = vec4(0.0,0.0,0.0,1.0);
}
@end`},73142:function(Dt,it){it.Z=`
@export clay.util.rand
highp float rand(vec2 uv) {
 const highp float a = 12.9898, b = 78.233, c = 43758.5453;
 highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);
 return fract(sin(sn) * c);
}
@end
@export clay.util.calculate_attenuation
uniform float attenuationFactor : 5.0;
float lightAttenuation(float dist, float range)
{
 float attenuation = 1.0;
 attenuation = dist*dist/(range*range+1.0);
 float att_s = attenuationFactor;
 attenuation = 1.0/(attenuation*att_s+1.0);
 att_s = 1.0/(att_s+1.0);
 attenuation = attenuation - att_s;
 attenuation /= 1.0 - att_s;
 return clamp(attenuation, 0.0, 1.0);
}
@end
@export clay.util.edge_factor
#ifdef SUPPORT_STANDARD_DERIVATIVES
float edgeFactor(float width)
{
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#else
float edgeFactor(float width)
{
 return 1.0;
}
#endif
@end
@export clay.util.encode_float
vec4 encodeFloat(const in float depth)
{
 const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
 const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
 vec4 res = fract(depth * bitShifts);
 res -= res.xxyz * bit_mask;
 return res;
}
@end
@export clay.util.decode_float
float decodeFloat(const in vec4 color)
{
 const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);
 return dot(color, bitShifts);
}
@end
@export clay.util.float
@import clay.util.encode_float
@import clay.util.decode_float
@end
@export clay.util.rgbm_decode
vec3 RGBMDecode(vec4 rgbm, float range) {
 return range * rgbm.rgb * rgbm.a;
}
@end
@export clay.util.rgbm_encode
vec4 RGBMEncode(vec3 color, float range) {
 if (dot(color, color) == 0.0) {
 return vec4(0.0);
 }
 vec4 rgbm;
 color /= range;
 rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);
 rgbm.a = ceil(rgbm.a * 255.0) / 255.0;
 rgbm.rgb = color / rgbm.a;
 return rgbm;
}
@end
@export clay.util.rgbm
@import clay.util.rgbm_decode
@import clay.util.rgbm_encode
vec4 decodeHDR(vec4 color)
{
#if defined(RGBM_DECODE) || defined(RGBM)
 return vec4(RGBMDecode(color, 8.12), 1.0);
#else
 return color;
#endif
}
vec4 encodeHDR(vec4 color)
{
#if defined(RGBM_ENCODE) || defined(RGBM)
 return RGBMEncode(color.xyz, 8.12);
#else
 return color;
#endif
}
@end
@export clay.util.srgb
vec4 sRGBToLinear(in vec4 value) {
 return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);
}
vec4 linearTosRGB(in vec4 value) {
 return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);
}
@end
@export clay.chunk.skinning_header
#ifdef SKINNING
attribute vec3 weight : WEIGHT;
attribute vec4 joint : JOINT;
#ifdef USE_SKIN_MATRICES_TEXTURE
uniform sampler2D skinMatricesTexture : ignore;
uniform float skinMatricesTextureSize: ignore;
mat4 getSkinMatrix(sampler2D tex, float idx) {
 float j = idx * 4.0;
 float x = mod(j, skinMatricesTextureSize);
 float y = floor(j / skinMatricesTextureSize) + 0.5;
 vec2 scale = vec2(skinMatricesTextureSize);
 return mat4(
 texture2D(tex, vec2(x + 0.5, y) / scale),
 texture2D(tex, vec2(x + 1.5, y) / scale),
 texture2D(tex, vec2(x + 2.5, y) / scale),
 texture2D(tex, vec2(x + 3.5, y) / scale)
 );
}
mat4 getSkinMatrix(float idx) {
 return getSkinMatrix(skinMatricesTexture, idx);
}
#else
uniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;
mat4 getSkinMatrix(float idx) {
 return skinMatrix[int(idx)];
}
#endif
#endif
@end
@export clay.chunk.skin_matrix
mat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;
if (weight.y > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.y) * weight.y;
}
if (weight.z > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.z) * weight.z;
}
float weightW = 1.0-weight.x-weight.y-weight.z;
if (weightW > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.w) * weightW;
}
@end
@export clay.chunk.instancing_header
#ifdef INSTANCING
attribute vec4 instanceMat1;
attribute vec4 instanceMat2;
attribute vec4 instanceMat3;
#endif
@end
@export clay.chunk.instancing_matrix
mat4 instanceMat = mat4(
 vec4(instanceMat1.xyz, 0.0),
 vec4(instanceMat2.xyz, 0.0),
 vec4(instanceMat3.xyz, 0.0),
 vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)
);
@end
@export clay.util.parallax_correct
vec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {
 vec3 first = (boxMax - pos) / dir;
 vec3 second = (boxMin - pos) / dir;
 vec3 further = max(first, second);
 float dist = min(further.x, min(further.y, further.z));
 vec3 fixedPos = pos + dir * dist;
 vec3 boxCenter = (boxMax + boxMin) * 0.5;
 return normalize(fixedPos - boxCenter);
}
@end
@export clay.util.clamp_sample
vec4 clampSample(const in sampler2D texture, const in vec2 coord)
{
#ifdef STEREO
 float eye = step(0.5, coord.x) * 0.5;
 vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));
#else
 vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));
#endif
 return texture2D(texture, coordClamped);
}
@end
@export clay.util.ACES
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
@end`},74208:function(Dt,it,C){C.d(it,{Z:function(){return P}});var p=C(75142),o=C(5847),t=C(88693),r=C(76728),n=C(80785),e=C(84708),s=C(60217),h=C(43484),i=C(50908),a=C(56076),l=C(82544),_=C(39789),M=`#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform sampler2D normalDistribution;
uniform vec2 viewportSize : [512, 256];
const vec3 N = vec3(0.0, 0.0, 1.0);
const float fSampleNumber = float(SAMPLE_NUMBER);
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
float G_Smith(float roughness, float NoV, float NoL) {
 float k = roughness * roughness / 2.0;
 float G1V = NoV / (NoV * (1.0 - k) + k);
 float G1L = NoL / (NoL * (1.0 - k) + k);
 return G1L * G1V;
}
void main() {
 vec2 uv = gl_FragCoord.xy / viewportSize;
 float NoV = uv.x;
 float roughness = uv.y;
 vec3 V;
 V.x = sqrt(1.0 - NoV * NoV);
 V.y = 0.0;
 V.z = NoV;
 float A = 0.0;
 float B = 0.0;
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(L.z, 0.0, 1.0);
 float NoH = clamp(H.z, 0.0, 1.0);
 float VoH = clamp(dot(V, H), 0.0, 1.0);
 if (NoL > 0.0) {
 float G = G_Smith(roughness, NoV, NoL);
 float G_Vis = G * VoH / (NoH * NoV);
 float Fc = pow(1.0 - VoH, 5.0);
 A += (1.0 - Fc) * G_Vis;
 B += Fc * G_Vis;
 }
 }
 gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);
}
`,m=`#define SHADER_NAME prefilter
#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform mat4 viewInverse : VIEWINVERSE;
uniform samplerCube environmentMap;
uniform sampler2D normalDistribution;
uniform float roughness : 0.5;
varying vec2 v_Texcoord;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
void main() {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
 vec3 N = V;
 vec3 prefilteredColor = vec3(0.0);
 float totalWeight = 0.0;
 float fMaxSampleNumber = float(SAMPLE_NUMBER);
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(dot(N, L), 0.0, 1.0);
 if (NoL > 0.0) {
 prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;
 totalWeight += NoL;
 }
 }
 gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));
}
`,T={},y=["px","nx","py","ny","pz","nz"];T.prefilterEnvironmentMap=function(S,w,b,W,B){(!B||!W)&&(W=T.generateNormalDistribution(),B=T.integrateBRDF(S,W)),b=b||{};var O=b.width||64,A=b.height||64,E=b.type||w.type,d=new o.Z({width:O,height:A,type:E,flipY:!1,mipmaps:[]});d.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var f=Math.min(O,A),u=Math.log(f)/Math.log(2)+1,c=new e.Z({shader:new s.Z({vertex:s.Z.source("clay.skybox.vertex"),fragment:m})});c.set("normalDistribution",W),b.encodeRGBM&&c.define("fragment","RGBM_ENCODE"),b.decodeRGBM&&c.define("fragment","RGBM_DECODE");var v=new i.Z,g;if(w.textureType==="texture2D"){var R=new o.Z({width:O,height:A,type:E===t.Z.FLOAT?t.Z.HALF_FLOAT:E});_.Z.panoramaToCubeMap(S,w,R,{encodeRGBM:b.decodeRGBM}),w=R}g=new h.Z({scene:v,material:c}),g.material.set("environmentMap",w);var x=new a.Z({texture:d});b.encodeRGBM&&(E=d.type=t.Z.UNSIGNED_BYTE);for(var L=new p.Z({width:O,height:A,type:E}),I=new r.Z({depthBuffer:!1}),Z=l.Z[E===t.Z.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],G=0;G<u;G++){d.mipmaps[G]={pixels:{}},g.material.set("roughness",G/(u-1));for(var K=L.width,J=2*Math.atan(K/(K-.5))/Math.PI*180,U=0;U<y.length;U++){var H=new Z(L.width*L.height*4);I.attach(L),I.bind(S);var V=x.getCamera(y[U]);V.fov=J,S.render(v,V),S.gl.readPixels(0,0,L.width,L.height,t.Z.RGBA,E,H),I.unbind(S),d.mipmaps[G].pixels[y[U]]=H}L.width/=2,L.height/=2,L.dirty()}return I.dispose(S),L.dispose(S),g.dispose(S),W.dispose(S),{environmentMap:d,brdfLookup:B,normalDistribution:W,maxMipmapLevel:u}},T.integrateBRDF=function(S,w){w=w||T.generateNormalDistribution();var b=new r.Z({depthBuffer:!1}),W=new n.Z({fragment:M}),B=new p.Z({width:512,height:256,type:t.Z.HALF_FLOAT,wrapS:t.Z.CLAMP_TO_EDGE,wrapT:t.Z.CLAMP_TO_EDGE,minFilter:t.Z.NEAREST,magFilter:t.Z.NEAREST,useMipmap:!1});return W.setUniform("normalDistribution",w),W.setUniform("viewportSize",[512,256]),W.attachOutput(B),W.render(S,b),b.dispose(S),B},T.generateNormalDistribution=function(b,W){for(var b=b||256,W=W||1024,B=new p.Z({width:b,height:W,type:t.Z.FLOAT,minFilter:t.Z.NEAREST,magFilter:t.Z.NEAREST,wrapS:t.Z.CLAMP_TO_EDGE,wrapT:t.Z.CLAMP_TO_EDGE,useMipmap:!1}),O=new Float32Array(W*b*4),A=[],E=0;E<b;E++){for(var d=E/b,f=d*d,u=0;u<W;u++){var c=(u<<16|u>>>16)>>>0;c=((c&1431655765)<<1|(c&2863311530)>>>1)>>>0,c=((c&858993459)<<2|(c&3435973836)>>>2)>>>0,c=((c&252645135)<<4|(c&4042322160)>>>4)>>>0,c=(((c&16711935)<<8|(c&4278255360)>>>8)>>>0)/4294967296;var v=Math.sqrt((1-c)/(1+(f*f-1)*c));A[u]=v}for(var u=0;u<W;u++){var g=(u*b+E)*4,v=A[u],R=Math.sqrt(1-v*v),x=u/W,L=2*Math.PI*x;O[g]=R*Math.cos(L),O[g+1]=v,O[g+2]=R*Math.sin(L),O[g+3]=1}}return B.pixels=O,B};var P=T},34052:function(Dt,it,C){var p=C(88693),o=C(76728),t=C(75142),r=C(82544),n=C(43484),e=C(74738),s=C(56076),h=C(50908),i=C(3023),a={},l=["px","nx","py","ny","pz","nz"];function _(y,P){var S=new Texture2D({width:9,height:1,type:Texture.FLOAT}),w=new Pass({fragment:projectEnvMapShaderCode});w.material.define("fragment","TEXTURE_SIZE",P.width),w.setUniform("environmentMap",P);var b=new FrameBuffer;b.attach(S),w.render(y,b),b.bind(y);var W=new vendor.Float32Array(9*4);y.gl.readPixels(0,0,9,1,Texture.RGBA,Texture.FLOAT,W);for(var B=new vendor.Float32Array(9*3),O=0;O<9;O++)B[O*3]=W[O*4],B[O*3+1]=W[O*4+1],B[O*3+2]=W[O*4+2];return b.unbind(y),b.dispose(y),w.dispose(y),B}function M(y,P){var S=y[0],w=y[1],b=y[2];return P===0?1:P===1?S:P===2?w:P===3?b:P===4?S*b:P===5?w*b:P===6?S*w:P===7?3*b*b-1:S*S-w*w}var m={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function T(y,P,S,w){for(var b=new r.Z.Float32Array(27),W=i.Z.create(),B=i.Z.create(),O=i.Z.create(),A=0;A<9;A++){for(var E=i.Z.create(),d=0;d<l.length;d++){for(var f=P[l[d]],u=i.Z.create(),c=0,v=0,g=m[l[d]],R=0;R<w;R++)for(var x=0;x<S;x++){W[0]=x/(S-1)*2-1,W[1]=R/(w-1)*2-1,W[2]=-1,i.Z.normalize(W,W),O[0]=W[g[0]]*g[3],O[1]=W[g[1]]*g[4],O[2]=W[g[2]]*g[5],B[0]=f[v++]/255,B[1]=f[v++]/255,B[2]=f[v++]/255;var L=f[v++]/255*8.12;B[0]*=L,B[1]*=L,B[2]*=L,i.Z.scaleAndAdd(u,u,B,M(O,A)*-W[2]),c+=-W[2]}i.Z.scaleAndAdd(E,E,u,1/c)}b[A*3]=E[0]/6,b[A*3+1]=E[1]/6,b[A*3+2]=E[2]/6}return b}a.projectEnvironmentMap=function(y,P,S){S=S||{},S.lod=S.lod||0;var w,b=new h.Z,W=64;P.textureType==="texture2D"?w=new e.Z({scene:b,environmentMap:P}):(W=P.image&&P.image.px?P.image.px.width:P.width,w=new n.Z({scene:b,environmentMap:P}));var B=Math.ceil(W/Math.pow(2,S.lod)),O=Math.ceil(W/Math.pow(2,S.lod)),A=new t.Z({width:B,height:O}),E=new o.Z;w.material.define("fragment","RGBM_ENCODE"),S.decodeRGBM&&w.material.define("fragment","RGBM_DECODE"),w.material.set("lod",S.lod);for(var d=new s.Z({texture:A}),f={},u=0;u<l.length;u++){f[l[u]]=new Uint8Array(B*O*4);var c=d.getCamera(l[u]);c.fov=90,E.attach(A),E.bind(y),y.render(b,c),y.gl.readPixels(0,0,B,O,p.Z.RGBA,p.Z.UNSIGNED_BYTE,f[l[u]]),E.unbind(y)}return w.dispose(y),E.dispose(y),A.dispose(y),T(y,f,B,O)},it.Z=a},39789:function(Dt,it,C){C.d(it,{Z:function(){return It}});var p=C(75142),o=C(5847),t=C(82544),r=C(56076),n=C(74738),e=C(50908),s=C(88693),h=542327876,i=1,a=2,l=4,_=8,M=4096,m=131072,T=524288,y=8388608,P=8,S=4194304,w=4096,b=512,W=1024,B=2048,O=4096,A=8192,E=16384,d=32768,f=2097152,u=1,c=2,v=4,g=64,R=512,x=131072;function L(gt){return gt.charCodeAt(0)+(gt.charCodeAt(1)<<8)+(gt.charCodeAt(2)<<16)+(gt.charCodeAt(3)<<24)}function I(gt){return String.fromCharCode(gt&255,gt>>8&255,gt>>16&255,gt>>24&255)}var Z=31,G=L("DXT1"),K=L("DXT3"),J=L("DXT5"),U=0,H=1,V=2,D=3,F=4,N=7,X=20,Y=21,et=27,z=28,k=29,at=30,ft={parse:function(gt,Tt){var At=new Int32Array(gt,0,Z);if(At[U]!==h||!At(X)&v)return null;var j=At(Y),q=At[F],yt=At[D],Mt=At[z]&b,Q=At[V]&m,$,nt;switch(j){case G:$=8,nt=s.Z.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case K:$=16,nt=s.Z.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case J:$=16,nt=s.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var lt=At[H]+4,Ct=Mt?6:1,Zt=1;Q&&(Zt=Math.max(1,At[N]));for(var Ot=[],bt=0;bt<Ct;bt++){var Ft=q,zt=yt;Ot[bt]=new p.Z({width:Ft,height:zt,format:nt});for(var Ht=[],kt=0;kt<Zt;kt++){var jt=Math.max(4,Ft)/4*Math.max(4,zt)/4*$,Qt=new Uint8Array(gt,lt,jt);lt+=jt,Ft*=.5,zt*=.5,Ht[kt]=Qt}Ot[bt].pixels=Ht[0],Q&&(Ot[bt].mipmaps=Ht)}if(Tt)Tt.width=Ot[0].width,Tt.height=Ot[0].height,Tt.format=Ot[0].format,Tt.pixels=Ot[0].pixels,Tt.mipmaps=Ot[0].mipmaps;else return Ot[0]}},_t=ft,tt=String.fromCharCode,rt=8,ut=32767;function ct(gt,Tt,At,j){if(gt[3]>0){var q=Math.pow(2,gt[3]-128-8+j);Tt[At+0]=gt[0]*q,Tt[At+1]=gt[1]*q,Tt[At+2]=gt[2]*q}else Tt[At+0]=0,Tt[At+1]=0,Tt[At+2]=0;return Tt[At+3]=1,Tt}function st(gt,Tt,At){for(var j="",q=Tt;q<At;q++)j+=tt(gt[q]);return j}function dt(gt,Tt){Tt[0]=gt[0],Tt[1]=gt[1],Tt[2]=gt[2],Tt[3]=gt[3]}function ht(gt,Tt,At,j){for(var q=0,yt=0,Mt=j;Mt>0;)if(gt[yt][0]=Tt[At++],gt[yt][1]=Tt[At++],gt[yt][2]=Tt[At++],gt[yt][3]=Tt[At++],gt[yt][0]===1&&gt[yt][1]===1&&gt[yt][2]===1){for(var Q=gt[yt][3]<<q>>>0;Q>0;Q--)dt(gt[yt-1],gt[yt]),yt++,Mt--;q+=8}else yt++,Mt--,q=0;return At}function xt(gt,Tt,At,j){if(j<rt|j>ut)return ht(gt,Tt,At,j);var q=Tt[At++];if(q!=2)return ht(gt,Tt,At-1,j);if(gt[0][1]=Tt[At++],gt[0][2]=Tt[At++],q=Tt[At++],(gt[0][2]<<8>>>0|q)>>>0!==j)return null;for(var q=0;q<4;q++)for(var yt=0;yt<j;){var Mt=Tt[At++];if(Mt>128){Mt=(Mt&127)>>>0;for(var Q=Tt[At++];Mt--;)gt[yt++][q]=Q}else for(;Mt--;)gt[yt++][q]=Tt[At++]}return At}var Rt={parseRGBE:function(gt,Tt,At){At==null&&(At=0);var j=new Uint8Array(gt),q=j.length;if(st(j,0,2)==="#?"){for(var yt=2;yt<q&&!(tt(j[yt])===`
`&&tt(j[yt+1])===`
`);yt++);if(!(yt>=q)){yt+=2;for(var Mt="";yt<q;yt++){var Q=tt(j[yt]);if(Q===`
`)break;Mt+=Q}var $=Mt.split(" "),nt=parseInt($[1]),lt=parseInt($[3]);if(!(!lt||!nt)){for(var Ct=yt+1,Zt=[],Ot=0;Ot<lt;Ot++){Zt[Ot]=[];for(var bt=0;bt<4;bt++)Zt[Ot][bt]=0}for(var Ft=new Float32Array(lt*nt*4),zt=0,Ht=0;Ht<nt;Ht++){var Ct=xt(Zt,j,Ct,lt);if(!Ct)return null;for(var Ot=0;Ot<lt;Ot++)ct(Zt[Ot],Ft,zt,At),zt+=4}return Tt||(Tt=new p.Z),Tt.width=lt,Tt.height=nt,Tt.pixels=Ft,Tt.type=s.Z.FLOAT,Tt}}}},parseRGBEFromPNG:function(gt){}},mt=Rt,St={loadTexture:function(gt,Tt,At,j){var q;if(typeof Tt=="function"?(At=Tt,j=At,Tt={}):Tt=Tt||{},typeof gt=="string"){if(gt.match(/.hdr$/)||Tt.fileType==="hdr")return q=new p.Z({width:0,height:0,sRGB:!1}),St._fetchTexture(gt,function(yt){mt.parseRGBE(yt,q,Tt.exposure),q.dirty(),At&&At(q)},j),q;gt.match(/.dds$/)||Tt.fileType==="dds"?(q=new p.Z({width:0,height:0}),St._fetchTexture(gt,function(yt){_t.parse(yt,q),q.dirty(),At&&At(q)},j)):(q=new p.Z,q.load(gt),q.success(At),q.error(j))}else typeof gt=="object"&&typeof gt.px!="undefined"&&(q=new o.Z,q.load(gt),q.success(At),q.error(j));return q},loadPanorama:function(gt,Tt,At,j,q,yt){var Mt=this;typeof j=="function"?(q=j,yt=q,j={}):j=j||{},St.loadTexture(Tt,j,function(Q){Q.flipY=j.flipY||!1,Mt.panoramaToCubeMap(gt,Q,At,j),Q.dispose(gt),q&&q(At)},yt)},panoramaToCubeMap:function(gt,Tt,At,j){var q=new r.Z,yt=new n.Z({scene:new e.Z});return yt.setEnvironmentMap(Tt),j=j||{},j.encodeRGBM&&yt.material.define("fragment","RGBM_ENCODE"),At.sRGB=Tt.sRGB,q.texture=At,q.render(gt,yt.scene),q.texture=null,q.dispose(gt),At},heightToNormal:function(gt,Tt){var At=document.createElement("canvas"),j=At.width=gt.width,q=At.height=gt.height,yt=At.getContext("2d");yt.drawImage(gt,0,0,j,q),Tt=Tt||!1;for(var Mt=yt.getImageData(0,0,j,q),Q=yt.createImageData(j,q),$=0;$<Mt.data.length;$+=4){if(Tt){var nt=Mt.data[$],lt=Mt.data[$+1],Ct=Mt.data[$+2],Zt=Math.abs(nt-lt)+Math.abs(lt-Ct);if(Zt>20)return console.warn("Given image is not a height map"),gt}var Ot,bt,Ft,zt;$%(j*4)===0?(Ot=Mt.data[$],Ft=Mt.data[$+4]):$%(j*4)===(j-1)*4?(Ot=Mt.data[$-4],Ft=Mt.data[$]):(Ot=Mt.data[$-4],Ft=Mt.data[$+4]),$<j*4?(bt=Mt.data[$],zt=Mt.data[$+j*4]):$>j*(q-1)*4?(bt=Mt.data[$-j*4],zt=Mt.data[$]):(bt=Mt.data[$-j*4],zt=Mt.data[$+j*4]),Q.data[$]=Ot-Ft+127,Q.data[$+1]=bt-zt+127,Q.data[$+2]=255,Q.data[$+3]=255}return yt.putImageData(Q,0,0),At},isHeightImage:function(gt,Tt,At){if(!gt||!gt.width||!gt.height)return!1;var j=document.createElement("canvas"),q=j.getContext("2d"),yt=Tt||32;At=At||20,j.width=j.height=yt,q.drawImage(gt,0,0,yt,yt);for(var Mt=q.getImageData(0,0,yt,yt),Q=0;Q<Mt.data.length;Q+=4){var $=Mt.data[Q],nt=Mt.data[Q+1],lt=Mt.data[Q+2],Ct=Math.abs($-nt)+Math.abs(nt-lt);if(Ct>At)return!1}return!0},_fetchTexture:function(gt,Tt,At){t.Z.request.get({url:gt,responseType:"arraybuffer",onload:Tt,onerror:At})},createChessboard:function(gt,Tt,At,j){gt=gt||512,Tt=Tt||64,At=At||"black",j=j||"white";var q=Math.ceil(gt/Tt),yt=document.createElement("canvas");yt.width=gt,yt.height=gt;var Mt=yt.getContext("2d");Mt.fillStyle=j,Mt.fillRect(0,0,gt,gt),Mt.fillStyle=At;for(var Q=0;Q<q;Q++)for(var $=0;$<q;$++){var nt=$%2?Q%2:Q%2-1;nt&&Mt.fillRect(Q*Tt,$*Tt,Tt,Tt)}var lt=new p.Z({image:yt,anisotropic:8});return lt},createBlank:function(gt){var Tt=document.createElement("canvas");Tt.width=1,Tt.height=1;var At=Tt.getContext("2d");At.fillStyle=gt,At.fillRect(0,0,1,1);var j=new p.Z({image:Tt});return j}},It=St},12012:function(Dt,it,C){C.d(it,{ZT:function(){return o}});var p=function(f,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(c[g]=v[g])},p(f,u)};function o(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");p(f,u);function c(){this.constructor=f}f.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}var t=function(){return t=Object.assign||function(u){for(var c,v=1,g=arguments.length;v<g;v++){c=arguments[v];for(var R in c)Object.prototype.hasOwnProperty.call(c,R)&&(u[R]=c[R])}return u},t.apply(this,arguments)};function r(f,u){var c={};for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&u.indexOf(v)<0&&(c[v]=f[v]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,v=Object.getOwnPropertySymbols(f);g<v.length;g++)u.indexOf(v[g])<0&&Object.prototype.propertyIsEnumerable.call(f,v[g])&&(c[v[g]]=f[v[g]]);return c}function n(f,u,c,v){var g=arguments.length,R=g<3?u:v===null?v=Object.getOwnPropertyDescriptor(u,c):v,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(f,u,c,v);else for(var L=f.length-1;L>=0;L--)(x=f[L])&&(R=(g<3?x(R):g>3?x(u,c,R):x(u,c))||R);return g>3&&R&&Object.defineProperty(u,c,R),R}function e(f,u){return function(c,v){u(c,v,f)}}function s(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)}function h(f,u,c,v){function g(R){return R instanceof c?R:new c(function(x){x(R)})}return new(c||(c=Promise))(function(R,x){function L(G){try{Z(v.next(G))}catch(K){x(K)}}function I(G){try{Z(v.throw(G))}catch(K){x(K)}}function Z(G){G.done?R(G.value):g(G.value).then(L,I)}Z((v=v.apply(f,u||[])).next())})}function i(f,u){var c={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},v,g,R,x;return x={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function L(Z){return function(G){return I([Z,G])}}function I(Z){if(v)throw new TypeError("Generator is already executing.");for(;c;)try{if(v=1,g&&(R=Z[0]&2?g.return:Z[0]?g.throw||((R=g.return)&&R.call(g),0):g.next)&&!(R=R.call(g,Z[1])).done)return R;switch(g=0,R&&(Z=[Z[0]&2,R.value]),Z[0]){case 0:case 1:R=Z;break;case 4:return c.label++,{value:Z[1],done:!1};case 5:c.label++,g=Z[1],Z=[0];continue;case 7:Z=c.ops.pop(),c.trys.pop();continue;default:if(R=c.trys,!(R=R.length>0&&R[R.length-1])&&(Z[0]===6||Z[0]===2)){c=0;continue}if(Z[0]===3&&(!R||Z[1]>R[0]&&Z[1]<R[3])){c.label=Z[1];break}if(Z[0]===6&&c.label<R[1]){c.label=R[1],R=Z;break}if(R&&c.label<R[2]){c.label=R[2],c.ops.push(Z);break}R[2]&&c.ops.pop(),c.trys.pop();continue}Z=u.call(f,c)}catch(G){Z=[6,G],g=0}finally{v=R=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}}var a=Object.create?function(f,u,c,v){v===void 0&&(v=c),Object.defineProperty(f,v,{enumerable:!0,get:function(){return u[c]}})}:function(f,u,c,v){v===void 0&&(v=c),f[v]=u[c]};function l(f,u){for(var c in f)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&a(u,f,c)}function _(f){var u=typeof Symbol=="function"&&Symbol.iterator,c=u&&f[u],v=0;if(c)return c.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(f,u){var c=typeof Symbol=="function"&&f[Symbol.iterator];if(!c)return f;var v=c.call(f),g,R=[],x;try{for(;(u===void 0||u-- >0)&&!(g=v.next()).done;)R.push(g.value)}catch(L){x={error:L}}finally{try{g&&!g.done&&(c=v.return)&&c.call(v)}finally{if(x)throw x.error}}return R}function m(){for(var f=[],u=0;u<arguments.length;u++)f=f.concat(M(arguments[u]));return f}function T(){for(var f=0,u=0,c=arguments.length;u<c;u++)f+=arguments[u].length;for(var v=Array(f),g=0,u=0;u<c;u++)for(var R=arguments[u],x=0,L=R.length;x<L;x++,g++)v[g]=R[x];return v}function y(f,u,c){if(c||arguments.length===2)for(var v=0,g=u.length,R;v<g;v++)(R||!(v in u))&&(R||(R=Array.prototype.slice.call(u,0,v)),R[v]=u[v]);return f.concat(R||u)}function P(f){return this instanceof P?(this.v=f,this):new P(f)}function S(f,u,c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=c.apply(f,u||[]),g,R=[];return g={},x("next"),x("throw"),x("return"),g[Symbol.asyncIterator]=function(){return this},g;function x(J){v[J]&&(g[J]=function(U){return new Promise(function(H,V){R.push([J,U,H,V])>1||L(J,U)})})}function L(J,U){try{I(v[J](U))}catch(H){K(R[0][3],H)}}function I(J){J.value instanceof P?Promise.resolve(J.value.v).then(Z,G):K(R[0][2],J)}function Z(J){L("next",J)}function G(J){L("throw",J)}function K(J,U){J(U),R.shift(),R.length&&L(R[0][0],R[0][1])}}function w(f){var u,c;return u={},v("next"),v("throw",function(g){throw g}),v("return"),u[Symbol.iterator]=function(){return this},u;function v(g,R){u[g]=f[g]?function(x){return(c=!c)?{value:P(f[g](x)),done:g==="return"}:R?R(x):x}:R}}function b(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=f[Symbol.asyncIterator],c;return u?u.call(f):(f=typeof _=="function"?_(f):f[Symbol.iterator](),c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c);function v(R){c[R]=f[R]&&function(x){return new Promise(function(L,I){x=f[R](x),g(L,I,x.done,x.value)})}}function g(R,x,L,I){Promise.resolve(I).then(function(Z){R({value:Z,done:L})},x)}}function W(f,u){return Object.defineProperty?Object.defineProperty(f,"raw",{value:u}):f.raw=u,f}var B=Object.create?function(f,u){Object.defineProperty(f,"default",{enumerable:!0,value:u})}:function(f,u){f.default=u};function O(f){if(f&&f.__esModule)return f;var u={};if(f!=null)for(var c in f)c!=="default"&&Object.prototype.hasOwnProperty.call(f,c)&&a(u,f,c);return B(u,f),u}function A(f){return f&&f.__esModule?f:{default:f}}function E(f,u,c,v){if(c==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?f!==u||!v:!u.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?v:c==="a"?v.call(f):v?v.value:u.get(f)}function d(f,u,c,v,g){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?f!==u||!g:!u.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?g.call(f,c):g?g.value=c:u.set(f,c),c}},12434:function(Dt,it,C){var p=C(23463),o=C(70295),t=C(16128),r=C(10563),n=C(98733),e=C(70324),s=C(62623),h=C(96170),i=C(53197),a="__zr_normal__",l=p.dN.concat(["ignore"]),_=(0,e.u4)(p.dN,function(O,A){return O[A]=!0,O},{ignore:!1}),M={},m=new t.Z(0,0,0,0),T=function(){function O(A){this.id=(0,e.M8)(),this.animators=[],this.currentStates=[],this.states={},this._init(A)}return O.prototype._init=function(A){this.attr(A)},O.prototype.drift=function(A,E,d){switch(this.draggable){case"horizontal":E=0;break;case"vertical":A=0;break}var f=this.transform;f||(f=this.transform=[1,0,0,1,0,0]),f[4]+=A,f[5]+=E,this.decomposeTransform(),this.markRedraw()},O.prototype.beforeUpdate=function(){},O.prototype.afterUpdate=function(){},O.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},O.prototype.updateInnerText=function(A){var E=this._textContent;if(E&&(!E.ignore||A)){this.textConfig||(this.textConfig={});var d=this.textConfig,f=d.local,u=E.innerTransformable,c=void 0,v=void 0,g=!1;u.parent=f?this:null;var R=!1;if(u.copyTransform(E),d.position!=null){var x=m;d.layoutRect?x.copy(d.layoutRect):x.copy(this.getBoundingRect()),f||x.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(M,d,x):(0,n.wI)(M,d,x),u.x=M.x,u.y=M.y,c=M.align,v=M.verticalAlign;var L=d.origin;if(L&&d.rotation!=null){var I=void 0,Z=void 0;L==="center"?(I=x.width*.5,Z=x.height*.5):(I=(0,n.GM)(L[0],x.width),Z=(0,n.GM)(L[1],x.height)),R=!0,u.originX=-u.x+I+(f?0:x.x),u.originY=-u.y+Z+(f?0:x.y)}}d.rotation!=null&&(u.rotation=d.rotation);var G=d.offset;G&&(u.x+=G[0],u.y+=G[1],R||(u.originX=-G[0],u.originY=-G[1]));var K=d.inside==null?typeof d.position=="string"&&d.position.indexOf("inside")>=0:d.inside,J=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),U=void 0,H=void 0,V=void 0;K&&this.canBeInsideText()?(U=d.insideFill,H=d.insideStroke,(U==null||U==="auto")&&(U=this.getInsideTextFill()),(H==null||H==="auto")&&(H=this.getInsideTextStroke(U),V=!0)):(U=d.outsideFill,H=d.outsideStroke,(U==null||U==="auto")&&(U=this.getOutsideFill()),(H==null||H==="auto")&&(H=this.getOutsideStroke(U),V=!0)),U=U||"#000",(U!==J.fill||H!==J.stroke||V!==J.autoStroke||c!==J.align||v!==J.verticalAlign)&&(g=!0,J.fill=U,J.stroke=H,J.autoStroke=V,J.align=c,J.verticalAlign=v,E.setDefaultTextStyle(J)),E.__dirty|=i.YV,g&&E.dirtyStyle(!0)}},O.prototype.canBeInsideText=function(){return!0},O.prototype.getInsideTextFill=function(){return"#fff"},O.prototype.getInsideTextStroke=function(A){return"#000"},O.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?s.GD:s.vU},O.prototype.getOutsideStroke=function(A){var E=this.__zr&&this.__zr.getBackgroundColor(),d=typeof E=="string"&&(0,h.parse)(E);d||(d=[255,255,255,1]);for(var f=d[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)d[c]=d[c]*f+(u?0:255)*(1-f);return d[3]=1,(0,h.stringify)(d,"rgba")},O.prototype.traverse=function(A,E){},O.prototype.attrKV=function(A,E){A==="textConfig"?this.setTextConfig(E):A==="textContent"?this.setTextContent(E):A==="clipPath"?this.setClipPath(E):A==="extra"?(this.extra=this.extra||{},(0,e.l7)(this.extra,E)):this[A]=E},O.prototype.hide=function(){this.ignore=!0,this.markRedraw()},O.prototype.show=function(){this.ignore=!1,this.markRedraw()},O.prototype.attr=function(A,E){if(typeof A=="string")this.attrKV(A,E);else if((0,e.Kn)(A))for(var d=A,f=(0,e.XP)(d),u=0;u<f.length;u++){var c=f[u];this.attrKV(c,A[c])}return this.markRedraw(),this},O.prototype.saveCurrentToNormalState=function(A){this._innerSaveToNormal(A);for(var E=this._normalState,d=0;d<this.animators.length;d++){var f=this.animators[d],u=f.__fromStateTransition;if(!(f.getLoop()||u&&u!==a)){var c=f.targetName,v=c?E[c]:E;f.saveTo(v)}}},O.prototype._innerSaveToNormal=function(A){var E=this._normalState;E||(E=this._normalState={}),A.textConfig&&!E.textConfig&&(E.textConfig=this.textConfig),this._savePrimaryToNormal(A,E,l)},O.prototype._savePrimaryToNormal=function(A,E,d){for(var f=0;f<d.length;f++){var u=d[f];A[u]!=null&&!(u in E)&&(E[u]=this[u])}},O.prototype.hasState=function(){return this.currentStates.length>0},O.prototype.getState=function(A){return this.states[A]},O.prototype.ensureState=function(A){var E=this.states;return E[A]||(E[A]={}),E[A]},O.prototype.clearStates=function(A){this.useState(a,!1,A)},O.prototype.useState=function(A,E,d,f){var u=A===a,c=this.hasState();if(!(!c&&u)){var v=this.currentStates,g=this.stateTransition;if(!((0,e.cq)(v,A)>=0&&(E||v.length===1))){var R;if(this.stateProxy&&!u&&(R=this.stateProxy(A)),R||(R=this.states&&this.states[A]),!R&&!u){(0,e.H)("State "+A+" not exists.");return}u||this.saveCurrentToNormalState(R);var x=!!(R&&R.hoverLayer||f);x&&this._toggleHoverLayerFlag(!0),this._applyStateObj(A,R,this._normalState,E,!d&&!this.__inHover&&g&&g.duration>0,g);var L=this._textContent,I=this._textGuide;return L&&L.useState(A,E,d,x),I&&I.useState(A,E,d,x),u?(this.currentStates=[],this._normalState={}):E?this.currentStates.push(A):this.currentStates=[A],this._updateAnimationTargets(),this.markRedraw(),!x&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.YV),R}}},O.prototype.useStates=function(A,E,d){if(!A.length)this.clearStates();else{var f=[],u=this.currentStates,c=A.length,v=c===u.length;if(v){for(var g=0;g<c;g++)if(A[g]!==u[g]){v=!1;break}}if(v)return;for(var g=0;g<c;g++){var R=A[g],x=void 0;this.stateProxy&&(x=this.stateProxy(R,A)),x||(x=this.states[R]),x&&f.push(x)}var L=f[c-1],I=!!(L&&L.hoverLayer||d);I&&this._toggleHoverLayerFlag(!0);var Z=this._mergeStates(f),G=this.stateTransition;this.saveCurrentToNormalState(Z),this._applyStateObj(A.join(","),Z,this._normalState,!1,!E&&!this.__inHover&&G&&G.duration>0,G);var K=this._textContent,J=this._textGuide;K&&K.useStates(A,E,I),J&&J.useStates(A,E,I),this._updateAnimationTargets(),this.currentStates=A.slice(),this.markRedraw(),!I&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.YV)}},O.prototype._updateAnimationTargets=function(){for(var A=0;A<this.animators.length;A++){var E=this.animators[A];E.targetName&&E.changeTarget(this[E.targetName])}},O.prototype.removeState=function(A){var E=(0,e.cq)(this.currentStates,A);if(E>=0){var d=this.currentStates.slice();d.splice(E,1),this.useStates(d)}},O.prototype.replaceState=function(A,E,d){var f=this.currentStates.slice(),u=(0,e.cq)(f,A),c=(0,e.cq)(f,E)>=0;u>=0?c?f.splice(u,1):f[u]=E:d&&!c&&f.push(E),this.useStates(f)},O.prototype.toggleState=function(A,E){E?this.useState(A,!0):this.removeState(A)},O.prototype._mergeStates=function(A){for(var E={},d,f=0;f<A.length;f++){var u=A[f];(0,e.l7)(E,u),u.textConfig&&(d=d||{},(0,e.l7)(d,u.textConfig))}return d&&(E.textConfig=d),E},O.prototype._applyStateObj=function(A,E,d,f,u,c){var v=!(E&&f);E&&E.textConfig?(this.textConfig=(0,e.l7)({},f?this.textConfig:d.textConfig),(0,e.l7)(this.textConfig,E.textConfig)):v&&d.textConfig&&(this.textConfig=d.textConfig);for(var g={},R=!1,x=0;x<l.length;x++){var L=l[x],I=u&&_[L];E&&E[L]!=null?I?(R=!0,g[L]=E[L]):this[L]=E[L]:v&&d[L]!=null&&(I?(R=!0,g[L]=d[L]):this[L]=d[L])}if(!u)for(var x=0;x<this.animators.length;x++){var Z=this.animators[x],G=Z.targetName;Z.getLoop()||Z.__changeFinalValue(G?(E||d)[G]:E||d)}R&&this._transitionState(A,g,c)},O.prototype._attachComponent=function(A){if(!(A.__zr&&!A.__hostTarget)&&A!==this){var E=this.__zr;E&&A.addSelfToZr(E),A.__zr=E,A.__hostTarget=this}},O.prototype._detachComponent=function(A){A.__zr&&A.removeSelfFromZr(A.__zr),A.__zr=null,A.__hostTarget=null},O.prototype.getClipPath=function(){return this._clipPath},O.prototype.setClipPath=function(A){this._clipPath&&this._clipPath!==A&&this.removeClipPath(),this._attachComponent(A),this._clipPath=A,this.markRedraw()},O.prototype.removeClipPath=function(){var A=this._clipPath;A&&(this._detachComponent(A),this._clipPath=null,this.markRedraw())},O.prototype.getTextContent=function(){return this._textContent},O.prototype.setTextContent=function(A){var E=this._textContent;E!==A&&(E&&E!==A&&this.removeTextContent(),A.innerTransformable=new p.ZP,this._attachComponent(A),this._textContent=A,this.markRedraw())},O.prototype.setTextConfig=function(A){this.textConfig||(this.textConfig={}),(0,e.l7)(this.textConfig,A),this.markRedraw()},O.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},O.prototype.removeTextContent=function(){var A=this._textContent;A&&(A.innerTransformable=null,this._detachComponent(A),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},O.prototype.getTextGuideLine=function(){return this._textGuide},O.prototype.setTextGuideLine=function(A){this._textGuide&&this._textGuide!==A&&this.removeTextGuideLine(),this._attachComponent(A),this._textGuide=A,this.markRedraw()},O.prototype.removeTextGuideLine=function(){var A=this._textGuide;A&&(this._detachComponent(A),this._textGuide=null,this.markRedraw())},O.prototype.markRedraw=function(){this.__dirty|=i.YV;var A=this.__zr;A&&(this.__inHover?A.refreshHover():A.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},O.prototype.dirty=function(){this.markRedraw()},O.prototype._toggleHoverLayerFlag=function(A){this.__inHover=A;var E=this._textContent,d=this._textGuide;E&&(E.__inHover=A),d&&(d.__inHover=A)},O.prototype.addSelfToZr=function(A){if(this.__zr!==A){this.__zr=A;var E=this.animators;if(E)for(var d=0;d<E.length;d++)A.animation.addAnimator(E[d]);this._clipPath&&this._clipPath.addSelfToZr(A),this._textContent&&this._textContent.addSelfToZr(A),this._textGuide&&this._textGuide.addSelfToZr(A)}},O.prototype.removeSelfFromZr=function(A){if(this.__zr){this.__zr=null;var E=this.animators;if(E)for(var d=0;d<E.length;d++)A.animation.removeAnimator(E[d]);this._clipPath&&this._clipPath.removeSelfFromZr(A),this._textContent&&this._textContent.removeSelfFromZr(A),this._textGuide&&this._textGuide.removeSelfFromZr(A)}},O.prototype.animate=function(A,E,d){var f=A?this[A]:this,u=new o.Z(f,E,d);return A&&(u.targetName=A),this.addAnimator(u,A),u},O.prototype.addAnimator=function(A,E){var d=this.__zr,f=this;A.during(function(){f.updateDuringAnimation(E)}).done(function(){var u=f.animators,c=(0,e.cq)(u,A);c>=0&&u.splice(c,1)}),this.animators.push(A),d&&d.animation.addAnimator(A),d&&d.wakeUp()},O.prototype.updateDuringAnimation=function(A){this.markRedraw()},O.prototype.stopAnimation=function(A,E){for(var d=this.animators,f=d.length,u=[],c=0;c<f;c++){var v=d[c];!A||A===v.scope?v.stop(E):u.push(v)}return this.animators=u,this},O.prototype.animateTo=function(A,E,d){y(this,A,E,d)},O.prototype.animateFrom=function(A,E,d){y(this,A,E,d,!0)},O.prototype._transitionState=function(A,E,d,f){for(var u=y(this,E,d,f),c=0;c<u.length;c++)u[c].__fromStateTransition=A},O.prototype.getBoundingRect=function(){return null},O.prototype.getPaintRect=function(){return null},O.initDefaultProps=function(){var A=O.prototype;A.type="element",A.name="",A.ignore=A.silent=A.isGroup=A.draggable=A.dragging=A.ignoreClip=A.__inHover=!1,A.__dirty=i.YV;var E={};function d(u,c,v){E[u+c+v]||(console.warn("DEPRECATED: '"+u+"' has been deprecated. use '"+c+"', '"+v+"' instead"),E[u+c+v]=!0)}function f(u,c,v,g){Object.defineProperty(A,u,{get:function(){if(!this[c]){var x=this[c]=[];R(this,x)}return this[c]},set:function(x){this[v]=x[0],this[g]=x[1],this[c]=x,R(this,x)}});function R(x,L){Object.defineProperty(L,0,{get:function(){return x[v]},set:function(I){x[v]=I}}),Object.defineProperty(L,1,{get:function(){return x[g]},set:function(I){x[g]=I}})}}Object.defineProperty&&(f("position","_legacyPos","x","y"),f("scale","_legacyScale","scaleX","scaleY"),f("origin","_legacyOrigin","originX","originY"))}(),O}();(0,e.jB)(T,r.Z),(0,e.jB)(T,p.ZP);function y(O,A,E,d,f){E=E||{};var u=[];B(O,"",O,A,E,d,u,f);var c=u.length,v=!1,g=E.done,R=E.aborted,x=function(){v=!0,c--,c<=0&&(v?g&&g():R&&R())},L=function(){c--,c<=0&&(v?g&&g():R&&R())};c||g&&g(),u.length>0&&E.during&&u[0].during(function(G,K){E.during(K)});for(var I=0;I<u.length;I++){var Z=u[I];x&&Z.done(x),L&&Z.aborted(L),E.force&&Z.duration(E.duration),Z.start(E.easing)}return u}function P(O,A,E){for(var d=0;d<E;d++)O[d]=A[d]}function S(O){return(0,e.zG)(O[0])}function w(O,A,E){if((0,e.zG)(A[E]))if((0,e.zG)(O[E])||(O[E]=[]),(0,e.fU)(A[E])){var d=A[E].length;O[E].length!==d&&(O[E]=new A[E].constructor(d),P(O[E],A[E],d))}else{var f=A[E],u=O[E],c=f.length;if(S(f))for(var v=f[0].length,g=0;g<c;g++)u[g]?P(u[g],f[g],v):u[g]=Array.prototype.slice.call(f[g]);else P(u,f,c);u.length=f.length}else O[E]=A[E]}function b(O,A){return O===A||(0,e.zG)(O)&&(0,e.zG)(A)&&W(O,A)}function W(O,A){var E=O.length;if(E!==A.length)return!1;for(var d=0;d<E;d++)if(O[d]!==A[d])return!1;return!0}function B(O,A,E,d,f,u,c,v){for(var g=(0,e.XP)(d),R=f.duration,x=f.delay,L=f.additive,I=f.setToFinal,Z=!(0,e.Kn)(u),G=O.animators,K=[],J=0;J<g.length;J++){var U=g[J],H=d[U];if(H!=null&&E[U]!=null&&(Z||u[U]))if((0,e.Kn)(H)&&!(0,e.zG)(H)&&!(0,e.Qq)(H)){if(A){v||(E[U]=H,O.updateDuringAnimation(A));continue}B(O,U,E[U],H,f,u&&u[U],c,v)}else K.push(U);else v||(E[U]=H,O.updateDuringAnimation(A),K.push(U))}var V=K.length;if(!L&&V)for(var D=0;D<G.length;D++){var F=G[D];if(F.targetName===A){var N=F.stopTracks(K);if(N){var X=(0,e.cq)(G,F);G.splice(X,1)}}}if(f.force||(K=(0,e.hX)(K,function(k){return!b(d[k],E[k])}),V=K.length),V>0||f.force&&!c.length){var Y=void 0,et=void 0,z=void 0;if(v){et={},I&&(Y={});for(var D=0;D<V;D++){var U=K[D];et[U]=E[U],I?Y[U]=d[U]:E[U]=d[U]}}else if(I){z={};for(var D=0;D<V;D++){var U=K[D];z[U]=(0,o.V)(E[U]),w(E,d,U)}}var F=new o.Z(E,!1,!1,L?(0,e.hX)(G,function(at){return at.targetName===A}):null);F.targetName=A,f.scope&&(F.scope=f.scope),I&&Y&&F.whenWithKeys(0,Y,K),z&&F.whenWithKeys(0,z,K),F.whenWithKeys(R==null?500:R,v?et:d,K).delay(x||0),O.addAnimator(F,A),c.push(F)}}it.Z=T},70295:function(Dt,it,C){C.d(it,{V:function(){return P},Z:function(){return R}});var p={linear:function(x){return x},quadraticIn:function(x){return x*x},quadraticOut:function(x){return x*(2-x)},quadraticInOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)},cubicIn:function(x){return x*x*x},cubicOut:function(x){return--x*x*x+1},cubicInOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)},quarticIn:function(x){return x*x*x*x},quarticOut:function(x){return 1- --x*x*x*x},quarticInOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)},quinticIn:function(x){return x*x*x*x*x},quinticOut:function(x){return--x*x*x*x*x+1},quinticInOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)},sinusoidalIn:function(x){return 1-Math.cos(x*Math.PI/2)},sinusoidalOut:function(x){return Math.sin(x*Math.PI/2)},sinusoidalInOut:function(x){return .5*(1-Math.cos(Math.PI*x))},exponentialIn:function(x){return x===0?0:Math.pow(1024,x-1)},exponentialOut:function(x){return x===1?1:1-Math.pow(2,-10*x)},exponentialInOut:function(x){return x===0?0:x===1?1:(x*=2)<1?.5*Math.pow(1024,x-1):.5*(-Math.pow(2,-10*(x-1))+2)},circularIn:function(x){return 1-Math.sqrt(1-x*x)},circularOut:function(x){return Math.sqrt(1- --x*x)},circularInOut:function(x){return(x*=2)<1?-.5*(Math.sqrt(1-x*x)-1):.5*(Math.sqrt(1-(x-=2)*x)+1)},elasticIn:function(x){var L,I=.1,Z=.4;return x===0?0:x===1?1:(!I||I<1?(I=1,L=Z/4):L=Z*Math.asin(1/I)/(2*Math.PI),-(I*Math.pow(2,10*(x-=1))*Math.sin((x-L)*(2*Math.PI)/Z)))},elasticOut:function(x){var L,I=.1,Z=.4;return x===0?0:x===1?1:(!I||I<1?(I=1,L=Z/4):L=Z*Math.asin(1/I)/(2*Math.PI),I*Math.pow(2,-10*x)*Math.sin((x-L)*(2*Math.PI)/Z)+1)},elasticInOut:function(x){var L,I=.1,Z=.4;return x===0?0:x===1?1:(!I||I<1?(I=1,L=Z/4):L=Z*Math.asin(1/I)/(2*Math.PI),(x*=2)<1?-.5*(I*Math.pow(2,10*(x-=1))*Math.sin((x-L)*(2*Math.PI)/Z)):I*Math.pow(2,-10*(x-=1))*Math.sin((x-L)*(2*Math.PI)/Z)*.5+1)},backIn:function(x){var L=1.70158;return x*x*((L+1)*x-L)},backOut:function(x){var L=1.70158;return--x*x*((L+1)*x+L)+1},backInOut:function(x){var L=2.5949095;return(x*=2)<1?.5*(x*x*((L+1)*x-L)):.5*((x-=2)*x*((L+1)*x+L)+2)},bounceIn:function(x){return 1-p.bounceOut(1-x)},bounceOut:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},bounceInOut:function(x){return x<.5?p.bounceIn(x*2)*.5:p.bounceOut(x*2-1)*.5+.5}},o=p,t=C(70324),r=C(74720),n=function(){function x(L){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=L.life||1e3,this._delay=L.delay||0,this.loop=L.loop||!1,this.onframe=L.onframe||t.ZT,this.ondestroy=L.ondestroy||t.ZT,this.onrestart=L.onrestart||t.ZT,L.easing&&this.setEasing(L.easing)}return x.prototype.step=function(L,I){if(this._inited||(this._startTime=L+this._delay,this._inited=!0),this._paused){this._pausedTime+=I;return}var Z=this._life,G=L-this._startTime-this._pausedTime,K=G/Z;K<0&&(K=0),K=Math.min(K,1);var J=this.easingFunc,U=J?J(K):K;if(this.onframe(U),K===1)if(this.loop){var H=G%Z;this._startTime=L-H,this._pausedTime=0,this.onrestart()}else return!0;return!1},x.prototype.pause=function(){this._paused=!0},x.prototype.resume=function(){this._paused=!1},x.prototype.setEasing=function(L){this.easing=L,this.easingFunc=(0,t.mf)(L)?L:o[L]||(0,r.H)(L)},x}(),e=n,s=C(96170),h=C(72352),i=Array.prototype.slice;function a(x,L,I){return(L-x)*I+x}function l(x,L,I,Z){for(var G=L.length,K=0;K<G;K++)x[K]=a(L[K],I[K],Z);return x}function _(x,L,I,Z){for(var G=L.length,K=G&&L[0].length,J=0;J<G;J++){x[J]||(x[J]=[]);for(var U=0;U<K;U++)x[J][U]=a(L[J][U],I[J][U],Z)}return x}function M(x,L,I,Z){for(var G=L.length,K=0;K<G;K++)x[K]=L[K]+I[K]*Z;return x}function m(x,L,I,Z){for(var G=L.length,K=G&&L[0].length,J=0;J<G;J++){x[J]||(x[J]=[]);for(var U=0;U<K;U++)x[J][U]=L[J][U]+I[J][U]*Z}return x}function T(x,L){for(var I=x.length,Z=L.length,G=I>Z?L:x,K=Math.min(I,Z),J=G[K-1]||{color:[0,0,0,0],offset:0},U=K;U<Math.max(I,Z);U++)G.push({offset:J.offset,color:J.color.slice()})}function y(x,L,I){var Z=x,G=L;if(!(!Z.push||!G.push)){var K=Z.length,J=G.length;if(K!==J){var U=K>J;if(U)Z.length=J;else for(var H=K;H<J;H++)Z.push(I===1?G[H]:i.call(G[H]))}for(var V=Z[0]&&Z[0].length,H=0;H<Z.length;H++)if(I===1)isNaN(Z[H])&&(Z[H]=G[H]);else for(var D=0;D<V;D++)isNaN(Z[H][D])&&(Z[H][D]=G[H][D])}}function P(x){if((0,t.zG)(x)){var L=x.length;if((0,t.zG)(x[0])){for(var I=[],Z=0;Z<L;Z++)I.push(i.call(x[Z]));return I}return i.call(x)}return x}function S(x){return x[0]=Math.floor(x[0])||0,x[1]=Math.floor(x[1])||0,x[2]=Math.floor(x[2])||0,x[3]=x[3]==null?1:x[3],"rgba("+x.join(",")+")"}function w(x){return(0,t.zG)(x&&x[0])?2:1}var b=0,W=1,B=2,O=3,A=4,E=5,d=6;function f(x){return x===A||x===E}function u(x){return x===W||x===B}var c=[0,0,0,0],v=function(){function x(L){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=L}return x.prototype.isFinished=function(){return this._finished},x.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},x.prototype.needsAnimate=function(){return this.keyframes.length>=1},x.prototype.getAdditiveTrack=function(){return this._additiveTrack},x.prototype.addKeyframe=function(L,I,Z){this._needsSort=!0;var G=this.keyframes,K=G.length,J=!1,U=d,H=I;if((0,t.zG)(I)){var V=w(I);U=V,(V===1&&!(0,t.hj)(I[0])||V===2&&!(0,t.hj)(I[0][0]))&&(J=!0)}else if((0,t.hj)(I)&&!(0,t.Bu)(I))U=b;else if((0,t.HD)(I))if(!isNaN(+I))U=b;else{var D=s.parse(I);D&&(H=D,U=O)}else if((0,t.Qq)(I)){var F=(0,t.l7)({},H);F.colorStops=(0,t.UI)(I.colorStops,function(X){return{offset:X.offset,color:s.parse(X.color)}}),(0,h.I1)(I)?U=A:(0,h.gO)(I)&&(U=E),H=F}K===0?this.valType=U:(U!==this.valType||U===d)&&(J=!0),this.discrete=this.discrete||J;var N={time:L,value:H,rawValue:I,percent:0};return Z&&(N.easing=Z,N.easingFunc=(0,t.mf)(Z)?Z:o[Z]||(0,r.H)(Z)),G.push(N),N},x.prototype.prepare=function(L,I){var Z=this.keyframes;this._needsSort&&Z.sort(function(et,z){return et.time-z.time});for(var G=this.valType,K=Z.length,J=Z[K-1],U=this.discrete,H=u(G),V=f(G),D=0;D<K;D++){var F=Z[D],N=F.value,X=J.value;F.percent=F.time/L,U||(H&&D!==K-1?y(N,X,G):V&&T(N.colorStops,X.colorStops))}if(!U&&G!==E&&I&&this.needsAnimate()&&I.needsAnimate()&&G===I.valType&&!I._finished){this._additiveTrack=I;for(var Y=Z[0].value,D=0;D<K;D++)G===b?Z[D].additiveValue=Z[D].value-Y:G===O?Z[D].additiveValue=M([],Z[D].value,Y,-1):u(G)&&(Z[D].additiveValue=G===W?M([],Z[D].value,Y,-1):m([],Z[D].value,Y,-1))}},x.prototype.step=function(L,I){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var Z=this._additiveTrack!=null,G=Z?"additiveValue":"value",K=this.valType,J=this.keyframes,U=J.length,H=this.propName,V=K===O,D,F=this._lastFr,N=Math.min,X,Y;if(U===1)X=Y=J[0];else{if(I<0)D=0;else if(I<this._lastFrP){var et=N(F+1,U-1);for(D=et;D>=0&&!(J[D].percent<=I);D--);D=N(D,U-2)}else{for(D=F;D<U&&!(J[D].percent>I);D++);D=N(D-1,U-2)}Y=J[D+1],X=J[D]}if(X&&Y){this._lastFr=D,this._lastFrP=I;var z=Y.percent-X.percent,k=z===0?1:N((I-X.percent)/z,1);Y.easingFunc&&(k=Y.easingFunc(k));var at=Z?this._additiveValue:V?c:L[H];if((u(K)||V)&&!at&&(at=this._additiveValue=[]),this.discrete)L[H]=k<1?X.rawValue:Y.rawValue;else if(u(K))K===W?l(at,X[G],Y[G],k):_(at,X[G],Y[G],k);else if(f(K)){var ft=X[G],_t=Y[G],tt=K===A;L[H]={type:tt?"linear":"radial",x:a(ft.x,_t.x,k),y:a(ft.y,_t.y,k),colorStops:(0,t.UI)(ft.colorStops,function(ut,ct){var st=_t.colorStops[ct];return{offset:a(ut.offset,st.offset,k),color:S(l([],ut.color,st.color,k))}}),global:_t.global},tt?(L[H].x2=a(ft.x2,_t.x2,k),L[H].y2=a(ft.y2,_t.y2,k)):L[H].r=a(ft.r,_t.r,k)}else if(V)l(at,X[G],Y[G],k),Z||(L[H]=S(at));else{var rt=a(X[G],Y[G],k);Z?this._additiveValue=rt:L[H]=rt}Z&&this._addToTarget(L)}}},x.prototype._addToTarget=function(L){var I=this.valType,Z=this.propName,G=this._additiveValue;I===b?L[Z]=L[Z]+G:I===O?(s.parse(L[Z],c),M(c,c,G,1),L[Z]=S(c)):I===W?M(L[Z],L[Z],G,1):I===B&&m(L[Z],L[Z],G,1)},x}(),g=function(){function x(L,I,Z,G){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=L,this._loop=I,I&&G){(0,t.H)("Can' use additive animation on looped animation.");return}this._additiveAnimators=G,this._allowDiscrete=Z}return x.prototype.getMaxTime=function(){return this._maxTime},x.prototype.getDelay=function(){return this._delay},x.prototype.getLoop=function(){return this._loop},x.prototype.getTarget=function(){return this._target},x.prototype.changeTarget=function(L){this._target=L},x.prototype.when=function(L,I,Z){return this.whenWithKeys(L,I,(0,t.XP)(I),Z)},x.prototype.whenWithKeys=function(L,I,Z,G){for(var K=this._tracks,J=0;J<Z.length;J++){var U=Z[J],H=K[U];if(!H){H=K[U]=new v(U);var V=void 0,D=this._getAdditiveTrack(U);if(D){var F=D.keyframes,N=F[F.length-1];V=N&&N.value,D.valType===O&&V&&(V=S(V))}else V=this._target[U];if(V==null)continue;L>0&&H.addKeyframe(0,P(V),G),this._trackKeys.push(U)}H.addKeyframe(L,P(I[U]),G)}return this._maxTime=Math.max(this._maxTime,L),this},x.prototype.pause=function(){this._clip.pause(),this._paused=!0},x.prototype.resume=function(){this._clip.resume(),this._paused=!1},x.prototype.isPaused=function(){return!!this._paused},x.prototype.duration=function(L){return this._maxTime=L,this._force=!0,this},x.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var L=this._doneCbs;if(L)for(var I=L.length,Z=0;Z<I;Z++)L[Z].call(this)},x.prototype._abortedCallback=function(){this._setTracksFinished();var L=this.animation,I=this._abortedCbs;if(L&&L.removeClip(this._clip),this._clip=null,I)for(var Z=0;Z<I.length;Z++)I[Z].call(this)},x.prototype._setTracksFinished=function(){for(var L=this._tracks,I=this._trackKeys,Z=0;Z<I.length;Z++)L[I[Z]].setFinished()},x.prototype._getAdditiveTrack=function(L){var I,Z=this._additiveAnimators;if(Z)for(var G=0;G<Z.length;G++){var K=Z[G].getTrack(L);K&&(I=K)}return I},x.prototype.start=function(L){if(!(this._started>0)){this._started=1;for(var I=this,Z=[],G=this._maxTime||0,K=0;K<this._trackKeys.length;K++){var J=this._trackKeys[K],U=this._tracks[J],H=this._getAdditiveTrack(J),V=U.keyframes,D=V.length;if(U.prepare(G,H),U.needsAnimate())if(!this._allowDiscrete&&U.discrete){var F=V[D-1];F&&(I._target[U.propName]=F.rawValue),U.setFinished()}else Z.push(U)}if(Z.length||this._force){var N=new e({life:G,loop:this._loop,delay:this._delay||0,onframe:function(X){I._started=2;var Y=I._additiveAnimators;if(Y){for(var et=!1,z=0;z<Y.length;z++)if(Y[z]._clip){et=!0;break}et||(I._additiveAnimators=null)}for(var z=0;z<Z.length;z++)Z[z].step(I._target,X);var k=I._onframeCbs;if(k)for(var z=0;z<k.length;z++)k[z](I._target,X)},ondestroy:function(){I._doneCallback()}});this._clip=N,this.animation&&this.animation.addClip(N),L&&N.setEasing(L)}else this._doneCallback();return this}},x.prototype.stop=function(L){if(this._clip){var I=this._clip;L&&I.onframe(1),this._abortedCallback()}},x.prototype.delay=function(L){return this._delay=L,this},x.prototype.during=function(L){return L&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(L)),this},x.prototype.done=function(L){return L&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(L)),this},x.prototype.aborted=function(L){return L&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(L)),this},x.prototype.getClip=function(){return this._clip},x.prototype.getTrack=function(L){return this._tracks[L]},x.prototype.getTracks=function(){var L=this;return(0,t.UI)(this._trackKeys,function(I){return L._tracks[I]})},x.prototype.stopTracks=function(L,I){if(!L.length||!this._clip)return!0;for(var Z=this._tracks,G=this._trackKeys,K=0;K<L.length;K++){var J=Z[L[K]];J&&!J.isFinished()&&(I?J.step(this._target,1):this._started===1&&J.step(this._target,0),J.setFinished())}for(var U=!0,K=0;K<G.length;K++)if(!Z[G[K]].isFinished()){U=!1;break}return U&&this._abortedCallback(),U},x.prototype.saveTo=function(L,I,Z){if(L){I=I||this._trackKeys;for(var G=0;G<I.length;G++){var K=I[G],J=this._tracks[K];if(!(!J||J.isFinished())){var U=J.keyframes,H=U[Z?0:U.length-1];H&&(L[K]=P(H.rawValue))}}}},x.prototype.__changeFinalValue=function(L,I){I=I||(0,t.XP)(L);for(var Z=0;Z<I.length;Z++){var G=I[Z],K=this._tracks[G];if(K){var J=K.keyframes;if(J.length>1){var U=J.pop();K.addKeyframe(U.time,L[G]),K.prepare(this._maxTime,K.getAdditiveTrack())}}}},x}(),R=g},74720:function(Dt,it,C){C.d(it,{H:function(){return r}});var p=C(14296),o=C(70324),t=/cubic-bezier\(([0-9,\.e ]+)\)/;function r(n){var e=n&&t.exec(n);if(e){var s=e[1].split(","),h=+(0,o.fy)(s[0]),i=+(0,o.fy)(s[1]),a=+(0,o.fy)(s[2]),l=+(0,o.fy)(s[3]);if(isNaN(h+i+a+l))return;var _=[];return function(M){return M<=0?0:M>=1?1:(0,p.kD)(0,h,a,1,M,_)&&(0,p.af)(0,i,l,1,_[0])}}}},75820:function(Dt,it,C){var p=C(54490),o;o=p.Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},it.Z=o},57782:function(Dt,it,C){C.d(it,{Z:function(){return B}});var p=C(62623),o=C(70324),t=C(12012),r=C(10563),n=C(89625),e=C(87368),s=C(16128),h=C(53197),i=C(47297);function a(O,A,E){var d=i.qW.createCanvas(),f=A.getWidth(),u=A.getHeight(),c=d.style;return c&&(c.position="absolute",c.left="0",c.top="0",c.width=f+"px",c.height=u+"px",d.setAttribute("data-zr-dom-id",O)),d.width=f*E,d.height=u*E,d}var l=function(O){(0,t.ZT)(A,O);function A(E,d,f){var u=O.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null;var c;f=f||p.KL,typeof E=="string"?c=a(E,d,f):o.Kn(E)&&(c=E,E=c.id),u.id=E,u.dom=c;var v=c.style;return v&&(o.$j(c),c.onselectstart=function(){return!1},v.padding="0",v.margin="0",v.borderWidth="0"),u.painter=d,u.dpr=f,u}return A.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},A.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},A.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},A.prototype.setUnpainted=function(){this.__firstTimePaint=!0},A.prototype.createBackBuffer=function(){var E=this.dpr;this.domBack=a("back-"+this.id,this.painter,E),this.ctxBack=this.domBack.getContext("2d"),E!==1&&this.ctxBack.scale(E,E)},A.prototype.createRepaintRects=function(E,d,f,u){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var c=[],v=this.maxRepaintRectCount,g=!1,R=new s.Z(0,0,0,0);function x(H){if(!(!H.isFinite()||H.isZero()))if(c.length===0){var V=new s.Z(0,0,0,0);V.copy(H),c.push(V)}else{for(var D=!1,F=1/0,N=0,X=0;X<c.length;++X){var Y=c[X];if(Y.intersect(H)){var et=new s.Z(0,0,0,0);et.copy(Y),et.union(H),c[X]=et,D=!0;break}else if(g){R.copy(H),R.union(Y);var z=H.width*H.height,k=Y.width*Y.height,at=R.width*R.height,ft=at-z-k;ft<F&&(F=ft,N=X)}}if(g&&(c[N].union(H),D=!0),!D){var V=new s.Z(0,0,0,0);V.copy(H),c.push(V)}g||(g=c.length>=v)}}for(var L=this.__startIndex;L<this.__endIndex;++L){var I=E[L];if(I){var Z=I.shouldBePainted(f,u,!0,!0),G=I.__isRendered&&(I.__dirty&h.YV||!Z)?I.getPrevPaintRect():null;G&&x(G);var K=Z&&(I.__dirty&h.YV||!I.__isRendered)?I.getPaintRect():null;K&&x(K)}}for(var L=this.__prevStartIndex;L<this.__prevEndIndex;++L){var I=d[L],Z=I.shouldBePainted(f,u,!0,!0);if(I&&(!Z||!I.__zr)&&I.__isRendered){var G=I.getPrevPaintRect();G&&x(G)}}var J;do{J=!1;for(var L=0;L<c.length;){if(c[L].isZero()){c.splice(L,1);continue}for(var U=L+1;U<c.length;)c[L].intersect(c[U])?(J=!0,c[L].union(c[U]),c.splice(U,1)):U++;L++}}while(J);return this._paintRects=c,c},A.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},A.prototype.resize=function(E,d){var f=this.dpr,u=this.dom,c=u.style,v=this.domBack;c&&(c.width=E+"px",c.height=d+"px"),u.width=E*f,u.height=d*f,v&&(v.width=E*f,v.height=d*f,f!==1&&this.ctxBack.scale(f,f))},A.prototype.clear=function(E,d,f){var u=this.dom,c=this.ctx,v=u.width,g=u.height;d=d||this.clearColor;var R=this.motionBlur&&!E,x=this.lastFrameAlpha,L=this.dpr,I=this;R&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(u,0,0,v/L,g/L));var Z=this.domBack;function G(K,J,U,H){if(c.clearRect(K,J,U,H),d&&d!=="transparent"){var V=void 0;if(o.Qq(d)){var D=d.global||d.__width===U&&d.__height===H;V=D&&d.__canvasGradient||(0,n.ZF)(c,d,{x:0,y:0,width:U,height:H}),d.__canvasGradient=V,d.__width=U,d.__height=H}else o.dL(d)&&(d.scaleX=d.scaleX||L,d.scaleY=d.scaleY||L,V=(0,e.RZ)(c,d,{dirty:function(){I.setUnpainted(),I.__painter.refresh()}}));c.save(),c.fillStyle=V||d,c.fillRect(K,J,U,H),c.restore()}R&&(c.save(),c.globalAlpha=x,c.drawImage(Z,K,J,U,H),c.restore())}!f||R?G(0,0,v,g):f.length&&o.S6(f,function(K){G(K.x*L,K.y*L,K.width*L,K.height*L)})},A}(r.Z),_=l,M=C(75820),m=C(54490),T=1e5,y=314159,P=.01,S=.001;function w(O){return O?O.__builtin__?!0:!(typeof O.resize!="function"||typeof O.refresh!="function"):!1}function b(O,A){var E=document.createElement("div");return E.style.cssText=["position:relative","width:"+O+"px","height:"+A+"px","padding:0","margin:0","border-width:0"].join(";")+";",E}var W=function(){function O(A,E,d,f){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!A.nodeName||A.nodeName.toUpperCase()==="CANVAS";this._opts=d=o.l7({},d||{}),this.dpr=d.devicePixelRatio||p.KL,this._singleCanvas=u,this.root=A;var c=A.style;c&&(o.$j(A),A.innerHTML=""),this.storage=E;var v=this._zlevelList;this._prevDisplayList=[];var g=this._layers;if(u){var x=A,L=x.width,I=x.height;d.width!=null&&(L=d.width),d.height!=null&&(I=d.height),this.dpr=d.devicePixelRatio||1,x.width=L*this.dpr,x.height=I*this.dpr,this._width=L,this._height=I;var Z=new _(x,this,this.dpr);Z.__builtin__=!0,Z.initContext(),g[y]=Z,Z.zlevel=y,v.push(y),this._domRoot=A}else{this._width=(0,n.ap)(A,0,d),this._height=(0,n.ap)(A,1,d);var R=this._domRoot=b(this._width,this._height);A.appendChild(R)}}return O.prototype.getType=function(){return"canvas"},O.prototype.isSingleCanvas=function(){return this._singleCanvas},O.prototype.getViewportRoot=function(){return this._domRoot},O.prototype.getViewportRootOffset=function(){var A=this.getViewportRoot();if(A)return{offsetLeft:A.offsetLeft||0,offsetTop:A.offsetTop||0}},O.prototype.refresh=function(A){var E=this.storage.getDisplayList(!0),d=this._prevDisplayList,f=this._zlevelList;this._redrawId=Math.random(),this._paintList(E,d,A,this._redrawId);for(var u=0;u<f.length;u++){var c=f[u],v=this._layers[c];if(!v.__builtin__&&v.refresh){var g=u===0?this._backgroundColor:null;v.refresh(g)}}return this._opts.useDirtyRect&&(this._prevDisplayList=E.slice()),this},O.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},O.prototype._paintHoverList=function(A){var E=A.length,d=this._hoverlayer;if(d&&d.clear(),!!E){for(var f={inHover:!0,viewWidth:this._width,viewHeight:this._height},u,c=0;c<E;c++){var v=A[c];v.__inHover&&(d||(d=this._hoverlayer=this.getLayer(T)),u||(u=d.ctx,u.save()),(0,e.Dm)(u,v,f,c===E-1))}u&&u.restore()}},O.prototype.getHoverLayer=function(){return this.getLayer(T)},O.prototype.paintOne=function(A,E){(0,e.RV)(A,E)},O.prototype._paintList=function(A,E,d,f){if(this._redrawId===f){d=d||!1,this._updateLayerStatus(A);var u=this._doPaintList(A,E,d),c=u.finished,v=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),v&&this._paintHoverList(A),c)this.eachLayer(function(R){R.afterBrush&&R.afterBrush()});else{var g=this;(0,M.Z)(function(){g._paintList(A,E,d,f)})}}},O.prototype._compositeManually=function(){var A=this.getLayer(y).ctx,E=this._domRoot.width,d=this._domRoot.height;A.clearRect(0,0,E,d),this.eachBuiltinLayer(function(f){f.virtual&&A.drawImage(f.dom,0,0,E,d)})},O.prototype._doPaintList=function(A,E,d){for(var f=this,u=[],c=this._opts.useDirtyRect,v=0;v<this._zlevelList.length;v++){var g=this._zlevelList[v],R=this._layers[g];R.__builtin__&&R!==this._hoverlayer&&(R.__dirty||d)&&u.push(R)}for(var x=!0,L=!1,I=function(K){var J=u[K],U=J.ctx,H=c&&J.createRepaintRects(A,E,Z._width,Z._height),V=d?J.__startIndex:J.__drawIndex,D=!d&&J.incremental&&Date.now,F=D&&Date.now(),N=J.zlevel===Z._zlevelList[0]?Z._backgroundColor:null;if(J.__startIndex===J.__endIndex)J.clear(!1,N,H);else if(V===J.__startIndex){var X=A[V];(!X.incremental||!X.notClear||d)&&J.clear(!1,N,H)}V===-1&&(console.error("For some unknown reason. drawIndex is -1"),V=J.__startIndex);var Y,et=function(ft){var _t={inHover:!1,allClipped:!1,prevEl:null,viewWidth:f._width,viewHeight:f._height};for(Y=V;Y<J.__endIndex;Y++){var tt=A[Y];if(tt.__inHover&&(L=!0),f._doPaintEl(tt,J,c,ft,_t,Y===J.__endIndex-1),D){var rt=Date.now()-F;if(rt>15)break}}_t.prevElClipPaths&&U.restore()};if(H)if(H.length===0)Y=J.__endIndex;else for(var z=Z.dpr,k=0;k<H.length;++k){var at=H[k];U.save(),U.beginPath(),U.rect(at.x*z,at.y*z,at.width*z,at.height*z),U.clip(),et(at),U.restore()}else U.save(),et(),U.restore();J.__drawIndex=Y,J.__drawIndex<J.__endIndex&&(x=!1)},Z=this,G=0;G<u.length;G++)I(G);return m.Z.wxa&&o.S6(this._layers,function(K){K&&K.ctx&&K.ctx.draw&&K.ctx.draw()}),{finished:x,needsRefreshHover:L}},O.prototype._doPaintEl=function(A,E,d,f,u,c){var v=E.ctx;if(d){var g=A.getPaintRect();(!f||g&&g.intersect(f))&&((0,e.Dm)(v,A,u,c),A.setPrevPaintRect(g))}else(0,e.Dm)(v,A,u,c)},O.prototype.getLayer=function(A,E){this._singleCanvas&&!this._needsManuallyCompositing&&(A=y);var d=this._layers[A];return d||(d=new _("zr_"+A,this,this.dpr),d.zlevel=A,d.__builtin__=!0,this._layerConfig[A]?o.TS(d,this._layerConfig[A],!0):this._layerConfig[A-P]&&o.TS(d,this._layerConfig[A-P],!0),E&&(d.virtual=E),this.insertLayer(A,d),d.initContext()),d},O.prototype.insertLayer=function(A,E){var d=this._layers,f=this._zlevelList,u=f.length,c=this._domRoot,v=null,g=-1;if(!d[A]&&w(E)){if(u>0&&A>f[0]){for(g=0;g<u-1&&!(f[g]<A&&f[g+1]>A);g++);v=d[f[g]]}if(f.splice(g+1,0,A),d[A]=E,!E.virtual)if(v){var R=v.dom;R.nextSibling?c.insertBefore(E.dom,R.nextSibling):c.appendChild(E.dom)}else c.firstChild?c.insertBefore(E.dom,c.firstChild):c.appendChild(E.dom);E.__painter=this}},O.prototype.eachLayer=function(A,E){for(var d=this._zlevelList,f=0;f<d.length;f++){var u=d[f];A.call(E,this._layers[u],u)}},O.prototype.eachBuiltinLayer=function(A,E){for(var d=this._zlevelList,f=0;f<d.length;f++){var u=d[f],c=this._layers[u];c.__builtin__&&A.call(E,c,u)}},O.prototype.eachOtherLayer=function(A,E){for(var d=this._zlevelList,f=0;f<d.length;f++){var u=d[f],c=this._layers[u];c.__builtin__||A.call(E,c,u)}},O.prototype.getLayers=function(){return this._layers},O.prototype._updateLayerStatus=function(A){this.eachBuiltinLayer(function(L,I){L.__dirty=L.__used=!1});function E(L){u&&(u.__endIndex!==L&&(u.__dirty=!0),u.__endIndex=L)}if(this._singleCanvas)for(var d=1;d<A.length;d++){var f=A[d];if(f.zlevel!==A[d-1].zlevel||f.incremental){this._needsManuallyCompositing=!0;break}}var u=null,c=0,v,g;for(g=0;g<A.length;g++){var f=A[g],R=f.zlevel,x=void 0;v!==R&&(v=R,c=0),f.incremental?(x=this.getLayer(R+S,this._needsManuallyCompositing),x.incremental=!0,c=1):x=this.getLayer(R+(c>0?P:0),this._needsManuallyCompositing),x.__builtin__||o.H("ZLevel "+R+" has been used by unkown layer "+x.id),x!==u&&(x.__used=!0,x.__startIndex!==g&&(x.__dirty=!0),x.__startIndex=g,x.incremental?x.__drawIndex=-1:x.__drawIndex=g,E(g),u=x),f.__dirty&h.YV&&!f.__inHover&&(x.__dirty=!0,x.incremental&&x.__drawIndex<0&&(x.__drawIndex=g))}E(g),this.eachBuiltinLayer(function(L,I){!L.__used&&L.getElementCount()>0&&(L.__dirty=!0,L.__startIndex=L.__endIndex=L.__drawIndex=0),L.__dirty&&L.__drawIndex<0&&(L.__drawIndex=L.__startIndex)})},O.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},O.prototype._clearLayer=function(A){A.clear()},O.prototype.setBackgroundColor=function(A){this._backgroundColor=A,o.S6(this._layers,function(E){E.setUnpainted()})},O.prototype.configLayer=function(A,E){if(E){var d=this._layerConfig;d[A]?o.TS(d[A],E,!0):d[A]=E;for(var f=0;f<this._zlevelList.length;f++){var u=this._zlevelList[f];if(u===A||u===A+P){var c=this._layers[u];o.TS(c,d[A],!0)}}}},O.prototype.delLayer=function(A){var E=this._layers,d=this._zlevelList,f=E[A];f&&(f.dom.parentNode.removeChild(f.dom),delete E[A],d.splice(o.cq(d,A),1))},O.prototype.resize=function(A,E){if(this._domRoot.style){var d=this._domRoot;d.style.display="none";var f=this._opts,u=this.root;if(A!=null&&(f.width=A),E!=null&&(f.height=E),A=(0,n.ap)(u,0,f),E=(0,n.ap)(u,1,f),d.style.display="",this._width!==A||E!==this._height){d.style.width=A+"px",d.style.height=E+"px";for(var c in this._layers)this._layers.hasOwnProperty(c)&&this._layers[c].resize(A,E);this.refresh(!0)}this._width=A,this._height=E}else{if(A==null||E==null)return;this._width=A,this._height=E,this.getLayer(y).resize(A,E)}return this},O.prototype.clearLayer=function(A){var E=this._layers[A];E&&E.clear()},O.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},O.prototype.getRenderedCanvas=function(A){if(A=A||{},this._singleCanvas&&!this._compositeManually)return this._layers[y].dom;var E=new _("image",this,A.pixelRatio||this.dpr);E.initContext(),E.clear(!1,A.backgroundColor||this._backgroundColor);var d=E.ctx;if(A.pixelRatio<=this.dpr){this.refresh();var f=E.dom.width,u=E.dom.height;this.eachLayer(function(L){L.__builtin__?d.drawImage(L.dom,0,0,f,u):L.renderToCanvas&&(d.save(),L.renderToCanvas(d),d.restore())})}else for(var c={inHover:!1,viewWidth:this._width,viewHeight:this._height},v=this.storage.getDisplayList(!0),g=0,R=v.length;g<R;g++){var x=v[g];(0,e.Dm)(d,x,c,g===R-1)}return E.dom},O.prototype.getWidth=function(){return this._width},O.prototype.getHeight=function(){return this._height},O}(),B=W},85342:function(Dt,it,C){C.d(it,{a:function(){return t}});var p=C(70324);function o(r,n){return!r||r==="solid"||!(n>0)?null:r==="dashed"?[4*n,2*n]:r==="dotted"?[n]:(0,p.hj)(r)?[r]:(0,p.kJ)(r)?r:null}function t(r){var n=r.style,e=n.lineDash&&n.lineWidth>0&&o(n.lineDash,n.lineWidth),s=n.lineDashOffset;if(e){var h=n.strokeNoScale&&r.getLineScale?r.getLineScale():1;h&&h!==1&&(e=(0,p.UI)(e,function(i){return i/h}),s/=h)}return[e,s]}},87368:function(Dt,it,C){C.d(it,{Dm:function(){return K},RV:function(){return G},RZ:function(){return S}});var p=C(11635),o=C(29436),t=C(6850),r=C(89625),n=C(66210),e=C(13806),s=C(83007),h=C(70324),i=C(85342),a=C(53197),l=C(47297),_=new o.Z(!0);function M(U){var H=U.stroke;return!(H==null||H==="none"||!(U.lineWidth>0))}function m(U){return typeof U=="string"&&U!=="none"}function T(U){var H=U.fill;return H!=null&&H!=="none"}function y(U,H){if(H.fillOpacity!=null&&H.fillOpacity!==1){var V=U.globalAlpha;U.globalAlpha=H.fillOpacity*H.opacity,U.fill(),U.globalAlpha=V}else U.fill()}function P(U,H){if(H.strokeOpacity!=null&&H.strokeOpacity!==1){var V=U.globalAlpha;U.globalAlpha=H.strokeOpacity*H.opacity,U.stroke(),U.globalAlpha=V}else U.stroke()}function S(U,H,V){var D=(0,t.Gq)(H.image,H.__image,V);if((0,t.v5)(D)){var F=U.createPattern(D,H.repeat||"repeat");if(typeof DOMMatrix=="function"&&F&&F.setTransform){var N=new DOMMatrix;N.translateSelf(H.x||0,H.y||0),N.rotateSelf(0,0,(H.rotation||0)*h.I3),N.scaleSelf(H.scaleX||1,H.scaleY||1),F.setTransform(N)}return F}}function w(U,H,V,D){var F,N=M(V),X=T(V),Y=V.strokePercent,et=Y<1,z=!H.path;(!H.silent||et)&&z&&H.createPathProxy();var k=H.path||_,at=H.__dirty;if(!D){var ft=V.fill,_t=V.stroke,tt=X&&!!ft.colorStops,rt=N&&!!_t.colorStops,ut=X&&!!ft.image,ct=N&&!!_t.image,st=void 0,dt=void 0,ht=void 0,xt=void 0,Rt=void 0;(tt||rt)&&(Rt=H.getBoundingRect()),tt&&(st=at?(0,r.ZF)(U,ft,Rt):H.__canvasFillGradient,H.__canvasFillGradient=st),rt&&(dt=at?(0,r.ZF)(U,_t,Rt):H.__canvasStrokeGradient,H.__canvasStrokeGradient=dt),ut&&(ht=at||!H.__canvasFillPattern?S(U,ft,H):H.__canvasFillPattern,H.__canvasFillPattern=ht),ct&&(xt=at||!H.__canvasStrokePattern?S(U,_t,H):H.__canvasStrokePattern,H.__canvasStrokePattern=ht),tt?U.fillStyle=st:ut&&(ht?U.fillStyle=ht:X=!1),rt?U.strokeStyle=dt:ct&&(xt?U.strokeStyle=xt:N=!1)}var mt=H.getGlobalScale();k.setScale(mt[0],mt[1],H.segmentIgnoreThreshold);var St,It;U.setLineDash&&V.lineDash&&(F=(0,i.a)(H),St=F[0],It=F[1]);var gt=!0;(z||at&a.RH)&&(k.setDPR(U.dpr),et?k.setContext(null):(k.setContext(U),gt=!1),k.reset(),H.buildPath(k,H.shape,D),k.toStatic(),H.pathUpdated()),gt&&k.rebuildPath(U,et?Y:1),St&&(U.setLineDash(St),U.lineDashOffset=It),D||(V.strokeFirst?(N&&P(U,V),X&&y(U,V)):(X&&y(U,V),N&&P(U,V))),St&&U.setLineDash([])}function b(U,H,V){var D=H.__image=(0,t.Gq)(V.image,H.__image,H,H.onload);if(!(!D||!(0,t.v5)(D))){var F=V.x||0,N=V.y||0,X=H.getWidth(),Y=H.getHeight(),et=D.width/D.height;if(X==null&&Y!=null?X=Y*et:Y==null&&X!=null?Y=X/et:X==null&&Y==null&&(X=D.width,Y=D.height),V.sWidth&&V.sHeight){var z=V.sx||0,k=V.sy||0;U.drawImage(D,z,k,V.sWidth,V.sHeight,F,N,X,Y)}else if(V.sx&&V.sy){var z=V.sx,k=V.sy,at=X-z,ft=Y-k;U.drawImage(D,z,k,at,ft,F,N,X,Y)}else U.drawImage(D,F,N,X,Y)}}function W(U,H,V){var D,F=V.text;if(F!=null&&(F+=""),F){U.font=V.font||l.Uo,U.textAlign=V.textAlign,U.textBaseline=V.textBaseline;var N=void 0,X=void 0;U.setLineDash&&V.lineDash&&(D=(0,i.a)(H),N=D[0],X=D[1]),N&&(U.setLineDash(N),U.lineDashOffset=X),V.strokeFirst?(M(V)&&U.strokeText(F,V.x,V.y),T(V)&&U.fillText(F,V.x,V.y)):(T(V)&&U.fillText(F,V.x,V.y),M(V)&&U.strokeText(F,V.x,V.y)),N&&U.setLineDash([])}}var B=["shadowBlur","shadowOffsetX","shadowOffsetY"],O=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function A(U,H,V,D,F){var N=!1;if(!D&&(V=V||{},H===V))return!1;if(D||H.opacity!==V.opacity){I(U,F),N=!0;var X=Math.max(Math.min(H.opacity,1),0);U.globalAlpha=isNaN(X)?p.tj.opacity:X}(D||H.blend!==V.blend)&&(N||(I(U,F),N=!0),U.globalCompositeOperation=H.blend||p.tj.blend);for(var Y=0;Y<B.length;Y++){var et=B[Y];(D||H[et]!==V[et])&&(N||(I(U,F),N=!0),U[et]=U.dpr*(H[et]||0))}return(D||H.shadowColor!==V.shadowColor)&&(N||(I(U,F),N=!0),U.shadowColor=H.shadowColor||p.tj.shadowColor),N}function E(U,H,V,D,F){var N=Z(H,F.inHover),X=D?null:V&&Z(V,F.inHover)||{};if(N===X)return!1;var Y=A(U,N,X,D,F);if((D||N.fill!==X.fill)&&(Y||(I(U,F),Y=!0),m(N.fill)&&(U.fillStyle=N.fill)),(D||N.stroke!==X.stroke)&&(Y||(I(U,F),Y=!0),m(N.stroke)&&(U.strokeStyle=N.stroke)),(D||N.opacity!==X.opacity)&&(Y||(I(U,F),Y=!0),U.globalAlpha=N.opacity==null?1:N.opacity),H.hasStroke()){var et=N.lineWidth,z=et/(N.strokeNoScale&&H.getLineScale?H.getLineScale():1);U.lineWidth!==z&&(Y||(I(U,F),Y=!0),U.lineWidth=z)}for(var k=0;k<O.length;k++){var at=O[k],ft=at[0];(D||N[ft]!==X[ft])&&(Y||(I(U,F),Y=!0),U[ft]=N[ft]||at[1])}return Y}function d(U,H,V,D,F){return A(U,Z(H,F.inHover),V&&Z(V,F.inHover),D,F)}function f(U,H){var V=H.transform,D=U.dpr||1;V?U.setTransform(D*V[0],D*V[1],D*V[2],D*V[3],D*V[4],D*V[5]):U.setTransform(D,0,0,D,0,0)}function u(U,H,V){for(var D=!1,F=0;F<U.length;F++){var N=U[F];D=D||N.isZeroArea(),f(H,N),H.beginPath(),N.buildPath(H,N.shape),H.clip()}V.allClipped=D}function c(U,H){return U&&H?U[0]!==H[0]||U[1]!==H[1]||U[2]!==H[2]||U[3]!==H[3]||U[4]!==H[4]||U[5]!==H[5]:!(!U&&!H)}var v=1,g=2,R=3,x=4;function L(U){var H=T(U),V=M(U);return!(U.lineDash||!(+H^+V)||H&&typeof U.fill!="string"||V&&typeof U.stroke!="string"||U.strokePercent<1||U.strokeOpacity<1||U.fillOpacity<1)}function I(U,H){H.batchFill&&U.fill(),H.batchStroke&&U.stroke(),H.batchFill="",H.batchStroke=""}function Z(U,H){return H&&U.__hoverStyle||U.style}function G(U,H){K(U,H,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function K(U,H,V,D){var F=H.transform;if(!H.shouldBePainted(V.viewWidth,V.viewHeight,!1,!1)){H.__dirty&=~a.YV,H.__isRendered=!1;return}var N=H.__clipPaths,X=V.prevElClipPaths,Y=!1,et=!1;if((!X||(0,r.cF)(N,X))&&(X&&X.length&&(I(U,V),U.restore(),et=Y=!0,V.prevElClipPaths=null,V.allClipped=!1,V.prevEl=null),N&&N.length&&(I(U,V),U.save(),u(N,U,V),Y=!0),V.prevElClipPaths=N),V.allClipped){H.__isRendered=!1;return}H.beforeBrush&&H.beforeBrush(),H.innerBeforeBrush();var z=V.prevEl;z||(et=Y=!0);var k=H instanceof n.ZP&&H.autoBatch&&L(H.style);Y||c(F,z.transform)?(I(U,V),f(U,H)):k||I(U,V);var at=Z(H,V.inHover);H instanceof n.ZP?(V.lastDrawType!==v&&(et=!0,V.lastDrawType=v),E(U,H,z,et,V),(!k||!V.batchFill&&!V.batchStroke)&&U.beginPath(),w(U,H,at,k),k&&(V.batchFill=at.fill||"",V.batchStroke=at.stroke||"")):H instanceof s.Z?(V.lastDrawType!==R&&(et=!0,V.lastDrawType=R),E(U,H,z,et,V),W(U,H,at)):H instanceof e.ZP?(V.lastDrawType!==g&&(et=!0,V.lastDrawType=g),d(U,H,z,et,V),b(U,H,at)):H.getTemporalDisplayables&&(V.lastDrawType!==x&&(et=!0,V.lastDrawType=x),J(U,H,V)),k&&D&&I(U,V),H.innerAfterBrush(),H.afterBrush&&H.afterBrush(),V.prevEl=H,H.__dirty=0,H.__isRendered=!0}function J(U,H,V){var D=H.getDisplayables(),F=H.getTemporalDisplayables();U.save();var N={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:V.viewWidth,viewHeight:V.viewHeight,inHover:V.inHover},X,Y;for(X=H.getCursor(),Y=D.length;X<Y;X++){var et=D[X];et.beforeBrush&&et.beforeBrush(),et.innerBeforeBrush(),K(U,et,N,X===Y-1),et.innerAfterBrush(),et.afterBrush&&et.afterBrush(),N.prevEl=et}for(var z=0,k=F.length;z<k;z++){var et=F[z];et.beforeBrush&&et.beforeBrush(),et.innerBeforeBrush(),K(U,et,N,z===k-1),et.innerAfterBrush(),et.afterBrush&&et.afterBrush(),N.prevEl=et}H.clearTemporalDisplayables(),H.notClear=!0,U.restore()}},89625:function(Dt,it,C){C.d(it,{ZF:function(){return r},ap:function(){return s},cF:function(){return n}});function p(h){return isFinite(h)}function o(h,i,a){var l=i.x==null?0:i.x,_=i.x2==null?1:i.x2,M=i.y==null?0:i.y,m=i.y2==null?0:i.y2;i.global||(l=l*a.width+a.x,_=_*a.width+a.x,M=M*a.height+a.y,m=m*a.height+a.y),l=p(l)?l:0,_=p(_)?_:1,M=p(M)?M:0,m=p(m)?m:0;var T=h.createLinearGradient(l,M,_,m);return T}function t(h,i,a){var l=a.width,_=a.height,M=Math.min(l,_),m=i.x==null?.5:i.x,T=i.y==null?.5:i.y,y=i.r==null?.5:i.r;i.global||(m=m*l+a.x,T=T*_+a.y,y=y*M),m=p(m)?m:.5,T=p(T)?T:.5,y=y>=0&&p(y)?y:.5;var P=h.createRadialGradient(m,T,0,m,T,y);return P}function r(h,i,a){for(var l=i.type==="radial"?t(h,i,a):o(h,i,a),_=i.colorStops,M=0;M<_.length;M++)l.addColorStop(_[M].offset,_[M].color);return l}function n(h,i){if(h===i||!h&&!i)return!1;if(!h||!i||h.length!==i.length)return!0;for(var a=0;a<h.length;a++)if(h[a]!==i[a])return!0;return!1}function e(h){return parseInt(h,10)}function s(h,i,a){var l=["width","height"][i],_=["clientWidth","clientHeight"][i],M=["paddingLeft","paddingTop"][i],m=["paddingRight","paddingBottom"][i];if(a[l]!=null&&a[l]!=="auto")return parseFloat(a[l]);var T=document.defaultView.getComputedStyle(h);return(h[_]||e(T[l])||e(h.style[l]))-(e(T[M])||0)-(e(T[m])||0)|0}},62623:function(Dt,it,C){C.d(it,{Ak:function(){return n},GD:function(){return s},KL:function(){return r},iv:function(){return h},vU:function(){return e}});var p=C(54490),o=1;p.Z.hasGlobalWindow&&(o=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var t=0,r=o,n=.4,e="#333",s="#ccc",h="#eee"},55265:function(Dt,it,C){C.d(it,{m:function(){return p}});function p(o,t,r,n,e,s,h){if(e===0)return!1;var i=e,a=0,l=o;if(h>t+i&&h>n+i||h<t-i&&h<n-i||s>o+i&&s>r+i||s<o-i&&s<r-i)return!1;if(o!==r)a=(t-n)/(o-r),l=(o*n-r*t)/(o-r);else return Math.abs(s-o)<=i/2;var _=a*s-h+l,M=_*_/(a*a+1);return M<=i/2*i/2}},48154:function(Dt,it,C){C.d(it,{X:function(){return r}});var p=C(99271),o=1e-8;function t(n,e){return Math.abs(n-e)<o}function r(n,e,s){var h=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var l=n[a];h+=(0,p.Z)(i[0],i[1],l[0],l[1],e,s),i=l}var _=n[0];return(!t(i[0],_[0])||!t(i[1],_[1]))&&(h+=(0,p.Z)(i[0],i[1],_[0],_[1],e,s)),h!==0}},48610:function(Dt,it,C){C.d(it,{m:function(){return o}});var p=C(14296);function o(t,r,n,e,s,h,i,a,l){if(i===0)return!1;var _=i;if(l>r+_&&l>e+_&&l>h+_||l<r-_&&l<e-_&&l<h-_||a>t+_&&a>n+_&&a>s+_||a<t-_&&a<n-_&&a<s-_)return!1;var M=(0,p.Wr)(t,r,n,e,s,h,a,l,null);return M<=_/2}},98733:function(Dt,it,C){C.d(it,{Dp:function(){return a},GM:function(){return _},M3:function(){return h},dz:function(){return n},lP:function(){return s},mU:function(){return i},wI:function(){return M}});var p=C(16128),o=C(86280),t=C(47297),r={};function n(m,T){T=T||t.Uo;var y=r[T];y||(y=r[T]=new o.ZP(500));var P=y.get(m);return P==null&&(P=t.qW.measureText(m,T).width,y.put(m,P)),P}function e(m,T,y,P){var S=n(m,T),w=a(T),b=h(0,S,y),W=i(0,w,P),B=new p.Z(b,W,S,w);return B}function s(m,T,y,P){var S=((m||"")+"").split(`
`),w=S.length;if(w===1)return e(S[0],T,y,P);for(var b=new p.Z(0,0,0,0),W=0;W<S.length;W++){var B=e(S[W],T,y,P);W===0?b.copy(B):b.union(B)}return b}function h(m,T,y){return y==="right"?m-=T:y==="center"&&(m-=T/2),m}function i(m,T,y){return y==="middle"?m-=T/2:y==="bottom"&&(m-=T),m}function a(m){return n("\u56FD",m)}function l(m,T){return platformApi.measureText(m,T)}function _(m,T){return typeof m=="string"?m.lastIndexOf("%")>=0?parseFloat(m)/100*T:parseFloat(m):m}function M(m,T,y){var P=T.position||"inside",S=T.distance!=null?T.distance:5,w=y.height,b=y.width,W=w/2,B=y.x,O=y.y,A="left",E="top";if(P instanceof Array)B+=_(P[0],y.width),O+=_(P[1],y.height),A=null,E=null;else switch(P){case"left":B-=S,O+=W,A="right",E="middle";break;case"right":B+=S+b,O+=W,E="middle";break;case"top":B+=b/2,O-=S,A="center",E="bottom";break;case"bottom":B+=b/2,O+=w+S,A="center";break;case"inside":B+=b/2,O+=W,A="center",E="middle";break;case"insideLeft":B+=S,O+=W,E="middle";break;case"insideRight":B+=b-S,O+=W,A="right",E="middle";break;case"insideTop":B+=b/2,O+=S,A="center";break;case"insideBottom":B+=b/2,O+=w-S,A="center",E="bottom";break;case"insideTopLeft":B+=S,O+=S;break;case"insideTopRight":B+=b-S,O+=S,A="right";break;case"insideBottomLeft":B+=S,O+=w-S,E="bottom";break;case"insideBottomRight":B+=b-S,O+=w-S,A="right",E="bottom";break}return m=m||{},m.x=B,m.y=O,m.align=A,m.verticalAlign=E,m}},47833:function(Dt,it,C){C.d(it,{m:function(){return o}});var p=Math.PI*2;function o(t){return t%=p,t<0&&(t+=p),t}},99271:function(Dt,it,C){C.d(it,{Z:function(){return p}});function p(o,t,r,n,e,s){if(s>t&&s>n||s<t&&s<n||n===t)return 0;var h=(s-t)/(n-t),i=n<t?1:-1;(h===1||h===0)&&(i=n<t?.5:-.5);var a=h*(r-o)+o;return a===e?1/0:a>e?i:0}},16128:function(Dt,it,C){var p=C(58427),o=C(73913),t=Math.min,r=Math.max,n=new o.Z,e=new o.Z,s=new o.Z,h=new o.Z,i=new o.Z,a=new o.Z,l=function(){function _(M,m,T,y){T<0&&(M=M+T,T=-T),y<0&&(m=m+y,y=-y),this.x=M,this.y=m,this.width=T,this.height=y}return _.prototype.union=function(M){var m=t(M.x,this.x),T=t(M.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=r(M.x+M.width,this.x+this.width)-m:this.width=M.width,isFinite(this.y)&&isFinite(this.height)?this.height=r(M.y+M.height,this.y+this.height)-T:this.height=M.height,this.x=m,this.y=T},_.prototype.applyTransform=function(M){_.applyTransform(this,this,M)},_.prototype.calculateTransform=function(M){var m=this,T=M.width/m.width,y=M.height/m.height,P=p.Ue();return p.Iu(P,P,[-m.x,-m.y]),p.bA(P,P,[T,y]),p.Iu(P,P,[M.x,M.y]),P},_.prototype.intersect=function(M,m){if(!M)return!1;M instanceof _||(M=_.create(M));var T=this,y=T.x,P=T.x+T.width,S=T.y,w=T.y+T.height,b=M.x,W=M.x+M.width,B=M.y,O=M.y+M.height,A=!(P<b||W<y||w<B||O<S);if(m){var E=1/0,d=0,f=Math.abs(P-b),u=Math.abs(W-y),c=Math.abs(w-B),v=Math.abs(O-S),g=Math.min(f,u),R=Math.min(c,v);P<b||W<y?g>d&&(d=g,f<u?o.Z.set(a,-f,0):o.Z.set(a,u,0)):g<E&&(E=g,f<u?o.Z.set(i,f,0):o.Z.set(i,-u,0)),w<B||O<S?R>d&&(d=R,c<v?o.Z.set(a,0,-c):o.Z.set(a,0,v)):g<E&&(E=g,c<v?o.Z.set(i,0,c):o.Z.set(i,0,-v))}return m&&o.Z.copy(m,A?i:a),A},_.prototype.contain=function(M,m){var T=this;return M>=T.x&&M<=T.x+T.width&&m>=T.y&&m<=T.y+T.height},_.prototype.clone=function(){return new _(this.x,this.y,this.width,this.height)},_.prototype.copy=function(M){_.copy(this,M)},_.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},_.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},_.prototype.isZero=function(){return this.width===0||this.height===0},_.create=function(M){return new _(M.x,M.y,M.width,M.height)},_.copy=function(M,m){M.x=m.x,M.y=m.y,M.width=m.width,M.height=m.height},_.applyTransform=function(M,m,T){if(!T){M!==m&&_.copy(M,m);return}if(T[1]<1e-5&&T[1]>-1e-5&&T[2]<1e-5&&T[2]>-1e-5){var y=T[0],P=T[3],S=T[4],w=T[5];M.x=m.x*y+S,M.y=m.y*P+w,M.width=m.width*y,M.height=m.height*P,M.width<0&&(M.x+=M.width,M.width=-M.width),M.height<0&&(M.y+=M.height,M.height=-M.height);return}n.x=s.x=m.x,n.y=h.y=m.y,e.x=h.x=m.x+m.width,e.y=s.y=m.y+m.height,n.transform(T),h.transform(T),e.transform(T),s.transform(T),M.x=t(n.x,e.x,s.x,h.x),M.y=t(n.y,e.y,s.y,h.y);var b=r(n.x,e.x,s.x,h.x),W=r(n.y,e.y,s.y,h.y);M.width=b-M.x,M.height=W-M.y},_}();it.Z=l},10563:function(Dt,it){var C=function(){function p(o){o&&(this._$eventProcessor=o)}return p.prototype.on=function(o,t,r,n){this._$handlers||(this._$handlers={});var e=this._$handlers;if(typeof t=="function"&&(n=r,r=t,t=null),!r||!o)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),e[o]||(e[o]=[]);for(var h=0;h<e[o].length;h++)if(e[o][h].h===r)return this;var i={h:r,query:t,ctx:n||this,callAtLast:r.zrEventfulCallAtLast},a=e[o].length-1,l=e[o][a];return l&&l.callAtLast?e[o].splice(a,0,i):e[o].push(i),this},p.prototype.isSilent=function(o){var t=this._$handlers;return!t||!t[o]||!t[o].length},p.prototype.off=function(o,t){var r=this._$handlers;if(!r)return this;if(!o)return this._$handlers={},this;if(t){if(r[o]){for(var n=[],e=0,s=r[o].length;e<s;e++)r[o][e].h!==t&&n.push(r[o][e]);r[o]=n}r[o]&&r[o].length===0&&delete r[o]}else delete r[o];return this},p.prototype.trigger=function(o){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var n=this._$handlers[o],e=this._$eventProcessor;if(n)for(var s=t.length,h=n.length,i=0;i<h;i++){var a=n[i];if(!(e&&e.filter&&a.query!=null&&!e.filter(o,a.query)))switch(s){case 0:a.h.call(a.ctx);break;case 1:a.h.call(a.ctx,t[0]);break;case 2:a.h.call(a.ctx,t[0],t[1]);break;default:a.h.apply(a.ctx,t);break}}return e&&e.afterTrigger&&e.afterTrigger(o),this},p.prototype.triggerWithContext=function(o){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var n=this._$handlers[o],e=this._$eventProcessor;if(n)for(var s=t.length,h=t[s-1],i=n.length,a=0;a<i;a++){var l=n[a];if(!(e&&e.filter&&l.query!=null&&!e.filter(o,l.query)))switch(s){case 0:l.h.call(h);break;case 1:l.h.call(h,t[0]);break;case 2:l.h.call(h,t[0],t[1]);break;default:l.h.apply(h,t.slice(1,s-1));break}}return e&&e.afterTrigger&&e.afterTrigger(o),this},p}();it.Z=C},86280:function(Dt,it,C){var p=function(){function r(n){this.value=n}return r}(),o=function(){function r(){this._len=0}return r.prototype.insert=function(n){var e=new p(n);return this.insertEntry(e),e},r.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},r.prototype.remove=function(n){var e=n.prev,s=n.next;e?e.next=s:this.head=s,s?s.prev=e:this.tail=e,n.next=n.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),t=function(){function r(n){this._list=new o,this._maxSize=10,this._map={},this._maxSize=n}return r.prototype.put=function(n,e){var s=this._list,h=this._map,i=null;if(h[n]==null){var a=s.len(),l=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var _=s.head;s.remove(_),delete h[_.key],i=_.value,this._lastRemovedEntry=_}l?l.value=e:l=new p(e),l.key=n,s.insertEntry(l),h[n]=l}return i},r.prototype.get=function(n){var e=this._map[n],s=this._list;if(e!=null)return e!==s.tail&&(s.remove(e),s.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();it.ZP=t},23736:function(Dt,it,C){var p=C(73913),o=[0,0],t=[0,0],r=new p.Z,n=new p.Z,e=function(){function s(h,i){this._corners=[],this._axes=[],this._origin=[0,0];for(var a=0;a<4;a++)this._corners[a]=new p.Z;for(var a=0;a<2;a++)this._axes[a]=new p.Z;h&&this.fromBoundingRect(h,i)}return s.prototype.fromBoundingRect=function(h,i){var a=this._corners,l=this._axes,_=h.x,M=h.y,m=_+h.width,T=M+h.height;if(a[0].set(_,M),a[1].set(m,M),a[2].set(m,T),a[3].set(_,T),i)for(var y=0;y<4;y++)a[y].transform(i);p.Z.sub(l[0],a[1],a[0]),p.Z.sub(l[1],a[3],a[0]),l[0].normalize(),l[1].normalize();for(var y=0;y<2;y++)this._origin[y]=l[y].dot(a[0])},s.prototype.intersect=function(h,i){var a=!0,l=!i;return r.set(1/0,1/0),n.set(0,0),!this._intersectCheckOneSide(this,h,r,n,l,1)&&(a=!1,l)||!this._intersectCheckOneSide(h,this,r,n,l,-1)&&(a=!1,l)||l||p.Z.copy(i,a?r:n),a},s.prototype._intersectCheckOneSide=function(h,i,a,l,_,M){for(var m=!0,T=0;T<2;T++){var y=this._axes[T];if(this._getProjMinMaxOnAxis(T,h._corners,o),this._getProjMinMaxOnAxis(T,i._corners,t),o[1]<t[0]||o[0]>t[1]){if(m=!1,_)return m;var P=Math.abs(t[0]-o[1]),S=Math.abs(o[0]-t[1]);Math.min(P,S)>l.len()&&(P<S?p.Z.scale(l,y,-P*M):p.Z.scale(l,y,S*M))}else if(a){var P=Math.abs(t[0]-o[1]),S=Math.abs(o[0]-t[1]);Math.min(P,S)<a.len()&&(P<S?p.Z.scale(a,y,P*M):p.Z.scale(a,y,-S*M))}}return m},s.prototype._getProjMinMaxOnAxis=function(h,i,a){for(var l=this._axes[h],_=this._origin,M=i[0].dot(l)+_[h],m=M,T=M,y=1;y<i.length;y++){var P=i[y].dot(l)+_[h];m=Math.min(P,m),T=Math.max(P,T)}a[0]=m,a[1]=T},s}();it.Z=e},29436:function(Dt,it,C){C.d(it,{L:function(){return O}});var p=C(85755),o=C(16128),t=C(62623),r=C(19169),n=C(14296),e={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},s=[],h=[],i=[],a=[],l=[],_=[],M=Math.min,m=Math.max,T=Math.cos,y=Math.sin,P=Math.abs,S=Math.PI,w=S*2,b=typeof Float32Array!="undefined",W=[];function B(E){var d=Math.round(E/S*1e8)/1e8;return d%2*S}function O(E,d){var f=B(E[0]);f<0&&(f+=w);var u=f-E[0],c=E[1];c+=u,!d&&c-f>=w?c=f+w:d&&f-c>=w?c=f-w:!d&&f>c?c=f+(w-B(f-c)):d&&f<c&&(c=f-(w-B(c-f))),E[0]=f,E[1]=c}var A=function(){function E(d){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,d&&(this._saveData=!1),this._saveData&&(this.data=[])}return E.prototype.increaseVersion=function(){this._version++},E.prototype.getVersion=function(){return this._version},E.prototype.setScale=function(d,f,u){u=u||0,u>0&&(this._ux=P(u/t.KL/d)||0,this._uy=P(u/t.KL/f)||0)},E.prototype.setDPR=function(d){this.dpr=d},E.prototype.setContext=function(d){this._ctx=d},E.prototype.getContext=function(){return this._ctx},E.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},E.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},E.prototype.moveTo=function(d,f){return this._drawPendingPt(),this.addData(e.M,d,f),this._ctx&&this._ctx.moveTo(d,f),this._x0=d,this._y0=f,this._xi=d,this._yi=f,this},E.prototype.lineTo=function(d,f){var u=P(d-this._xi),c=P(f-this._yi),v=u>this._ux||c>this._uy;if(this.addData(e.L,d,f),this._ctx&&v&&this._ctx.lineTo(d,f),v)this._xi=d,this._yi=f,this._pendingPtDist=0;else{var g=u*u+c*c;g>this._pendingPtDist&&(this._pendingPtX=d,this._pendingPtY=f,this._pendingPtDist=g)}return this},E.prototype.bezierCurveTo=function(d,f,u,c,v,g){return this._drawPendingPt(),this.addData(e.C,d,f,u,c,v,g),this._ctx&&this._ctx.bezierCurveTo(d,f,u,c,v,g),this._xi=v,this._yi=g,this},E.prototype.quadraticCurveTo=function(d,f,u,c){return this._drawPendingPt(),this.addData(e.Q,d,f,u,c),this._ctx&&this._ctx.quadraticCurveTo(d,f,u,c),this._xi=u,this._yi=c,this},E.prototype.arc=function(d,f,u,c,v,g){this._drawPendingPt(),W[0]=c,W[1]=v,O(W,g),c=W[0],v=W[1];var R=v-c;return this.addData(e.A,d,f,u,u,c,R,0,g?0:1),this._ctx&&this._ctx.arc(d,f,u,c,v,g),this._xi=T(v)*u+d,this._yi=y(v)*u+f,this},E.prototype.arcTo=function(d,f,u,c,v){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(d,f,u,c,v),this},E.prototype.rect=function(d,f,u,c){return this._drawPendingPt(),this._ctx&&this._ctx.rect(d,f,u,c),this.addData(e.R,d,f,u,c),this},E.prototype.closePath=function(){this._drawPendingPt(),this.addData(e.Z);var d=this._ctx,f=this._x0,u=this._y0;return d&&d.closePath(),this._xi=f,this._yi=u,this},E.prototype.fill=function(d){d&&d.fill(),this.toStatic()},E.prototype.stroke=function(d){d&&d.stroke(),this.toStatic()},E.prototype.len=function(){return this._len},E.prototype.setData=function(d){var f=d.length;!(this.data&&this.data.length===f)&&b&&(this.data=new Float32Array(f));for(var u=0;u<f;u++)this.data[u]=d[u];this._len=f},E.prototype.appendPath=function(d){d instanceof Array||(d=[d]);for(var f=d.length,u=0,c=this._len,v=0;v<f;v++)u+=d[v].len();b&&this.data instanceof Float32Array&&(this.data=new Float32Array(c+u));for(var v=0;v<f;v++)for(var g=d[v].data,R=0;R<g.length;R++)this.data[c++]=g[R];this._len=c},E.prototype.addData=function(d,f,u,c,v,g,R,x,L){if(this._saveData){var I=this.data;this._len+arguments.length>I.length&&(this._expandData(),I=this.data);for(var Z=0;Z<arguments.length;Z++)I[this._len++]=arguments[Z]}},E.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},E.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var d=[],f=0;f<this._len;f++)d[f]=this.data[f];this.data=d}},E.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var d=this.data;d instanceof Array&&(d.length=this._len,b&&this._len>11&&(this.data=new Float32Array(d)))}},E.prototype.getBoundingRect=function(){i[0]=i[1]=l[0]=l[1]=Number.MAX_VALUE,a[0]=a[1]=_[0]=_[1]=-Number.MAX_VALUE;var d=this.data,f=0,u=0,c=0,v=0,g;for(g=0;g<this._len;){var R=d[g++],x=g===1;switch(x&&(f=d[g],u=d[g+1],c=f,v=u),R){case e.M:f=c=d[g++],u=v=d[g++],l[0]=c,l[1]=v,_[0]=c,_[1]=v;break;case e.L:(0,r.u4)(f,u,d[g],d[g+1],l,_),f=d[g++],u=d[g++];break;case e.C:(0,r.H9)(f,u,d[g++],d[g++],d[g++],d[g++],d[g],d[g+1],l,_),f=d[g++],u=d[g++];break;case e.Q:(0,r.mJ)(f,u,d[g++],d[g++],d[g],d[g+1],l,_),f=d[g++],u=d[g++];break;case e.A:var L=d[g++],I=d[g++],Z=d[g++],G=d[g++],K=d[g++],J=d[g++]+K;g+=1;var U=!d[g++];x&&(c=T(K)*Z+L,v=y(K)*G+I),(0,r.qL)(L,I,Z,G,K,J,U,l,_),f=T(J)*Z+L,u=y(J)*G+I;break;case e.R:c=f=d[g++],v=u=d[g++];var H=d[g++],V=d[g++];(0,r.u4)(c,v,c+H,v+V,l,_);break;case e.Z:f=c,u=v;break}p.VV(i,i,l),p.Fp(a,a,_)}return g===0&&(i[0]=i[1]=a[0]=a[1]=0),new o.Z(i[0],i[1],a[0]-i[0],a[1]-i[1])},E.prototype._calculateLength=function(){var d=this.data,f=this._len,u=this._ux,c=this._uy,v=0,g=0,R=0,x=0;this._pathSegLen||(this._pathSegLen=[]);for(var L=this._pathSegLen,I=0,Z=0,G=0;G<f;){var K=d[G++],J=G===1;J&&(v=d[G],g=d[G+1],R=v,x=g);var U=-1;switch(K){case e.M:v=R=d[G++],g=x=d[G++];break;case e.L:{var H=d[G++],V=d[G++],D=H-v,F=V-g;(P(D)>u||P(F)>c||G===f-1)&&(U=Math.sqrt(D*D+F*F),v=H,g=V);break}case e.C:{var N=d[G++],X=d[G++],H=d[G++],V=d[G++],Y=d[G++],et=d[G++];U=(0,n.Ci)(v,g,N,X,H,V,Y,et,10),v=Y,g=et;break}case e.Q:{var N=d[G++],X=d[G++],H=d[G++],V=d[G++];U=(0,n.wQ)(v,g,N,X,H,V,10),v=H,g=V;break}case e.A:var z=d[G++],k=d[G++],at=d[G++],ft=d[G++],_t=d[G++],tt=d[G++],rt=tt+_t;G+=1;var ut=!d[G++];J&&(R=T(_t)*at+z,x=y(_t)*ft+k),U=m(at,ft)*M(w,Math.abs(tt)),v=T(rt)*at+z,g=y(rt)*ft+k;break;case e.R:{R=v=d[G++],x=g=d[G++];var ct=d[G++],st=d[G++];U=ct*2+st*2;break}case e.Z:{var D=R-v,F=x-g;U=Math.sqrt(D*D+F*F),v=R,g=x;break}}U>=0&&(L[Z++]=U,I+=U)}return this._pathLen=I,I},E.prototype.rebuildPath=function(d,f){var u=this.data,c=this._ux,v=this._uy,g=this._len,R,x,L,I,Z,G,K=f<1,J,U,H=0,V=0,D,F=0,N,X;if(!(K&&(this._pathSegLen||this._calculateLength(),J=this._pathSegLen,U=this._pathLen,D=f*U,!D)))t:for(var Y=0;Y<g;){var et=u[Y++],z=Y===1;switch(z&&(L=u[Y],I=u[Y+1],R=L,x=I),et!==e.L&&F>0&&(d.lineTo(N,X),F=0),et){case e.M:R=L=u[Y++],x=I=u[Y++],d.moveTo(L,I);break;case e.L:{Z=u[Y++],G=u[Y++];var k=P(Z-L),at=P(G-I);if(k>c||at>v){if(K){var ft=J[V++];if(H+ft>D){var _t=(D-H)/ft;d.lineTo(L*(1-_t)+Z*_t,I*(1-_t)+G*_t);break t}H+=ft}d.lineTo(Z,G),L=Z,I=G,F=0}else{var tt=k*k+at*at;tt>F&&(N=Z,X=G,F=tt)}break}case e.C:{var rt=u[Y++],ut=u[Y++],ct=u[Y++],st=u[Y++],dt=u[Y++],ht=u[Y++];if(K){var ft=J[V++];if(H+ft>D){var _t=(D-H)/ft;(0,n.Vz)(L,rt,ct,dt,_t,s),(0,n.Vz)(I,ut,st,ht,_t,h),d.bezierCurveTo(s[1],h[1],s[2],h[2],s[3],h[3]);break t}H+=ft}d.bezierCurveTo(rt,ut,ct,st,dt,ht),L=dt,I=ht;break}case e.Q:{var rt=u[Y++],ut=u[Y++],ct=u[Y++],st=u[Y++];if(K){var ft=J[V++];if(H+ft>D){var _t=(D-H)/ft;(0,n.Lx)(L,rt,ct,_t,s),(0,n.Lx)(I,ut,st,_t,h),d.quadraticCurveTo(s[1],h[1],s[2],h[2]);break t}H+=ft}d.quadraticCurveTo(rt,ut,ct,st),L=ct,I=st;break}case e.A:var xt=u[Y++],Rt=u[Y++],mt=u[Y++],St=u[Y++],It=u[Y++],gt=u[Y++],Tt=u[Y++],At=!u[Y++],j=mt>St?mt:St,q=P(mt-St)>.001,yt=It+gt,Mt=!1;if(K){var ft=J[V++];H+ft>D&&(yt=It+gt*(D-H)/ft,Mt=!0),H+=ft}if(q&&d.ellipse?d.ellipse(xt,Rt,mt,St,Tt,It,yt,At):d.arc(xt,Rt,j,It,yt,At),Mt)break t;z&&(R=T(It)*mt+xt,x=y(It)*St+Rt),L=T(yt)*mt+xt,I=y(yt)*St+Rt;break;case e.R:R=L=u[Y],x=I=u[Y+1],Z=u[Y++],G=u[Y++];var Q=u[Y++],$=u[Y++];if(K){var ft=J[V++];if(H+ft>D){var nt=D-H;d.moveTo(Z,G),d.lineTo(Z+M(nt,Q),G),nt-=Q,nt>0&&d.lineTo(Z+Q,G+M(nt,$)),nt-=$,nt>0&&d.lineTo(Z+m(Q-nt,0),G+$),nt-=Q,nt>0&&d.lineTo(Z,G+m($-nt,0));break t}H+=ft}d.rect(Z,G,Q,$);break;case e.Z:if(K){var ft=J[V++];if(H+ft>D){var _t=(D-H)/ft;d.lineTo(L*(1-_t)+R*_t,I*(1-_t)+x*_t);break t}H+=ft}d.closePath(),L=R,I=x}}},E.prototype.clone=function(){var d=new E,f=this.data;return d.data=f.slice?f.slice():Array.prototype.slice.call(f),d._len=this._len,d},E.CMD=e,E.initDefaultProps=function(){var d=E.prototype;d._saveData=!0,d._ux=0,d._uy=0,d._pendingPtDist=0,d._version=0}(),E}();it.Z=A},73913:function(Dt,it){var C=function(){function p(o,t){this.x=o||0,this.y=t||0}return p.prototype.copy=function(o){return this.x=o.x,this.y=o.y,this},p.prototype.clone=function(){return new p(this.x,this.y)},p.prototype.set=function(o,t){return this.x=o,this.y=t,this},p.prototype.equal=function(o){return o.x===this.x&&o.y===this.y},p.prototype.add=function(o){return this.x+=o.x,this.y+=o.y,this},p.prototype.scale=function(o){this.x*=o,this.y*=o},p.prototype.scaleAndAdd=function(o,t){this.x+=o.x*t,this.y+=o.y*t},p.prototype.sub=function(o){return this.x-=o.x,this.y-=o.y,this},p.prototype.dot=function(o){return this.x*o.x+this.y*o.y},p.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},p.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},p.prototype.normalize=function(){var o=this.len();return this.x/=o,this.y/=o,this},p.prototype.distance=function(o){var t=this.x-o.x,r=this.y-o.y;return Math.sqrt(t*t+r*r)},p.prototype.distanceSquare=function(o){var t=this.x-o.x,r=this.y-o.y;return t*t+r*r},p.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},p.prototype.transform=function(o){if(o){var t=this.x,r=this.y;return this.x=o[0]*t+o[2]*r+o[4],this.y=o[1]*t+o[3]*r+o[5],this}},p.prototype.toArray=function(o){return o[0]=this.x,o[1]=this.y,o},p.prototype.fromArray=function(o){this.x=o[0],this.y=o[1]},p.set=function(o,t,r){o.x=t,o.y=r},p.copy=function(o,t){o.x=t.x,o.y=t.y},p.len=function(o){return Math.sqrt(o.x*o.x+o.y*o.y)},p.lenSquare=function(o){return o.x*o.x+o.y*o.y},p.dot=function(o,t){return o.x*t.x+o.y*t.y},p.add=function(o,t,r){o.x=t.x+r.x,o.y=t.y+r.y},p.sub=function(o,t,r){o.x=t.x-r.x,o.y=t.y-r.y},p.scale=function(o,t,r){o.x=t.x*r,o.y=t.y*r},p.scaleAndAdd=function(o,t,r,n){o.x=t.x+r.x*n,o.y=t.y+r.y*n},p.lerp=function(o,t,r,n){var e=1-n;o.x=e*t.x+n*r.x,o.y=e*t.y+n*r.y},p}();it.Z=C},23463:function(Dt,it,C){C.d(it,{dN:function(){return l},kY:function(){return _}});var p=C(58427),o=C(85755),t=p.yR,r=5e-5;function n(M){return M>r||M<-r}var e=[],s=[],h=p.Ue(),i=Math.abs,a=function(){function M(){}return M.prototype.getLocalTransform=function(m){return M.getLocalTransform(this,m)},M.prototype.setPosition=function(m){this.x=m[0],this.y=m[1]},M.prototype.setScale=function(m){this.scaleX=m[0],this.scaleY=m[1]},M.prototype.setSkew=function(m){this.skewX=m[0],this.skewY=m[1]},M.prototype.setOrigin=function(m){this.originX=m[0],this.originY=m[1]},M.prototype.needLocalTransform=function(){return n(this.rotation)||n(this.x)||n(this.y)||n(this.scaleX-1)||n(this.scaleY-1)||n(this.skewX)||n(this.skewY)},M.prototype.updateTransform=function(){var m=this.parent&&this.parent.transform,T=this.needLocalTransform(),y=this.transform;if(!(T||m)){y&&t(y);return}y=y||p.Ue(),T?this.getLocalTransform(y):t(y),m&&(T?p.dC(y,m,y):p.JG(y,m)),this.transform=y,this._resolveGlobalScaleRatio(y)},M.prototype._resolveGlobalScaleRatio=function(m){var T=this.globalScaleRatio;if(T!=null&&T!==1){this.getGlobalScale(e);var y=e[0]<0?-1:1,P=e[1]<0?-1:1,S=((e[0]-y)*T+y)/e[0]||0,w=((e[1]-P)*T+P)/e[1]||0;m[0]*=S,m[1]*=S,m[2]*=w,m[3]*=w}this.invTransform=this.invTransform||p.Ue(),p.U_(this.invTransform,m)},M.prototype.getComputedTransform=function(){for(var m=this,T=[];m;)T.push(m),m=m.parent;for(;m=T.pop();)m.updateTransform();return this.transform},M.prototype.setLocalTransform=function(m){if(m){var T=m[0]*m[0]+m[1]*m[1],y=m[2]*m[2]+m[3]*m[3],P=Math.atan2(m[1],m[0]),S=Math.PI/2+P-Math.atan2(m[3],m[2]);y=Math.sqrt(y)*Math.cos(S),T=Math.sqrt(T),this.skewX=S,this.skewY=0,this.rotation=-P,this.x=+m[4],this.y=+m[5],this.scaleX=T,this.scaleY=y,this.originX=0,this.originY=0}},M.prototype.decomposeTransform=function(){if(this.transform){var m=this.parent,T=this.transform;m&&m.transform&&(p.dC(s,m.invTransform,T),T=s);var y=this.originX,P=this.originY;(y||P)&&(h[4]=y,h[5]=P,p.dC(s,T,h),s[4]-=y,s[5]-=P,T=s),this.setLocalTransform(T)}},M.prototype.getGlobalScale=function(m){var T=this.transform;return m=m||[],T?(m[0]=Math.sqrt(T[0]*T[0]+T[1]*T[1]),m[1]=Math.sqrt(T[2]*T[2]+T[3]*T[3]),T[0]<0&&(m[0]=-m[0]),T[3]<0&&(m[1]=-m[1]),m):(m[0]=1,m[1]=1,m)},M.prototype.transformCoordToLocal=function(m,T){var y=[m,T],P=this.invTransform;return P&&o.Ne(y,y,P),y},M.prototype.transformCoordToGlobal=function(m,T){var y=[m,T],P=this.transform;return P&&o.Ne(y,y,P),y},M.prototype.getLineScale=function(){var m=this.transform;return m&&i(m[0]-1)>1e-10&&i(m[3]-1)>1e-10?Math.sqrt(i(m[0]*m[3]-m[2]*m[1])):1},M.prototype.copyTransform=function(m){_(this,m)},M.getLocalTransform=function(m,T){T=T||[];var y=m.originX||0,P=m.originY||0,S=m.scaleX,w=m.scaleY,b=m.anchorX,W=m.anchorY,B=m.rotation||0,O=m.x,A=m.y,E=m.skewX?Math.tan(m.skewX):0,d=m.skewY?Math.tan(-m.skewY):0;if(y||P||b||W){var f=y+b,u=P+W;T[4]=-f*S-E*u*w,T[5]=-u*w-d*f*S}else T[4]=T[5]=0;return T[0]=S,T[3]=w,T[1]=d*S,T[2]=E*w,B&&p.U1(T,T,B),T[4]+=y+O,T[5]+=P+A,T},M.initDefaultProps=function(){var m=M.prototype;m.scaleX=m.scaleY=m.globalScaleRatio=1,m.x=m.y=m.originX=m.originY=m.skewX=m.skewY=m.rotation=m.anchorX=m.anchorY=0}(),M}(),l=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function _(M,m){for(var T=0;T<l.length;T++){var y=l[T];M[y]=m[y]}}it.ZP=a},66159:function(Dt,it){var C=Math.round(Math.random()*9),p=typeof Object.defineProperty=="function",o=function(){function t(){this._id="__ec_inner_"+C++}return t.prototype.get=function(r){return this._guard(r)[this._id]},t.prototype.set=function(r,n){var e=this._guard(r);return p?Object.defineProperty(e,this._id,{value:n,enumerable:!1,configurable:!0}):e[this._id]=n,this},t.prototype.delete=function(r){return this.has(r)?(delete this._guard(r)[this._id],!0):!1},t.prototype.has=function(r){return!!this._guard(r)[this._id]},t.prototype._guard=function(r){if(r!==Object(r))throw TypeError("Value of WeakMap is not a non-null object.");return r},t}();it.Z=o},19169:function(Dt,it,C){C.d(it,{H9:function(){return T},mJ:function(){return y},qL:function(){return P},u4:function(){return _},zk:function(){return l}});var p=C(85755),o=C(14296),t=Math.min,r=Math.max,n=Math.sin,e=Math.cos,s=Math.PI*2,h=p.Ue(),i=p.Ue(),a=p.Ue();function l(S,w,b){if(S.length!==0){for(var W=S[0],B=W[0],O=W[0],A=W[1],E=W[1],d=1;d<S.length;d++)W=S[d],B=t(B,W[0]),O=r(O,W[0]),A=t(A,W[1]),E=r(E,W[1]);w[0]=B,w[1]=A,b[0]=O,b[1]=E}}function _(S,w,b,W,B,O){B[0]=t(S,b),B[1]=t(w,W),O[0]=r(S,b),O[1]=r(w,W)}var M=[],m=[];function T(S,w,b,W,B,O,A,E,d,f){var u=o.pP,c=o.af,v=u(S,b,B,A,M);d[0]=1/0,d[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var g=0;g<v;g++){var R=c(S,b,B,A,M[g]);d[0]=t(R,d[0]),f[0]=r(R,f[0])}v=u(w,W,O,E,m);for(var g=0;g<v;g++){var x=c(w,W,O,E,m[g]);d[1]=t(x,d[1]),f[1]=r(x,f[1])}d[0]=t(S,d[0]),f[0]=r(S,f[0]),d[0]=t(A,d[0]),f[0]=r(A,f[0]),d[1]=t(w,d[1]),f[1]=r(w,f[1]),d[1]=t(E,d[1]),f[1]=r(E,f[1])}function y(S,w,b,W,B,O,A,E){var d=o.QC,f=o.Zm,u=r(t(d(S,b,B),1),0),c=r(t(d(w,W,O),1),0),v=f(S,b,B,u),g=f(w,W,O,c);A[0]=t(S,B,v),A[1]=t(w,O,g),E[0]=r(S,B,v),E[1]=r(w,O,g)}function P(S,w,b,W,B,O,A,E,d){var f=p.VV,u=p.Fp,c=Math.abs(B-O);if(c%s<1e-4&&c>1e-4){E[0]=S-b,E[1]=w-W,d[0]=S+b,d[1]=w+W;return}if(h[0]=e(B)*b+S,h[1]=n(B)*W+w,i[0]=e(O)*b+S,i[1]=n(O)*W+w,f(E,h,i),u(d,h,i),B=B%s,B<0&&(B=B+s),O=O%s,O<0&&(O=O+s),B>O&&!A?O+=s:B<O&&A&&(B+=s),A){var v=O;O=B,B=v}for(var g=0;g<O;g+=Math.PI/2)g>B&&(a[0]=e(g)*b+S,a[1]=n(g)*W+w,f(E,a,E),u(d,a,d))}},14296:function(Dt,it,C){C.d(it,{AZ:function(){return W},Ci:function(){return w},Jz:function(){return B},Lx:function(){return A},QC:function(){return O},Vz:function(){return P},Wr:function(){return E},X_:function(){return m},Zm:function(){return b},af:function(){return M},kD:function(){return T},pP:function(){return y},t1:function(){return S},wQ:function(){return d}});var p=C(85755),o=Math.pow,t=Math.sqrt,r=1e-8,n=1e-4,e=t(3),s=1/3,h=(0,p.Ue)(),i=(0,p.Ue)(),a=(0,p.Ue)();function l(f){return f>-r&&f<r}function _(f){return f>r||f<-r}function M(f,u,c,v,g){var R=1-g;return R*R*(R*f+3*g*u)+g*g*(g*v+3*R*c)}function m(f,u,c,v,g){var R=1-g;return 3*(((u-f)*R+2*(c-u)*g)*R+(v-c)*g*g)}function T(f,u,c,v,g,R){var x=v+3*(u-c)-f,L=3*(c-u*2+f),I=3*(u-f),Z=f-g,G=L*L-3*x*I,K=L*I-9*x*Z,J=I*I-3*L*Z,U=0;if(l(G)&&l(K))if(l(L))R[0]=0;else{var H=-I/L;H>=0&&H<=1&&(R[U++]=H)}else{var V=K*K-4*G*J;if(l(V)){var D=K/G,H=-L/x+D,F=-D/2;H>=0&&H<=1&&(R[U++]=H),F>=0&&F<=1&&(R[U++]=F)}else if(V>0){var N=t(V),X=G*L+1.5*x*(-K+N),Y=G*L+1.5*x*(-K-N);X<0?X=-o(-X,s):X=o(X,s),Y<0?Y=-o(-Y,s):Y=o(Y,s);var H=(-L-(X+Y))/(3*x);H>=0&&H<=1&&(R[U++]=H)}else{var et=(2*G*L-3*x*K)/(2*t(G*G*G)),z=Math.acos(et)/3,k=t(G),at=Math.cos(z),H=(-L-2*k*at)/(3*x),F=(-L+k*(at+e*Math.sin(z)))/(3*x),ft=(-L+k*(at-e*Math.sin(z)))/(3*x);H>=0&&H<=1&&(R[U++]=H),F>=0&&F<=1&&(R[U++]=F),ft>=0&&ft<=1&&(R[U++]=ft)}}return U}function y(f,u,c,v,g){var R=6*c-12*u+6*f,x=9*u+3*v-3*f-9*c,L=3*u-3*f,I=0;if(l(x)){if(_(R)){var Z=-L/R;Z>=0&&Z<=1&&(g[I++]=Z)}}else{var G=R*R-4*x*L;if(l(G))g[0]=-R/(2*x);else if(G>0){var K=t(G),Z=(-R+K)/(2*x),J=(-R-K)/(2*x);Z>=0&&Z<=1&&(g[I++]=Z),J>=0&&J<=1&&(g[I++]=J)}}return I}function P(f,u,c,v,g,R){var x=(u-f)*g+f,L=(c-u)*g+u,I=(v-c)*g+c,Z=(L-x)*g+x,G=(I-L)*g+L,K=(G-Z)*g+Z;R[0]=f,R[1]=x,R[2]=Z,R[3]=K,R[4]=K,R[5]=G,R[6]=I,R[7]=v}function S(f,u,c,v,g,R,x,L,I,Z,G){var K,J=.005,U=1/0,H,V,D,F;h[0]=I,h[1]=Z;for(var N=0;N<1;N+=.05)i[0]=M(f,c,g,x,N),i[1]=M(u,v,R,L,N),D=(0,p.WU)(h,i),D<U&&(K=N,U=D);U=1/0;for(var X=0;X<32&&!(J<n);X++)H=K-J,V=K+J,i[0]=M(f,c,g,x,H),i[1]=M(u,v,R,L,H),D=(0,p.WU)(i,h),H>=0&&D<U?(K=H,U=D):(a[0]=M(f,c,g,x,V),a[1]=M(u,v,R,L,V),F=(0,p.WU)(a,h),V<=1&&F<U?(K=V,U=F):J*=.5);return G&&(G[0]=M(f,c,g,x,K),G[1]=M(u,v,R,L,K)),t(U)}function w(f,u,c,v,g,R,x,L,I){for(var Z=f,G=u,K=0,J=1/I,U=1;U<=I;U++){var H=U*J,V=M(f,c,g,x,H),D=M(u,v,R,L,H),F=V-Z,N=D-G;K+=Math.sqrt(F*F+N*N),Z=V,G=D}return K}function b(f,u,c,v){var g=1-v;return g*(g*f+2*v*u)+v*v*c}function W(f,u,c,v){return 2*((1-v)*(u-f)+v*(c-u))}function B(f,u,c,v,g){var R=f-2*u+c,x=2*(u-f),L=f-v,I=0;if(l(R)){if(_(x)){var Z=-L/x;Z>=0&&Z<=1&&(g[I++]=Z)}}else{var G=x*x-4*R*L;if(l(G)){var Z=-x/(2*R);Z>=0&&Z<=1&&(g[I++]=Z)}else if(G>0){var K=t(G),Z=(-x+K)/(2*R),J=(-x-K)/(2*R);Z>=0&&Z<=1&&(g[I++]=Z),J>=0&&J<=1&&(g[I++]=J)}}return I}function O(f,u,c){var v=f+c-2*u;return v===0?.5:(f-u)/v}function A(f,u,c,v,g){var R=(u-f)*v+f,x=(c-u)*v+u,L=(x-R)*v+R;g[0]=f,g[1]=R,g[2]=L,g[3]=L,g[4]=x,g[5]=c}function E(f,u,c,v,g,R,x,L,I){var Z,G=.005,K=1/0;h[0]=x,h[1]=L;for(var J=0;J<1;J+=.05){i[0]=b(f,c,g,J),i[1]=b(u,v,R,J);var U=(0,p.WU)(h,i);U<K&&(Z=J,K=U)}K=1/0;for(var H=0;H<32&&!(G<n);H++){var V=Z-G,D=Z+G;i[0]=b(f,c,g,V),i[1]=b(u,v,R,V);var U=(0,p.WU)(i,h);if(V>=0&&U<K)Z=V,K=U;else{a[0]=b(f,c,g,D),a[1]=b(u,v,R,D);var F=(0,p.WU)(a,h);D<=1&&F<K?(Z=D,K=F):G*=.5}}return I&&(I[0]=b(f,c,g,Z),I[1]=b(u,v,R,Z)),t(K)}function d(f,u,c,v,g,R,x){for(var L=f,I=u,Z=0,G=1/x,K=1;K<=x;K++){var J=K*G,U=b(f,c,g,J),H=b(u,v,R,J),V=U-L,D=H-I;Z+=Math.sqrt(V*V+D*D),L=U,I=H}return Z}},80400:function(Dt,it,C){C.d(it,{F1:function(){return m},UK:function(){return l},A4:function(){return h},YB:function(){return s}});var p=C(54490),o=Math.log(2);function t(T,y,P,S,w,b){var W=S+"-"+w,B=T.length;if(b.hasOwnProperty(W))return b[W];if(y===1){var O=Math.round(Math.log((1<<B)-1&~w)/o);return T[P][O]}for(var A=S|1<<P,E=P+1;S&1<<E;)E++;for(var d=0,f=0,u=0;f<B;f++){var c=1<<f;c&w||(d+=(u%2?-1:1)*T[P][f]*t(T,y-1,E,A,w|c,b),u++)}return b[W]=d,d}function r(T,y){var P=[[T[0],T[1],1,0,0,0,-y[0]*T[0],-y[0]*T[1]],[0,0,0,T[0],T[1],1,-y[1]*T[0],-y[1]*T[1]],[T[2],T[3],1,0,0,0,-y[2]*T[2],-y[2]*T[3]],[0,0,0,T[2],T[3],1,-y[3]*T[2],-y[3]*T[3]],[T[4],T[5],1,0,0,0,-y[4]*T[4],-y[4]*T[5]],[0,0,0,T[4],T[5],1,-y[5]*T[4],-y[5]*T[5]],[T[6],T[7],1,0,0,0,-y[6]*T[6],-y[6]*T[7]],[0,0,0,T[6],T[7],1,-y[7]*T[6],-y[7]*T[7]]],S={},w=t(P,8,0,0,0,S);if(w!==0){for(var b=[],W=0;W<8;W++)for(var B=0;B<8;B++)b[B]==null&&(b[B]=0),b[B]+=((W+B)%2?-1:1)*t(P,7,W===0?1:0,1<<W,1<<B,S)/w*y[W];return function(O,A,E){var d=A*b[6]+E*b[7]+1;O[0]=(A*b[0]+E*b[1]+b[2])/d,O[1]=(A*b[3]+E*b[4]+b[5])/d}}}var n="___zrEVENTSAVED",e=[];function s(T,y,P,S,w){return h(e,y,S,w,!0)&&h(T,P,e[0],e[1])}function h(T,y,P,S,w){if(y.getBoundingClientRect&&p.Z.domSupported&&!l(y)){var b=y[n]||(y[n]={}),W=i(y,b),B=a(W,b,w);if(B)return B(T,P,S),!0}return!1}function i(T,y){var P=y.markers;if(P)return P;P=y.markers=[];for(var S=["left","right"],w=["top","bottom"],b=0;b<4;b++){var W=document.createElement("div"),B=W.style,O=b%2,A=(b>>1)%2;B.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",S[O]+":0",w[A]+":0",S[1-O]+":auto",w[1-A]+":auto",""].join("!important;"),T.appendChild(W),P.push(W)}return P}function a(T,y,P){for(var S=P?"invTrans":"trans",w=y[S],b=y.srcCoords,W=[],B=[],O=!0,A=0;A<4;A++){var E=T[A].getBoundingClientRect(),d=2*A,f=E.left,u=E.top;W.push(f,u),O=O&&b&&f===b[d]&&u===b[d+1],B.push(T[A].offsetLeft,T[A].offsetTop)}return O&&w?w:(y.srcCoords=W,y[S]=P?r(B,W):r(W,B))}function l(T){return T.nodeName.toUpperCase()==="CANVAS"}var _=/([&<>"'])/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function m(T){return T==null?"":(T+"").replace(_,function(y,P){return M[P]})}},54490:function(Dt,it){var C=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),p=function(){function r(){this.browser=new C,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return r}(),o=new p;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(o.wxa=!0,o.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?o.worker=!0:typeof navigator=="undefined"?(o.node=!0,o.svgSupported=!0):t(navigator.userAgent,o);function t(r,n){var e=n.browser,s=r.match(/Firefox\/([\d.]+)/),h=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),i=r.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(r);s&&(e.firefox=!0,e.version=s[1]),h&&(e.ie=!0,e.version=h[1]),i&&(e.edge=!0,e.version=i[1],e.newEdge=+i[1].split(".")[0]>18),a&&(e.weChat=!0),n.svgSupported=typeof SVGRect!="undefined",n.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,n.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),n.domSupported=typeof document!="undefined";var l=document.documentElement.style;n.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),n.transformSupported=n.transform3dSupported||e.ie&&+e.version>=9}it.Z=o},11300:function(Dt,it,C){C.d(it,{OD:function(){return i},Oo:function(){return l},eV:function(){return e},iP:function(){return h},sT:function(){return M},x1:function(){return m},xg:function(){return _}});var p=C(54490),o=C(80400),t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,r=[],n=p.Z.browser.firefox&&+p.Z.browser.version.split(".")[0]<39;function e(T,y,P,S){return P=P||{},S?s(T,y,P):n&&y.layerX!=null&&y.layerX!==y.offsetX?(P.zrX=y.layerX,P.zrY=y.layerY):y.offsetX!=null?(P.zrX=y.offsetX,P.zrY=y.offsetY):s(T,y,P),P}function s(T,y,P){if(p.Z.domSupported&&T.getBoundingClientRect){var S=y.clientX,w=y.clientY;if((0,o.UK)(T)){var b=T.getBoundingClientRect();P.zrX=S-b.left,P.zrY=w-b.top;return}else if((0,o.A4)(r,T,S,w)){P.zrX=r[0],P.zrY=r[1];return}}P.zrX=P.zrY=0}function h(T){return T||window.event}function i(T,y,P){if(y=h(y),y.zrX!=null)return y;var S=y.type,w=S&&S.indexOf("touch")>=0;if(w){var W=S!=="touchend"?y.targetTouches[0]:y.changedTouches[0];W&&e(T,W,y,P)}else{e(T,y,y,P);var b=a(y);y.zrDelta=b?b/120:-(y.detail||0)/3}var B=y.button;return y.which==null&&B!==void 0&&t.test(y.type)&&(y.which=B&1?1:B&2?3:B&4?2:0),y}function a(T){var y=T.wheelDelta;if(y)return y;var P=T.deltaX,S=T.deltaY;if(P==null||S==null)return y;var w=Math.abs(S!==0?S:P),b=S>0?-1:S<0?1:P>0?-1:1;return 3*w*b}function l(T,y,P,S){T.addEventListener(y,P,S)}function _(T,y,P,S){T.removeEventListener(y,P,S)}var M=function(T){T.preventDefault(),T.stopPropagation(),T.cancelBubble=!0};function m(T){return T.which===2||T.which===3}},58427:function(Dt,it,C){C.d(it,{Iu:function(){return n},JG:function(){return t},U1:function(){return e},U_:function(){return h},Ue:function(){return p},bA:function(){return s},d9:function(){return i},dC:function(){return r},yR:function(){return o}});function p(){return[1,0,0,1,0,0]}function o(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function t(a,l){return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a}function r(a,l,_){var M=l[0]*_[0]+l[2]*_[1],m=l[1]*_[0]+l[3]*_[1],T=l[0]*_[2]+l[2]*_[3],y=l[1]*_[2]+l[3]*_[3],P=l[0]*_[4]+l[2]*_[5]+l[4],S=l[1]*_[4]+l[3]*_[5]+l[5];return a[0]=M,a[1]=m,a[2]=T,a[3]=y,a[4]=P,a[5]=S,a}function n(a,l,_){return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4]+_[0],a[5]=l[5]+_[1],a}function e(a,l,_){var M=l[0],m=l[2],T=l[4],y=l[1],P=l[3],S=l[5],w=Math.sin(_),b=Math.cos(_);return a[0]=M*b+y*w,a[1]=-M*w+y*b,a[2]=m*b+P*w,a[3]=-m*w+b*P,a[4]=b*T+w*S,a[5]=b*S-w*T,a}function s(a,l,_){var M=_[0],m=_[1];return a[0]=l[0]*M,a[1]=l[1]*m,a[2]=l[2]*M,a[3]=l[3]*m,a[4]=l[4]*M,a[5]=l[5]*m,a}function h(a,l){var _=l[0],M=l[2],m=l[4],T=l[1],y=l[3],P=l[5],S=_*y-T*M;return S?(S=1/S,a[0]=y*S,a[1]=-T*S,a[2]=-M*S,a[3]=_*S,a[4]=(M*P-y*m)*S,a[5]=(T*m-_*P)*S,a):null}function i(a){var l=p();return t(l,a),l}},47297:function(Dt,it,C){C.d(it,{Uo:function(){return t},n5:function(){return p},qW:function(){return i},rk:function(){return o}});var p=12,o="sans-serif",t=p+"px "+o,r=20,n=100,e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function s(l){var _={};if(typeof JSON=="undefined")return _;for(var M=0;M<l.length;M++){var m=String.fromCharCode(M+32),T=(l.charCodeAt(M)-r)/n;_[m]=T}return _}var h=s(e),i={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var l,_;return function(M,m){if(!l){var T=i.createCanvas();l=T&&T.getContext("2d")}if(l)return _!==m&&(_=l.font=m||t),l.measureText(M);M=M||"",m=m||t;var y=/(\d+)px/.exec(m),P=y&&+y[1]||p,S=0;if(m.indexOf("mono")>=0)S=P*M.length;else for(var w=0;w<M.length;w++){var b=h[M[w]];S+=b==null?P:b*P}return{width:S}}}(),loadImage:function(l,_,M){var m=new Image;return m.onload=_,m.onerror=M,m.src=l,m}};function a(l){for(var _ in i)l[_]&&(i[_]=l[_])}},59330:function(Dt,it,C){C.d(it,{Z:function(){return l}});var p=32,o=7,t=256;function r(_){for(var M=0;_>=p;)M|=_&1,_>>=1;return _+M}function n(_,M,m,T){var y=M+1;if(y===m)return 1;if(T(_[y++],_[M])<0){for(;y<m&&T(_[y],_[y-1])<0;)y++;e(_,M,y)}else for(;y<m&&T(_[y],_[y-1])>=0;)y++;return y-M}function e(_,M,m){for(m--;M<m;){var T=_[M];_[M++]=_[m],_[m--]=T}}function s(_,M,m,T,y){for(T===M&&T++;T<m;T++){for(var P=_[T],S=M,w=T,b;S<w;)b=S+w>>>1,y(P,_[b])<0?w=b:S=b+1;var W=T-S;switch(W){case 3:_[S+3]=_[S+2];case 2:_[S+2]=_[S+1];case 1:_[S+1]=_[S];break;default:for(;W>0;)_[S+W]=_[S+W-1],W--}_[S]=P}}function h(_,M,m,T,y,P){var S=0,w=0,b=1;if(P(_,M[m+y])>0){for(w=T-y;b<w&&P(_,M[m+y+b])>0;)S=b,b=(b<<1)+1,b<=0&&(b=w);b>w&&(b=w),S+=y,b+=y}else{for(w=y+1;b<w&&P(_,M[m+y-b])<=0;)S=b,b=(b<<1)+1,b<=0&&(b=w);b>w&&(b=w);var W=S;S=y-b,b=y-W}for(S++;S<b;){var B=S+(b-S>>>1);P(_,M[m+B])>0?S=B+1:b=B}return b}function i(_,M,m,T,y,P){var S=0,w=0,b=1;if(P(_,M[m+y])<0){for(w=y+1;b<w&&P(_,M[m+y-b])<0;)S=b,b=(b<<1)+1,b<=0&&(b=w);b>w&&(b=w);var W=S;S=y-b,b=y-W}else{for(w=T-y;b<w&&P(_,M[m+y+b])>=0;)S=b,b=(b<<1)+1,b<=0&&(b=w);b>w&&(b=w),S+=y,b+=y}for(S++;S<b;){var B=S+(b-S>>>1);P(_,M[m+B])<0?b=B:S=B+1}return b}function a(_,M){var m=o,T=0,y=t,P=0,S,w,b=0;T=_.length,T<2*t&&(y=T>>>1);var W=[];P=T<120?5:T<1542?10:T<119151?19:40,S=[],w=[];function B(u,c){S[b]=u,w[b]=c,b+=1}function O(){for(;b>1;){var u=b-2;if(u>=1&&w[u-1]<=w[u]+w[u+1]||u>=2&&w[u-2]<=w[u]+w[u-1])w[u-1]<w[u+1]&&u--;else if(w[u]>w[u+1])break;E(u)}}function A(){for(;b>1;){var u=b-2;u>0&&w[u-1]<w[u+1]&&u--,E(u)}}function E(u){var c=S[u],v=w[u],g=S[u+1],R=w[u+1];w[u]=v+R,u===b-3&&(S[u+1]=S[u+2],w[u+1]=w[u+2]),b--;var x=i(_[g],_,c,v,0,M);c+=x,v-=x,v!==0&&(R=h(_[c+v-1],_,g,R,R-1,M),R!==0&&(v<=R?d(c,v,g,R):f(c,v,g,R)))}function d(u,c,v,g){var R=0;for(R=0;R<c;R++)W[R]=_[u+R];var x=0,L=v,I=u;if(_[I++]=_[L++],--g===0){for(R=0;R<c;R++)_[I+R]=W[x+R];return}if(c===1){for(R=0;R<g;R++)_[I+R]=_[L+R];_[I+g]=W[x];return}for(var Z=m,G,K,J;;){G=0,K=0,J=!1;do if(M(_[L],W[x])<0){if(_[I++]=_[L++],K++,G=0,--g===0){J=!0;break}}else if(_[I++]=W[x++],G++,K=0,--c===1){J=!0;break}while((G|K)<Z);if(J)break;do{if(G=i(_[L],W,x,c,0,M),G!==0){for(R=0;R<G;R++)_[I+R]=W[x+R];if(I+=G,x+=G,c-=G,c<=1){J=!0;break}}if(_[I++]=_[L++],--g===0){J=!0;break}if(K=h(W[x],_,L,g,0,M),K!==0){for(R=0;R<K;R++)_[I+R]=_[L+R];if(I+=K,L+=K,g-=K,g===0){J=!0;break}}if(_[I++]=W[x++],--c===1){J=!0;break}Z--}while(G>=o||K>=o);if(J)break;Z<0&&(Z=0),Z+=2}if(m=Z,m<1&&(m=1),c===1){for(R=0;R<g;R++)_[I+R]=_[L+R];_[I+g]=W[x]}else{if(c===0)throw new Error;for(R=0;R<c;R++)_[I+R]=W[x+R]}}function f(u,c,v,g){var R=0;for(R=0;R<g;R++)W[R]=_[v+R];var x=u+c-1,L=g-1,I=v+g-1,Z=0,G=0;if(_[I--]=_[x--],--c===0){for(Z=I-(g-1),R=0;R<g;R++)_[Z+R]=W[R];return}if(g===1){for(I-=c,x-=c,G=I+1,Z=x+1,R=c-1;R>=0;R--)_[G+R]=_[Z+R];_[I]=W[L];return}for(var K=m;;){var J=0,U=0,H=!1;do if(M(W[L],_[x])<0){if(_[I--]=_[x--],J++,U=0,--c===0){H=!0;break}}else if(_[I--]=W[L--],U++,J=0,--g===1){H=!0;break}while((J|U)<K);if(H)break;do{if(J=c-i(W[L],_,u,c,c-1,M),J!==0){for(I-=J,x-=J,c-=J,G=I+1,Z=x+1,R=J-1;R>=0;R--)_[G+R]=_[Z+R];if(c===0){H=!0;break}}if(_[I--]=W[L--],--g===1){H=!0;break}if(U=g-h(_[x],W,0,g,g-1,M),U!==0){for(I-=U,L-=U,g-=U,G=I+1,Z=L+1,R=0;R<U;R++)_[G+R]=W[Z+R];if(g<=1){H=!0;break}}if(_[I--]=_[x--],--c===0){H=!0;break}K--}while(J>=o||U>=o);if(H)break;K<0&&(K=0),K+=2}if(m=K,m<1&&(m=1),g===1){for(I-=c,x-=c,G=I+1,Z=x+1,R=c-1;R>=0;R--)_[G+R]=_[Z+R];_[I]=W[L]}else{if(g===0)throw new Error;for(Z=I-(g-1),R=0;R<g;R++)_[Z+R]=W[R]}}return{mergeRuns:O,forceMergeRuns:A,pushRun:B}}function l(_,M,m,T){m||(m=0),T||(T=_.length);var y=T-m;if(!(y<2)){var P=0;if(y<p){P=n(_,m,T,M),s(_,m,T,m+P,M);return}var S=a(_,M),w=r(y);do{if(P=n(_,m,T,M),P<w){var b=y;b>w&&(b=w),s(_,m,m+b,m+P,M),P=b}S.pushRun(m,P),S.mergeRuns(),y-=P,m+=P}while(y!==0);S.forceMergeRuns()}}},70324:function(Dt,it,C){C.d(it,{$j:function(){return It},Bu:function(){return Y},H:function(){return T},HD:function(){return G},I3:function(){return At},Jn:function(){return S},Jv:function(){return et},Kj:function(){return X},Kn:function(){return U},M8:function(){return m},MY:function(){return ft},Mh:function(){return D},Qq:function(){return F},R1:function(){return k},RI:function(){return gt},S6:function(){return d},TS:function(){return P},UI:function(){return f},WA:function(){return L},WW:function(){return mt},XP:function(){return g},XW:function(){return O},ZT:function(){return Tt},ak:function(){return x},cd:function(){return K},ce:function(){return b},cq:function(){return B},d9:function(){return y},dL:function(){return N},fU:function(){return V},fy:function(){return tt},hX:function(){return c},hj:function(){return J},hu:function(){return _t},jB:function(){return A},kJ:function(){return I},kW:function(){return Rt},l7:function(){return w},mf:function(){return Z},nW:function(){return St},pD:function(){return z},s7:function(){return ut},sE:function(){return v},tP:function(){return at},u4:function(){return u},zG:function(){return E}});var p=C(47297),o=u(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(j,q){return j["[object "+q+"]"]=!0,j},{}),t=u(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(j,q){return j["[object "+q+"Array]"]=!0,j},{}),r=Object.prototype.toString,n=Array.prototype,e=n.forEach,s=n.filter,h=n.slice,i=n.map,a=function(){}.constructor,l=a?a.prototype:null,_="__proto__",M=2311;function m(){return M++}function T(){for(var j=[],q=0;q<arguments.length;q++)j[q]=arguments[q];typeof console!="undefined"&&console.error.apply(console,j)}function y(j){if(j==null||typeof j!="object")return j;var q=j,yt=r.call(j);if(yt==="[object Array]"){if(!ct(j)){q=[];for(var Mt=0,Q=j.length;Mt<Q;Mt++)q[Mt]=y(j[Mt])}}else if(t[yt]){if(!ct(j)){var $=j.constructor;if($.from)q=$.from(j);else{q=new $(j.length);for(var Mt=0,Q=j.length;Mt<Q;Mt++)q[Mt]=j[Mt]}}}else if(!o[yt]&&!ct(j)&&!D(j)){q={};for(var nt in j)j.hasOwnProperty(nt)&&nt!==_&&(q[nt]=y(j[nt]))}return q}function P(j,q,yt){if(!U(q)||!U(j))return yt?y(q):j;for(var Mt in q)if(q.hasOwnProperty(Mt)&&Mt!==_){var Q=j[Mt],$=q[Mt];U($)&&U(Q)&&!I($)&&!I(Q)&&!D($)&&!D(Q)&&!H($)&&!H(Q)&&!ct($)&&!ct(Q)?P(Q,$,yt):(yt||!(Mt in j))&&(j[Mt]=y(q[Mt]))}return j}function S(j,q){for(var yt=j[0],Mt=1,Q=j.length;Mt<Q;Mt++)yt=P(yt,j[Mt],q);return yt}function w(j,q){if(Object.assign)Object.assign(j,q);else for(var yt in q)q.hasOwnProperty(yt)&&yt!==_&&(j[yt]=q[yt]);return j}function b(j,q,yt){for(var Mt=g(q),Q=0;Q<Mt.length;Q++){var $=Mt[Q];(yt?q[$]!=null:j[$]==null)&&(j[$]=q[$])}return j}var W=p.qW.createCanvas;function B(j,q){if(j){if(j.indexOf)return j.indexOf(q);for(var yt=0,Mt=j.length;yt<Mt;yt++)if(j[yt]===q)return yt}return-1}function O(j,q){var yt=j.prototype;function Mt(){}Mt.prototype=q.prototype,j.prototype=new Mt;for(var Q in yt)yt.hasOwnProperty(Q)&&(j.prototype[Q]=yt[Q]);j.prototype.constructor=j,j.superClass=q}function A(j,q,yt){if(j="prototype"in j?j.prototype:j,q="prototype"in q?q.prototype:q,Object.getOwnPropertyNames)for(var Mt=Object.getOwnPropertyNames(q),Q=0;Q<Mt.length;Q++){var $=Mt[Q];$!=="constructor"&&(yt?q[$]!=null:j[$]==null)&&(j[$]=q[$])}else b(j,q,yt)}function E(j){return!j||typeof j=="string"?!1:typeof j.length=="number"}function d(j,q,yt){if(j&&q)if(j.forEach&&j.forEach===e)j.forEach(q,yt);else if(j.length===+j.length)for(var Mt=0,Q=j.length;Mt<Q;Mt++)q.call(yt,j[Mt],Mt,j);else for(var $ in j)j.hasOwnProperty($)&&q.call(yt,j[$],$,j)}function f(j,q,yt){if(!j)return[];if(!q)return at(j);if(j.map&&j.map===i)return j.map(q,yt);for(var Mt=[],Q=0,$=j.length;Q<$;Q++)Mt.push(q.call(yt,j[Q],Q,j));return Mt}function u(j,q,yt,Mt){if(j&&q){for(var Q=0,$=j.length;Q<$;Q++)yt=q.call(Mt,yt,j[Q],Q,j);return yt}}function c(j,q,yt){if(!j)return[];if(!q)return at(j);if(j.filter&&j.filter===s)return j.filter(q,yt);for(var Mt=[],Q=0,$=j.length;Q<$;Q++)q.call(yt,j[Q],Q,j)&&Mt.push(j[Q]);return Mt}function v(j,q,yt){if(j&&q){for(var Mt=0,Q=j.length;Mt<Q;Mt++)if(q.call(yt,j[Mt],Mt,j))return j[Mt]}}function g(j){if(!j)return[];if(Object.keys)return Object.keys(j);var q=[];for(var yt in j)j.hasOwnProperty(yt)&&q.push(yt);return q}function R(j,q){for(var yt=[],Mt=2;Mt<arguments.length;Mt++)yt[Mt-2]=arguments[Mt];return function(){return j.apply(q,yt.concat(h.call(arguments)))}}var x=l&&Z(l.bind)?l.call.bind(l.bind):R;function L(j){for(var q=[],yt=1;yt<arguments.length;yt++)q[yt-1]=arguments[yt];return function(){return j.apply(this,q.concat(h.call(arguments)))}}function I(j){return Array.isArray?Array.isArray(j):r.call(j)==="[object Array]"}function Z(j){return typeof j=="function"}function G(j){return typeof j=="string"}function K(j){return r.call(j)==="[object String]"}function J(j){return typeof j=="number"}function U(j){var q=typeof j;return q==="function"||!!j&&q==="object"}function H(j){return!!o[r.call(j)]}function V(j){return!!t[r.call(j)]}function D(j){return typeof j=="object"&&typeof j.nodeType=="number"&&typeof j.ownerDocument=="object"}function F(j){return j.colorStops!=null}function N(j){return j.image!=null}function X(j){return r.call(j)==="[object RegExp]"}function Y(j){return j!==j}function et(){for(var j=[],q=0;q<arguments.length;q++)j[q]=arguments[q];for(var yt=0,Mt=j.length;yt<Mt;yt++)if(j[yt]!=null)return j[yt]}function z(j,q){return j!=null?j:q}function k(j,q,yt){return j!=null?j:q!=null?q:yt}function at(j){for(var q=[],yt=1;yt<arguments.length;yt++)q[yt-1]=arguments[yt];return h.apply(j,q)}function ft(j){if(typeof j=="number")return[j,j,j,j];var q=j.length;return q===2?[j[0],j[1],j[0],j[1]]:q===3?[j[0],j[1],j[2],j[1]]:j}function _t(j,q){if(!j)throw new Error(q)}function tt(j){return j==null?null:typeof j.trim=="function"?j.trim():j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var rt="__ec_primitive__";function ut(j){j[rt]=!0}function ct(j){return j[rt]}var st=function(){function j(){this.data={}}return j.prototype.delete=function(q){var yt=this.has(q);return yt&&delete this.data[q],yt},j.prototype.has=function(q){return this.data.hasOwnProperty(q)},j.prototype.get=function(q){return this.data[q]},j.prototype.set=function(q,yt){return this.data[q]=yt,this},j.prototype.keys=function(){return g(this.data)},j.prototype.forEach=function(q){var yt=this.data;for(var Mt in yt)yt.hasOwnProperty(Mt)&&q(yt[Mt],Mt)},j}(),dt=typeof Map=="function";function ht(){return dt?new Map:new st}var xt=function(){function j(q){var yt=I(q);this.data=ht();var Mt=this;q instanceof j?q.each(Q):q&&d(q,Q);function Q($,nt){yt?Mt.set($,nt):Mt.set(nt,$)}}return j.prototype.hasKey=function(q){return this.data.has(q)},j.prototype.get=function(q){return this.data.get(q)},j.prototype.set=function(q,yt){return this.data.set(q,yt),yt},j.prototype.each=function(q,yt){this.data.forEach(function(Mt,Q){q.call(yt,Mt,Q)})},j.prototype.keys=function(){var q=this.data.keys();return dt?Array.from(q):q},j.prototype.removeKey=function(q){this.data.delete(q)},j}();function Rt(j){return new xt(j)}function mt(j,q){for(var yt=new j.constructor(j.length+q.length),Mt=0;Mt<j.length;Mt++)yt[Mt]=j[Mt];for(var Q=j.length,Mt=0;Mt<q.length;Mt++)yt[Mt+Q]=q[Mt];return yt}function St(j,q){var yt;if(Object.create)yt=Object.create(j);else{var Mt=function(){};Mt.prototype=j,yt=new Mt}return q&&w(yt,q),yt}function It(j){var q=j.style;q.webkitUserSelect="none",q.userSelect="none",q.webkitTapHighlightColor="rgba(0,0,0,0)",q["-webkit-touch-callout"]="none"}function gt(j,q){return j.hasOwnProperty(q)}function Tt(){}var At=180/Math.PI},85755:function(Dt,it,C){C.d(it,{Fp:function(){return E},Fv:function(){return y},IH:function(){return n},JG:function(){return o},Ne:function(){return O},TE:function(){return P},TK:function(){return S},Ue:function(){return p},VV:function(){return A},WU:function(){return b},Zh:function(){return h},bA:function(){return T},d9:function(){return t},lu:function(){return s},od:function(){return e},t7:function(){return B},t8:function(){return r}});function p(d,f){return d==null&&(d=0),f==null&&(f=0),[d,f]}function o(d,f){return d[0]=f[0],d[1]=f[1],d}function t(d){return[d[0],d[1]]}function r(d,f,u){return d[0]=f,d[1]=u,d}function n(d,f,u){return d[0]=f[0]+u[0],d[1]=f[1]+u[1],d}function e(d,f,u,c){return d[0]=f[0]+u[0]*c,d[1]=f[1]+u[1]*c,d}function s(d,f,u){return d[0]=f[0]-u[0],d[1]=f[1]-u[1],d}function h(d){return Math.sqrt(a(d))}var i=null;function a(d){return d[0]*d[0]+d[1]*d[1]}var l=null;function _(d,f,u){return d[0]=f[0]*u[0],d[1]=f[1]*u[1],d}function M(d,f,u){return d[0]=f[0]/u[0],d[1]=f[1]/u[1],d}function m(d,f){return d[0]*f[0]+d[1]*f[1]}function T(d,f,u){return d[0]=f[0]*u,d[1]=f[1]*u,d}function y(d,f){var u=h(f);return u===0?(d[0]=0,d[1]=0):(d[0]=f[0]/u,d[1]=f[1]/u),d}function P(d,f){return Math.sqrt((d[0]-f[0])*(d[0]-f[0])+(d[1]-f[1])*(d[1]-f[1]))}var S=P;function w(d,f){return(d[0]-f[0])*(d[0]-f[0])+(d[1]-f[1])*(d[1]-f[1])}var b=w;function W(d,f){return d[0]=-f[0],d[1]=-f[1],d}function B(d,f,u,c){return d[0]=f[0]+c*(u[0]-f[0]),d[1]=f[1]+c*(u[1]-f[1]),d}function O(d,f,u){var c=f[0],v=f[1];return d[0]=u[0]*c+u[2]*v+u[4],d[1]=u[1]*c+u[3]*v+u[5],d}function A(d,f,u){return d[0]=Math.min(f[0],u[0]),d[1]=Math.min(f[1],u[1]),d}function E(d,f,u){return d[0]=Math.max(f[0],u[0]),d[1]=Math.max(f[1],u[1]),d}},99464:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(r){(0,p.ZT)(n,r);function n(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="compound",e}return n.prototype._updatePathDirty=function(){for(var e=this.shape.paths,s=this.shapeChanged(),h=0;h<e.length;h++)s=s||e[h].shapeChanged();s&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],s=this.getGlobalScale(),h=0;h<e.length;h++)e[h].path||e[h].createPathProxy(),e[h].path.setScale(s[0],s[1],e[h].segmentIgnoreThreshold)},n.prototype.buildPath=function(e,s){for(var h=s.paths||[],i=0;i<h.length;i++)h[i].buildPath(e,h[i].shape,!0)},n.prototype.afterBrush=function(){for(var e=this.shape.paths||[],s=0;s<e.length;s++)e[s].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),o.ZP.prototype.getBoundingRect.call(this)},n}(o.ZP);it.Z=t},11635:function(Dt,it,C){C.d(it,{ik:function(){return h},tj:function(){return s}});var p=C(12012),o=C(12434),t=C(16128),r=C(70324),n=C(53197),e="__zr_style_"+Math.round(Math.random()*10),s={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},h={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};s[e]=!0;var i=["z","z2","invisible"],a=["invisible"],l=function(T){(0,p.ZT)(y,T);function y(P){return T.call(this,P)||this}return y.prototype._init=function(P){for(var S=(0,r.XP)(P),w=0;w<S.length;w++){var b=S[w];b==="style"?this.useStyle(P[b]):T.prototype.attrKV.call(this,b,P[b])}this.style||this.useStyle({})},y.prototype.beforeBrush=function(){},y.prototype.afterBrush=function(){},y.prototype.innerBeforeBrush=function(){},y.prototype.innerAfterBrush=function(){},y.prototype.shouldBePainted=function(P,S,w,b){var W=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&m(this,P,S)||W&&!W[0]&&!W[3])return!1;if(w&&this.__clipPaths){for(var B=0;B<this.__clipPaths.length;++B)if(this.__clipPaths[B].isZeroArea())return!1}if(b&&this.parent)for(var O=this.parent;O;){if(O.ignore)return!1;O=O.parent}return!0},y.prototype.contain=function(P,S){return this.rectContain(P,S)},y.prototype.traverse=function(P,S){P.call(S,this)},y.prototype.rectContain=function(P,S){var w=this.transformCoordToLocal(P,S),b=this.getBoundingRect();return b.contain(w[0],w[1])},y.prototype.getPaintRect=function(){var P=this._paintRect;if(!this._paintRect||this.__dirty){var S=this.transform,w=this.getBoundingRect(),b=this.style,W=b.shadowBlur||0,B=b.shadowOffsetX||0,O=b.shadowOffsetY||0;P=this._paintRect||(this._paintRect=new t.Z(0,0,0,0)),S?t.Z.applyTransform(P,w,S):P.copy(w),(W||B||O)&&(P.width+=W*2+Math.abs(B),P.height+=W*2+Math.abs(O),P.x=Math.min(P.x,P.x+B-W),P.y=Math.min(P.y,P.y+O-W));var A=this.dirtyRectTolerance;P.isZero()||(P.x=Math.floor(P.x-A),P.y=Math.floor(P.y-A),P.width=Math.ceil(P.width+1+A*2),P.height=Math.ceil(P.height+1+A*2))}return P},y.prototype.setPrevPaintRect=function(P){P?(this._prevPaintRect=this._prevPaintRect||new t.Z(0,0,0,0),this._prevPaintRect.copy(P)):this._prevPaintRect=null},y.prototype.getPrevPaintRect=function(){return this._prevPaintRect},y.prototype.animateStyle=function(P){return this.animate("style",P)},y.prototype.updateDuringAnimation=function(P){P==="style"?this.dirtyStyle():this.markRedraw()},y.prototype.attrKV=function(P,S){P!=="style"?T.prototype.attrKV.call(this,P,S):this.style?this.setStyle(S):this.useStyle(S)},y.prototype.setStyle=function(P,S){return typeof P=="string"?this.style[P]=S:(0,r.l7)(this.style,P),this.dirtyStyle(),this},y.prototype.dirtyStyle=function(P){P||this.markRedraw(),this.__dirty|=n.SE,this._rect&&(this._rect=null)},y.prototype.dirty=function(){this.dirtyStyle()},y.prototype.styleChanged=function(){return!!(this.__dirty&n.SE)},y.prototype.styleUpdated=function(){this.__dirty&=~n.SE},y.prototype.createStyle=function(P){return(0,r.nW)(s,P)},y.prototype.useStyle=function(P){P[e]||(P=this.createStyle(P)),this.__inHover?this.__hoverStyle=P:this.style=P,this.dirtyStyle()},y.prototype.isStyleObject=function(P){return P[e]},y.prototype._innerSaveToNormal=function(P){T.prototype._innerSaveToNormal.call(this,P);var S=this._normalState;P.style&&!S.style&&(S.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(P,S,i)},y.prototype._applyStateObj=function(P,S,w,b,W,B){T.prototype._applyStateObj.call(this,P,S,w,b,W,B);var O=!(S&&b),A;if(S&&S.style?W?b?A=S.style:(A=this._mergeStyle(this.createStyle(),w.style),this._mergeStyle(A,S.style)):(A=this._mergeStyle(this.createStyle(),b?this.style:w.style),this._mergeStyle(A,S.style)):O&&(A=w.style),A)if(W){var E=this.style;if(this.style=this.createStyle(O?{}:E),O)for(var d=(0,r.XP)(E),f=0;f<d.length;f++){var u=d[f];u in A&&(A[u]=A[u],this.style[u]=E[u])}for(var c=(0,r.XP)(A),f=0;f<c.length;f++){var u=c[f];this.style[u]=this.style[u]}this._transitionState(P,{style:A},B,this.getAnimationStyleProps())}else this.useStyle(A);for(var v=this.__inHover?a:i,f=0;f<v.length;f++){var u=v[f];S&&S[u]!=null?this[u]=S[u]:O&&w[u]!=null&&(this[u]=w[u])}},y.prototype._mergeStates=function(P){for(var S=T.prototype._mergeStates.call(this,P),w,b=0;b<P.length;b++){var W=P[b];W.style&&(w=w||{},this._mergeStyle(w,W.style))}return w&&(S.style=w),S},y.prototype._mergeStyle=function(P,S){return(0,r.l7)(P,S),P},y.prototype.getAnimationStyleProps=function(){return h},y.initDefaultProps=function(){var P=y.prototype;P.type="displayable",P.invisible=!1,P.z=0,P.z2=0,P.zlevel=0,P.culling=!1,P.cursor="pointer",P.rectHover=!1,P.incremental=!1,P._rect=null,P.dirtyRectTolerance=0,P.__dirty=n.YV|n.SE}(),y}(o.Z),_=new t.Z(0,0,0,0),M=new t.Z(0,0,0,0);function m(T,y,P){return _.copy(T.getBoundingRect()),T.transform&&_.applyTransform(T.transform),M.width=y,M.height=P,!_.intersect(M)}it.ZP=l},2413:function(Dt,it){var C=function(){function p(o){this.colorStops=o||[]}return p.prototype.addColorStop=function(o,t){this.colorStops.push({offset:o,color:t})},p}();it.Z=C},2574:function(Dt,it,C){var p=C(12012),o=C(70324),t=C(12434),r=C(16128),n=function(e){(0,p.ZT)(s,e);function s(h){var i=e.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(h),i}return s.prototype.childrenRef=function(){return this._children},s.prototype.children=function(){return this._children.slice()},s.prototype.childAt=function(h){return this._children[h]},s.prototype.childOfName=function(h){for(var i=this._children,a=0;a<i.length;a++)if(i[a].name===h)return i[a]},s.prototype.childCount=function(){return this._children.length},s.prototype.add=function(h){return h&&h!==this&&h.parent!==this&&(this._children.push(h),this._doAdd(h)),this},s.prototype.addBefore=function(h,i){if(h&&h!==this&&h.parent!==this&&i&&i.parent===this){var a=this._children,l=a.indexOf(i);l>=0&&(a.splice(l,0,h),this._doAdd(h))}return this},s.prototype.replace=function(h,i){var a=o.cq(this._children,h);return a>=0&&this.replaceAt(i,a),this},s.prototype.replaceAt=function(h,i){var a=this._children,l=a[i];if(h&&h!==this&&h.parent!==this&&h!==l){a[i]=h,l.parent=null;var _=this.__zr;_&&l.removeSelfFromZr(_),this._doAdd(h)}return this},s.prototype._doAdd=function(h){h.parent&&h.parent.remove(h),h.parent=this;var i=this.__zr;i&&i!==h.__zr&&h.addSelfToZr(i),i&&i.refresh()},s.prototype.remove=function(h){var i=this.__zr,a=this._children,l=o.cq(a,h);return l<0?this:(a.splice(l,1),h.parent=null,i&&h.removeSelfFromZr(i),i&&i.refresh(),this)},s.prototype.removeAll=function(){for(var h=this._children,i=this.__zr,a=0;a<h.length;a++){var l=h[a];i&&l.removeSelfFromZr(i),l.parent=null}return h.length=0,this},s.prototype.eachChild=function(h,i){for(var a=this._children,l=0;l<a.length;l++){var _=a[l];h.call(i,_,l)}return this},s.prototype.traverse=function(h,i){for(var a=0;a<this._children.length;a++){var l=this._children[a],_=h.call(i,l);l.isGroup&&!_&&l.traverse(h,i)}return this},s.prototype.addSelfToZr=function(h){e.prototype.addSelfToZr.call(this,h);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.addSelfToZr(h)}},s.prototype.removeSelfFromZr=function(h){e.prototype.removeSelfFromZr.call(this,h);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.removeSelfFromZr(h)}},s.prototype.getBoundingRect=function(h){for(var i=new r.Z(0,0,0,0),a=h||this._children,l=[],_=null,M=0;M<a.length;M++){var m=a[M];if(!(m.ignore||m.invisible)){var T=m.getBoundingRect(),y=m.getLocalTransform(l);y?(r.Z.applyTransform(i,T,y),_=_||i.clone(),_.union(i)):(_=_||T.clone(),_.union(T))}}return _||i},s}(t.Z);n.prototype.type="group",it.Z=n},13806:function(Dt,it,C){var p=C(12012),o=C(11635),t=C(16128),r=C(70324),n=(0,r.ce)({x:0,y:0},o.tj),e={style:(0,r.ce)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},o.ik.style)};function s(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var h=function(i){(0,p.ZT)(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.createStyle=function(l){return(0,r.nW)(n,l)},a.prototype._getSize=function(l){var _=this.style,M=_[l];if(M!=null)return M;var m=s(_.image)?_.image:this.__image;if(!m)return 0;var T=l==="width"?"height":"width",y=_[T];return y==null?m[l]:m[l]/m[T]*y},a.prototype.getWidth=function(){return this._getSize("width")},a.prototype.getHeight=function(){return this._getSize("height")},a.prototype.getAnimationStyleProps=function(){return e},a.prototype.getBoundingRect=function(){var l=this.style;return this._rect||(this._rect=new t.Z(l.x||0,l.y||0,this.getWidth(),this.getHeight())),this._rect},a}(o.ZP);h.prototype.type="image",it.ZP=h},87768:function(Dt,it,C){var p=C(12012),o=C(11635),t=C(16128),r=[],n=function(e){(0,p.ZT)(s,e);function s(){var h=e!==null&&e.apply(this,arguments)||this;return h.notClear=!0,h.incremental=!0,h._displayables=[],h._temporaryDisplayables=[],h._cursor=0,h}return s.prototype.traverse=function(h,i){h.call(i,this)},s.prototype.useStyle=function(){this.style={}},s.prototype.getCursor=function(){return this._cursor},s.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},s.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},s.prototype.addDisplayable=function(h,i){i?this._temporaryDisplayables.push(h):this._displayables.push(h),this.markRedraw()},s.prototype.addDisplayables=function(h,i){i=i||!1;for(var a=0;a<h.length;a++)this.addDisplayable(h[a],i)},s.prototype.getDisplayables=function(){return this._displayables},s.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},s.prototype.eachPendingDisplayable=function(h){for(var i=this._cursor;i<this._displayables.length;i++)h&&h(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)h&&h(this._temporaryDisplayables[i])},s.prototype.update=function(){this.updateTransform();for(var h=this._cursor;h<this._displayables.length;h++){var i=this._displayables[h];i.parent=this,i.update(),i.parent=null}for(var h=0;h<this._temporaryDisplayables.length;h++){var i=this._temporaryDisplayables[h];i.parent=this,i.update(),i.parent=null}},s.prototype.getBoundingRect=function(){if(!this._rect){for(var h=new t.Z(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var a=this._displayables[i],l=a.getBoundingRect().clone();a.needLocalTransform()&&l.applyTransform(a.getLocalTransform(r)),h.union(l)}this._rect=h}return this._rect},s.prototype.contain=function(h,i){var a=this.transformCoordToLocal(h,i),l=this.getBoundingRect();if(l.contain(a[0],a[1]))for(var _=0;_<this._displayables.length;_++){var M=this._displayables[_];if(M.contain(h,i))return!0}return!1},s}(o.ZP);it.Z=n},55602:function(Dt,it,C){var p=C(12012),o=C(2413),t=function(r){(0,p.ZT)(n,r);function n(e,s,h,i,a,l){var _=r.call(this,a)||this;return _.x=e==null?0:e,_.y=s==null?0:s,_.x2=h==null?1:h,_.y2=i==null?0:i,_.type="linear",_.global=l||!1,_}return n}(o.Z);it.Z=t},66210:function(Dt,it,C){C.d(it,{$t:function(){return v},ZP:function(){return L}});var p=C(12012),o=C(11635),t=C(29436),r=C(55265),n=C(14296);function e(I,Z,G,K,J,U,H,V,D,F,N){if(D===0)return!1;var X=D;if(N>Z+X&&N>K+X&&N>U+X&&N>V+X||N<Z-X&&N<K-X&&N<U-X&&N<V-X||F>I+X&&F>G+X&&F>J+X&&F>H+X||F<I-X&&F<G-X&&F<J-X&&F<H-X)return!1;var Y=n.t1(I,Z,G,K,J,U,H,V,F,N,null);return Y<=X/2}var s=C(48610),h=C(47833),i=Math.PI*2;function a(I,Z,G,K,J,U,H,V,D){if(H===0)return!1;var F=H;V-=I,D-=Z;var N=Math.sqrt(V*V+D*D);if(N-F>G||N+F<G)return!1;if(Math.abs(K-J)%i<1e-4)return!0;if(U){var X=K;K=(0,h.m)(J),J=(0,h.m)(X)}else K=(0,h.m)(K),J=(0,h.m)(J);K>J&&(J+=i);var Y=Math.atan2(D,V);return Y<0&&(Y+=i),Y>=K&&Y<=J||Y+i>=K&&Y+i<=J}var l=C(99271),_=t.Z.CMD,M=Math.PI*2,m=1e-4;function T(I,Z){return Math.abs(I-Z)<m}var y=[-1,-1,-1],P=[-1,-1];function S(){var I=P[0];P[0]=P[1],P[1]=I}function w(I,Z,G,K,J,U,H,V,D,F){if(F>Z&&F>K&&F>U&&F>V||F<Z&&F<K&&F<U&&F<V)return 0;var N=n.kD(Z,K,U,V,F,y);if(N===0)return 0;for(var X=0,Y=-1,et=void 0,z=void 0,k=0;k<N;k++){var at=y[k],ft=at===0||at===1?.5:1,_t=n.af(I,G,J,H,at);_t<D||(Y<0&&(Y=n.pP(Z,K,U,V,P),P[1]<P[0]&&Y>1&&S(),et=n.af(Z,K,U,V,P[0]),Y>1&&(z=n.af(Z,K,U,V,P[1]))),Y===2?at<P[0]?X+=et<Z?ft:-ft:at<P[1]?X+=z<et?ft:-ft:X+=V<z?ft:-ft:at<P[0]?X+=et<Z?ft:-ft:X+=V<et?ft:-ft)}return X}function b(I,Z,G,K,J,U,H,V){if(V>Z&&V>K&&V>U||V<Z&&V<K&&V<U)return 0;var D=n.Jz(Z,K,U,V,y);if(D===0)return 0;var F=n.QC(Z,K,U);if(F>=0&&F<=1){for(var N=0,X=n.Zm(Z,K,U,F),Y=0;Y<D;Y++){var et=y[Y]===0||y[Y]===1?.5:1,z=n.Zm(I,G,J,y[Y]);z<H||(y[Y]<F?N+=X<Z?et:-et:N+=U<X?et:-et)}return N}else{var et=y[0]===0||y[0]===1?.5:1,z=n.Zm(I,G,J,y[0]);return z<H?0:U<Z?et:-et}}function W(I,Z,G,K,J,U,H,V){if(V-=Z,V>G||V<-G)return 0;var D=Math.sqrt(G*G-V*V);y[0]=-D,y[1]=D;var F=Math.abs(K-J);if(F<1e-4)return 0;if(F>=M-1e-4){K=0,J=M;var N=U?1:-1;return H>=y[0]+I&&H<=y[1]+I?N:0}if(K>J){var X=K;K=J,J=X}K<0&&(K+=M,J+=M);for(var Y=0,et=0;et<2;et++){var z=y[et];if(z+I>H){var k=Math.atan2(V,z),N=U?1:-1;k<0&&(k=M+k),(k>=K&&k<=J||k+M>=K&&k+M<=J)&&(k>Math.PI/2&&k<Math.PI*1.5&&(N=-N),Y+=N)}}return Y}function B(I,Z,G,K,J){for(var U=I.data,H=I.len(),V=0,D=0,F=0,N=0,X=0,Y,et,z=0;z<H;){var k=U[z++],at=z===1;switch(k===_.M&&z>1&&(G||(V+=(0,l.Z)(D,F,N,X,K,J))),at&&(D=U[z],F=U[z+1],N=D,X=F),k){case _.M:N=U[z++],X=U[z++],D=N,F=X;break;case _.L:if(G){if(r.m(D,F,U[z],U[z+1],Z,K,J))return!0}else V+=(0,l.Z)(D,F,U[z],U[z+1],K,J)||0;D=U[z++],F=U[z++];break;case _.C:if(G){if(e(D,F,U[z++],U[z++],U[z++],U[z++],U[z],U[z+1],Z,K,J))return!0}else V+=w(D,F,U[z++],U[z++],U[z++],U[z++],U[z],U[z+1],K,J)||0;D=U[z++],F=U[z++];break;case _.Q:if(G){if(s.m(D,F,U[z++],U[z++],U[z],U[z+1],Z,K,J))return!0}else V+=b(D,F,U[z++],U[z++],U[z],U[z+1],K,J)||0;D=U[z++],F=U[z++];break;case _.A:var ft=U[z++],_t=U[z++],tt=U[z++],rt=U[z++],ut=U[z++],ct=U[z++];z+=1;var st=!!(1-U[z++]);Y=Math.cos(ut)*tt+ft,et=Math.sin(ut)*rt+_t,at?(N=Y,X=et):V+=(0,l.Z)(D,F,Y,et,K,J);var dt=(K-ft)*rt/tt+ft;if(G){if(a(ft,_t,rt,ut,ut+ct,st,Z,dt,J))return!0}else V+=W(ft,_t,rt,ut,ut+ct,st,dt,J);D=Math.cos(ut+ct)*tt+ft,F=Math.sin(ut+ct)*rt+_t;break;case _.R:N=D=U[z++],X=F=U[z++];var ht=U[z++],xt=U[z++];if(Y=N+ht,et=X+xt,G){if(r.m(N,X,Y,X,Z,K,J)||r.m(Y,X,Y,et,Z,K,J)||r.m(Y,et,N,et,Z,K,J)||r.m(N,et,N,X,Z,K,J))return!0}else V+=(0,l.Z)(Y,X,Y,et,K,J),V+=(0,l.Z)(N,et,N,X,K,J);break;case _.Z:if(G){if(r.m(D,F,N,X,Z,K,J))return!0}else V+=(0,l.Z)(D,F,N,X,K,J);D=N,F=X;break}}return!G&&!T(F,X)&&(V+=(0,l.Z)(D,F,N,X,K,J)||0),V!==0}function O(I,Z,G){return B(I,0,!1,Z,G)}function A(I,Z,G,K){return B(I,Z,!0,G,K)}var E=C(70324),d=C(96170),f=C(62623),u=C(53197),c=C(23463),v=(0,E.ce)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},o.tj),g={style:(0,E.ce)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},o.ik.style)},R=c.dN.concat(["invisible","culling","z","z2","zlevel","parent"]),x=function(I){(0,p.ZT)(Z,I);function Z(G){return I.call(this,G)||this}return Z.prototype.update=function(){var G=this;I.prototype.update.call(this);var K=this.style;if(K.decal){var J=this._decalEl=this._decalEl||new Z;J.buildPath===Z.prototype.buildPath&&(J.buildPath=function(D){G.buildPath(D,G.shape)}),J.silent=!0;var U=J.style;for(var H in K)U[H]!==K[H]&&(U[H]=K[H]);U.fill=K.fill?K.decal:null,U.decal=null,U.shadowColor=null,K.strokeFirst&&(U.stroke=null);for(var V=0;V<R.length;++V)J[R[V]]=this[R[V]];J.__dirty|=u.YV}else this._decalEl&&(this._decalEl=null)},Z.prototype.getDecalElement=function(){return this._decalEl},Z.prototype._init=function(G){var K=(0,E.XP)(G);this.shape=this.getDefaultShape();var J=this.getDefaultStyle();J&&this.useStyle(J);for(var U=0;U<K.length;U++){var H=K[U],V=G[H];H==="style"?this.style?(0,E.l7)(this.style,V):this.useStyle(V):H==="shape"?(0,E.l7)(this.shape,V):I.prototype.attrKV.call(this,H,V)}this.style||this.useStyle({})},Z.prototype.getDefaultStyle=function(){return null},Z.prototype.getDefaultShape=function(){return{}},Z.prototype.canBeInsideText=function(){return this.hasFill()},Z.prototype.getInsideTextFill=function(){var G=this.style.fill;if(G!=="none"){if((0,E.HD)(G)){var K=(0,d.lum)(G,0);return K>.5?f.vU:K>.2?f.iv:f.GD}else if(G)return f.GD}return f.vU},Z.prototype.getInsideTextStroke=function(G){var K=this.style.fill;if((0,E.HD)(K)){var J=this.__zr,U=!!(J&&J.isDarkMode()),H=(0,d.lum)(G,0)<f.Ak;if(U===H)return K}},Z.prototype.buildPath=function(G,K,J){},Z.prototype.pathUpdated=function(){this.__dirty&=~u.RH},Z.prototype.getUpdatedPathProxy=function(G){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,G),this.path},Z.prototype.createPathProxy=function(){this.path=new t.Z(!1)},Z.prototype.hasStroke=function(){var G=this.style,K=G.stroke;return!(K==null||K==="none"||!(G.lineWidth>0))},Z.prototype.hasFill=function(){var G=this.style,K=G.fill;return K!=null&&K!=="none"},Z.prototype.getBoundingRect=function(){var G=this._rect,K=this.style,J=!G;if(J){var U=!1;this.path||(U=!0,this.createPathProxy());var H=this.path;(U||this.__dirty&u.RH)&&(H.beginPath(),this.buildPath(H,this.shape,!1),this.pathUpdated()),G=H.getBoundingRect()}if(this._rect=G,this.hasStroke()&&this.path&&this.path.len()>0){var V=this._rectStroke||(this._rectStroke=G.clone());if(this.__dirty||J){V.copy(G);var D=K.strokeNoScale?this.getLineScale():1,F=K.lineWidth;if(!this.hasFill()){var N=this.strokeContainThreshold;F=Math.max(F,N==null?4:N)}D>1e-10&&(V.width+=F/D,V.height+=F/D,V.x-=F/D/2,V.y-=F/D/2)}return V}return G},Z.prototype.contain=function(G,K){var J=this.transformCoordToLocal(G,K),U=this.getBoundingRect(),H=this.style;if(G=J[0],K=J[1],U.contain(G,K)){var V=this.path;if(this.hasStroke()){var D=H.lineWidth,F=H.strokeNoScale?this.getLineScale():1;if(F>1e-10&&(this.hasFill()||(D=Math.max(D,this.strokeContainThreshold)),A(V,D/F,G,K)))return!0}if(this.hasFill())return O(V,G,K)}return!1},Z.prototype.dirtyShape=function(){this.__dirty|=u.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Z.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Z.prototype.animateShape=function(G){return this.animate("shape",G)},Z.prototype.updateDuringAnimation=function(G){G==="style"?this.dirtyStyle():G==="shape"?this.dirtyShape():this.markRedraw()},Z.prototype.attrKV=function(G,K){G==="shape"?this.setShape(K):I.prototype.attrKV.call(this,G,K)},Z.prototype.setShape=function(G,K){var J=this.shape;return J||(J=this.shape={}),typeof G=="string"?J[G]=K:(0,E.l7)(J,G),this.dirtyShape(),this},Z.prototype.shapeChanged=function(){return!!(this.__dirty&u.RH)},Z.prototype.createStyle=function(G){return(0,E.nW)(v,G)},Z.prototype._innerSaveToNormal=function(G){I.prototype._innerSaveToNormal.call(this,G);var K=this._normalState;G.shape&&!K.shape&&(K.shape=(0,E.l7)({},this.shape))},Z.prototype._applyStateObj=function(G,K,J,U,H,V){I.prototype._applyStateObj.call(this,G,K,J,U,H,V);var D=!(K&&U),F;if(K&&K.shape?H?U?F=K.shape:(F=(0,E.l7)({},J.shape),(0,E.l7)(F,K.shape)):(F=(0,E.l7)({},U?this.shape:J.shape),(0,E.l7)(F,K.shape)):D&&(F=J.shape),F)if(H){this.shape=(0,E.l7)({},this.shape);for(var N={},X=(0,E.XP)(F),Y=0;Y<X.length;Y++){var et=X[Y];typeof F[et]=="object"?this.shape[et]=F[et]:N[et]=F[et]}this._transitionState(G,{shape:N},V)}else this.shape=F,this.dirtyShape()},Z.prototype._mergeStates=function(G){for(var K=I.prototype._mergeStates.call(this,G),J,U=0;U<G.length;U++){var H=G[U];H.shape&&(J=J||{},this._mergeStyle(J,H.shape))}return J&&(K.shape=J),K},Z.prototype.getAnimationStyleProps=function(){return g},Z.prototype.isZeroArea=function(){return!1},Z.extend=function(G){var K=function(U){(0,p.ZT)(H,U);function H(V){var D=U.call(this,V)||this;return G.init&&G.init.call(D,V),D}return H.prototype.getDefaultStyle=function(){return(0,E.d9)(G.style)},H.prototype.getDefaultShape=function(){return(0,E.d9)(G.shape)},H}(Z);for(var J in G)typeof G[J]=="function"&&(K.prototype[J]=G[J]);return K},Z.initDefaultProps=function(){var G=Z.prototype;G.type="path",G.strokeContainThreshold=5,G.segmentIgnoreThreshold=0,G.subPixelOptimize=!1,G.autoBatch=!1,G.__dirty=u.YV|u.SE|u.RH}(),Z}(o.ZP),L=x},43606:function(Dt,it,C){var p=C(12012),o=C(2413),t=function(r){(0,p.ZT)(n,r);function n(e,s,h,i,a){var l=r.call(this,i)||this;return l.x=e==null?.5:e,l.y=s==null?.5:s,l.r=h==null?.5:h,l.type="radial",l.global=a||!1,l}return n}(o.Z);it.Z=t},83007:function(Dt,it,C){var p=C(12012),o=C(11635),t=C(98733),r=C(66210),n=C(70324),e=C(47297),s=(0,n.ce)({strokeFirst:!0,font:e.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},r.$t),h=function(i){(0,p.ZT)(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.hasStroke=function(){var l=this.style,_=l.stroke;return _!=null&&_!=="none"&&l.lineWidth>0},a.prototype.hasFill=function(){var l=this.style,_=l.fill;return _!=null&&_!=="none"},a.prototype.createStyle=function(l){return(0,n.nW)(s,l)},a.prototype.setBoundingRect=function(l){this._rect=l},a.prototype.getBoundingRect=function(){var l=this.style;if(!this._rect){var _=l.text;_!=null?_+="":_="";var M=(0,t.lP)(_,l.font,l.textAlign,l.textBaseline);if(M.x+=l.x||0,M.y+=l.y||0,this.hasStroke()){var m=l.lineWidth;M.x-=m/2,M.y-=m/2,M.width+=m,M.height+=m}this._rect=M}return this._rect},a.initDefaultProps=function(){var l=a.prototype;l.dirtyRectTolerance=10}(),a}(o.ZP);h.prototype.type="tspan",it.Z=h},95169:function(Dt,it,C){C.d(it,{VG:function(){return S},Y1:function(){return b}});var p=C(12012),o=C(28185),t=C(83007),r=C(70324),n=C(98733),e=C(13806),s=C(73909),h=C(16128),i=C(11635),a=C(47297),l={fill:"#000"},_=2,M={style:(0,r.ce)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},i.ik.style)},m=function(u){(0,p.ZT)(c,u);function c(v){var g=u.call(this)||this;return g.type="text",g._children=[],g._defaultStyle=l,g.attr(v),g}return c.prototype.childrenRef=function(){return this._children},c.prototype.update=function(){u.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var v=0;v<this._children.length;v++){var g=this._children[v];g.zlevel=this.zlevel,g.z=this.z,g.z2=this.z2,g.culling=this.culling,g.cursor=this.cursor,g.invisible=this.invisible}},c.prototype.updateTransform=function(){var v=this.innerTransformable;v?(v.updateTransform(),v.transform&&(this.transform=v.transform)):u.prototype.updateTransform.call(this)},c.prototype.getLocalTransform=function(v){var g=this.innerTransformable;return g?g.getLocalTransform(v):u.prototype.getLocalTransform.call(this,v)},c.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),u.prototype.getComputedTransform.call(this)},c.prototype._updateSubTexts=function(){this._childCursor=0,W(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},c.prototype.addSelfToZr=function(v){u.prototype.addSelfToZr.call(this,v);for(var g=0;g<this._children.length;g++)this._children[g].__zr=v},c.prototype.removeSelfFromZr=function(v){u.prototype.removeSelfFromZr.call(this,v);for(var g=0;g<this._children.length;g++)this._children[g].__zr=null},c.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var v=new h.Z(0,0,0,0),g=this._children,R=[],x=null,L=0;L<g.length;L++){var I=g[L],Z=I.getBoundingRect(),G=I.getLocalTransform(R);G?(v.copy(Z),v.applyTransform(G),x=x||v.clone(),x.union(v)):(x=x||Z.clone(),x.union(Z))}this._rect=x||v}return this._rect},c.prototype.setDefaultTextStyle=function(v){this._defaultStyle=v||l},c.prototype.setTextContent=function(v){},c.prototype._mergeStyle=function(v,g){if(!g)return v;var R=g.rich,x=v.rich||R&&{};return(0,r.l7)(v,g),R&&x?(this._mergeRich(x,R),v.rich=x):x&&(v.rich=x),v},c.prototype._mergeRich=function(v,g){for(var R=(0,r.XP)(g),x=0;x<R.length;x++){var L=R[x];v[L]=v[L]||{},(0,r.l7)(v[L],g[L])}},c.prototype.getAnimationStyleProps=function(){return M},c.prototype._getOrCreateChild=function(v){var g=this._children[this._childCursor];return(!g||!(g instanceof v))&&(g=new v),this._children[this._childCursor++]=g,g.__zr=this.__zr,g.parent=this,g},c.prototype._updatePlainTexts=function(){var v=this.style,g=v.font||a.Uo,R=v.padding,x=d(v),L=(0,o.NY)(x,v),I=f(v),Z=!!v.backgroundColor,G=L.outerHeight,K=L.outerWidth,J=L.contentWidth,U=L.lines,H=L.lineHeight,V=this._defaultStyle,D=v.x||0,F=v.y||0,N=v.align||V.align||"left",X=v.verticalAlign||V.verticalAlign||"top",Y=D,et=(0,n.mU)(F,L.contentHeight,X);if(I||R){var z=(0,n.M3)(D,K,N),k=(0,n.mU)(F,G,X);I&&this._renderBackground(v,v,z,k,K,G)}et+=H/2,R&&(Y=E(D,N,R),X==="top"?et+=R[0]:X==="bottom"&&(et-=R[2]));for(var at=0,ft=!1,_t=A("fill"in v?v.fill:(ft=!0,V.fill)),tt=O("stroke"in v?v.stroke:!Z&&(!V.autoStroke||ft)?(at=_,V.stroke):null),rt=v.textShadowBlur>0,ut=v.width!=null&&(v.overflow==="truncate"||v.overflow==="break"||v.overflow==="breakAll"),ct=L.calculatedLineHeight,st=0;st<U.length;st++){var dt=this._getOrCreateChild(t.Z),ht=dt.createStyle();dt.useStyle(ht),ht.text=U[st],ht.x=Y,ht.y=et,N&&(ht.textAlign=N),ht.textBaseline="middle",ht.opacity=v.opacity,ht.strokeFirst=!0,rt&&(ht.shadowBlur=v.textShadowBlur||0,ht.shadowColor=v.textShadowColor||"transparent",ht.shadowOffsetX=v.textShadowOffsetX||0,ht.shadowOffsetY=v.textShadowOffsetY||0),ht.stroke=tt,ht.fill=_t,tt&&(ht.lineWidth=v.lineWidth||at,ht.lineDash=v.lineDash,ht.lineDashOffset=v.lineDashOffset||0),ht.font=g,w(ht,v),et+=H,ut&&dt.setBoundingRect(new h.Z((0,n.M3)(ht.x,v.width,ht.textAlign),(0,n.mU)(ht.y,ct,ht.textBaseline),J,ct))}},c.prototype._updateRichTexts=function(){var v=this.style,g=d(v),R=(0,o.$F)(g,v),x=R.width,L=R.outerWidth,I=R.outerHeight,Z=v.padding,G=v.x||0,K=v.y||0,J=this._defaultStyle,U=v.align||J.align,H=v.verticalAlign||J.verticalAlign,V=(0,n.M3)(G,L,U),D=(0,n.mU)(K,I,H),F=V,N=D;Z&&(F+=Z[3],N+=Z[0]);var X=F+x;f(v)&&this._renderBackground(v,v,V,D,L,I);for(var Y=!!v.backgroundColor,et=0;et<R.lines.length;et++){for(var z=R.lines[et],k=z.tokens,at=k.length,ft=z.lineHeight,_t=z.width,tt=0,rt=F,ut=X,ct=at-1,st=void 0;tt<at&&(st=k[tt],!st.align||st.align==="left");)this._placeToken(st,v,ft,N,rt,"left",Y),_t-=st.width,rt+=st.width,tt++;for(;ct>=0&&(st=k[ct],st.align==="right");)this._placeToken(st,v,ft,N,ut,"right",Y),_t-=st.width,ut-=st.width,ct--;for(rt+=(x-(rt-F)-(X-ut)-_t)/2;tt<=ct;)st=k[tt],this._placeToken(st,v,ft,N,rt+st.width/2,"center",Y),rt+=st.width,tt++;N+=ft}},c.prototype._placeToken=function(v,g,R,x,L,I,Z){var G=g.rich[v.styleName]||{};G.text=v.text;var K=v.verticalAlign,J=x+R/2;K==="top"?J=x+v.height/2:K==="bottom"&&(J=x+R-v.height/2);var U=!v.isLineHolder&&f(G);U&&this._renderBackground(G,g,I==="right"?L-v.width:I==="center"?L-v.width/2:L,J-v.height/2,v.width,v.height);var H=!!G.backgroundColor,V=v.textPadding;V&&(L=E(L,I,V),J-=v.height/2-V[0]-v.innerHeight/2);var D=this._getOrCreateChild(t.Z),F=D.createStyle();D.useStyle(F);var N=this._defaultStyle,X=!1,Y=0,et=A("fill"in G?G.fill:"fill"in g?g.fill:(X=!0,N.fill)),z=O("stroke"in G?G.stroke:"stroke"in g?g.stroke:!H&&!Z&&(!N.autoStroke||X)?(Y=_,N.stroke):null),k=G.textShadowBlur>0||g.textShadowBlur>0;F.text=v.text,F.x=L,F.y=J,k&&(F.shadowBlur=G.textShadowBlur||g.textShadowBlur||0,F.shadowColor=G.textShadowColor||g.textShadowColor||"transparent",F.shadowOffsetX=G.textShadowOffsetX||g.textShadowOffsetX||0,F.shadowOffsetY=G.textShadowOffsetY||g.textShadowOffsetY||0),F.textAlign=I,F.textBaseline="middle",F.font=v.font||a.Uo,F.opacity=(0,r.R1)(G.opacity,g.opacity,1),w(F,G),z&&(F.lineWidth=(0,r.R1)(G.lineWidth,g.lineWidth,Y),F.lineDash=(0,r.pD)(G.lineDash,g.lineDash),F.lineDashOffset=g.lineDashOffset||0,F.stroke=z),et&&(F.fill=et);var at=v.contentWidth,ft=v.contentHeight;D.setBoundingRect(new h.Z((0,n.M3)(F.x,at,F.textAlign),(0,n.mU)(F.y,ft,F.textBaseline),at,ft))},c.prototype._renderBackground=function(v,g,R,x,L,I){var Z=v.backgroundColor,G=v.borderWidth,K=v.borderColor,J=Z&&Z.image,U=Z&&!J,H=v.borderRadius,V=this,D,F;if(U||v.lineHeight||G&&K){D=this._getOrCreateChild(s.Z),D.useStyle(D.createStyle()),D.style.fill=null;var N=D.shape;N.x=R,N.y=x,N.width=L,N.height=I,N.r=H,D.dirtyShape()}if(U){var X=D.style;X.fill=Z||null,X.fillOpacity=(0,r.pD)(v.fillOpacity,1)}else if(J){F=this._getOrCreateChild(e.ZP),F.onload=function(){V.dirtyStyle()};var Y=F.style;Y.image=Z.image,Y.x=R,Y.y=x,Y.width=L,Y.height=I}if(G&&K){var X=D.style;X.lineWidth=G,X.stroke=K,X.strokeOpacity=(0,r.pD)(v.strokeOpacity,1),X.lineDash=v.borderDash,X.lineDashOffset=v.borderDashOffset||0,D.strokeContainThreshold=0,D.hasFill()&&D.hasStroke()&&(X.strokeFirst=!0,X.lineWidth*=2)}var et=(D||F).style;et.shadowBlur=v.shadowBlur||0,et.shadowColor=v.shadowColor||"transparent",et.shadowOffsetX=v.shadowOffsetX||0,et.shadowOffsetY=v.shadowOffsetY||0,et.opacity=(0,r.R1)(v.opacity,g.opacity,1)},c.makeFont=function(v){var g="";return b(v)&&(g=[v.fontStyle,v.fontWeight,S(v.fontSize),v.fontFamily||"sans-serif"].join(" ")),g&&(0,r.fy)(g)||v.textFont||v.font},c}(i.ZP),T={left:!0,right:1,center:1},y={top:1,bottom:1,middle:1},P=["fontStyle","fontWeight","fontSize","fontFamily"];function S(u){return typeof u=="string"&&(u.indexOf("px")!==-1||u.indexOf("rem")!==-1||u.indexOf("em")!==-1)?u:isNaN(+u)?a.n5+"px":u+"px"}function w(u,c){for(var v=0;v<P.length;v++){var g=P[v],R=c[g];R!=null&&(u[g]=R)}}function b(u){return u.fontSize!=null||u.fontFamily||u.fontWeight}function W(u){return B(u),(0,r.S6)(u.rich,B),u}function B(u){if(u){u.font=m.makeFont(u);var c=u.align;c==="middle"&&(c="center"),u.align=c==null||T[c]?c:"left";var v=u.verticalAlign;v==="center"&&(v="middle"),u.verticalAlign=v==null||y[v]?v:"top";var g=u.padding;g&&(u.padding=(0,r.MY)(u.padding))}}function O(u,c){return u==null||c<=0||u==="transparent"||u==="none"?null:u.image||u.colorStops?"#000":u}function A(u){return u==null||u==="none"?null:u.image||u.colorStops?"#000":u}function E(u,c,v){return c==="right"?u-v[1]:c==="center"?u+v[3]/2-v[1]/2:u+v[3]}function d(u){var c=u.text;return c!=null&&(c+=""),c}function f(u){return!!(u.backgroundColor||u.lineHeight||u.borderWidth&&u.borderColor)}it.ZP=m},53197:function(Dt,it,C){C.d(it,{RH:function(){return t},SE:function(){return o},YV:function(){return p}});var p=1,o=2,t=4},6850:function(Dt,it,C){C.d(it,{Gq:function(){return n},ko:function(){return r},v5:function(){return s}});var p=C(86280),o=C(47297),t=new p.ZP(50);function r(h){if(typeof h=="string"){var i=t.get(h);return i&&i.image}else return h}function n(h,i,a,l,_){if(h)if(typeof h=="string"){if(i&&i.__zrImageSrc===h||!a)return i;var M=t.get(h),m={hostEl:a,cb:l,cbPayload:_};return M?(i=M.image,!s(i)&&M.pending.push(m)):(i=o.qW.loadImage(h,e,e),i.__zrImageSrc=h,t.put(h,i.__cachedImgObj={image:i,pending:[m]})),i}else return h;else return i}function e(){var h=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<h.pending.length;i++){var a=h.pending[i],l=a.cb;l&&l(this,a.cbPayload),a.hostEl.dirty()}h.pending.length=0}function s(h){return h&&h.width&&h.height}},28185:function(Dt,it,C){C.d(it,{$F:function(){return M},NY:function(){return i},aF:function(){return n}});var p=C(6850),o=C(70324),t=C(98733),r=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function n(w,b,W,B,O){if(!b)return"";var A=(w+"").split(`
`);O=e(b,W,B,O);for(var E=0,d=A.length;E<d;E++)A[E]=s(A[E],O);return A.join(`
`)}function e(w,b,W,B){B=B||{};var O=(0,o.l7)({},B);O.font=b,W=(0,o.pD)(W,"..."),O.maxIterations=(0,o.pD)(B.maxIterations,2);var A=O.minChar=(0,o.pD)(B.minChar,0);O.cnCharWidth=(0,t.dz)("\u56FD",b);var E=O.ascCharWidth=(0,t.dz)("a",b);O.placeholder=(0,o.pD)(B.placeholder,"");for(var d=w=Math.max(0,w-1),f=0;f<A&&d>=E;f++)d-=E;var u=(0,t.dz)(W,b);return u>d&&(W="",u=0),d=w-u,O.ellipsis=W,O.ellipsisWidth=u,O.contentWidth=d,O.containerWidth=w,O}function s(w,b){var W=b.containerWidth,B=b.font,O=b.contentWidth;if(!W)return"";var A=(0,t.dz)(w,B);if(A<=W)return w;for(var E=0;;E++){if(A<=O||E>=b.maxIterations){w+=b.ellipsis;break}var d=E===0?h(w,O,b.ascCharWidth,b.cnCharWidth):A>0?Math.floor(w.length*O/A):0;w=w.substr(0,d),A=(0,t.dz)(w,B)}return w===""&&(w=b.placeholder),w}function h(w,b,W,B){for(var O=0,A=0,E=w.length;A<E&&O<b;A++){var d=w.charCodeAt(A);O+=0<=d&&d<=127?W:B}return A}function i(w,b){w!=null&&(w+="");var W=b.overflow,B=b.padding,O=b.font,A=W==="truncate",E=(0,t.Dp)(O),d=(0,o.pD)(b.lineHeight,E),f=!!b.backgroundColor,u=b.lineOverflow==="truncate",c=b.width,v;c!=null&&(W==="break"||W==="breakAll")?v=w?S(w,b.font,c,W==="breakAll",0).lines:[]:v=w?w.split(`
`):[];var g=v.length*d,R=(0,o.pD)(b.height,g);if(g>R&&u){var x=Math.floor(R/d);v=v.slice(0,x)}if(w&&A&&c!=null)for(var L=e(c,O,b.ellipsis,{minChar:b.truncateMinChar,placeholder:b.placeholder}),I=0;I<v.length;I++)v[I]=s(v[I],L);for(var Z=R,G=0,I=0;I<v.length;I++)G=Math.max((0,t.dz)(v[I],O),G);c==null&&(c=G);var K=G;return B&&(Z+=B[0]+B[2],K+=B[1]+B[3],c+=B[1]+B[3]),f&&(K=c),{lines:v,height:R,outerWidth:K,outerHeight:Z,lineHeight:d,calculatedLineHeight:E,contentWidth:G,contentHeight:g,width:c}}var a=function(){function w(){}return w}(),l=function(){function w(b){this.tokens=[],b&&(this.tokens=b)}return w}(),_=function(){function w(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return w}();function M(w,b){var W=new _;if(w!=null&&(w+=""),!w)return W;for(var B=b.width,O=b.height,A=b.overflow,E=(A==="break"||A==="breakAll")&&B!=null?{width:B,accumWidth:0,breakAll:A==="breakAll"}:null,d=r.lastIndex=0,f;(f=r.exec(w))!=null;){var u=f.index;u>d&&m(W,w.substring(d,u),b,E),m(W,f[2],b,E,f[1]),d=r.lastIndex}d<w.length&&m(W,w.substring(d,w.length),b,E);var c=[],v=0,g=0,R=b.padding,x=A==="truncate",L=b.lineOverflow==="truncate";function I(_t,tt,rt){_t.width=tt,_t.lineHeight=rt,v+=rt,g=Math.max(g,tt)}t:for(var Z=0;Z<W.lines.length;Z++){for(var G=W.lines[Z],K=0,J=0,U=0;U<G.tokens.length;U++){var H=G.tokens[U],V=H.styleName&&b.rich[H.styleName]||{},D=H.textPadding=V.padding,F=D?D[1]+D[3]:0,N=H.font=V.font||b.font;H.contentHeight=(0,t.Dp)(N);var X=(0,o.pD)(V.height,H.contentHeight);if(H.innerHeight=X,D&&(X+=D[0]+D[2]),H.height=X,H.lineHeight=(0,o.R1)(V.lineHeight,b.lineHeight,X),H.align=V&&V.align||b.align,H.verticalAlign=V&&V.verticalAlign||"middle",L&&O!=null&&v+H.lineHeight>O){U>0?(G.tokens=G.tokens.slice(0,U),I(G,J,K),W.lines=W.lines.slice(0,Z+1)):W.lines=W.lines.slice(0,Z);break t}var Y=V.width,et=Y==null||Y==="auto";if(typeof Y=="string"&&Y.charAt(Y.length-1)==="%")H.percentWidth=Y,c.push(H),H.contentWidth=(0,t.dz)(H.text,N);else{if(et){var z=V.backgroundColor,k=z&&z.image;k&&(k=p.ko(k),p.v5(k)&&(H.width=Math.max(H.width,k.width*X/k.height)))}var at=x&&B!=null?B-J:null;at!=null&&at<H.width?!et||at<F?(H.text="",H.width=H.contentWidth=0):(H.text=n(H.text,at-F,N,b.ellipsis,{minChar:b.truncateMinChar}),H.width=H.contentWidth=(0,t.dz)(H.text,N)):H.contentWidth=(0,t.dz)(H.text,N)}H.width+=F,J+=H.width,V&&(K=Math.max(K,H.lineHeight))}I(G,J,K)}W.outerWidth=W.width=(0,o.pD)(B,g),W.outerHeight=W.height=(0,o.pD)(O,v),W.contentHeight=v,W.contentWidth=g,R&&(W.outerWidth+=R[1]+R[3],W.outerHeight+=R[0]+R[2]);for(var Z=0;Z<c.length;Z++){var H=c[Z],ft=H.percentWidth;H.width=parseInt(ft,10)/100*W.width}return W}function m(w,b,W,B,O){var A=b==="",E=O&&W.rich[O]||{},d=w.lines,f=E.font||W.font,u=!1,c,v;if(B){var g=E.padding,R=g?g[1]+g[3]:0;if(E.width!=null&&E.width!=="auto"){var x=(0,t.GM)(E.width,B.width)+R;d.length>0&&x+B.accumWidth>B.width&&(c=b.split(`
`),u=!0),B.accumWidth=x}else{var L=S(b,f,B.width,B.breakAll,B.accumWidth);B.accumWidth=L.accumWidth+R,v=L.linesWidths,c=L.lines}}else c=b.split(`
`);for(var I=0;I<c.length;I++){var Z=c[I],G=new a;if(G.styleName=O,G.text=Z,G.isLineHolder=!Z&&!A,typeof E.width=="number"?G.width=E.width:G.width=v?v[I]:(0,t.dz)(Z,f),!I&&!u){var K=(d[d.length-1]||(d[0]=new l)).tokens,J=K.length;J===1&&K[0].isLineHolder?K[0]=G:(Z||!J||A)&&K.push(G)}else d.push(new l([G]))}}function T(w){var b=w.charCodeAt(0);return b>=32&&b<=591||b>=880&&b<=4351||b>=4608&&b<=5119||b>=7680&&b<=8303}var y=(0,o.u4)(",&?/;] ".split(""),function(w,b){return w[b]=!0,w},{});function P(w){return T(w)?!!y[w]:!0}function S(w,b,W,B,O){for(var A=[],E=[],d="",f="",u=0,c=0,v=0;v<w.length;v++){var g=w.charAt(v);if(g===`
`){f&&(d+=f,c+=u),A.push(d),E.push(c),d="",f="",u=0,c=0;continue}var R=(0,t.dz)(g,b),x=B?!1:!P(g);if(A.length?c+R>W:O+c+R>W){c?(d||f)&&(x?(d||(d=f,f="",u=0,c=u),A.push(d),E.push(c-u),f+=g,u+=R,d="",c=u):(f&&(d+=f,f="",u=0),A.push(d),E.push(c),d=g,c=R)):x?(A.push(f),E.push(u),f=g,u=R):(A.push(g),E.push(R));continue}c+=R,x?(f+=g,u+=R):(f&&(d+=f,f="",u=0),d+=g)}return!A.length&&!d&&(d=w,f="",u=0),f&&(d+=f),d&&(A.push(d),E.push(c)),A.length===1&&(c+=O),{accumWidth:c,lines:A,linesWidths:E}}},65155:function(Dt,it,C){C.d(it,{L:function(){return t}});var p=C(85755);function o(r,n,e,s){var h=[],i=[],a=[],l=[],_,M,m,T;if(s){m=[1/0,1/0],T=[-1/0,-1/0];for(var y=0,P=r.length;y<P;y++)(0,p.VV)(m,m,r[y]),(0,p.Fp)(T,T,r[y]);(0,p.VV)(m,m,s[0]),(0,p.Fp)(T,T,s[1])}for(var y=0,P=r.length;y<P;y++){var S=r[y];if(e)_=r[y?y-1:P-1],M=r[(y+1)%P];else if(y===0||y===P-1){h.push((0,p.d9)(r[y]));continue}else _=r[y-1],M=r[y+1];(0,p.lu)(i,M,_),(0,p.bA)(i,i,n);var w=(0,p.TE)(S,_),b=(0,p.TE)(S,M),W=w+b;W!==0&&(w/=W,b/=W),(0,p.bA)(a,i,-w),(0,p.bA)(l,i,b);var B=(0,p.IH)([],S,a),O=(0,p.IH)([],S,l);s&&((0,p.Fp)(B,B,m),(0,p.VV)(B,B,T),(0,p.Fp)(O,O,m),(0,p.VV)(O,O,T)),h.push(B),h.push(O)}return e&&h.push(h.shift()),h}function t(r,n,e){var s=n.smooth,h=n.points;if(h&&h.length>=2){if(s){var i=o(h,s,e,n.smoothConstraint);r.moveTo(h[0][0],h[0][1]);for(var a=h.length,l=0;l<(e?a:a-1);l++){var _=i[l*2],M=i[l*2+1],m=h[(l+1)%a];r.bezierCurveTo(_[0],_[1],M[0],M[1],m[0],m[1])}}else{r.moveTo(h[0][0],h[0][1]);for(var l=1,T=h.length;l<T;l++)r.lineTo(h[l][0],h[l][1])}e&&r.closePath()}}},51372:function(Dt,it,C){C.d(it,{Pw:function(){return t},_3:function(){return o},vu:function(){return r}});var p=Math.round;function o(n,e,s){if(e){var h=e.x1,i=e.x2,a=e.y1,l=e.y2;n.x1=h,n.x2=i,n.y1=a,n.y2=l;var _=s&&s.lineWidth;return _&&(p(h*2)===p(i*2)&&(n.x1=n.x2=r(h,_,!0)),p(a*2)===p(l*2)&&(n.y1=n.y2=r(a,_,!0))),n}}function t(n,e,s){if(e){var h=e.x,i=e.y,a=e.width,l=e.height;n.x=h,n.y=i,n.width=a,n.height=l;var _=s&&s.lineWidth;return _&&(n.x=r(h,_,!0),n.y=r(i,_,!0),n.width=Math.max(r(h+a,_,!1)-n.x,a===0?0:1),n.height=Math.max(r(i+l,_,!1)-n.y,l===0?0:1)),n}}function r(n,e,s){if(!e)return n;var h=p(n*2);return(h+p(e))%2===0?h/2:(h+(s?1:-1))/2}},5485:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){var i=h.cx,a=h.cy,l=Math.max(h.r,0),_=h.startAngle,M=h.endAngle,m=h.clockwise,T=Math.cos(_),y=Math.sin(_);s.moveTo(T*l+i,y*l+a),s.arc(i,a,l,_,M,!m)},e}(o.ZP);r.prototype.type="arc",it.Z=r},32799:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(85755),r=C(14296),n=[],e=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i}();function s(i,a,l){var _=i.cpx2,M=i.cpy2;return _!=null||M!=null?[(l?r.X_:r.af)(i.x1,i.cpx1,i.cpx2,i.x2,a),(l?r.X_:r.af)(i.y1,i.cpy1,i.cpy2,i.y2,a)]:[(l?r.AZ:r.Zm)(i.x1,i.cpx1,i.x2,a),(l?r.AZ:r.Zm)(i.y1,i.cpy1,i.y2,a)]}var h=function(i){(0,p.ZT)(a,i);function a(l){return i.call(this,l)||this}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new e},a.prototype.buildPath=function(l,_){var M=_.x1,m=_.y1,T=_.x2,y=_.y2,P=_.cpx1,S=_.cpy1,w=_.cpx2,b=_.cpy2,W=_.percent;W!==0&&(l.moveTo(M,m),w==null||b==null?(W<1&&((0,r.Lx)(M,P,T,W,n),P=n[1],T=n[2],(0,r.Lx)(m,S,y,W,n),S=n[1],y=n[2]),l.quadraticCurveTo(P,S,T,y)):(W<1&&((0,r.Vz)(M,P,w,T,W,n),P=n[1],w=n[2],T=n[3],(0,r.Vz)(m,S,b,y,W,n),S=n[1],b=n[2],y=n[3]),l.bezierCurveTo(P,S,w,b,T,y)))},a.prototype.pointAt=function(l){return s(this.shape,l,!1)},a.prototype.tangentAt=function(l){var _=s(this.shape,l,!0);return t.Fv(_,_)},a}(o.ZP);h.prototype.type="bezier-curve",it.Z=h},16513:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){s.moveTo(h.cx+h.r,h.cy),s.arc(h.cx,h.cy,h.r,0,Math.PI*2)},e}(o.ZP);r.prototype.type="circle",it.Z=r},15904:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){var i=.5522848,a=h.cx,l=h.cy,_=h.rx,M=h.ry,m=_*i,T=M*i;s.moveTo(a-_,l),s.bezierCurveTo(a-_,l-T,a-m,l-M,a,l-M),s.bezierCurveTo(a+m,l-M,a+_,l-T,a+_,l),s.bezierCurveTo(a+_,l+T,a+m,l+M,a,l+M),s.bezierCurveTo(a-m,l+M,a-_,l+T,a-_,l),s.closePath()},e}(o.ZP);r.prototype.type="ellipse",it.Z=r},40596:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(51372),r={},n=function(){function s(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return s}(),e=function(s){(0,p.ZT)(h,s);function h(i){return s.call(this,i)||this}return h.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},h.prototype.getDefaultShape=function(){return new n},h.prototype.buildPath=function(i,a){var l,_,M,m;if(this.subPixelOptimize){var T=(0,t._3)(r,a,this.style);l=T.x1,_=T.y1,M=T.x2,m=T.y2}else l=a.x1,_=a.y1,M=a.x2,m=a.y2;var y=a.percent;y!==0&&(i.moveTo(l,_),y<1&&(M=l*(1-y)+M*y,m=_*(1-y)+m*y),i.lineTo(M,m))},h.prototype.pointAt=function(i){var a=this.shape;return[a.x1*(1-i)+a.x2*i,a.y1*(1-i)+a.y2*i]},h}(o.ZP);e.prototype.type="line",it.Z=e},7228:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(65155),r=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),n=function(e){(0,p.ZT)(s,e);function s(h){return e.call(this,h)||this}return s.prototype.getDefaultShape=function(){return new r},s.prototype.buildPath=function(h,i){t.L(h,i,!0)},s}(o.ZP);n.prototype.type="polygon",it.Z=n},6224:function(Dt,it,C){var p=C(12012),o=C(66210),t=C(65155),r=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),n=function(e){(0,p.ZT)(s,e);function s(h){return e.call(this,h)||this}return s.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},s.prototype.getDefaultShape=function(){return new r},s.prototype.buildPath=function(h,i){t.L(h,i,!1)},s}(o.ZP);n.prototype.type="polyline",it.Z=n},73909:function(Dt,it,C){C.d(it,{Z:function(){return h}});var p=C(12012),o=C(66210);function t(i,a){var l=a.x,_=a.y,M=a.width,m=a.height,T=a.r,y,P,S,w;M<0&&(l=l+M,M=-M),m<0&&(_=_+m,m=-m),typeof T=="number"?y=P=S=w=T:T instanceof Array?T.length===1?y=P=S=w=T[0]:T.length===2?(y=S=T[0],P=w=T[1]):T.length===3?(y=T[0],P=w=T[1],S=T[2]):(y=T[0],P=T[1],S=T[2],w=T[3]):y=P=S=w=0;var b;y+P>M&&(b=y+P,y*=M/b,P*=M/b),S+w>M&&(b=S+w,S*=M/b,w*=M/b),P+S>m&&(b=P+S,P*=m/b,S*=m/b),y+w>m&&(b=y+w,y*=m/b,w*=m/b),i.moveTo(l+y,_),i.lineTo(l+M-P,_),P!==0&&i.arc(l+M-P,_+P,P,-Math.PI/2,0),i.lineTo(l+M,_+m-S),S!==0&&i.arc(l+M-S,_+m-S,S,0,Math.PI/2),i.lineTo(l+w,_+m),w!==0&&i.arc(l+w,_+m-w,w,Math.PI/2,Math.PI),i.lineTo(l,_+y),y!==0&&i.arc(l+y,_+y,y,Math.PI,Math.PI*1.5)}var r=C(51372),n=function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i}(),e={},s=function(i){(0,p.ZT)(a,i);function a(l){return i.call(this,l)||this}return a.prototype.getDefaultShape=function(){return new n},a.prototype.buildPath=function(l,_){var M,m,T,y;if(this.subPixelOptimize){var P=(0,r.Pw)(e,_,this.style);M=P.x,m=P.y,T=P.width,y=P.height,P.r=_.r,_=P}else M=_.x,m=_.y,T=_.width,y=_.height;_.r?t(l,_):l.rect(M,m,T,y)},a.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},a}(o.ZP);s.prototype.type="rect";var h=s},96449:function(Dt,it,C){var p=C(12012),o=C(66210),t=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),r=function(n){(0,p.ZT)(e,n);function e(s){return n.call(this,s)||this}return e.prototype.getDefaultShape=function(){return new t},e.prototype.buildPath=function(s,h){var i=h.cx,a=h.cy,l=Math.PI*2;s.moveTo(i+h.r,a),s.arc(i,a,h.r,0,l,!1),s.moveTo(i+h.r0,a),s.arc(i,a,h.r0,0,l,!0)},e}(o.ZP);r.prototype.type="ring",it.Z=r},29902:function(Dt,it,C){C.d(it,{C:function(){return W}});var p=C(12012),o=C(66210),t=C(70324),r=Math.PI,n=r*2,e=Math.sin,s=Math.cos,h=Math.acos,i=Math.atan2,a=Math.abs,l=Math.sqrt,_=Math.max,M=Math.min,m=1e-4;function T(B,O,A,E,d,f,u,c){var v=A-B,g=E-O,R=u-d,x=c-f,L=x*v-R*g;if(!(L*L<m))return L=(R*(O-f)-x*(B-d))/L,[B+L*v,O+L*g]}function y(B,O,A,E,d,f,u){var c=B-A,v=O-E,g=(u?f:-f)/l(c*c+v*v),R=g*v,x=-g*c,L=B+R,I=O+x,Z=A+R,G=E+x,K=(L+Z)/2,J=(I+G)/2,U=Z-L,H=G-I,V=U*U+H*H,D=d-f,F=L*G-Z*I,N=(H<0?-1:1)*l(_(0,D*D*V-F*F)),X=(F*H-U*N)/V,Y=(-F*U-H*N)/V,et=(F*H+U*N)/V,z=(-F*U+H*N)/V,k=X-K,at=Y-J,ft=et-K,_t=z-J;return k*k+at*at>ft*ft+_t*_t&&(X=et,Y=z),{cx:X,cy:Y,x0:-R,y0:-x,x1:X*(d/D-1),y1:Y*(d/D-1)}}function P(B){var O;if((0,t.kJ)(B)){var A=B.length;if(!A)return B;A===1?O=[B[0],B[0],0,0]:A===2?O=[B[0],B[0],B[1],B[1]]:A===3?O=B.concat(B[2]):O=B}else O=[B,B,B,B];return O}function S(B,O){var A,E=_(O.r,0),d=_(O.r0||0,0),f=E>0,u=d>0;if(!(!f&&!u)){if(f||(E=d,d=0),d>E){var c=E;E=d,d=c}var v=O.startAngle,g=O.endAngle;if(!(isNaN(v)||isNaN(g))){var R=O.cx,x=O.cy,L=!!O.clockwise,I=a(g-v),Z=I>n&&I%n;if(Z>m&&(I=Z),!(E>m))B.moveTo(R,x);else if(I>n-m)B.moveTo(R+E*s(v),x+E*e(v)),B.arc(R,x,E,v,g,!L),d>m&&(B.moveTo(R+d*s(g),x+d*e(g)),B.arc(R,x,d,g,v,L));else{var G=void 0,K=void 0,J=void 0,U=void 0,H=void 0,V=void 0,D=void 0,F=void 0,N=void 0,X=void 0,Y=void 0,et=void 0,z=void 0,k=void 0,at=void 0,ft=void 0,_t=E*s(v),tt=E*e(v),rt=d*s(g),ut=d*e(g),ct=I>m;if(ct){var st=O.cornerRadius;st&&(A=P(st),G=A[0],K=A[1],J=A[2],U=A[3]);var dt=a(E-d)/2;if(H=M(dt,J),V=M(dt,U),D=M(dt,G),F=M(dt,K),Y=N=_(H,V),et=X=_(D,F),(N>m||X>m)&&(z=E*s(g),k=E*e(g),at=d*s(v),ft=d*e(v),I<r)){var ht=T(_t,tt,at,ft,z,k,rt,ut);if(ht){var xt=_t-ht[0],Rt=tt-ht[1],mt=z-ht[0],St=k-ht[1],It=1/e(h((xt*mt+Rt*St)/(l(xt*xt+Rt*Rt)*l(mt*mt+St*St)))/2),gt=l(ht[0]*ht[0]+ht[1]*ht[1]);Y=M(N,(E-gt)/(It+1)),et=M(X,(d-gt)/(It-1))}}}if(!ct)B.moveTo(R+_t,x+tt);else if(Y>m){var Tt=M(J,Y),At=M(U,Y),j=y(at,ft,_t,tt,E,Tt,L),q=y(z,k,rt,ut,E,At,L);B.moveTo(R+j.cx+j.x0,x+j.cy+j.y0),Y<N&&Tt===At?B.arc(R+j.cx,x+j.cy,Y,i(j.y0,j.x0),i(q.y0,q.x0),!L):(Tt>0&&B.arc(R+j.cx,x+j.cy,Tt,i(j.y0,j.x0),i(j.y1,j.x1),!L),B.arc(R,x,E,i(j.cy+j.y1,j.cx+j.x1),i(q.cy+q.y1,q.cx+q.x1),!L),At>0&&B.arc(R+q.cx,x+q.cy,At,i(q.y1,q.x1),i(q.y0,q.x0),!L))}else B.moveTo(R+_t,x+tt),B.arc(R,x,E,v,g,!L);if(!(d>m)||!ct)B.lineTo(R+rt,x+ut);else if(et>m){var Tt=M(G,et),At=M(K,et),j=y(rt,ut,z,k,d,-At,L),q=y(_t,tt,at,ft,d,-Tt,L);B.lineTo(R+j.cx+j.x0,x+j.cy+j.y0),et<X&&Tt===At?B.arc(R+j.cx,x+j.cy,et,i(j.y0,j.x0),i(q.y0,q.x0),!L):(At>0&&B.arc(R+j.cx,x+j.cy,At,i(j.y0,j.x0),i(j.y1,j.x1),!L),B.arc(R,x,d,i(j.cy+j.y1,j.cx+j.x1),i(q.cy+q.y1,q.cx+q.x1),L),Tt>0&&B.arc(R+q.cx,x+q.cy,Tt,i(q.y1,q.x1),i(q.y0,q.x0),!L))}else B.lineTo(R+rt,x+ut),B.arc(R,x,d,g,v,L)}B.closePath()}}}var w=function(){function B(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return B}(),b=function(B){(0,p.ZT)(O,B);function O(A){return B.call(this,A)||this}return O.prototype.getDefaultShape=function(){return new w},O.prototype.buildPath=function(A,E){S(A,E)},O.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},O}(o.ZP);b.prototype.type="sector";var W=b},59993:function(Dt,it,C){C.d(it,{Z:function(){return Qr}});var p=C(72352),o=C(66210),t=C(13806),r=C(98733),n=C(83007),e=Math.sin,s=Math.cos,h=Math.PI,i=Math.PI*2,a=180/h,l=function(){function ot(){}return ot.prototype.reset=function(vt){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,vt||4)},ot.prototype.moveTo=function(vt,pt){this._add("M",vt,pt)},ot.prototype.lineTo=function(vt,pt){this._add("L",vt,pt)},ot.prototype.bezierCurveTo=function(vt,pt,Et,Pt,Lt,wt){this._add("C",vt,pt,Et,Pt,Lt,wt)},ot.prototype.quadraticCurveTo=function(vt,pt,Et,Pt){this._add("Q",vt,pt,Et,Pt)},ot.prototype.arc=function(vt,pt,Et,Pt,Lt,wt){this.ellipse(vt,pt,Et,Et,0,Pt,Lt,wt)},ot.prototype.ellipse=function(vt,pt,Et,Pt,Lt,wt,Nt,Bt){var Ut=Nt-wt,Wt=!Bt,Vt=Math.abs(Ut),Gt=(0,p.zT)(Vt-i)||(Wt?Ut>=i:-Ut>=i),Xt=Ut>0?Ut%i:Ut%i+i,Yt=!1;Gt?Yt=!0:(0,p.zT)(Vt)?Yt=!1:Yt=Xt>=h==!!Wt;var Kt=vt+Et*s(wt),$t=pt+Pt*e(wt);this._start&&this._add("M",Kt,$t);var qt=Math.round(Lt*a);if(Gt){var tr=1/this._p,ar=(Wt?1:-1)*(i-tr);this._add("A",Et,Pt,qt,1,+Wt,vt+Et*s(wt+ar),pt+Pt*e(wt+ar)),tr>.01&&this._add("A",Et,Pt,qt,0,+Wt,Kt,$t)}else{var rr=vt+Et*s(Nt),lr=pt+Pt*e(Nt);this._add("A",Et,Pt,qt,+Yt,+Wt,rr,lr)}},ot.prototype.rect=function(vt,pt,Et,Pt){this._add("M",vt,pt),this._add("l",Et,0),this._add("l",0,Pt),this._add("l",-Et,0),this._add("Z")},ot.prototype.closePath=function(){this._d.length>0&&this._add("Z")},ot.prototype._add=function(vt,pt,Et,Pt,Lt,wt,Nt,Bt,Ut){for(var Wt=[],Vt=this._p,Gt=1;Gt<arguments.length;Gt++){var Xt=arguments[Gt];if(isNaN(Xt)){this._invalid=!0;return}Wt.push(Math.round(Xt*Vt)/Vt)}this._d.push(vt+Wt.join(" ")),this._start=vt==="Z"},ot.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},ot.prototype.getStr=function(){return this._str},ot}(),_=l,M=C(85342),m=C(70324),T="none",y=Math.round;function P(ot){var vt=ot.fill;return vt!=null&&vt!==T}function S(ot){var vt=ot.stroke;return vt!=null&&vt!==T}var w=["lineCap","miterLimit","lineJoin"],b=(0,m.UI)(w,function(ot){return"stroke-"+ot.toLowerCase()});function W(ot,vt,pt,Et){var Pt=vt.opacity==null?1:vt.opacity;if(pt instanceof t.ZP){ot("opacity",Pt);return}if(P(vt)){var Lt=(0,p.ut)(vt.fill);ot("fill",Lt.color);var wt=vt.fillOpacity!=null?vt.fillOpacity*Lt.opacity*Pt:Lt.opacity*Pt;(Et||wt<1)&&ot("fill-opacity",wt)}else ot("fill",T);if(S(vt)){var Nt=(0,p.ut)(vt.stroke);ot("stroke",Nt.color);var Bt=vt.strokeNoScale?pt.getLineScale():1,Ut=Bt?(vt.lineWidth||0)/Bt:0,Wt=vt.strokeOpacity!=null?vt.strokeOpacity*Nt.opacity*Pt:Nt.opacity*Pt,Vt=vt.strokeFirst;if((Et||Ut!==1)&&ot("stroke-width",Ut),(Et||Vt)&&ot("paint-order",Vt?"stroke":"fill"),(Et||Wt<1)&&ot("stroke-opacity",Wt),vt.lineDash){var Gt=(0,M.a)(pt),Xt=Gt[0],Yt=Gt[1];Xt&&(Yt=y(Yt||0),ot("stroke-dasharray",Xt.join(",")),(Yt||Et)&&ot("stroke-dashoffset",Yt))}else Et&&ot("stroke-dasharray",T);for(var Kt=0;Kt<w.length;Kt++){var $t=w[Kt];if(Et||vt[$t]!==o.$t[$t]){var qt=vt[$t]||o.$t[$t];qt&&ot(b[Kt],qt)}}}else Et&&ot("stroke",T)}var B=C(80400),O="http://www.w3.org/2000/svg",A="http://www.w3.org/1999/xlink",E="http://www.w3.org/2000/xmlns/",d="http://www.w3.org/XML/1998/namespace";function f(ot){return document.createElementNS(O,ot)}function u(ot,vt,pt,Et,Pt){return{tag:ot,attrs:pt||{},children:Et,text:Pt,key:vt}}function c(ot,vt){var pt=[];if(vt)for(var Et in vt){var Pt=vt[Et],Lt=Et;Pt!==!1&&(Pt!==!0&&Pt!=null&&(Lt+='="'+Pt+'"'),pt.push(Lt))}return"<"+ot+" "+pt.join(" ")+">"}function v(ot){return"</"+ot+">"}function g(ot,vt){vt=vt||{};var pt=vt.newline?`
`:"";function Et(Pt){var Lt=Pt.children,wt=Pt.tag,Nt=Pt.attrs,Bt=Pt.text;return c(wt,Nt)+(wt!=="style"?(0,B.F1)(Bt):Bt||"")+(Lt?""+pt+(0,m.UI)(Lt,function(Ut){return Et(Ut)}).join(pt)+pt:"")+v(wt)}return Et(ot)}function R(ot,vt,pt){pt=pt||{};var Et=pt.newline?`
`:"",Pt=" {"+Et,Lt=Et+"}",wt=(0,m.UI)((0,m.XP)(ot),function(Bt){return Bt+Pt+(0,m.UI)((0,m.XP)(ot[Bt]),function(Ut){return Ut+":"+ot[Bt][Ut]+";"}).join(Et)+Lt}).join(Et),Nt=(0,m.UI)((0,m.XP)(vt),function(Bt){return"@keyframes "+Bt+Pt+(0,m.UI)((0,m.XP)(vt[Bt]),function(Ut){return Ut+Pt+(0,m.UI)((0,m.XP)(vt[Bt][Ut]),function(Wt){var Vt=vt[Bt][Ut][Wt];return Wt==="d"&&(Vt='path("'+Vt+'")'),Wt+":"+Vt+";"}).join(Et)+Lt}).join(Et)+Lt}).join(Et);return!wt&&!Nt?"":["<![CDATA[",wt,Nt,"]]>"].join(Et)}function x(ot){return{zrId:ot,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function L(ot,vt,pt,Et){return u("svg","root",{width:ot,height:vt,xmlns:O,"xmlns:xlink":A,version:"1.1",baseProfile:"full",viewBox:Et?"0 0 "+ot+" "+vt:!1},pt)}var I=C(6850),Z=C(23463),G=C(29436),K=C(99464),J=C(74720),U={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},H="transform-origin";function V(ot,vt,pt){var Et=(0,m.l7)({},ot.shape);(0,m.l7)(Et,vt),ot.buildPath(pt,Et);var Pt=new _;return Pt.reset((0,p.Gk)(ot)),pt.rebuildPath(Pt,1),Pt.generateStr(),Pt.getStr()}function D(ot,vt){var pt=vt.originX,Et=vt.originY;(pt||Et)&&(ot[H]=pt+"px "+Et+"px")}var F={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function N(ot,vt){var pt=vt.zrId+"-ani-"+vt.cssAnimIdx++;return vt.cssAnims[pt]=ot,pt}function X(ot,vt,pt){var Et=ot.shape.paths,Pt={},Lt,wt;if((0,m.S6)(Et,function(Bt){var Ut=x(pt.zrId);Ut.animation=!0,et(Bt,{},Ut,!0);var Wt=Ut.cssAnims,Vt=Ut.cssNodes,Gt=(0,m.XP)(Wt),Xt=Gt.length;if(Xt){wt=Gt[Xt-1];var Yt=Wt[wt];for(var Kt in Yt){var $t=Yt[Kt];Pt[Kt]=Pt[Kt]||{d:""},Pt[Kt].d+=$t.d||""}for(var qt in Vt){var tr=Vt[qt].animation;tr.indexOf(wt)>=0&&(Lt=tr)}}}),!!Lt){vt.d=!1;var Nt=N(Pt,pt);return Lt.replace(wt,Nt)}}function Y(ot){return(0,m.HD)(ot)?U[ot]?"cubic-bezier("+U[ot]+")":(0,J.H)(ot)?ot:"":""}function et(ot,vt,pt,Et){var Pt=ot.animators,Lt=Pt.length,wt=[];if(ot instanceof K.Z){var Nt=X(ot,vt,pt);if(Nt)wt.push(Nt);else if(!Lt)return}else if(!Lt)return;for(var Bt={},Ut=0;Ut<Lt;Ut++){var Wt=Pt[Ut],Vt=[Wt.getMaxTime()/1e3+"s"],Gt=Y(Wt.getClip().easing),Xt=Wt.getDelay();Gt?Vt.push(Gt):Vt.push("linear"),Xt&&Vt.push(Xt/1e3+"s"),Wt.getLoop()&&Vt.push("infinite");var Yt=Vt.join(" ");Bt[Yt]=Bt[Yt]||[Yt,[]],Bt[Yt][1].push(Wt)}function Kt(tr){var ar=tr[1],rr=ar.length,lr={},_r={},er={},pr="animation-timing-function";function hr(Sr,Lr,Xr){for(var Or=Sr.getTracks(),re=Sr.getMaxTime(),Nr=0;Nr<Or.length;Nr++){var Ur=Or[Nr];if(Ur.needsAnimate()){var Kr=Ur.keyframes,wr=Ur.propName;if(Xr&&(wr=Xr(wr)),wr)for(var Fr=0;Fr<Kr.length;Fr++){var Ir=Kr[Fr],Zr=Math.round(Ir.time/re*100)+"%",Yr=Y(Ir.easing),kr=Ir.rawValue;((0,m.HD)(kr)||(0,m.hj)(kr))&&(Lr[Zr]=Lr[Zr]||{},Lr[Zr][wr]=Ir.rawValue,Yr&&(Lr[Zr][pr]=Yr))}}}}for(var ir=0;ir<rr;ir++){var vr=ar[ir],yr=vr.targetName;yr?yr==="shape"&&hr(vr,_r):!Et&&hr(vr,lr)}for(var nr in lr){var cr={};(0,Z.kY)(cr,ot),(0,m.l7)(cr,lr[nr]);var Wr=(0,p.gA)(cr),Pr=lr[nr][pr];er[nr]=Wr?{transform:Wr}:{},D(er[nr],cr),Pr&&(er[nr][pr]=Pr)}var Tr,Hr=!0;for(var nr in _r){er[nr]=er[nr]||{};var Gr=!Tr,Pr=_r[nr][pr];Gr&&(Tr=new G.Z);var Jr=Tr.len();Tr.reset(),er[nr].d=V(ot,_r[nr],Tr);var $r=Tr.len();if(!Gr&&Jr!==$r){Hr=!1;break}Pr&&(er[nr][pr]=Pr)}if(!Hr)for(var nr in er)delete er[nr].d;if(!Et)for(var ir=0;ir<rr;ir++){var vr=ar[ir],yr=vr.targetName;yr==="style"&&hr(vr,er,function(Or){return F[Or]})}for(var Cr=(0,m.XP)(er),Vr=!0,Br,ir=1;ir<Cr.length;ir++){var zr=Cr[ir-1],qr=Cr[ir];if(er[zr][H]!==er[qr][H]){Vr=!1;break}Br=er[zr][H]}if(Vr&&Br){for(var nr in er)er[nr][H]&&delete er[nr][H];vt[H]=Br}if((0,m.hX)(Cr,function(Sr){return(0,m.XP)(er[Sr]).length>0}).length){var te=N(er,pt);return te+" "+tr[0]+" both"}}for(var $t in Bt){var Nt=Kt(Bt[$t]);Nt&&wt.push(Nt)}if(wt.length){var qt=pt.zrId+"-cls-"+pt.cssClassIdx++;pt.cssNodes["."+qt]={animation:wt.join(",")},vt.class=qt}}var z=C(95169),k=C(47297),at=Math.round;function ft(ot){return ot&&(0,m.HD)(ot.src)}function _t(ot){return ot&&(0,m.mf)(ot.toDataURL)}function tt(ot,vt,pt,Et){W(function(Pt,Lt){var wt=Pt==="fill"||Pt==="stroke";wt&&(0,p.H3)(Lt)?At(vt,ot,Pt,Et):wt&&(0,p.R)(Lt)?j(pt,ot,Pt,Et):ot[Pt]=Lt},vt,pt,!1),Tt(pt,ot,Et)}function rt(ot){return(0,p.zT)(ot[0]-1)&&(0,p.zT)(ot[1])&&(0,p.zT)(ot[2])&&(0,p.zT)(ot[3]-1)}function ut(ot){return(0,p.zT)(ot[4])&&(0,p.zT)(ot[5])}function ct(ot,vt,pt){if(vt&&!(ut(vt)&&rt(vt))){var Et=pt?10:1e4;ot.transform=rt(vt)?"translate("+at(vt[4]*Et)/Et+" "+at(vt[5]*Et)/Et+")":(0,p.qV)(vt)}}function st(ot,vt,pt){for(var Et=ot.points,Pt=[],Lt=0;Lt<Et.length;Lt++)Pt.push(at(Et[Lt][0]*pt)/pt),Pt.push(at(Et[Lt][1]*pt)/pt);vt.points=Pt.join(" ")}function dt(ot){return!ot.smooth}function ht(ot){var vt=(0,m.UI)(ot,function(pt){return typeof pt=="string"?[pt,pt]:pt});return function(pt,Et,Pt){for(var Lt=0;Lt<vt.length;Lt++){var wt=vt[Lt],Nt=pt[wt[0]];Nt!=null&&(Et[wt[1]]=at(Nt*Pt)/Pt)}}}var xt={circle:[ht(["cx","cy","r"])],polyline:[st,dt],polygon:[st,dt]};function Rt(ot){for(var vt=ot.animators,pt=0;pt<vt.length;pt++)if(vt[pt].targetName==="shape")return!0;return!1}function mt(ot,vt){var pt=ot.style,Et=ot.shape,Pt=xt[ot.type],Lt={},wt=vt.animation,Nt="path",Bt=ot.style.strokePercent,Ut=vt.compress&&(0,p.Gk)(ot)||4;if(Pt&&!vt.willUpdate&&!(Pt[1]&&!Pt[1](Et))&&!(wt&&Rt(ot))&&!(Bt<1)){Nt=ot.type;var Wt=Math.pow(10,Ut);Pt[0](Et,Lt,Wt)}else{var Vt=!ot.path||ot.shapeChanged();ot.path||ot.createPathProxy();var Gt=ot.path;Vt&&(Gt.beginPath(),ot.buildPath(Gt,ot.shape),ot.pathUpdated());var Xt=Gt.getVersion(),Yt=ot,Kt=Yt.__svgPathBuilder;(Yt.__svgPathVersion!==Xt||!Kt||Bt!==Yt.__svgPathStrokePercent)&&(Kt||(Kt=Yt.__svgPathBuilder=new _),Kt.reset(Ut),Gt.rebuildPath(Kt,Bt),Kt.generateStr(),Yt.__svgPathVersion=Xt,Yt.__svgPathStrokePercent=Bt),Lt.d=Kt.getStr()}return ct(Lt,ot.transform),tt(Lt,pt,ot,vt),vt.animation&&et(ot,Lt,vt),u(Nt,ot.id+"",Lt)}function St(ot,vt){var pt=ot.style,Et=pt.image;if(Et&&!(0,m.HD)(Et)&&(ft(Et)?Et=Et.src:_t(Et)&&(Et=Et.toDataURL())),!!Et){var Pt=pt.x||0,Lt=pt.y||0,wt=pt.width,Nt=pt.height,Bt={href:Et,width:wt,height:Nt};return Pt&&(Bt.x=Pt),Lt&&(Bt.y=Lt),ct(Bt,ot.transform),tt(Bt,pt,ot,vt),vt.animation&&et(ot,Bt,vt),u("image",ot.id+"",Bt)}}function It(ot,vt){var pt=ot.style,Et=pt.text;if(Et!=null&&(Et+=""),!(!Et||isNaN(pt.x)||isNaN(pt.y))){var Pt=pt.font||k.Uo,Lt=pt.x||0,wt=(0,p.mU)(pt.y||0,(0,r.Dp)(Pt),pt.textBaseline),Nt=p.jY[pt.textAlign]||pt.textAlign,Bt={"dominant-baseline":"central","text-anchor":Nt};if((0,z.Y1)(pt)){var Ut="",Wt=pt.fontStyle,Vt=(0,z.VG)(pt.fontSize);if(!parseFloat(Vt))return;var Gt=pt.fontFamily||k.rk,Xt=pt.fontWeight;Ut+="font-size:"+Vt+";font-family:"+Gt+";",Wt&&Wt!=="normal"&&(Ut+="font-style:"+Wt+";"),Xt&&Xt!=="normal"&&(Ut+="font-weight:"+Xt+";"),Bt.style=Ut}else Bt.style="font: "+Pt;return Et.match(/\s/)&&(Bt["xml:space"]="preserve"),Lt&&(Bt.x=Lt),wt&&(Bt.y=wt),ct(Bt,ot.transform),tt(Bt,pt,ot,vt),vt.animation&&et(ot,Bt,vt),u("text",ot.id+"",Bt,void 0,Et)}}function gt(ot,vt){if(ot instanceof o.ZP)return mt(ot,vt);if(ot instanceof t.ZP)return St(ot,vt);if(ot instanceof n.Z)return It(ot,vt)}function Tt(ot,vt,pt){var Et=ot.style;if((0,p.i2)(Et)){var Pt=(0,p.n1)(ot),Lt=pt.shadowCache,wt=Lt[Pt];if(!wt){var Nt=ot.getGlobalScale(),Bt=Nt[0],Ut=Nt[1];if(!Bt||!Ut)return;var Wt=Et.shadowOffsetX||0,Vt=Et.shadowOffsetY||0,Gt=Et.shadowBlur,Xt=(0,p.ut)(Et.shadowColor),Yt=Xt.opacity,Kt=Xt.color,$t=Gt/2/Bt,qt=Gt/2/Ut,tr=$t+" "+qt;wt=pt.zrId+"-s"+pt.shadowIdx++,pt.defs[wt]=u("filter",wt,{id:wt,x:"-100%",y:"-100%",width:"300%",height:"300%"},[u("feDropShadow","",{dx:Wt/Bt,dy:Vt/Ut,stdDeviation:tr,"flood-color":Kt,"flood-opacity":Yt})]),Lt[Pt]=wt}vt.filter=(0,p.m1)(wt)}}function At(ot,vt,pt,Et){var Pt=ot[pt],Lt,wt={gradientUnits:Pt.global?"userSpaceOnUse":"objectBoundingBox"};if((0,p.I1)(Pt))Lt="linearGradient",wt.x1=Pt.x,wt.y1=Pt.y,wt.x2=Pt.x2,wt.y2=Pt.y2;else if((0,p.gO)(Pt))Lt="radialGradient",wt.cx=(0,m.pD)(Pt.x,.5),wt.cy=(0,m.pD)(Pt.y,.5),wt.r=(0,m.pD)(Pt.r,.5);else return;for(var Nt=Pt.colorStops,Bt=[],Ut=0,Wt=Nt.length;Ut<Wt;++Ut){var Vt=(0,p.Pn)(Nt[Ut].offset)*100+"%",Gt=Nt[Ut].color,Xt=(0,p.ut)(Gt),Yt=Xt.color,Kt=Xt.opacity,$t={offset:Vt};$t["stop-color"]=Yt,Kt<1&&($t["stop-opacity"]=Kt),Bt.push(u("stop",Ut+"",$t))}var qt=u(Lt,"",wt,Bt),tr=g(qt),ar=Et.gradientCache,rr=ar[tr];rr||(rr=Et.zrId+"-g"+Et.gradientIdx++,ar[tr]=rr,wt.id=rr,Et.defs[rr]=u(Lt,rr,wt,Bt)),vt[pt]=(0,p.m1)(rr)}function j(ot,vt,pt,Et){var Pt=ot.style[pt],Lt=ot.getBoundingRect(),wt={},Nt=Pt.repeat,Bt=Nt==="no-repeat",Ut=Nt==="repeat-x",Wt=Nt==="repeat-y",Vt;if((0,p.Cv)(Pt)){var Gt=Pt.imageWidth,Xt=Pt.imageHeight,Yt=void 0,Kt=Pt.image;if((0,m.HD)(Kt)?Yt=Kt:ft(Kt)?Yt=Kt.src:_t(Kt)&&(Yt=Kt.toDataURL()),typeof Image=="undefined"){var $t="Image width/height must been given explictly in svg-ssr renderer.";(0,m.hu)(Gt,$t),(0,m.hu)(Xt,$t)}else if(Gt==null||Xt==null){var qt=function(ir,vr){if(ir){var yr=ir.elm,nr=Gt||vr.width,cr=Xt||vr.height;ir.tag==="pattern"&&(Ut?(cr=1,nr/=Lt.width):Wt&&(nr=1,cr/=Lt.height)),ir.attrs.width=nr,ir.attrs.height=cr,yr&&(yr.setAttribute("width",nr),yr.setAttribute("height",cr))}},tr=(0,I.Gq)(Yt,null,ot,function(ir){Bt||qt(_r,ir),qt(Vt,ir)});tr&&tr.width&&tr.height&&(Gt=Gt||tr.width,Xt=Xt||tr.height)}Vt=u("image","img",{href:Yt,width:Gt,height:Xt}),wt.width=Gt,wt.height=Xt}else Pt.svgElement&&(Vt=(0,m.d9)(Pt.svgElement),wt.width=Pt.svgWidth,wt.height=Pt.svgHeight);if(Vt){var ar,rr;Bt?ar=rr=1:Ut?(rr=1,ar=wt.width/Lt.width):Wt?(ar=1,rr=wt.height/Lt.height):wt.patternUnits="userSpaceOnUse",ar!=null&&!isNaN(ar)&&(wt.width=ar),rr!=null&&!isNaN(rr)&&(wt.height=rr);var lr=(0,p.gA)(Pt);lr&&(wt.patternTransform=lr);var _r=u("pattern","",wt,[Vt]),er=g(_r),pr=Et.patternCache,hr=pr[er];hr||(hr=Et.zrId+"-p"+Et.patternIdx++,pr[er]=hr,wt.id=hr,_r=Et.defs[hr]=u("pattern",hr,wt,[Vt])),vt[pt]=(0,p.m1)(hr)}}function q(ot,vt,pt){var Et=pt.clipPathCache,Pt=pt.defs,Lt=Et[ot.id];if(!Lt){Lt=pt.zrId+"-c"+pt.clipPathIdx++;var wt={id:Lt};Et[ot.id]=Lt,Pt[Lt]=u("clipPath",Lt,wt,[mt(ot,pt)])}vt["clip-path"]=(0,p.m1)(Lt)}function yt(ot){return document.createTextNode(ot)}function Mt(ot){return document.createComment(ot)}function Q(ot,vt,pt){ot.insertBefore(vt,pt)}function $(ot,vt){ot.removeChild(vt)}function nt(ot,vt){ot.appendChild(vt)}function lt(ot){return ot.parentNode}function Ct(ot){return ot.nextSibling}function Zt(ot){return ot.tagName}function Ot(ot,vt){ot.textContent=vt}function bt(ot){return ot.textContent}function Ft(ot){return ot.nodeType===1}function zt(ot){return ot.nodeType===3}function Ht(ot){return ot.nodeType===8}var kt=58,jt=120,Qt=u("","");function ur(ot){return ot===void 0}function Jt(ot){return ot!==void 0}function or(ot,vt,pt){for(var Et={},Pt=vt;Pt<=pt;++Pt){var Lt=ot[Pt].key;Lt!==void 0&&(Et[Lt]=Pt)}return Et}function sr(ot,vt){var pt=ot.key===vt.key,Et=ot.tag===vt.tag;return Et&&pt}function fr(ot){var vt,pt=ot.children,Et=ot.tag;if(Jt(Et)){var Pt=ot.elm=f(Et);if(Er(Qt,ot),(0,m.kJ)(pt))for(vt=0;vt<pt.length;++vt){var Lt=pt[vt];Lt!=null&&nt(Pt,fr(Lt))}else Jt(ot.text)&&!(0,m.Kn)(ot.text)&&nt(Pt,yt(ot.text))}else ot.elm=yt(ot.text);return ot.elm}function gr(ot,vt,pt,Et,Pt){for(;Et<=Pt;++Et){var Lt=pt[Et];Lt!=null&&Q(ot,fr(Lt),vt)}}function mr(ot,vt,pt,Et){for(;pt<=Et;++pt){var Pt=vt[pt];if(Pt!=null)if(Jt(Pt.tag)){var Lt=lt(Pt.elm);$(Lt,Pt.elm)}else $(ot,Pt.elm)}}function Er(ot,vt){var pt,Et=vt.elm,Pt=ot&&ot.attrs||{},Lt=vt.attrs||{};if(Pt!==Lt){for(pt in Lt){var wt=Lt[pt],Nt=Pt[pt];Nt!==wt&&(wt===!0?Et.setAttribute(pt,""):wt===!1?Et.removeAttribute(pt):pt.charCodeAt(0)!==jt?Et.setAttribute(pt,wt):pt==="xmlns:xlink"||pt==="xmlns"?Et.setAttributeNS(E,pt,wt):pt.charCodeAt(3)===kt?Et.setAttributeNS(d,pt,wt):pt.charCodeAt(5)===kt?Et.setAttributeNS(A,pt,wt):Et.setAttribute(pt,wt))}for(pt in Pt)pt in Lt||Et.removeAttribute(pt)}}function Ar(ot,vt,pt){for(var Et=0,Pt=0,Lt=vt.length-1,wt=vt[0],Nt=vt[Lt],Bt=pt.length-1,Ut=pt[0],Wt=pt[Bt],Vt,Gt,Xt,Yt;Et<=Lt&&Pt<=Bt;)wt==null?wt=vt[++Et]:Nt==null?Nt=vt[--Lt]:Ut==null?Ut=pt[++Pt]:Wt==null?Wt=pt[--Bt]:sr(wt,Ut)?(dr(wt,Ut),wt=vt[++Et],Ut=pt[++Pt]):sr(Nt,Wt)?(dr(Nt,Wt),Nt=vt[--Lt],Wt=pt[--Bt]):sr(wt,Wt)?(dr(wt,Wt),Q(ot,wt.elm,Ct(Nt.elm)),wt=vt[++Et],Wt=pt[--Bt]):sr(Nt,Ut)?(dr(Nt,Ut),Q(ot,Nt.elm,wt.elm),Nt=vt[--Lt],Ut=pt[++Pt]):(ur(Vt)&&(Vt=or(vt,Et,Lt)),Gt=Vt[Ut.key],ur(Gt)?Q(ot,fr(Ut),wt.elm):(Xt=vt[Gt],Xt.tag!==Ut.tag?Q(ot,fr(Ut),wt.elm):(dr(Xt,Ut),vt[Gt]=void 0,Q(ot,Xt.elm,wt.elm))),Ut=pt[++Pt]);(Et<=Lt||Pt<=Bt)&&(Et>Lt?(Yt=pt[Bt+1]==null?null:pt[Bt+1].elm,gr(ot,Yt,pt,Pt,Bt)):mr(ot,vt,Et,Lt))}function dr(ot,vt){var pt=vt.elm=ot.elm,Et=ot.children,Pt=vt.children;ot!==vt&&(Er(ot,vt),ur(vt.text)?Jt(Et)&&Jt(Pt)?Et!==Pt&&Ar(pt,Et,Pt):Jt(Pt)?(Jt(ot.text)&&Ot(pt,""),gr(pt,null,Pt,0,Pt.length-1)):Jt(Et)?mr(pt,Et,0,Et.length-1):Jt(ot.text)&&Ot(pt,""):ot.text!==vt.text&&(Jt(Et)&&mr(pt,Et,0,Et.length-1),Ot(pt,vt.text)))}function br(ot,vt){if(sr(ot,vt))dr(ot,vt);else{var pt=ot.elm,Et=lt(pt);fr(vt),Et!==null&&(Q(Et,vt.elm,Ct(pt)),mr(Et,[ot],0,0))}return vt}var xr=C(89625),Rr=0,Dr=function(){function ot(vt,pt,Et){if(this.type="svg",this.refreshHover=Mr("refreshHover"),this.configLayer=Mr("configLayer"),this.storage=pt,this._opts=Et=(0,m.l7)({},Et),this.root=vt,this._id="zr"+Rr++,this._oldVNode=L(Et.width,Et.height),vt&&!Et.ssr){var Pt=this._viewport=document.createElement("div");Pt.style.cssText="position:relative;overflow:hidden";var Lt=this._svgDom=this._oldVNode.elm=f("svg");Er(null,this._oldVNode),Pt.appendChild(Lt),vt.appendChild(Pt)}this.resize(Et.width,Et.height)}return ot.prototype.getType=function(){return this.type},ot.prototype.getViewportRoot=function(){return this._viewport},ot.prototype.getViewportRootOffset=function(){var vt=this.getViewportRoot();if(vt)return{offsetLeft:vt.offsetLeft||0,offsetTop:vt.offsetTop||0}},ot.prototype.getSvgDom=function(){return this._svgDom},ot.prototype.refresh=function(){if(this.root){var vt=this.renderToVNode({willUpdate:!0});vt.attrs.style="position:absolute;left:0;top:0;user-select:none",br(this._oldVNode,vt),this._oldVNode=vt}},ot.prototype.renderOneToVNode=function(vt){return gt(vt,x(this._id))},ot.prototype.renderToVNode=function(vt){vt=vt||{};var pt=this.storage.getDisplayList(!0),Et=this._width,Pt=this._height,Lt=x(this._id);Lt.animation=vt.animation,Lt.willUpdate=vt.willUpdate,Lt.compress=vt.compress;var wt=[],Nt=this._bgVNode=jr(Et,Pt,this._backgroundColor,Lt);Nt&&wt.push(Nt);var Bt=vt.compress?null:this._mainVNode=u("g","main",{},[]);this._paintList(pt,Lt,Bt?Bt.children:wt),Bt&&wt.push(Bt);var Ut=(0,m.UI)((0,m.XP)(Lt.defs),function(Gt){return Lt.defs[Gt]});if(Ut.length&&wt.push(u("defs","defs",{},Ut)),vt.animation){var Wt=R(Lt.cssNodes,Lt.cssAnims,{newline:!0});if(Wt){var Vt=u("style","stl",{},[],Wt);wt.push(Vt)}}return L(Et,Pt,wt,vt.useViewBox)},ot.prototype.renderToString=function(vt){return vt=vt||{},g(this.renderToVNode({animation:(0,m.pD)(vt.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:(0,m.pD)(vt.useViewBox,!0)}),{newline:!0})},ot.prototype.setBackgroundColor=function(vt){this._backgroundColor=vt},ot.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},ot.prototype._paintList=function(vt,pt,Et){for(var Pt=vt.length,Lt=[],wt=0,Nt,Bt,Ut=0,Wt=0;Wt<Pt;Wt++){var Vt=vt[Wt];if(!Vt.invisible){var Gt=Vt.__clipPaths,Xt=Gt&&Gt.length||0,Yt=Bt&&Bt.length||0,Kt=void 0;for(Kt=Math.max(Xt-1,Yt-1);Kt>=0&&!(Gt&&Bt&&Gt[Kt]===Bt[Kt]);Kt--);for(var $t=Yt-1;$t>Kt;$t--)wt--,Nt=Lt[wt-1];for(var qt=Kt+1;qt<Xt;qt++){var tr={};q(Gt[qt],tr,pt);var ar=u("g","clip-g-"+Ut++,tr,[]);(Nt?Nt.children:Et).push(ar),Lt[wt++]=ar,Nt=ar}Bt=Gt;var rr=gt(Vt,pt);rr&&(Nt?Nt.children:Et).push(rr)}}},ot.prototype.resize=function(vt,pt){var Et=this._opts,Pt=this.root,Lt=this._viewport;if(vt!=null&&(Et.width=vt),pt!=null&&(Et.height=pt),Pt&&Lt&&(Lt.style.display="none",vt=(0,xr.ap)(Pt,0,Et),pt=(0,xr.ap)(Pt,1,Et),Lt.style.display=""),this._width!==vt||this._height!==pt){if(this._width=vt,this._height=pt,Lt){var wt=Lt.style;wt.width=vt+"px",wt.height=pt+"px"}if((0,p.R)(this._backgroundColor))this.refresh();else{var Nt=this._svgDom;Nt&&(Nt.setAttribute("width",vt),Nt.setAttribute("height",pt));var Bt=this._bgVNode&&this._bgVNode.elm;Bt&&(Bt.setAttribute("width",vt),Bt.setAttribute("height",pt))}}},ot.prototype.getWidth=function(){return this._width},ot.prototype.getHeight=function(){return this._height},ot.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},ot.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},ot.prototype.toDataURL=function(vt){var pt=this.renderToString(),Et="data:image/svg+xml;";return vt?(pt=(0,p.oF)(pt),pt&&Et+"base64,"+pt):Et+"charset=UTF-8,"+encodeURIComponent(pt)},ot}();function Mr(ot){return function(){}}function jr(ot,vt,pt,Et){var Pt;if(pt&&pt!=="none")if(Pt=u("rect","bg",{width:ot,height:vt,x:"0",y:"0",id:"0"}),(0,p.H3)(pt))At({fill:pt},Pt.attrs,"fill",Et);else if((0,p.R)(pt))j({style:{fill:pt},dirty:m.ZT,getBoundingRect:function(){return{width:ot,height:vt}}},Pt.attrs,"fill",Et);else{var Lt=(0,p.ut)(pt),wt=Lt.color,Nt=Lt.opacity;Pt.attrs.fill=wt,Nt<1&&(Pt.attrs["fill-opacity"]=Nt)}return Pt}var Qr=Dr},72352:function(Dt,it,C){C.d(it,{Cv:function(){return S},Gk:function(){return E},H3:function(){return O},I1:function(){return W},Pn:function(){return a},R:function(){return b},gA:function(){return d},gO:function(){return B},i2:function(){return T},jY:function(){return M},m1:function(){return A},mU:function(){return m},n1:function(){return y},oF:function(){return f},qV:function(){return _},ut:function(){return e},zT:function(){return h}});var p=C(70324),o=C(96170),t=C(54490),r=C(36379).lW,n=Math.round;function e(u){var c;if(!u||u==="transparent")u="none";else if(typeof u=="string"&&u.indexOf("rgba")>-1){var v=(0,o.parse)(u);v&&(u="rgb("+v[0]+","+v[1]+","+v[2]+")",c=v[3])}return{color:u,opacity:c==null?1:c}}var s=1e-4;function h(u){return u<s&&u>-s}function i(u){return n(u*1e3)/1e3}function a(u){return n(u*1e4)/1e4}function l(u){return n(u*10)/10}function _(u){return"matrix("+i(u[0])+","+i(u[1])+","+i(u[2])+","+i(u[3])+","+a(u[4])+","+a(u[5])+")"}var M={left:"start",right:"end",center:"middle",middle:"middle"};function m(u,c,v){return v==="top"?u+=c/2:v==="bottom"&&(u-=c/2),u}function T(u){return u&&(u.shadowBlur||u.shadowOffsetX||u.shadowOffsetY)}function y(u){var c=u.style,v=u.getGlobalScale();return[c.shadowColor,(c.shadowBlur||0).toFixed(2),(c.shadowOffsetX||0).toFixed(2),(c.shadowOffsetY||0).toFixed(2),v[0],v[1]].join(",")}function P(u){var c=[];if(u)for(var v=0;v<u.length;v++){var g=u[v];c.push(g.id)}return c.join(",")}function S(u){return u&&!!u.image}function w(u){return u&&!!u.svgElement}function b(u){return S(u)||w(u)}function W(u){return u.type==="linear"}function B(u){return u.type==="radial"}function O(u){return u&&(u.type==="linear"||u.type==="radial")}function A(u){return"url(#"+u+")"}function E(u){var c=u.getGlobalScale(),v=Math.max(c[0],c[1]);return Math.max(Math.ceil(Math.log(v)/Math.log(10)),1)}function d(u){var c=u.x||0,v=u.y||0,g=(u.rotation||0)*p.I3,R=(0,p.pD)(u.scaleX,1),x=(0,p.pD)(u.scaleY,1),L=u.skewX||0,I=u.skewY||0,Z=[];return(c||v)&&Z.push("translate("+c+"px,"+v+"px)"),g&&Z.push("rotate("+g+")"),(R!==1||x!==1)&&Z.push("scale("+R+","+x+")"),(L||I)&&Z.push("skew("+n(L*p.I3)+"deg, "+n(I*p.I3)+"deg)"),Z.join(" ")}var f=function(){return t.Z.hasGlobalWindow&&(0,p.mf)(window.btoa)?function(u){return window.btoa(unescape(encodeURIComponent(u)))}:typeof r!="undefined"?function(u){return r.from(u).toString("base64")}:function(u){return null}}()},96170:function(Dt,it,C){C.r(it),C.d(it,{fastLerp:function(){return b},fastMapToColor:function(){return W},lerp:function(){return B},lift:function(){return S},lum:function(){return f},mapToColor:function(){return O},modifyAlpha:function(){return E},modifyHSL:function(){return A},parse:function(){return T},random:function(){return u},stringify:function(){return d},toHex:function(){return w}});var p=C(86280),o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function t(c){return c=Math.round(c),c<0?0:c>255?255:c}function r(c){return c=Math.round(c),c<0?0:c>360?360:c}function n(c){return c<0?0:c>1?1:c}function e(c){var v=c;return v.length&&v.charAt(v.length-1)==="%"?t(parseFloat(v)/100*255):t(parseInt(v,10))}function s(c){var v=c;return v.length&&v.charAt(v.length-1)==="%"?n(parseFloat(v)/100):n(parseFloat(v))}function h(c,v,g){return g<0?g+=1:g>1&&(g-=1),g*6<1?c+(v-c)*g*6:g*2<1?v:g*3<2?c+(v-c)*(2/3-g)*6:c}function i(c,v,g){return c+(v-c)*g}function a(c,v,g,R,x){return c[0]=v,c[1]=g,c[2]=R,c[3]=x,c}function l(c,v){return c[0]=v[0],c[1]=v[1],c[2]=v[2],c[3]=v[3],c}var _=new p.ZP(20),M=null;function m(c,v){M&&l(M,v),M=_.put(c,M||v.slice())}function T(c,v){if(c){v=v||[];var g=_.get(c);if(g)return l(v,g);c=c+"";var R=c.replace(/ /g,"").toLowerCase();if(R in o)return l(v,o[R]),m(c,v),v;var x=R.length;if(R.charAt(0)==="#"){if(x===4||x===5){var L=parseInt(R.slice(1,4),16);if(!(L>=0&&L<=4095)){a(v,0,0,0,1);return}return a(v,(L&3840)>>4|(L&3840)>>8,L&240|(L&240)>>4,L&15|(L&15)<<4,x===5?parseInt(R.slice(4),16)/15:1),m(c,v),v}else if(x===7||x===9){var L=parseInt(R.slice(1,7),16);if(!(L>=0&&L<=16777215)){a(v,0,0,0,1);return}return a(v,(L&16711680)>>16,(L&65280)>>8,L&255,x===9?parseInt(R.slice(7),16)/255:1),m(c,v),v}return}var I=R.indexOf("("),Z=R.indexOf(")");if(I!==-1&&Z+1===x){var G=R.substr(0,I),K=R.substr(I+1,Z-(I+1)).split(","),J=1;switch(G){case"rgba":if(K.length!==4)return K.length===3?a(v,+K[0],+K[1],+K[2],1):a(v,0,0,0,1);J=s(K.pop());case"rgb":if(K.length>=3)return a(v,e(K[0]),e(K[1]),e(K[2]),K.length===3?J:s(K[3])),m(c,v),v;a(v,0,0,0,1);return;case"hsla":if(K.length!==4){a(v,0,0,0,1);return}return K[3]=s(K[3]),y(K,v),m(c,v),v;case"hsl":if(K.length!==3){a(v,0,0,0,1);return}return y(K,v),m(c,v),v;default:return}}a(v,0,0,0,1)}}function y(c,v){var g=(parseFloat(c[0])%360+360)%360/360,R=s(c[1]),x=s(c[2]),L=x<=.5?x*(R+1):x+R-x*R,I=x*2-L;return v=v||[],a(v,t(h(I,L,g+1/3)*255),t(h(I,L,g)*255),t(h(I,L,g-1/3)*255),1),c.length===4&&(v[3]=c[3]),v}function P(c){if(c){var v=c[0]/255,g=c[1]/255,R=c[2]/255,x=Math.min(v,g,R),L=Math.max(v,g,R),I=L-x,Z=(L+x)/2,G,K;if(I===0)G=0,K=0;else{Z<.5?K=I/(L+x):K=I/(2-L-x);var J=((L-v)/6+I/2)/I,U=((L-g)/6+I/2)/I,H=((L-R)/6+I/2)/I;v===L?G=H-U:g===L?G=1/3+J-H:R===L&&(G=2/3+U-J),G<0&&(G+=1),G>1&&(G-=1)}var V=[G*360,K,Z];return c[3]!=null&&V.push(c[3]),V}}function S(c,v){var g=T(c);if(g){for(var R=0;R<3;R++)v<0?g[R]=g[R]*(1-v)|0:g[R]=(255-g[R])*v+g[R]|0,g[R]>255?g[R]=255:g[R]<0&&(g[R]=0);return d(g,g.length===4?"rgba":"rgb")}}function w(c){var v=T(c);if(v)return((1<<24)+(v[0]<<16)+(v[1]<<8)+ +v[2]).toString(16).slice(1)}function b(c,v,g){if(!(!(v&&v.length)||!(c>=0&&c<=1))){g=g||[];var R=c*(v.length-1),x=Math.floor(R),L=Math.ceil(R),I=v[x],Z=v[L],G=R-x;return g[0]=t(i(I[0],Z[0],G)),g[1]=t(i(I[1],Z[1],G)),g[2]=t(i(I[2],Z[2],G)),g[3]=n(i(I[3],Z[3],G)),g}}var W=b;function B(c,v,g){if(!(!(v&&v.length)||!(c>=0&&c<=1))){var R=c*(v.length-1),x=Math.floor(R),L=Math.ceil(R),I=T(v[x]),Z=T(v[L]),G=R-x,K=d([t(i(I[0],Z[0],G)),t(i(I[1],Z[1],G)),t(i(I[2],Z[2],G)),n(i(I[3],Z[3],G))],"rgba");return g?{color:K,leftIndex:x,rightIndex:L,value:R}:K}}var O=B;function A(c,v,g,R){var x=T(c);if(c)return x=P(x),v!=null&&(x[0]=r(v)),g!=null&&(x[1]=s(g)),R!=null&&(x[2]=s(R)),d(y(x),"rgba")}function E(c,v){var g=T(c);if(g&&v!=null)return g[3]=n(v),d(g,"rgba")}function d(c,v){if(!(!c||!c.length)){var g=c[0]+","+c[1]+","+c[2];return(v==="rgba"||v==="hsva"||v==="hsla")&&(g+=","+c[3]),v+"("+g+")"}}function f(c,v){var g=T(c);return g?(.299*g[0]+.587*g[1]+.114*g[2])*g[3]/255+(1-g[3])*v:0}function u(){return d([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}},27033:function(Dt,it,C){C.d(it,{a4:function(){return ft},j:function(){return U},xQ:function(){return Y},nY:function(){return _t}});var p=C(14296),o=C(66210),t=C(70324),r=C(85755),n=C(1205),e=C(23463),s=C(19169),h=C(16128),i=C(73913),a=C(7228),l=C(73909),_=C(29902),M=C(29436),m=M.Z.CMD;function T(tt,rt){return Math.abs(tt-rt)<1e-5}function y(tt){var rt=tt.data,ut=tt.len(),ct=[],st,dt=0,ht=0,xt=0,Rt=0;function mt(Ht,kt){st&&st.length>2&&ct.push(st),st=[Ht,kt]}function St(Ht,kt,jt,Qt){T(Ht,jt)&&T(kt,Qt)||st.push(Ht,kt,jt,Qt,jt,Qt)}function It(Ht,kt,jt,Qt,ur,Jt){var or=Math.abs(kt-Ht),sr=Math.tan(or/4)*4/3,fr=kt<Ht?-1:1,gr=Math.cos(Ht),mr=Math.sin(Ht),Er=Math.cos(kt),Ar=Math.sin(kt),dr=gr*ur+jt,br=mr*Jt+Qt,xr=Er*ur+jt,Rr=Ar*Jt+Qt,Dr=ur*sr*fr,Mr=Jt*sr*fr;st.push(dr-Dr*mr,br+Mr*gr,xr+Dr*Ar,Rr-Mr*Er,xr,Rr)}for(var gt,Tt,At,j,q=0;q<ut;){var yt=rt[q++],Mt=q===1;switch(Mt&&(dt=rt[q],ht=rt[q+1],xt=dt,Rt=ht,(yt===m.L||yt===m.C||yt===m.Q)&&(st=[xt,Rt])),yt){case m.M:dt=xt=rt[q++],ht=Rt=rt[q++],mt(xt,Rt);break;case m.L:gt=rt[q++],Tt=rt[q++],St(dt,ht,gt,Tt),dt=gt,ht=Tt;break;case m.C:st.push(rt[q++],rt[q++],rt[q++],rt[q++],dt=rt[q++],ht=rt[q++]);break;case m.Q:gt=rt[q++],Tt=rt[q++],At=rt[q++],j=rt[q++],st.push(dt+2/3*(gt-dt),ht+2/3*(Tt-ht),At+2/3*(gt-At),j+2/3*(Tt-j),At,j),dt=At,ht=j;break;case m.A:var Q=rt[q++],$=rt[q++],nt=rt[q++],lt=rt[q++],Ct=rt[q++],Zt=rt[q++]+Ct;q+=1;var Ot=!rt[q++];gt=Math.cos(Ct)*nt+Q,Tt=Math.sin(Ct)*lt+$,Mt?(xt=gt,Rt=Tt,mt(xt,Rt)):St(dt,ht,gt,Tt),dt=Math.cos(Zt)*nt+Q,ht=Math.sin(Zt)*lt+$;for(var bt=(Ot?-1:1)*Math.PI/2,Ft=Ct;Ot?Ft>Zt:Ft<Zt;Ft+=bt){var zt=Ot?Math.max(Ft+bt,Zt):Math.min(Ft+bt,Zt);It(Ft,zt,Q,$,nt,lt)}break;case m.R:xt=dt=rt[q++],Rt=ht=rt[q++],gt=xt+rt[q++],Tt=Rt+rt[q++],mt(gt,Rt),St(gt,Rt,gt,Tt),St(gt,Tt,xt,Tt),St(xt,Tt,xt,Rt),St(xt,Rt,gt,Rt);break;case m.Z:st&&St(dt,ht,xt,Rt),dt=xt,ht=Rt;break}}return st&&st.length>2&&ct.push(st),ct}function P(tt,rt,ut,ct,st,dt,ht,xt,Rt,mt){if(T(tt,ut)&&T(rt,ct)&&T(st,ht)&&T(dt,xt)){Rt.push(ht,xt);return}var St=2/mt,It=St*St,gt=ht-tt,Tt=xt-rt,At=Math.sqrt(gt*gt+Tt*Tt);gt/=At,Tt/=At;var j=ut-tt,q=ct-rt,yt=st-ht,Mt=dt-xt,Q=j*j+q*q,$=yt*yt+Mt*Mt;if(Q<It&&$<It){Rt.push(ht,xt);return}var nt=gt*j+Tt*q,lt=-gt*yt-Tt*Mt,Ct=Q-nt*nt,Zt=$-lt*lt;if(Ct<It&&nt>=0&&Zt<It&&lt>=0){Rt.push(ht,xt);return}var Ot=[],bt=[];(0,p.Vz)(tt,ut,st,ht,.5,Ot),(0,p.Vz)(rt,ct,dt,xt,.5,bt),P(Ot[0],bt[0],Ot[1],bt[1],Ot[2],bt[2],Ot[3],bt[3],Rt,mt),P(Ot[4],bt[4],Ot[5],bt[5],Ot[6],bt[6],Ot[7],bt[7],Rt,mt)}function S(tt,rt){var ut=y(tt),ct=[];rt=rt||1;for(var st=0;st<ut.length;st++){var dt=ut[st],ht=[],xt=dt[0],Rt=dt[1];ht.push(xt,Rt);for(var mt=2;mt<dt.length;){var St=dt[mt++],It=dt[mt++],gt=dt[mt++],Tt=dt[mt++],At=dt[mt++],j=dt[mt++];P(xt,Rt,St,It,gt,Tt,At,j,ht,rt),xt=At,Rt=j}ct.push(ht)}return ct}function w(tt,rt,ut){var ct=tt[rt],st=tt[1-rt],dt=Math.abs(ct/st),ht=Math.ceil(Math.sqrt(dt*ut)),xt=Math.floor(ut/ht);xt===0&&(xt=1,ht=ut);for(var Rt=[],mt=0;mt<ht;mt++)Rt.push(xt);var St=ht*xt,It=ut-St;if(It>0)for(var mt=0;mt<It;mt++)Rt[mt%ht]+=1;return Rt}function b(tt,rt,ut){for(var ct=tt.r0,st=tt.r,dt=tt.startAngle,ht=tt.endAngle,xt=Math.abs(ht-dt),Rt=xt*st,mt=st-ct,St=Rt>Math.abs(mt),It=w([Rt,mt],St?0:1,rt),gt=(St?xt:mt)/It.length,Tt=0;Tt<It.length;Tt++)for(var At=(St?mt:xt)/It[Tt],j=0;j<It[Tt];j++){var q={};St?(q.startAngle=dt+gt*Tt,q.endAngle=dt+gt*(Tt+1),q.r0=ct+At*j,q.r=ct+At*(j+1)):(q.startAngle=dt+At*j,q.endAngle=dt+At*(j+1),q.r0=ct+gt*Tt,q.r=ct+gt*(Tt+1)),q.clockwise=tt.clockwise,q.cx=tt.cx,q.cy=tt.cy,ut.push(q)}}function W(tt,rt,ut){for(var ct=tt.width,st=tt.height,dt=ct>st,ht=w([ct,st],dt?0:1,rt),xt=dt?"width":"height",Rt=dt?"height":"width",mt=dt?"x":"y",St=dt?"y":"x",It=tt[xt]/ht.length,gt=0;gt<ht.length;gt++)for(var Tt=tt[Rt]/ht[gt],At=0;At<ht[gt];At++){var j={};j[mt]=gt*It,j[St]=At*Tt,j[xt]=It,j[Rt]=Tt,j.x+=tt.x,j.y+=tt.y,ut.push(j)}}function B(tt,rt,ut,ct){return tt*ct-ut*rt}function O(tt,rt,ut,ct,st,dt,ht,xt){var Rt=ut-tt,mt=ct-rt,St=ht-st,It=xt-dt,gt=B(St,It,Rt,mt);if(Math.abs(gt)<1e-6)return null;var Tt=tt-st,At=rt-dt,j=B(Tt,At,St,It)/gt;return j<0||j>1?null:new i.Z(j*Rt+tt,j*mt+rt)}function A(tt,rt,ut){var ct=new i.Z;i.Z.sub(ct,ut,rt),ct.normalize();var st=new i.Z;i.Z.sub(st,tt,rt);var dt=st.dot(ct);return dt}function E(tt,rt){var ut=tt[tt.length-1];ut&&ut[0]===rt[0]&&ut[1]===rt[1]||tt.push(rt)}function d(tt,rt,ut){for(var ct=tt.length,st=[],dt=0;dt<ct;dt++){var ht=tt[dt],xt=tt[(dt+1)%ct],Rt=O(ht[0],ht[1],xt[0],xt[1],rt.x,rt.y,ut.x,ut.y);Rt&&st.push({projPt:A(Rt,rt,ut),pt:Rt,idx:dt})}if(st.length<2)return[{points:tt},{points:tt}];st.sort(function(q,yt){return q.projPt-yt.projPt});var mt=st[0],St=st[st.length-1];if(St.idx<mt.idx){var It=mt;mt=St,St=It}for(var gt=[mt.pt.x,mt.pt.y],Tt=[St.pt.x,St.pt.y],At=[gt],j=[Tt],dt=mt.idx+1;dt<=St.idx;dt++)E(At,tt[dt].slice());E(At,Tt),E(At,gt);for(var dt=St.idx+1;dt<=mt.idx+ct;dt++)E(j,tt[dt%ct].slice());return E(j,gt),E(j,Tt),[{points:At},{points:j}]}function f(tt){var rt=tt.points,ut=[],ct=[];(0,s.zk)(rt,ut,ct);var st=new h.Z(ut[0],ut[1],ct[0]-ut[0],ct[1]-ut[1]),dt=st.width,ht=st.height,xt=st.x,Rt=st.y,mt=new i.Z,St=new i.Z;return dt>ht?(mt.x=St.x=xt+dt/2,mt.y=Rt,St.y=Rt+ht):(mt.y=St.y=Rt+ht/2,mt.x=xt,St.x=xt+dt),d(rt,mt,St)}function u(tt,rt,ut,ct){if(ut===1)ct.push(rt);else{var st=Math.floor(ut/2),dt=tt(rt);u(tt,dt[0],st,ct),u(tt,dt[1],ut-st,ct)}return ct}function c(tt,rt){for(var ut=[],ct=0;ct<rt;ct++)ut.push((0,n.U5)(tt));return ut}function v(tt,rt){rt.setStyle(tt.style),rt.z=tt.z,rt.z2=tt.z2,rt.zlevel=tt.zlevel}function g(tt){for(var rt=[],ut=0;ut<tt.length;)rt.push([tt[ut++],tt[ut++]]);return rt}function R(tt,rt){var ut=[],ct=tt.shape,st;switch(tt.type){case"rect":W(ct,rt,ut),st=l.Z;break;case"sector":b(ct,rt,ut),st=_.C;break;case"circle":b({r0:0,r:ct.r,startAngle:0,endAngle:Math.PI*2,cx:ct.cx,cy:ct.cy},rt,ut),st=_.C;break;default:var dt=tt.getComputedTransform(),ht=dt?Math.sqrt(Math.max(dt[0]*dt[0]+dt[1]*dt[1],dt[2]*dt[2]+dt[3]*dt[3])):1,xt=(0,t.UI)(S(tt.getUpdatedPathProxy(),ht),function(yt){return g(yt)}),Rt=xt.length;if(Rt===0)u(f,{points:xt[0]},rt,ut);else if(Rt===rt)for(var mt=0;mt<Rt;mt++)ut.push({points:xt[mt]});else{var St=0,It=(0,t.UI)(xt,function(yt){var Mt=[],Q=[];(0,s.zk)(yt,Mt,Q);var $=(Q[1]-Mt[1])*(Q[0]-Mt[0]);return St+=$,{poly:yt,area:$}});It.sort(function(yt,Mt){return Mt.area-yt.area});for(var gt=rt,mt=0;mt<Rt;mt++){var Tt=It[mt];if(gt<=0)break;var At=mt===Rt-1?gt:Math.ceil(Tt.area/St*rt);At<0||(u(f,{points:Tt.poly},At,ut),gt-=At)}}st=a.Z;break}if(!st)return c(tt,rt);for(var j=[],mt=0;mt<ut.length;mt++){var q=new st;q.setShape(ut[mt]),v(tt,q),j.push(q)}return j}function x(tt,rt){var ut=tt.length,ct=rt.length;if(ut===ct)return[tt,rt];for(var st=[],dt=[],ht=ut<ct?tt:rt,xt=Math.min(ut,ct),Rt=Math.abs(ct-ut)/6,mt=(xt-2)/6,St=Math.ceil(Rt/mt)+1,It=[ht[0],ht[1]],gt=Rt,Tt=2;Tt<xt;){var At=ht[Tt-2],j=ht[Tt-1],q=ht[Tt++],yt=ht[Tt++],Mt=ht[Tt++],Q=ht[Tt++],$=ht[Tt++],nt=ht[Tt++];if(gt<=0){It.push(q,yt,Mt,Q,$,nt);continue}for(var lt=Math.min(gt,St-1)+1,Ct=1;Ct<=lt;Ct++){var Zt=Ct/lt;(0,p.Vz)(At,q,Mt,$,Zt,st),(0,p.Vz)(j,yt,Q,nt,Zt,dt),At=st[3],j=dt[3],It.push(st[1],dt[1],st[2],dt[2],At,j),q=st[5],yt=dt[5],Mt=st[6],Q=dt[6]}gt-=lt-1}return ht===tt?[It,rt]:[tt,It]}function L(tt,rt){for(var ut=tt.length,ct=tt[ut-2],st=tt[ut-1],dt=[],ht=0;ht<rt.length;)dt[ht++]=ct,dt[ht++]=st;return dt}function I(tt,rt){for(var ut,ct,st,dt=[],ht=[],xt=0;xt<Math.max(tt.length,rt.length);xt++){var Rt=tt[xt],mt=rt[xt],St=void 0,It=void 0;Rt?mt?(ut=x(Rt,mt),St=ut[0],It=ut[1],ct=St,st=It):(It=L(st||Rt,Rt),St=Rt):(St=L(ct||mt,mt),It=mt),dt.push(St),ht.push(It)}return[dt,ht]}function Z(tt){for(var rt=0,ut=0,ct=0,st=tt.length,dt=0,ht=st-2;dt<st;ht=dt,dt+=2){var xt=tt[ht],Rt=tt[ht+1],mt=tt[dt],St=tt[dt+1],It=xt*St-mt*Rt;rt+=It,ut+=(xt+mt)*It,ct+=(Rt+St)*It}return rt===0?[tt[0]||0,tt[1]||0]:[ut/rt/3,ct/rt/3,rt]}function G(tt,rt,ut,ct){for(var st=(tt.length-2)/6,dt=1/0,ht=0,xt=tt.length,Rt=xt-2,mt=0;mt<st;mt++){for(var St=mt*6,It=0,gt=0;gt<xt;gt+=2){var Tt=gt===0?St:(St+gt-2)%Rt+2,At=tt[Tt]-ut[0],j=tt[Tt+1]-ut[1],q=rt[gt]-ct[0],yt=rt[gt+1]-ct[1],Mt=q-At,Q=yt-j;It+=Mt*Mt+Q*Q}It<dt&&(dt=It,ht=mt)}return ht}function K(tt){for(var rt=[],ut=tt.length,ct=0;ct<ut;ct+=2)rt[ct]=tt[ut-ct-2],rt[ct+1]=tt[ut-ct-1];return rt}function J(tt,rt,ut,ct){for(var st=[],dt,ht=0;ht<tt.length;ht++){var xt=tt[ht],Rt=rt[ht],mt=Z(xt),St=Z(Rt);dt==null&&(dt=mt[2]<0!=St[2]<0);var It=[],gt=[],Tt=0,At=1/0,j=[],q=xt.length;dt&&(xt=K(xt));for(var yt=G(xt,Rt,mt,St)*6,Mt=q-2,Q=0;Q<Mt;Q+=2){var $=(yt+Q)%Mt+2;It[Q+2]=xt[$]-mt[0],It[Q+3]=xt[$+1]-mt[1]}if(It[0]=xt[yt]-mt[0],It[1]=xt[yt+1]-mt[1],ut>0)for(var nt=ct/ut,lt=-ct/2;lt<=ct/2;lt+=nt){for(var Ct=Math.sin(lt),Zt=Math.cos(lt),Ot=0,Q=0;Q<xt.length;Q+=2){var bt=It[Q],Ft=It[Q+1],zt=Rt[Q]-St[0],Ht=Rt[Q+1]-St[1],kt=zt*Zt-Ht*Ct,jt=zt*Ct+Ht*Zt;j[Q]=kt,j[Q+1]=jt;var Qt=kt-bt,ur=jt-Ft;Ot+=Qt*Qt+ur*ur}if(Ot<At){At=Ot,Tt=lt;for(var Jt=0;Jt<j.length;Jt++)gt[Jt]=j[Jt]}}else for(var or=0;or<q;or+=2)gt[or]=Rt[or]-St[0],gt[or+1]=Rt[or+1]-St[1];st.push({from:It,to:gt,fromCp:mt,toCp:St,rotation:-Tt})}return st}function U(tt){return tt.__isCombineMorphing}function H(tt){return tt.__morphT>=0}var V="__mOriginal_";function D(tt,rt,ut){var ct=V+rt,st=tt[ct]||tt[rt];tt[ct]||(tt[ct]=tt[rt]);var dt=ut.replace,ht=ut.after,xt=ut.before;tt[rt]=function(){var Rt=arguments,mt;return xt&&xt.apply(this,Rt),dt?mt=dt.apply(this,Rt):mt=st.apply(this,Rt),ht&&ht.apply(this,Rt),mt}}function F(tt,rt){var ut=V+rt;tt[ut]&&(tt[rt]=tt[ut],tt[ut]=null)}function N(tt,rt){for(var ut=0;ut<tt.length;ut++)for(var ct=tt[ut],st=0;st<ct.length;){var dt=ct[st],ht=ct[st+1];ct[st++]=rt[0]*dt+rt[2]*ht+rt[4],ct[st++]=rt[1]*dt+rt[3]*ht+rt[5]}}function X(tt,rt){var ut=tt.getUpdatedPathProxy(),ct=rt.getUpdatedPathProxy(),st=I(y(ut),y(ct)),dt=st[0],ht=st[1],xt=tt.getComputedTransform(),Rt=rt.getComputedTransform();function mt(){this.transform=null}xt&&N(dt,xt),Rt&&N(ht,Rt),D(rt,"updateTransform",{replace:mt}),rt.transform=null;var St=J(dt,ht,10,Math.PI),It=[];D(rt,"buildPath",{replace:function(gt){for(var Tt=rt.__morphT,At=1-Tt,j=[],q=0;q<St.length;q++){var yt=St[q],Mt=yt.from,Q=yt.to,$=yt.rotation*Tt,nt=yt.fromCp,lt=yt.toCp,Ct=Math.sin($),Zt=Math.cos($);(0,r.t7)(j,nt,lt,Tt);for(var Ot=0;Ot<Mt.length;Ot+=2){var bt=Mt[Ot],Ft=Mt[Ot+1],zt=Q[Ot],Ht=Q[Ot+1],kt=bt*At+zt*Tt,jt=Ft*At+Ht*Tt;It[Ot]=kt*Zt-jt*Ct+j[0],It[Ot+1]=kt*Ct+jt*Zt+j[1]}var Qt=It[0],ur=It[1];gt.moveTo(Qt,ur);for(var Ot=2;Ot<Mt.length;){var zt=It[Ot++],Ht=It[Ot++],Jt=It[Ot++],or=It[Ot++],sr=It[Ot++],fr=It[Ot++];Qt===zt&&ur===Ht&&Jt===sr&&or===fr?gt.lineTo(sr,fr):gt.bezierCurveTo(zt,Ht,Jt,or,sr,fr),Qt=sr,ur=fr}}}})}function Y(tt,rt,ut){if(!tt||!rt)return rt;var ct=ut.done,st=ut.during;X(tt,rt),rt.__morphT=0;function dt(){F(rt,"buildPath"),F(rt,"updateTransform"),rt.__morphT=-1,rt.createPathProxy(),rt.dirtyShape()}return rt.animateTo({__morphT:1},(0,t.ce)({during:function(ht){rt.dirtyShape(),st&&st(ht)},done:function(){dt(),ct&&ct()}},ut)),rt}function et(tt,rt,ut,ct,st,dt){var ht=16;tt=st===ut?0:Math.round(32767*(tt-ut)/(st-ut)),rt=dt===ct?0:Math.round(32767*(rt-ct)/(dt-ct));for(var xt=0,Rt,mt=(1<<ht)/2;mt>0;mt/=2){var St=0,It=0;(tt&mt)>0&&(St=1),(rt&mt)>0&&(It=1),xt+=mt*mt*(3*St^It),It===0&&(St===1&&(tt=mt-1-tt,rt=mt-1-rt),Rt=tt,tt=rt,rt=Rt)}return xt}function z(tt){var rt=1/0,ut=1/0,ct=-1/0,st=-1/0,dt=(0,t.UI)(tt,function(xt){var Rt=xt.getBoundingRect(),mt=xt.getComputedTransform(),St=Rt.x+Rt.width/2+(mt?mt[4]:0),It=Rt.y+Rt.height/2+(mt?mt[5]:0);return rt=Math.min(St,rt),ut=Math.min(It,ut),ct=Math.max(St,ct),st=Math.max(It,st),[St,It]}),ht=(0,t.UI)(dt,function(xt,Rt){return{cp:xt,z:et(xt[0],xt[1],rt,ut,ct,st),path:tt[Rt]}});return ht.sort(function(xt,Rt){return xt.z-Rt.z}).map(function(xt){return xt.path})}function k(tt){return R(tt.path,tt.count)}function at(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ft(tt,rt,ut){var ct=[];function st(nt){for(var lt=0;lt<nt.length;lt++){var Ct=nt[lt];U(Ct)?st(Ct.childrenRef()):Ct instanceof o.ZP&&ct.push(Ct)}}st(tt);var dt=ct.length;if(!dt)return at();var ht=ut.dividePath||k,xt=ht({path:rt,count:dt});if(xt.length!==dt)return console.error("Invalid morphing: unmatched splitted path"),at();ct=z(ct),xt=z(xt);for(var Rt=ut.done,mt=ut.during,St=ut.individualDelay,It=new e.ZP,gt=0;gt<dt;gt++){var Tt=ct[gt],At=xt[gt];At.parent=rt,At.copyTransform(It),St||X(Tt,At)}rt.__isCombineMorphing=!0,rt.childrenRef=function(){return xt};function j(nt){for(var lt=0;lt<xt.length;lt++)xt[lt].addSelfToZr(nt)}D(rt,"addSelfToZr",{after:function(nt){j(nt)}}),D(rt,"removeSelfFromZr",{after:function(nt){for(var lt=0;lt<xt.length;lt++)xt[lt].removeSelfFromZr(nt)}});function q(){rt.__isCombineMorphing=!1,rt.__morphT=-1,rt.childrenRef=null,F(rt,"addSelfToZr"),F(rt,"removeSelfFromZr")}var yt=xt.length;if(St)for(var Mt=yt,Q=function(){Mt--,Mt===0&&(q(),Rt&&Rt())},gt=0;gt<yt;gt++){var $=St?(0,t.ce)({delay:(ut.delay||0)+St(gt,yt,ct[gt],xt[gt]),done:Q},ut):ut;Y(ct[gt],xt[gt],$)}else rt.__morphT=0,rt.animateTo({__morphT:1},(0,t.ce)({during:function(nt){for(var lt=0;lt<yt;lt++){var Ct=xt[lt];Ct.__morphT=rt.__morphT,Ct.dirtyShape()}mt&&mt(nt)},done:function(){q();for(var nt=0;nt<tt.length;nt++)F(tt[nt],"updateTransform");Rt&&Rt()}},ut));return rt.__zr&&j(rt.__zr),{fromIndividuals:ct,toIndividuals:xt,count:yt}}function _t(tt,rt,ut){var ct=rt.length,st=[],dt=ut.dividePath||k;function ht(Tt){for(var At=0;At<Tt.length;At++){var j=Tt[At];U(j)?ht(j.childrenRef()):j instanceof o.ZP&&st.push(j)}}if(U(tt)){ht(tt.childrenRef());var xt=st.length;if(xt<ct)for(var Rt=0,mt=xt;mt<ct;mt++)st.push((0,n.U5)(st[Rt++%xt]));st.length=ct}else{st=dt({path:tt,count:ct});for(var St=tt.getComputedTransform(),mt=0;mt<st.length;mt++)st[mt].setLocalTransform(St);if(st.length!==ct)return console.error("Invalid morphing: unmatched splitted path"),at()}st=z(st),rt=z(rt);for(var It=ut.individualDelay,mt=0;mt<ct;mt++){var gt=It?(0,t.ce)({delay:(ut.delay||0)+It(mt,ct,st[mt],rt[mt])},ut):ut;Y(st[mt],rt[mt],gt)}return{fromIndividuals:st,toIndividuals:rt,count:rt.length}}},29777:function(Dt,it,C){C.d(it,{hS:function(){return H},sd:function(){return U}});var p=C(2574),o=C(13806),t=C(16513),r=C(73909),n=C(15904),e=C(40596),s=C(7228),h=C(6224),i=C(58427),a=C(1205),l=C(70324),_=C(55602),M=C(43606),m=C(83007),T=C(9843),y,P={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},S=(0,l.XP)(P),w={"alignment-baseline":"textBaseline","stop-color":"stopColor"},b=(0,l.XP)(w),W=function(){function V(){this._defs={},this._root=null}return V.prototype.parse=function(D,F){F=F||{};var N=(0,T.s)(D);this._defsUsePending=[];var X=new p.Z;this._root=X;var Y=[],et=N.getAttribute("viewBox")||"",z=parseFloat(N.getAttribute("width")||F.width),k=parseFloat(N.getAttribute("height")||F.height);isNaN(z)&&(z=null),isNaN(k)&&(k=null),f(N,X,null,!0,!1);for(var at=N.firstChild;at;)this._parseNode(at,X,Y,null,!1,!1),at=at.nextSibling;g(this._defs,this._defsUsePending),this._defsUsePending=[];var ft,_t;if(et){var tt=x(et);tt.length>=4&&(ft={x:parseFloat(tt[0]||0),y:parseFloat(tt[1]||0),width:parseFloat(tt[2]),height:parseFloat(tt[3])})}if(ft&&z!=null&&k!=null&&(_t=U(ft,{x:0,y:0,width:z,height:k}),!F.ignoreViewBox)){var rt=X;X=new p.Z,X.add(rt),rt.scaleX=rt.scaleY=_t.scale,rt.x=_t.x,rt.y=_t.y}return!F.ignoreRootClip&&z!=null&&k!=null&&X.setClipPath(new r.Z({shape:{x:0,y:0,width:z,height:k}})),{root:X,width:z,height:k,viewBoxRect:ft,viewBoxTransform:_t,named:Y}},V.prototype._parseNode=function(D,F,N,X,Y,et){var z=D.nodeName.toLowerCase(),k,at=X;if(z==="defs"&&(Y=!0),z==="text"&&(et=!0),z==="defs"||z==="switch")k=F;else{if(!Y){var ft=y[z];if(ft&&(0,l.RI)(y,z)){k=ft.call(this,D,F);var _t=D.getAttribute("name");if(_t){var tt={name:_t,namedFrom:null,svgNodeTagLower:z,el:k};N.push(tt),z==="g"&&(at=tt)}else X&&N.push({name:X.name,namedFrom:X,svgNodeTagLower:z,el:k});F.add(k)}}var rt=B[z];if(rt&&(0,l.RI)(B,z)){var ut=rt.call(this,D),ct=D.getAttribute("id");ct&&(this._defs[ct]=ut)}}if(k&&k.isGroup)for(var st=D.firstChild;st;)st.nodeType===1?this._parseNode(st,k,N,at,Y,et):st.nodeType===3&&et&&this._parseText(st,k),st=st.nextSibling},V.prototype._parseText=function(D,F){var N=new m.Z({style:{text:D.textContent},silent:!0,x:this._textX||0,y:this._textY||0});E(F,N),f(D,N,this._defsUsePending,!1,!1),u(N,F);var X=N.style,Y=X.fontSize;Y&&Y<9&&(X.fontSize=9,N.scaleX*=Y/9,N.scaleY*=Y/9);var et=(X.fontSize||X.fontFamily)&&[X.fontStyle,X.fontWeight,(X.fontSize||12)+"px",X.fontFamily||"sans-serif"].join(" ");X.font=et;var z=N.getBoundingRect();return this._textX+=z.width,F.add(N),N},V.internalField=function(){y={g:function(D,F){var N=new p.Z;return E(F,N),f(D,N,this._defsUsePending,!1,!1),N},rect:function(D,F){var N=new r.Z;return E(F,N),f(D,N,this._defsUsePending,!1,!1),N.setShape({x:parseFloat(D.getAttribute("x")||"0"),y:parseFloat(D.getAttribute("y")||"0"),width:parseFloat(D.getAttribute("width")||"0"),height:parseFloat(D.getAttribute("height")||"0")}),N.silent=!0,N},circle:function(D,F){var N=new t.Z;return E(F,N),f(D,N,this._defsUsePending,!1,!1),N.setShape({cx:parseFloat(D.getAttribute("cx")||"0"),cy:parseFloat(D.getAttribute("cy")||"0"),r:parseFloat(D.getAttribute("r")||"0")}),N.silent=!0,N},line:function(D,F){var N=new e.Z;return E(F,N),f(D,N,this._defsUsePending,!1,!1),N.setShape({x1:parseFloat(D.getAttribute("x1")||"0"),y1:parseFloat(D.getAttribute("y1")||"0"),x2:parseFloat(D.getAttribute("x2")||"0"),y2:parseFloat(D.getAttribute("y2")||"0")}),N.silent=!0,N},ellipse:function(D,F){var N=new n.Z;return E(F,N),f(D,N,this._defsUsePending,!1,!1),N.setShape({cx:parseFloat(D.getAttribute("cx")||"0"),cy:parseFloat(D.getAttribute("cy")||"0"),rx:parseFloat(D.getAttribute("rx")||"0"),ry:parseFloat(D.getAttribute("ry")||"0")}),N.silent=!0,N},polygon:function(D,F){var N=D.getAttribute("points"),X;N&&(X=d(N));var Y=new s.Z({shape:{points:X||[]},silent:!0});return E(F,Y),f(D,Y,this._defsUsePending,!1,!1),Y},polyline:function(D,F){var N=D.getAttribute("points"),X;N&&(X=d(N));var Y=new h.Z({shape:{points:X||[]},silent:!0});return E(F,Y),f(D,Y,this._defsUsePending,!1,!1),Y},image:function(D,F){var N=new o.ZP;return E(F,N),f(D,N,this._defsUsePending,!1,!1),N.setStyle({image:D.getAttribute("xlink:href")||D.getAttribute("href"),x:+D.getAttribute("x"),y:+D.getAttribute("y"),width:+D.getAttribute("width"),height:+D.getAttribute("height")}),N.silent=!0,N},text:function(D,F){var N=D.getAttribute("x")||"0",X=D.getAttribute("y")||"0",Y=D.getAttribute("dx")||"0",et=D.getAttribute("dy")||"0";this._textX=parseFloat(N)+parseFloat(Y),this._textY=parseFloat(X)+parseFloat(et);var z=new p.Z;return E(F,z),f(D,z,this._defsUsePending,!1,!0),z},tspan:function(D,F){var N=D.getAttribute("x"),X=D.getAttribute("y");N!=null&&(this._textX=parseFloat(N)),X!=null&&(this._textY=parseFloat(X));var Y=D.getAttribute("dx")||"0",et=D.getAttribute("dy")||"0",z=new p.Z;return E(F,z),f(D,z,this._defsUsePending,!1,!0),this._textX+=parseFloat(Y),this._textY+=parseFloat(et),z},path:function(D,F){var N=D.getAttribute("d")||"",X=(0,a.iR)(N);return E(F,X),f(D,X,this._defsUsePending,!1,!1),X.silent=!0,X}}}(),V}(),B={lineargradient:function(V){var D=parseInt(V.getAttribute("x1")||"0",10),F=parseInt(V.getAttribute("y1")||"0",10),N=parseInt(V.getAttribute("x2")||"10",10),X=parseInt(V.getAttribute("y2")||"0",10),Y=new _.Z(D,F,N,X);return O(V,Y),A(V,Y),Y},radialgradient:function(V){var D=parseInt(V.getAttribute("cx")||"0",10),F=parseInt(V.getAttribute("cy")||"0",10),N=parseInt(V.getAttribute("r")||"0",10),X=new M.Z(D,F,N);return O(V,X),A(V,X),X}};function O(V,D){var F=V.getAttribute("gradientUnits");F==="userSpaceOnUse"&&(D.global=!0)}function A(V,D){for(var F=V.firstChild;F;){if(F.nodeType===1&&F.nodeName.toLocaleLowerCase()==="stop"){var N=F.getAttribute("offset"),X=void 0;N&&N.indexOf("%")>0?X=parseInt(N,10)/100:N?X=parseFloat(N):X=0;var Y={};K(F,Y,Y);var et=Y.stopColor||F.getAttribute("stop-color")||"#000000";D.colorStops.push({offset:X,color:et})}F=F.nextSibling}}function E(V,D){V&&V.__inheritedStyle&&(D.__inheritedStyle||(D.__inheritedStyle={}),(0,l.ce)(D.__inheritedStyle,V.__inheritedStyle))}function d(V){for(var D=x(V),F=[],N=0;N<D.length;N+=2){var X=parseFloat(D[N]),Y=parseFloat(D[N+1]);F.push([X,Y])}return F}function f(V,D,F,N,X){var Y=D,et=Y.__inheritedStyle=Y.__inheritedStyle||{},z={};V.nodeType===1&&(Z(V,D),K(V,et,z),N||J(V,et,z)),Y.style=Y.style||{},et.fill!=null&&(Y.style.fill=v(Y,"fill",et.fill,F)),et.stroke!=null&&(Y.style.stroke=v(Y,"stroke",et.stroke,F)),(0,l.S6)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(k){et[k]!=null&&(Y.style[k]=parseFloat(et[k]))}),(0,l.S6)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(k){et[k]!=null&&(Y.style[k]=et[k])}),X&&(Y.__selfStyle=z),et.lineDash&&(Y.style.lineDash=(0,l.UI)(x(et.lineDash),function(k){return parseFloat(k)})),(et.visibility==="hidden"||et.visibility==="collapse")&&(Y.invisible=!0),et.display==="none"&&(Y.ignore=!0)}function u(V,D){var F=D.__selfStyle;if(F){var N=F.textBaseline,X=N;!N||N==="auto"||N==="baseline"?X="alphabetic":N==="before-edge"||N==="text-before-edge"?X="top":N==="after-edge"||N==="text-after-edge"?X="bottom":(N==="central"||N==="mathematical")&&(X="middle"),V.style.textBaseline=X}var Y=D.__inheritedStyle;if(Y){var et=Y.textAlign,z=et;et&&(et==="middle"&&(z="center"),V.style.textAlign=z)}}var c=/^url\(\s*#(.*?)\)/;function v(V,D,F,N){var X=F&&F.match(c);if(X){var Y=(0,l.fy)(X[1]);N.push([V,D,Y]);return}return F==="none"&&(F=null),F}function g(V,D){for(var F=0;F<D.length;F++){var N=D[F];N[0].style[N[1]]=V[N[2]]}}var R=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function x(V){return V.match(R)||[]}var L=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,I=Math.PI/180;function Z(V,D){var F=V.getAttribute("transform");if(F){F=F.replace(/,/g," ");var N=[],X=null;F.replace(L,function(_t,tt,rt){return N.push(tt,rt),""});for(var Y=N.length-1;Y>0;Y-=2){var et=N[Y],z=N[Y-1],k=x(et);switch(X=X||i.Ue(),z){case"translate":i.Iu(X,X,[parseFloat(k[0]),parseFloat(k[1]||"0")]);break;case"scale":i.bA(X,X,[parseFloat(k[0]),parseFloat(k[1]||k[0])]);break;case"rotate":i.U1(X,X,-parseFloat(k[0])*I);break;case"skewX":var at=Math.tan(parseFloat(k[0])*I);i.dC(X,[1,0,at,1,0,0],X);break;case"skewY":var ft=Math.tan(parseFloat(k[0])*I);i.dC(X,[1,ft,0,1,0,0],X);break;case"matrix":X[0]=parseFloat(k[0]),X[1]=parseFloat(k[1]),X[2]=parseFloat(k[2]),X[3]=parseFloat(k[3]),X[4]=parseFloat(k[4]),X[5]=parseFloat(k[5]);break}}D.setLocalTransform(X)}}var G=/([^\s:;]+)\s*:\s*([^:;]+)/g;function K(V,D,F){var N=V.getAttribute("style");if(N){G.lastIndex=0;for(var X;(X=G.exec(N))!=null;){var Y=X[1],et=(0,l.RI)(P,Y)?P[Y]:null;et&&(D[et]=X[2]);var z=(0,l.RI)(w,Y)?w[Y]:null;z&&(F[z]=X[2])}}}function J(V,D,F){for(var N=0;N<S.length;N++){var X=S[N],Y=V.getAttribute(X);Y!=null&&(D[P[X]]=Y)}for(var N=0;N<b.length;N++){var X=b[N],Y=V.getAttribute(X);Y!=null&&(F[w[X]]=Y)}}function U(V,D){var F=D.width/V.width,N=D.height/V.height,X=Math.min(F,N);return{scale:X,x:-(V.x+V.width/2)*X+(D.x+D.width/2),y:-(V.y+V.height/2)*X+(D.y+D.height/2)}}function H(V,D){var F=new W;return F.parse(V,D)}},9843:function(Dt,it,C){C.d(it,{s:function(){return o}});var p=C(70324);function o(t){if((0,p.HD)(t)){var r=new DOMParser;t=r.parseFromString(t,"text/xml")}var n=t;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}},1205:function(Dt,it,C){C.d(it,{U5:function(){return u},iR:function(){return E},Pc:function(){return d},AA:function(){return f}});var p=C(12012),o=C(66210),t=C(29436),r=C(85755),n=t.Z.CMD,e=[[],[],[]],s=Math.sqrt,h=Math.atan2;function i(c,v){if(v){var g=c.data,R=c.len(),x,L,I,Z,G,K,J=n.M,U=n.C,H=n.L,V=n.R,D=n.A,F=n.Q;for(I=0,Z=0;I<R;){switch(x=g[I++],Z=I,L=0,x){case J:L=1;break;case H:L=1;break;case U:L=3;break;case F:L=2;break;case D:var N=v[4],X=v[5],Y=s(v[0]*v[0]+v[1]*v[1]),et=s(v[2]*v[2]+v[3]*v[3]),z=h(-v[1]/et,v[0]/Y);g[I]*=Y,g[I++]+=N,g[I]*=et,g[I++]+=X,g[I++]*=Y,g[I++]*=et,g[I++]+=z,g[I++]+=z,I+=2,Z=I;break;case V:K[0]=g[I++],K[1]=g[I++],(0,r.Ne)(K,K,v),g[Z++]=K[0],g[Z++]=K[1],K[0]+=g[I++],K[1]+=g[I++],(0,r.Ne)(K,K,v),g[Z++]=K[0],g[Z++]=K[1]}for(G=0;G<L;G++){var k=e[G];k[0]=g[I++],k[1]=g[I++],(0,r.Ne)(k,k,v),g[Z++]=k[0],g[Z++]=k[1]}}c.increaseVersion()}}var a=C(70324),l=Math.sqrt,_=Math.sin,M=Math.cos,m=Math.PI;function T(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function y(c,v){return(c[0]*v[0]+c[1]*v[1])/(T(c)*T(v))}function P(c,v){return(c[0]*v[1]<c[1]*v[0]?-1:1)*Math.acos(y(c,v))}function S(c,v,g,R,x,L,I,Z,G,K,J){var U=G*(m/180),H=M(U)*(c-g)/2+_(U)*(v-R)/2,V=-1*_(U)*(c-g)/2+M(U)*(v-R)/2,D=H*H/(I*I)+V*V/(Z*Z);D>1&&(I*=l(D),Z*=l(D));var F=(x===L?-1:1)*l((I*I*(Z*Z)-I*I*(V*V)-Z*Z*(H*H))/(I*I*(V*V)+Z*Z*(H*H)))||0,N=F*I*V/Z,X=F*-Z*H/I,Y=(c+g)/2+M(U)*N-_(U)*X,et=(v+R)/2+_(U)*N+M(U)*X,z=P([1,0],[(H-N)/I,(V-X)/Z]),k=[(H-N)/I,(V-X)/Z],at=[(-1*H-N)/I,(-1*V-X)/Z],ft=P(k,at);if(y(k,at)<=-1&&(ft=m),y(k,at)>=1&&(ft=0),ft<0){var _t=Math.round(ft/m*1e6)/1e6;ft=m*2+_t%2*m}J.addData(K,Y,et,I,Z,z,ft,U,L)}var w=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,b=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function W(c){var v=new t.Z;if(!c)return v;var g=0,R=0,x=g,L=R,I,Z=t.Z.CMD,G=c.match(w);if(!G)return v;for(var K=0;K<G.length;K++){for(var J=G[K],U=J.charAt(0),H=void 0,V=J.match(b)||[],D=V.length,F=0;F<D;F++)V[F]=parseFloat(V[F]);for(var N=0;N<D;){var X=void 0,Y=void 0,et=void 0,z=void 0,k=void 0,at=void 0,ft=void 0,_t=g,tt=R,rt=void 0,ut=void 0;switch(U){case"l":g+=V[N++],R+=V[N++],H=Z.L,v.addData(H,g,R);break;case"L":g=V[N++],R=V[N++],H=Z.L,v.addData(H,g,R);break;case"m":g+=V[N++],R+=V[N++],H=Z.M,v.addData(H,g,R),x=g,L=R,U="l";break;case"M":g=V[N++],R=V[N++],H=Z.M,v.addData(H,g,R),x=g,L=R,U="L";break;case"h":g+=V[N++],H=Z.L,v.addData(H,g,R);break;case"H":g=V[N++],H=Z.L,v.addData(H,g,R);break;case"v":R+=V[N++],H=Z.L,v.addData(H,g,R);break;case"V":R=V[N++],H=Z.L,v.addData(H,g,R);break;case"C":H=Z.C,v.addData(H,V[N++],V[N++],V[N++],V[N++],V[N++],V[N++]),g=V[N-2],R=V[N-1];break;case"c":H=Z.C,v.addData(H,V[N++]+g,V[N++]+R,V[N++]+g,V[N++]+R,V[N++]+g,V[N++]+R),g+=V[N-2],R+=V[N-1];break;case"S":X=g,Y=R,rt=v.len(),ut=v.data,I===Z.C&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),H=Z.C,_t=V[N++],tt=V[N++],g=V[N++],R=V[N++],v.addData(H,X,Y,_t,tt,g,R);break;case"s":X=g,Y=R,rt=v.len(),ut=v.data,I===Z.C&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),H=Z.C,_t=g+V[N++],tt=R+V[N++],g+=V[N++],R+=V[N++],v.addData(H,X,Y,_t,tt,g,R);break;case"Q":_t=V[N++],tt=V[N++],g=V[N++],R=V[N++],H=Z.Q,v.addData(H,_t,tt,g,R);break;case"q":_t=V[N++]+g,tt=V[N++]+R,g+=V[N++],R+=V[N++],H=Z.Q,v.addData(H,_t,tt,g,R);break;case"T":X=g,Y=R,rt=v.len(),ut=v.data,I===Z.Q&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),g=V[N++],R=V[N++],H=Z.Q,v.addData(H,X,Y,g,R);break;case"t":X=g,Y=R,rt=v.len(),ut=v.data,I===Z.Q&&(X+=g-ut[rt-4],Y+=R-ut[rt-3]),g+=V[N++],R+=V[N++],H=Z.Q,v.addData(H,X,Y,g,R);break;case"A":et=V[N++],z=V[N++],k=V[N++],at=V[N++],ft=V[N++],_t=g,tt=R,g=V[N++],R=V[N++],H=Z.A,S(_t,tt,g,R,at,ft,et,z,k,H,v);break;case"a":et=V[N++],z=V[N++],k=V[N++],at=V[N++],ft=V[N++],_t=g,tt=R,g+=V[N++],R+=V[N++],H=Z.A,S(_t,tt,g,R,at,ft,et,z,k,H,v);break}}(U==="z"||U==="Z")&&(H=Z.Z,v.addData(H),g=x,R=L),I=H}return v.toStatic(),v}var B=function(c){(0,p.ZT)(v,c);function v(){return c!==null&&c.apply(this,arguments)||this}return v.prototype.applyTransform=function(g){},v}(o.ZP);function O(c){return c.setData!=null}function A(c,v){var g=W(c),R=(0,a.l7)({},v);return R.buildPath=function(x){if(O(x)){x.setData(g.data);var L=x.getContext();L&&x.rebuildPath(L,1)}else{var L=x;g.rebuildPath(L,1)}},R.applyTransform=function(x){i(g,x),this.dirtyShape()},R}function E(c,v){return new B(A(c,v))}function d(c,v){var g=A(c,v),R=function(x){(0,p.ZT)(L,x);function L(I){var Z=x.call(this,I)||this;return Z.applyTransform=g.applyTransform,Z.buildPath=g.buildPath,Z}return L}(B);return R}function f(c,v){for(var g=[],R=c.length,x=0;x<R;x++){var L=c[x];g.push(L.getUpdatedPathProxy(!0))}var I=new o.ZP(v);return I.createPathProxy(),I.buildPath=function(Z){if(O(Z)){Z.appendPath(g);var G=Z.getContext();G&&Z.rebuildPath(G,1)}},I}function u(c,v){v=v||{};var g=new o.ZP;return c.shape&&g.setShape(c.shape),g.setStyle(c.style),v.bakeTransform?i(g.path,c.getComputedTransform()):v.toLocal?g.setLocalTransform(c.getComputedTransform()):g.copyTransform(c),g.buildPath=c.buildPath,g.applyTransform=g.applyTransform,g.z=c.z,g.z2=c.z2,g.zlevel=c.zlevel,g}},32389:function(Dt,it,C){C.r(it),C.d(it,{dispose:function(){return At},disposeAll:function(){return j},getInstance:function(){return q},init:function(){return Tt},registerPainter:function(){return yt},version:function(){return Mt}});var p=C(54490),o=C(70324),t=C(12012),r=C(85755),n=function(){function Q($,nt){this.target=$,this.topTarget=nt&&nt.topTarget}return Q}(),e=function(){function Q($){this.handler=$,$.on("mousedown",this._dragStart,this),$.on("mousemove",this._drag,this),$.on("mouseup",this._dragEnd,this)}return Q.prototype._dragStart=function($){for(var nt=$.target;nt&&!nt.draggable;)nt=nt.parent||nt.__hostTarget;nt&&(this._draggingTarget=nt,nt.dragging=!0,this._x=$.offsetX,this._y=$.offsetY,this.handler.dispatchToElement(new n(nt,$),"dragstart",$.event))},Q.prototype._drag=function($){var nt=this._draggingTarget;if(nt){var lt=$.offsetX,Ct=$.offsetY,Zt=lt-this._x,Ot=Ct-this._y;this._x=lt,this._y=Ct,nt.drift(Zt,Ot,$),this.handler.dispatchToElement(new n(nt,$),"drag",$.event);var bt=this.handler.findHover(lt,Ct,nt).target,Ft=this._dropTarget;this._dropTarget=bt,nt!==bt&&(Ft&&bt!==Ft&&this.handler.dispatchToElement(new n(Ft,$),"dragleave",$.event),bt&&bt!==Ft&&this.handler.dispatchToElement(new n(bt,$),"dragenter",$.event))}},Q.prototype._dragEnd=function($){var nt=this._draggingTarget;nt&&(nt.dragging=!1),this.handler.dispatchToElement(new n(nt,$),"dragend",$.event),this._dropTarget&&this.handler.dispatchToElement(new n(this._dropTarget,$),"drop",$.event),this._draggingTarget=null,this._dropTarget=null},Q}(),s=e,h=C(10563),i=C(11300),a=function(){function Q(){this._track=[]}return Q.prototype.recognize=function($,nt,lt){return this._doTrack($,nt,lt),this._recognize($)},Q.prototype.clear=function(){return this._track.length=0,this},Q.prototype._doTrack=function($,nt,lt){var Ct=$.touches;if(Ct){for(var Zt={points:[],touches:[],target:nt,event:$},Ot=0,bt=Ct.length;Ot<bt;Ot++){var Ft=Ct[Ot],zt=i.eV(lt,Ft,{});Zt.points.push([zt.zrX,zt.zrY]),Zt.touches.push(Ft)}this._track.push(Zt)}},Q.prototype._recognize=function($){for(var nt in M)if(M.hasOwnProperty(nt)){var lt=M[nt](this._track,$);if(lt)return lt}},Q}();function l(Q){var $=Q[1][0]-Q[0][0],nt=Q[1][1]-Q[0][1];return Math.sqrt($*$+nt*nt)}function _(Q){return[(Q[0][0]+Q[1][0])/2,(Q[0][1]+Q[1][1])/2]}var M={pinch:function(Q,$){var nt=Q.length;if(nt){var lt=(Q[nt-1]||{}).points,Ct=(Q[nt-2]||{}).points||lt;if(Ct&&Ct.length>1&&lt&&lt.length>1){var Zt=l(lt)/l(Ct);!isFinite(Zt)&&(Zt=1),$.pinchScale=Zt;var Ot=_(lt);return $.pinchX=Ot[0],$.pinchY=Ot[1],{type:"pinch",target:Q[0].target,event:$}}}}},m=C(16128),T="silent";function y(Q,$,nt){return{type:Q,event:nt,target:$.target,topTarget:$.topTarget,cancelBubble:!1,offsetX:nt.zrX,offsetY:nt.zrY,gestureEvent:nt.gestureEvent,pinchX:nt.pinchX,pinchY:nt.pinchY,pinchScale:nt.pinchScale,wheelDelta:nt.zrDelta,zrByTouch:nt.zrByTouch,which:nt.which,stop:P}}function P(){i.sT(this.event)}var S=function(Q){(0,t.ZT)($,Q);function $(){var nt=Q!==null&&Q.apply(this,arguments)||this;return nt.handler=null,nt}return $.prototype.dispose=function(){},$.prototype.setCursor=function(){},$}(h.Z),w=function(){function Q($,nt){this.x=$,this.y=nt}return Q}(),b=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],W=new m.Z(0,0,0,0),B=function(Q){(0,t.ZT)($,Q);function $(nt,lt,Ct,Zt,Ot){var bt=Q.call(this)||this;return bt._hovered=new w(0,0),bt.storage=nt,bt.painter=lt,bt.painterRoot=Zt,bt._pointerSize=Ot,Ct=Ct||new S,bt.proxy=null,bt.setHandlerProxy(Ct),bt._draggingMgr=new s(bt),bt}return $.prototype.setHandlerProxy=function(nt){this.proxy&&this.proxy.dispose(),nt&&(o.S6(b,function(lt){nt.on&&nt.on(lt,this[lt],this)},this),nt.handler=this),this.proxy=nt},$.prototype.mousemove=function(nt){var lt=nt.zrX,Ct=nt.zrY,Zt=E(this,lt,Ct),Ot=this._hovered,bt=Ot.target;bt&&!bt.__zr&&(Ot=this.findHover(Ot.x,Ot.y),bt=Ot.target);var Ft=this._hovered=Zt?new w(lt,Ct):this.findHover(lt,Ct),zt=Ft.target,Ht=this.proxy;Ht.setCursor&&Ht.setCursor(zt?zt.cursor:"default"),bt&&zt!==bt&&this.dispatchToElement(Ot,"mouseout",nt),this.dispatchToElement(Ft,"mousemove",nt),zt&&zt!==bt&&this.dispatchToElement(Ft,"mouseover",nt)},$.prototype.mouseout=function(nt){var lt=nt.zrEventControl;lt!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",nt),lt!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:nt})},$.prototype.resize=function(){this._hovered=new w(0,0)},$.prototype.dispatch=function(nt,lt){var Ct=this[nt];Ct&&Ct.call(this,lt)},$.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},$.prototype.setCursorStyle=function(nt){var lt=this.proxy;lt.setCursor&&lt.setCursor(nt)},$.prototype.dispatchToElement=function(nt,lt,Ct){nt=nt||{};var Zt=nt.target;if(!(Zt&&Zt.silent)){for(var Ot="on"+lt,bt=y(lt,nt,Ct);Zt&&(Zt[Ot]&&(bt.cancelBubble=!!Zt[Ot].call(Zt,bt)),Zt.trigger(lt,bt),Zt=Zt.__hostTarget?Zt.__hostTarget:Zt.parent,!bt.cancelBubble););bt.cancelBubble||(this.trigger(lt,bt),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(Ft){typeof Ft[Ot]=="function"&&Ft[Ot].call(Ft,bt),Ft.trigger&&Ft.trigger(lt,bt)}))}},$.prototype.findHover=function(nt,lt,Ct){var Zt=this.storage.getDisplayList(),Ot=new w(nt,lt);if(A(Zt,Ot,nt,lt,Ct),this._pointerSize&&!Ot.target){for(var bt=[],Ft=this._pointerSize,zt=Ft/2,Ht=new m.Z(nt-zt,lt-zt,Ft,Ft),kt=Zt.length-1;kt>=0;kt--){var jt=Zt[kt];jt!==Ct&&!jt.ignore&&!jt.ignoreCoarsePointer&&(!jt.parent||!jt.parent.ignoreCoarsePointer)&&(W.copy(jt.getBoundingRect()),jt.transform&&W.applyTransform(jt.transform),W.intersect(Ht)&&bt.push(jt))}if(bt.length)for(var Qt=4,ur=Math.PI/12,Jt=Math.PI*2,or=0;or<zt;or+=Qt)for(var sr=0;sr<Jt;sr+=ur){var fr=nt+or*Math.cos(sr),gr=lt+or*Math.sin(sr);if(A(bt,Ot,fr,gr,Ct),Ot.target)return Ot}}return Ot},$.prototype.processGesture=function(nt,lt){this._gestureMgr||(this._gestureMgr=new a);var Ct=this._gestureMgr;lt==="start"&&Ct.clear();var Zt=Ct.recognize(nt,this.findHover(nt.zrX,nt.zrY,null).target,this.proxy.dom);if(lt==="end"&&Ct.clear(),Zt){var Ot=Zt.type;nt.gestureEvent=Ot;var bt=new w;bt.target=Zt.target,this.dispatchToElement(bt,Ot,Zt.event)}},$}(h.Z);o.S6(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Q){B.prototype[Q]=function($){var nt=$.zrX,lt=$.zrY,Ct=E(this,nt,lt),Zt,Ot;if((Q!=="mouseup"||!Ct)&&(Zt=this.findHover(nt,lt),Ot=Zt.target),Q==="mousedown")this._downEl=Ot,this._downPoint=[$.zrX,$.zrY],this._upEl=Ot;else if(Q==="mouseup")this._upEl=Ot;else if(Q==="click"){if(this._downEl!==this._upEl||!this._downPoint||r.TK(this._downPoint,[$.zrX,$.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Zt,Q,$)}});function O(Q,$,nt){if(Q[Q.rectHover?"rectContain":"contain"]($,nt)){for(var lt=Q,Ct=void 0,Zt=!1;lt;){if(lt.ignoreClip&&(Zt=!0),!Zt){var Ot=lt.getClipPath();if(Ot&&!Ot.contain($,nt))return!1;lt.silent&&(Ct=!0)}var bt=lt.__hostTarget;lt=bt||lt.parent}return Ct?T:!0}return!1}function A(Q,$,nt,lt,Ct){for(var Zt=Q.length-1;Zt>=0;Zt--){var Ot=Q[Zt],bt=void 0;if(Ot!==Ct&&!Ot.ignore&&(bt=O(Ot,nt,lt))&&(!$.topTarget&&($.topTarget=Ot),bt!==T)){$.target=Ot;break}}}function E(Q,$,nt){var lt=Q.painter;return $<0||$>lt.getWidth()||nt<0||nt>lt.getHeight()}var d=B,f=C(59330),u=C(53197),c=!1;function v(){c||(c=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function g(Q,$){return Q.zlevel===$.zlevel?Q.z===$.z?Q.z2-$.z2:Q.z-$.z:Q.zlevel-$.zlevel}var R=function(){function Q(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=g}return Q.prototype.traverse=function($,nt){for(var lt=0;lt<this._roots.length;lt++)this._roots[lt].traverse($,nt)},Q.prototype.getDisplayList=function($,nt){nt=nt||!1;var lt=this._displayList;return($||!lt.length)&&this.updateDisplayList(nt),lt},Q.prototype.updateDisplayList=function($){this._displayListLen=0;for(var nt=this._roots,lt=this._displayList,Ct=0,Zt=nt.length;Ct<Zt;Ct++)this._updateAndAddDisplayable(nt[Ct],null,$);lt.length=this._displayListLen,(0,f.Z)(lt,g)},Q.prototype._updateAndAddDisplayable=function($,nt,lt){if(!($.ignore&&!lt)){$.beforeUpdate(),$.update(),$.afterUpdate();var Ct=$.getClipPath();if($.ignoreClip)nt=null;else if(Ct){nt?nt=nt.slice():nt=[];for(var Zt=Ct,Ot=$;Zt;)Zt.parent=Ot,Zt.updateTransform(),nt.push(Zt),Ot=Zt,Zt=Zt.getClipPath()}if($.childrenRef){for(var bt=$.childrenRef(),Ft=0;Ft<bt.length;Ft++){var zt=bt[Ft];$.__dirty&&(zt.__dirty|=u.YV),this._updateAndAddDisplayable(zt,nt,lt)}$.__dirty=0}else{var Ht=$;nt&&nt.length?Ht.__clipPaths=nt:Ht.__clipPaths&&Ht.__clipPaths.length>0&&(Ht.__clipPaths=[]),isNaN(Ht.z)&&(v(),Ht.z=0),isNaN(Ht.z2)&&(v(),Ht.z2=0),isNaN(Ht.zlevel)&&(v(),Ht.zlevel=0),this._displayList[this._displayListLen++]=Ht}var kt=$.getDecalElement&&$.getDecalElement();kt&&this._updateAndAddDisplayable(kt,nt,lt);var jt=$.getTextGuideLine();jt&&this._updateAndAddDisplayable(jt,nt,lt);var Qt=$.getTextContent();Qt&&this._updateAndAddDisplayable(Qt,nt,lt)}},Q.prototype.addRoot=function($){$.__zr&&$.__zr.storage===this||this._roots.push($)},Q.prototype.delRoot=function($){if($ instanceof Array){for(var nt=0,lt=$.length;nt<lt;nt++)this.delRoot($[nt]);return}var Ct=o.cq(this._roots,$);Ct>=0&&this._roots.splice(Ct,1)},Q.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Q.prototype.getRoots=function(){return this._roots},Q.prototype.dispose=function(){this._displayList=null,this._roots=null},Q}(),x=R,L=C(75820),I=C(70295);function Z(){return new Date().getTime()}var G=function(Q){(0,t.ZT)($,Q);function $(nt){var lt=Q.call(this)||this;return lt._running=!1,lt._time=0,lt._pausedTime=0,lt._pauseStart=0,lt._paused=!1,nt=nt||{},lt.stage=nt.stage||{},lt}return $.prototype.addClip=function(nt){nt.animation&&this.removeClip(nt),this._head?(this._tail.next=nt,nt.prev=this._tail,nt.next=null,this._tail=nt):this._head=this._tail=nt,nt.animation=this},$.prototype.addAnimator=function(nt){nt.animation=this;var lt=nt.getClip();lt&&this.addClip(lt)},$.prototype.removeClip=function(nt){if(nt.animation){var lt=nt.prev,Ct=nt.next;lt?lt.next=Ct:this._head=Ct,Ct?Ct.prev=lt:this._tail=lt,nt.next=nt.prev=nt.animation=null}},$.prototype.removeAnimator=function(nt){var lt=nt.getClip();lt&&this.removeClip(lt),nt.animation=null},$.prototype.update=function(nt){for(var lt=Z()-this._pausedTime,Ct=lt-this._time,Zt=this._head;Zt;){var Ot=Zt.next,bt=Zt.step(lt,Ct);bt&&(Zt.ondestroy(),this.removeClip(Zt)),Zt=Ot}this._time=lt,nt||(this.trigger("frame",Ct),this.stage.update&&this.stage.update())},$.prototype._startLoop=function(){var nt=this;this._running=!0;function lt(){nt._running&&((0,L.Z)(lt),!nt._paused&&nt.update())}(0,L.Z)(lt)},$.prototype.start=function(){this._running||(this._time=Z(),this._pausedTime=0,this._startLoop())},$.prototype.stop=function(){this._running=!1},$.prototype.pause=function(){this._paused||(this._pauseStart=Z(),this._paused=!0)},$.prototype.resume=function(){this._paused&&(this._pausedTime+=Z()-this._pauseStart,this._paused=!1)},$.prototype.clear=function(){for(var nt=this._head;nt;){var lt=nt.next;nt.prev=nt.next=nt.animation=null,nt=lt}this._head=this._tail=null},$.prototype.isFinished=function(){return this._head==null},$.prototype.animate=function(nt,lt){lt=lt||{},this.start();var Ct=new I.Z(nt,lt.loop);return this.addAnimator(Ct),Ct},$}(h.Z),K=G,J=300,U=p.Z.domSupported,H=function(){var Q=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],$=["touchstart","touchend","touchmove"],nt={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},lt=o.UI(Q,function(Ct){var Zt=Ct.replace("mouse","pointer");return nt.hasOwnProperty(Zt)?Zt:Ct});return{mouse:Q,touch:$,pointer:lt}}(),V={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},D=!1;function F(Q){var $=Q.pointerType;return $==="pen"||$==="touch"}function N(Q){Q.touching=!0,Q.touchTimer!=null&&(clearTimeout(Q.touchTimer),Q.touchTimer=null),Q.touchTimer=setTimeout(function(){Q.touching=!1,Q.touchTimer=null},700)}function X(Q){Q&&(Q.zrByTouch=!0)}function Y(Q,$){return(0,i.OD)(Q.dom,new z(Q,$),!0)}function et(Q,$){for(var nt=$,lt=!1;nt&&nt.nodeType!==9&&!(lt=nt.domBelongToZr||nt!==$&&nt===Q.painterRoot);)nt=nt.parentNode;return lt}var z=function(){function Q($,nt){this.stopPropagation=o.ZT,this.stopImmediatePropagation=o.ZT,this.preventDefault=o.ZT,this.type=nt.type,this.target=this.currentTarget=$.dom,this.pointerType=nt.pointerType,this.clientX=nt.clientX,this.clientY=nt.clientY}return Q}(),k={mousedown:function(Q){Q=(0,i.OD)(this.dom,Q),this.__mayPointerCapture=[Q.zrX,Q.zrY],this.trigger("mousedown",Q)},mousemove:function(Q){Q=(0,i.OD)(this.dom,Q);var $=this.__mayPointerCapture;$&&(Q.zrX!==$[0]||Q.zrY!==$[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",Q)},mouseup:function(Q){Q=(0,i.OD)(this.dom,Q),this.__togglePointerCapture(!1),this.trigger("mouseup",Q)},mouseout:function(Q){Q=(0,i.OD)(this.dom,Q);var $=Q.toElement||Q.relatedTarget;et(this,$)||(this.__pointerCapturing&&(Q.zrEventControl="no_globalout"),this.trigger("mouseout",Q))},wheel:function(Q){D=!0,Q=(0,i.OD)(this.dom,Q),this.trigger("mousewheel",Q)},mousewheel:function(Q){D||(Q=(0,i.OD)(this.dom,Q),this.trigger("mousewheel",Q))},touchstart:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.__lastTouchMoment=new Date,this.handler.processGesture(Q,"start"),k.mousemove.call(this,Q),k.mousedown.call(this,Q)},touchmove:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.handler.processGesture(Q,"change"),k.mousemove.call(this,Q)},touchend:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.handler.processGesture(Q,"end"),k.mouseup.call(this,Q),+new Date-+this.__lastTouchMoment<J&&k.click.call(this,Q)},pointerdown:function(Q){k.mousedown.call(this,Q)},pointermove:function(Q){F(Q)||k.mousemove.call(this,Q)},pointerup:function(Q){k.mouseup.call(this,Q)},pointerout:function(Q){F(Q)||k.mouseout.call(this,Q)}};o.S6(["click","dblclick","contextmenu"],function(Q){k[Q]=function($){$=(0,i.OD)(this.dom,$),this.trigger(Q,$)}});var at={pointermove:function(Q){F(Q)||at.mousemove.call(this,Q)},pointerup:function(Q){at.mouseup.call(this,Q)},mousemove:function(Q){this.trigger("mousemove",Q)},mouseup:function(Q){var $=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",Q),$&&(Q.zrEventControl="only_globalout",this.trigger("mouseout",Q))}};function ft(Q,$){var nt=$.domHandlers;p.Z.pointerEventsSupported?o.S6(H.pointer,function(lt){tt($,lt,function(Ct){nt[lt].call(Q,Ct)})}):(p.Z.touchEventsSupported&&o.S6(H.touch,function(lt){tt($,lt,function(Ct){nt[lt].call(Q,Ct),N($)})}),o.S6(H.mouse,function(lt){tt($,lt,function(Ct){Ct=(0,i.iP)(Ct),$.touching||nt[lt].call(Q,Ct)})}))}function _t(Q,$){p.Z.pointerEventsSupported?o.S6(V.pointer,nt):p.Z.touchEventsSupported||o.S6(V.mouse,nt);function nt(lt){function Ct(Zt){Zt=(0,i.iP)(Zt),et(Q,Zt.target)||(Zt=Y(Q,Zt),$.domHandlers[lt].call(Q,Zt))}tt($,lt,Ct,{capture:!0})}}function tt(Q,$,nt,lt){Q.mounted[$]=nt,Q.listenerOpts[$]=lt,(0,i.Oo)(Q.domTarget,$,nt,lt)}function rt(Q){var $=Q.mounted;for(var nt in $)$.hasOwnProperty(nt)&&(0,i.xg)(Q.domTarget,nt,$[nt],Q.listenerOpts[nt]);Q.mounted={}}var ut=function(){function Q($,nt){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=$,this.domHandlers=nt}return Q}(),ct=function(Q){(0,t.ZT)($,Q);function $(nt,lt){var Ct=Q.call(this)||this;return Ct.__pointerCapturing=!1,Ct.dom=nt,Ct.painterRoot=lt,Ct._localHandlerScope=new ut(nt,k),U&&(Ct._globalHandlerScope=new ut(document,at)),ft(Ct,Ct._localHandlerScope),Ct}return $.prototype.dispose=function(){rt(this._localHandlerScope),U&&rt(this._globalHandlerScope)},$.prototype.setCursor=function(nt){this.dom.style&&(this.dom.style.cursor=nt||"default")},$.prototype.__togglePointerCapture=function(nt){if(this.__mayPointerCapture=null,U&&+this.__pointerCapturing^+nt){this.__pointerCapturing=nt;var lt=this._globalHandlerScope;nt?_t(this,lt):rt(lt)}},$}(h.Z),st=ct,dt=C(96170),ht=C(62623),xt=C(2574);var Rt={},mt={};function St(Q){delete mt[Q]}function It(Q){if(!Q)return!1;if(typeof Q=="string")return(0,dt.lum)(Q,1)<ht.Ak;if(Q.colorStops){for(var $=Q.colorStops,nt=0,lt=$.length,Ct=0;Ct<lt;Ct++)nt+=(0,dt.lum)($[Ct].color,1);return nt/=lt,nt<ht.Ak}return!1}var gt=function(){function Q($,nt,lt){var Ct=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,lt=lt||{},this.dom=nt,this.id=$;var Zt=new x,Ot=lt.renderer||"canvas";Rt[Ot]||(Ot=o.XP(Rt)[0]),lt.useDirtyRect=lt.useDirtyRect==null?!1:lt.useDirtyRect;var bt=new Rt[Ot](nt,Zt,lt,$),Ft=lt.ssr||bt.ssrOnly;this.storage=Zt,this.painter=bt;var zt=!p.Z.node&&!p.Z.worker&&!Ft?new st(bt.getViewportRoot(),bt.root):null,Ht=lt.useCoarsePointer,kt=Ht==null||Ht==="auto"?p.Z.touchEventsSupported:!!Ht,jt=44,Qt;kt&&(Qt=o.pD(lt.pointerSize,jt)),this.handler=new d(Zt,bt,zt,bt.root,Qt),this.animation=new K({stage:{update:Ft?null:function(){return Ct._flush(!0)}}}),Ft||this.animation.start()}return Q.prototype.add=function($){$&&(this.storage.addRoot($),$.addSelfToZr(this),this.refresh())},Q.prototype.remove=function($){$&&(this.storage.delRoot($),$.removeSelfFromZr(this),this.refresh())},Q.prototype.configLayer=function($,nt){this.painter.configLayer&&this.painter.configLayer($,nt),this.refresh()},Q.prototype.setBackgroundColor=function($){this.painter.setBackgroundColor&&this.painter.setBackgroundColor($),this.refresh(),this._backgroundColor=$,this._darkMode=It($)},Q.prototype.getBackgroundColor=function(){return this._backgroundColor},Q.prototype.setDarkMode=function($){this._darkMode=$},Q.prototype.isDarkMode=function(){return this._darkMode},Q.prototype.refreshImmediately=function($){$||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},Q.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},Q.prototype.flush=function(){this._flush(!1)},Q.prototype._flush=function($){var nt,lt=Z();this._needsRefresh&&(nt=!0,this.refreshImmediately($)),this._needsRefreshHover&&(nt=!0,this.refreshHoverImmediately());var Ct=Z();nt?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Ct-lt})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Q.prototype.setSleepAfterStill=function($){this._sleepAfterStill=$},Q.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},Q.prototype.refreshHover=function(){this._needsRefreshHover=!0},Q.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},Q.prototype.resize=function($){$=$||{},this.painter.resize($.width,$.height),this.handler.resize()},Q.prototype.clearAnimation=function(){this.animation.clear()},Q.prototype.getWidth=function(){return this.painter.getWidth()},Q.prototype.getHeight=function(){return this.painter.getHeight()},Q.prototype.setCursorStyle=function($){this.handler.setCursorStyle($)},Q.prototype.findHover=function($,nt){return this.handler.findHover($,nt)},Q.prototype.on=function($,nt,lt){return this.handler.on($,nt,lt),this},Q.prototype.off=function($,nt){this.handler.off($,nt)},Q.prototype.trigger=function($,nt){this.handler.trigger($,nt)},Q.prototype.clear=function(){for(var $=this.storage.getRoots(),nt=0;nt<$.length;nt++)$[nt]instanceof xt.Z&&$[nt].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},Q.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,St(this.id)},Q}();function Tt(Q,$){var nt=new gt(o.M8(),Q,$);return mt[nt.id]=nt,nt}function At(Q){Q.dispose()}function j(){for(var Q in mt)mt.hasOwnProperty(Q)&&mt[Q].dispose();mt={}}function q(Q){return mt[Q]}function yt(Q,$){Rt[Q]=$}var Mt="5.4.3"}}]);
