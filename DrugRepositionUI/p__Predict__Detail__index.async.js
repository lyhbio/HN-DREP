"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[551],{89629:function(ge,T,e){e.r(T),e.d(T,{default:function(){return ae}});var J=e(93525),G=e.n(J),Q=e(52510),Z=e.n(Q),U=e(54306),v=e.n(U),V=e(98432),W=e(36930),j=e(715),X=e(32487),g=e(74897),S=e(36304),x=e(28062),A=e(52914),y=e(30015),D=e(35986),B=e(29222),$=e(76293),b=e(98619),C=e(93236),E=e(89082),i=e(57350),o=e(78679),k=e(30010),q=e(2630),_=e(32699),n=e(62086),ee=function(c){var f=c.diseaseId;return(0,n.jsx)(j.Z,{title:"Disease Info",bordered:!0,headerBordered:!0,children:(0,n.jsx)(i.mS,{diseaseId:f})})},ne=function(c){var f=c.drugId;return(0,n.jsx)(j.Z,{title:"Drug Info",bordered:!0,headerBordered:!0,children:(0,n.jsx)(i.oq,{drugId:f})})},te=function(){var c=(0,g.useSearchParams)(),f=v()(c,1),I=f[0],d=I.get("type")||o.rZ.drug,N=I.get("id")||void 0,K=I.get("name")||void 0,R=(0,g.useRequest)(function(){return(0,k.cB)({drugbank_id:d===o.rZ.drug?N:void 0,disease_name:d===o.rZ.disease?K:void 0},d===o.rZ.drug)},{refreshDeps:[d]}),m=R.data,re=R.loading,se=(0,S.Z)([]),z=v()(se,2),de=z[0],oe=z[1],ue=(0,S.Z)([]),F=v()(ue,2),p=F[0],ie=F[1],le=(0,S.Z)(""),Y=v()(le,2),h=Y[0],M=Y[1],P=(0,x.Z)(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"disease_name",s={};a==null||a.forEach(function(r){s[r[t]]?s[r[t]].includes(r.method_name)||s[r[t]].push(r.method_name):s[r[t]]=[r.method_name]});var u=[];return Object.keys(s).forEach(function(r){var l=a.find(function(ve){return ve[t]===r}),O=t==="disease_name"?"disease_id":"drugbank_id";l&&u.push({name:r,methods:s[r],id:l[O]})}),u.sort(function(r,l){return l.methods.length-r.methods.length}),u}),w=(0,x.Z)(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"disease_name",s=P(a,t),u=s.map(function(r){var l,O=(l={},Z()(l,t==="disease_name"?"Disease Name":"Drug Name",r.name),Z()(l,"Count",r.methods.length),Z()(l,"Methods",r.methods.join(" ")),l);return O});return u}),me=(0,x.Z)(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];a.forEach(function(s){t.includes(s.method_name)||t.push(s.method_name)}),t.length&&M(t[0]),oe(t)}),ce=(0,x.Z)(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,s=a.filter(function(u){return u.method_name===t});ie(s)}),H=(0,C.useMemo)(function(){return P(m,d===o.rZ.drug?"disease_name":"drug_name")},[m,P,d]),fe=(0,C.useMemo)(function(){return w(m,d===o.rZ.drug?"disease_name":"drug_name")},[m,w,d]),he=(0,C.useMemo)(function(){return d===o.rZ.drug?i.mS.diseaseIdsColumns:[]},[d]);return(0,A.Z)(function(){me(m)},[m]),(0,A.Z)(function(){ce(m,h)},[m,h]),(0,n.jsxs)(W._z,{backIcon:(0,n.jsx)(V.Z,{}),onBack:g.history.back,title:d===o.rZ.drug?"Drug Details":"Disease Details",children:[d===o.rZ.disease?(0,n.jsx)(ee,{diseaseName:K,diseaseId:N}):(0,n.jsx)(ne,{drugId:N}),(0,n.jsx)(j.Z,{className:"mt-md",title:"Predicted Results",tooltip:(0,n.jsxs)("div",{children:["The prediction result block only shows the first 100 prediction results of the method on each dataset with a prediction score greater than 0.5. If you want to get all the results, you can get it on the",(0,n.jsx)(y.Z.Link,{style:{margin:"0 8px"},onClick:function(){g.history.push("/download")},children:"download"}),"page."]}),bordered:!0,headerBordered:!0,loading:re?(0,n.jsx)(X.uk,{type:"list"}):null,children:H.length>0?(0,n.jsxs)(D.Z,{gutter:60,children:[(0,n.jsxs)(B.Z,{span:12,children:[(0,n.jsxs)(D.Z,{justify:"space-between",className:"mb-md",children:[(0,n.jsx)(y.Z.Title,{level:5,children:"Overview"}),(0,n.jsx)(i.o6,{downloadContent:(0,E.o3)(fe),downloadFileName:"Overview.csv"})]}),(0,n.jsx)(i.oY,{customSticky:!1,search:!1,pagination:!1,rowKey:function(t){return JSON.stringify(t)},dataSource:H,columns:[d===o.rZ.drug?i.mS.diseaseNameColumn:i.oq.drugNameColumn,{title:"Count",dataIndex:"count",width:120,render:function(t,s){return s.methods.length}},{title:"Methods",dataIndex:"methods",render:function(t,s){return(0,n.jsx)($.Z,{size:"small",children:s.methods.map(function(u){return(0,n.jsx)(y.Z.Text,{className:u===h?"link-text":"pointer-text",onClick:function(){M(u)},children:u},u)})})}}]})]}),(0,n.jsxs)(B.Z,{span:12,children:[(0,n.jsx)(D.Z,{justify:"end",className:"mb-md",children:(0,n.jsx)(i.o6,{disabled:p.length===0,downloadContent:(0,E.o3)(p),downloadFileName:"".concat(h,".csv")})}),(0,n.jsx)(b.Z,{activeKey:h,onChange:function(t){M(t)},items:de.map(function(a){return{key:a,label:a}})}),(0,n.jsx)(i.oY,{customSticky:!1,search:!1,pagination:!1,rowKey:"index",dataSource:p,columns:[{title:"Order",dataIndex:"index",valueType:"indexBorder",align:"center",fixed:"left",width:60},d===o.rZ.drug?{}:i.oq.drugNameColumn,d===o.rZ.drug?{}:i.oq.drugIdColumn].concat(G()(he),[{dataIndex:"score",title:"Score",fixed:"right",align:"center",width:140}]).filter(function(a){return!(0,_.isEmpty)(a)})})]})]}):(0,n.jsx)(q.HY,{description:"No Predicting results"})})]})},ae=te}}]);
