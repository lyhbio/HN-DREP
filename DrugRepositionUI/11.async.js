(self.webpackChunk=self.webpackChunk||[]).push([[11],{37046:function(ht,q,R){"use strict";var p=R(80881),s=R(49865),t=R(88908),r=R(76867),e=R(39186),n=R(3023),o=p.Z.extend(function(){return{projectionMatrix:new s.Z,invProjectionMatrix:new s.Z,viewMatrix:new s.Z,frustum:new t.Z}},function(){this.update(!0)},{update:function(h){p.Z.prototype.update.call(this,h),s.Z.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),s.Z.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(h){s.Z.copy(this.viewMatrix,h),s.Z.invert(this.worldTransform,h),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(h){s.Z.copy(this.projectionMatrix,h),s.Z.invert(this.invProjectionMatrix,h),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var h=e.Z.create();return function(i,a){var l=a!==void 0?a:new r.Z,_=i.array[0],M=i.array[1];return e.Z.set(h,_,M,-1,1),e.Z.transformMat4(h,h,this.invProjectionMatrix.array),e.Z.transformMat4(h,h,this.worldTransform.array),n.Z.scale(l.origin.array,h,1/h[3]),e.Z.set(h,_,M,1,1),e.Z.transformMat4(h,h,this.invProjectionMatrix.array),e.Z.transformMat4(h,h,this.worldTransform.array),n.Z.scale(h,h,1/h[3]),n.Z.sub(l.direction.array,h,l.origin.array),n.Z.normalize(l.direction.array,l.direction.array),l.direction._dirty=!0,l.origin._dirty=!0,l}}()});q.Z=o},76728:function(ht,q,R){"use strict";var p=R(85038),s=R(88693),t=R(23044),r=R(29100),e="framebuffer",n="renderbuffer",o=n+"_width",h=n+"_height",i=n+"_attached",a="depthtexture_attached",l=t.Z.FRAMEBUFFER,_=t.Z.RENDERBUFFER,M=t.Z.DEPTH_ATTACHMENT,m=t.Z.COLOR_ATTACHMENT0,T=p.Z.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new r.Z,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(y){if(y.__currentFrameBuffer){if(y.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}y.__currentFrameBuffer=this;var P=y.gl;P.bindFramebuffer(l,this._getFrameBufferGL(y)),this._boundRenderer=y;var C=this._cache;C.put("viewport",y.viewport);var O=!1,Z,U;for(var b in this._textures){O=!0;var w=this._textures[b];w&&(Z=w.texture.width,U=w.texture.height,this._doAttach(y,w.texture,b,w.target))}this._width=Z,this._height=U,!O&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?y.setViewport(this.viewport):y.setViewport(0,0,Z,U,1);var A=C.get("attached_textures");if(A){for(var b in A)if(!this._textures[b]){var E=A[b];this._doDetach(P,b,E)}}if(!C.get(a)&&this.depthBuffer){C.miss(n)&&C.put(n,P.createRenderbuffer());var d=C.get(n);(Z!==C.get(o)||U!==C.get(h))&&(P.bindRenderbuffer(_,d),P.renderbufferStorage(_,P.DEPTH_COMPONENT16,Z,U),C.put(o,Z),C.put(h,U),P.bindRenderbuffer(_,null)),C.get(i)||(P.framebufferRenderbuffer(l,M,_,d),C.put(i,!0))}},unbind:function(y){y.__currentFrameBuffer=null;var P=y.gl;P.bindFramebuffer(l,null),this._boundRenderer=null,this._cache.use(y.__uid__);var C=this._cache.get("viewport");C&&y.setViewport(C),this.updateMipmap(y)},updateMipmap:function(y){var P=y.gl;for(var C in this._textures){var O=this._textures[C];if(O){var Z=O.texture;if(!Z.NPOT&&Z.useMipmap&&Z.minFilter===s.Z.LINEAR_MIPMAP_LINEAR){var U=Z.textureType==="textureCube"?t.Z.TEXTURE_CUBE_MAP:t.Z.TEXTURE_2D;P.bindTexture(U,Z.getWebGLTexture(y)),P.generateMipmap(U),P.bindTexture(U,null)}}}},checkStatus:function(y){return y.checkFramebufferStatus(l)},_getFrameBufferGL:function(y){var P=this._cache;return P.use(y.__uid__),P.miss(e)&&P.put(e,y.gl.createFramebuffer()),P.get(e)},attach:function(y,P,C){if(!y.width)throw new Error("The texture attached to color buffer is not a valid.");P=P||m,C=C||t.Z.TEXTURE_2D;var O=this._boundRenderer,Z=O&&O.gl,U;if(Z){var b=this._cache;b.use(O.__uid__),U=b.get("attached_textures")}var w=this._textures[P];if(!(w&&w.target===C&&w.texture===y&&U&&U[P]!=null)){var A=!0;O&&(A=this._doAttach(O,y,P,C),this.viewport||O.setViewport(0,0,y.width,y.height,1)),A&&(this._textures[P]=this._textures[P]||{},this._textures[P].texture=y,this._textures[P].target=C)}},_doAttach:function(y,P,C,O){var Z=y.gl,U=P.getWebGLTexture(y),b=this._cache.get("attached_textures");if(b&&b[C]){var w=b[C];if(w.texture===P&&w.target===O)return}C=+C;var A=!0;if(C===M||C===t.Z.DEPTH_STENCIL_ATTACHMENT){var E=y.getGLExtension("WEBGL_depth_texture");if(E||(console.error("Depth texture is not supported by the browser"),A=!1),P.format!==t.Z.DEPTH_COMPONENT&&P.format!==t.Z.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),A=!1),A){var d=this._cache.get(n);d&&(Z.framebufferRenderbuffer(l,M,_,null),Z.deleteRenderbuffer(d),this._cache.put(n,!1)),this._cache.put(i,!1),this._cache.put(a,!0)}}return Z.framebufferTexture2D(l,C,O,U,0),b||(b={},this._cache.put("attached_textures",b)),b[C]=b[C]||{},b[C].texture=P,b[C].target=O,A},_doDetach:function(y,P,C){y.framebufferTexture2D(l,P,C,null,0);var O=this._cache.get("attached_textures");O&&O[P]&&(O[P]=null),(P===M||P===t.Z.DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(a,!1)},detach:function(y,P){if(this._textures[y]=null,this._boundRenderer){var C=this._cache;C.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,y,P)}},dispose:function(y){var P=y.gl,C=this._cache;C.use(y.__uid__);var O=C.get(n);O&&P.deleteRenderbuffer(O);var Z=C.get(e);Z&&P.deleteFramebuffer(Z),C.deleteContext(y.__uid__),this._textures={}}});T.DEPTH_ATTACHMENT=M,T.COLOR_ATTACHMENT0=m,T.STENCIL_ATTACHMENT=t.Z.STENCIL_ATTACHMENT,T.DEPTH_STENCIL_ATTACHMENT=t.Z.DEPTH_STENCIL_ATTACHMENT,q.Z=T},11476:function(ht,q,R){"use strict";R.d(q,{Z:function(){return Z}});var p=R(82544),s=R(3023),t=R(85822),r=R(37233),e=R(85038),n=R(23044),o=R(29100);function h(U){return{byte:p.Z.Int8Array,ubyte:p.Z.Uint8Array,short:p.Z.Int16Array,ushort:p.Z.Uint16Array}[U]||p.Z.Float32Array}function i(U){return"attr_"+U}function a(U,b,w,A){switch(this.name=U,this.type=b,this.size=w,this.semantic=A||"",this.value=null,w){case 1:this.get=function(E){return this.value[E]},this.set=function(E,d){this.value[E]=d},this.copy=function(E,d){this.value[E]=this.value[E]};break;case 2:this.get=function(E,d){var f=this.value;return d[0]=f[E*2],d[1]=f[E*2+1],d},this.set=function(E,d){var f=this.value;f[E*2]=d[0],f[E*2+1]=d[1]},this.copy=function(E,d){var f=this.value;d*=2,E*=2,f[E]=f[d],f[E+1]=f[d+1]};break;case 3:this.get=function(E,d){var f=E*3,u=this.value;return d[0]=u[f],d[1]=u[f+1],d[2]=u[f+2],d},this.set=function(E,d){var f=E*3,u=this.value;u[f]=d[0],u[f+1]=d[1],u[f+2]=d[2]},this.copy=function(E,d){var f=this.value;d*=3,E*=3,f[E]=f[d],f[E+1]=f[d+1],f[E+2]=f[d+2]};break;case 4:this.get=function(E,d){var f=this.value,u=E*4;return d[0]=f[u],d[1]=f[u+1],d[2]=f[u+2],d[3]=f[u+3],d},this.set=function(E,d){var f=this.value,u=E*4;f[u]=d[0],f[u+1]=d[1],f[u+2]=d[2],f[u+3]=d[3]},this.copy=function(E,d){var f=this.value;d*=4,E*=4,f[E]=f[d],f[E+1]=f[d+1],f[E+2]=f[d+2],f[E+3]=f[d+3]}}}a.prototype.init=function(U){if(!this.value||this.value.length!==U*this.size){var b=h(this.type);this.value=new b(U*this.size)}},a.prototype.fromArray=function(U){var b=h(this.type),w;if(U[0]&&U[0].length){var A=0,E=this.size;w=new b(U.length*E);for(var d=0;d<U.length;d++)for(var f=0;f<E;f++)w[A++]=U[d][f]}else w=new b(U);this.value=w},a.prototype.clone=function(U){var b=new a(this.name,this.type,this.size,this.semantic);return U&&console.warn("todo"),b};function l(U,b,w,A,E){this.name=U,this.type=b,this.buffer=w,this.size=A,this.semantic=E,this.symbol="",this.needsRemove=!1}function _(U){this.buffer=U,this.count=0}var M=e.Z.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new o.Z,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var U=this.getEnabledAttributes(),b=0;b<U.length;b++)this.dirtyAttribute(U[b]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(U){this._cache.dirtyAll(i(U)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(U,b){if(U<this.triangleCount&&U>=0){b||(b=[]);var w=this.indices;return b[0]=w[U*3],b[1]=w[U*3+1],b[2]=w[U*3+2],b}},setTriangleIndices:function(U,b){var w=this.indices;w[U*3]=b[0],w[U*3+1]=b[1],w[U*3+2]=b[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(U){var b,w=this.vertexCount>65535?p.Z.Uint32Array:p.Z.Uint16Array;if(U[0]&&U[0].length){var A=0,E=3;b=new w(U.length*E);for(var d=0;d<U.length;d++)for(var f=0;f<E;f++)b[A++]=U[d][f]}else b=new w(U);this.indices=b},createAttribute:function(U,b,w,A){var E=new a(U,b,w,A);return this.attributes[U]&&this.removeAttribute(U),this.attributes[U]=E,this._attributeList.push(U),E},removeAttribute:function(U){var b=this._attributeList,w=b.indexOf(U);return w>=0?(b.splice(w,1),delete this.attributes[U],!0):!1},getAttribute:function(U){return this.attributes[U]},getEnabledAttributes:function(){var U=this._enabledAttributes,b=this._attributeList;if(U)return U;for(var w=[],A=this.vertexCount,E=0;E<b.length;E++){var d=b[E],f=this.attributes[d];f.value&&f.value.length===A*f.size&&w.push(d)}return this._enabledAttributes=w,w},getBufferChunks:function(U){var b=this._cache;b.use(U.__uid__);var w=b.isDirty("attributes"),A=b.isDirty("indices");if(w||A){this._updateBuffer(U.gl,w,A);for(var E=this.getEnabledAttributes(),d=0;d<E.length;d++)b.fresh(i(E[d]));b.fresh("attributes"),b.fresh("indices")}return b.fresh("any"),b.get("chunks")},_updateBuffer:function(U,b,w){var A=this._cache,E=A.get("chunks"),d=!1;E||(E=[],E[0]={attributeBuffers:[],indicesBuffer:null},A.put("chunks",E),d=!0);var f=E[0],u=f.attributeBuffers,v=f.indicesBuffer;if(b||d){var c=this.getEnabledAttributes(),g={};if(!d)for(var D=0;D<u.length;D++)g[u[D].name]=u[D];for(var x=0;x<c.length;x++){var L=c[x],I=this.attributes[L],N;d||(N=g[L]);var G;N?G=N.buffer:G=U.createBuffer(),A.isDirty(i(L))&&(U.bindBuffer(U.ARRAY_BUFFER,G),U.bufferData(U.ARRAY_BUFFER,I.value,this.dynamic?U.DYNAMIC_DRAW:U.STATIC_DRAW)),u[x]=new l(L,I.type,G,I.size,I.semantic)}for(var D=x;D<u.length;D++)U.deleteBuffer(u[D].buffer);u.length=x}this.isUseIndices()&&(w||d)&&(v||(v=new _(U.createBuffer()),f.indicesBuffer=v),v.count=this.indices.length,U.bindBuffer(U.ELEMENT_ARRAY_BUFFER,v.buffer),U.bufferData(U.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?U.DYNAMIC_DRAW:U.STATIC_DRAW))},dispose:function(U){var b=this._cache;b.use(U.__uid__);var w=b.get("chunks");if(w)for(var A=0;A<w.length;A++){for(var E=w[A],d=0;d<E.attributeBuffers.length;d++){var f=E.attributeBuffers[d];U.gl.deleteBuffer(f.buffer)}E.indicesBuffer&&U.gl.deleteBuffer(E.indicesBuffer.buffer)}if(this.__vaoCache){var u=U.getGLExtension("OES_vertex_array_object");for(var v in this.__vaoCache){var c=this.__vaoCache[v].vao;c&&u.deleteVertexArrayOES(c)}}this.__vaoCache={},b.deleteContext(U.__uid__)}});Object.defineProperty&&(Object.defineProperty(M.prototype,"vertexCount",{enumerable:!1,get:function(){var U=this.attributes[this.mainAttribute];return U||(U=this.attributes[this._attributeList[0]]),!U||!U.value?0:U.value.length/U.size}}),Object.defineProperty(M.prototype,"triangleCount",{enumerable:!1,get:function(){var U=this.indices;return U?U.length/3:0}})),M.STATIC_DRAW=n.Z.STATIC_DRAW,M.DYNAMIC_DRAW=n.Z.DYNAMIC_DRAW,M.STREAM_DRAW=n.Z.STREAM_DRAW,M.AttributeBuffer=l,M.IndicesBuffer=_,M.Attribute=a;var m=M,T=s.Z.create,y=s.Z.add,P=s.Z.set,C=m.Attribute,O=m.extend(function(){return{attributes:{position:new C("position","float",3,"POSITION"),texcoord0:new C("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new C("texcoord1","float",2,"TEXCOORD_1"),normal:new C("normal","float",3,"NORMAL"),tangent:new C("tangent","float",4,"TANGENT"),color:new C("color","float",4,"COLOR"),weight:new C("weight","float",3,"WEIGHT"),joint:new C("joint","float",4,"JOINT"),barycentric:new C("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var U=this.boundingBox;U||(U=this.boundingBox=new r.Z);var b=this.attributes.position.value;if(b&&b.length){var w=U.min,A=U.max,E=w.array,d=A.array;s.Z.set(E,b[0],b[1],b[2]),s.Z.set(d,b[0],b[1],b[2]);for(var f=3;f<b.length;){var u=b[f++],v=b[f++],c=b[f++];u<E[0]&&(E[0]=u),v<E[1]&&(E[1]=v),c<E[2]&&(E[2]=c),u>d[0]&&(d[0]=u),v>d[1]&&(d[1]=v),c>d[2]&&(d[2]=c)}w._dirty=!0,A._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var U=this.indices,b=this.attributes,w=b.position.value,A=b.normal.value;if(!A||A.length!==w.length)A=b.normal.value=new p.Z.Float32Array(w.length);else for(var E=0;E<A.length;E++)A[E]=0;for(var d=T(),f=T(),u=T(),v=T(),c=T(),g=T(),D=U?U.length:this.vertexCount,x,L,I,N=0;N<D;){U?(x=U[N++],L=U[N++],I=U[N++]):(x=N++,L=N++,I=N++),P(d,w[x*3],w[x*3+1],w[x*3+2]),P(f,w[L*3],w[L*3+1],w[L*3+2]),P(u,w[I*3],w[I*3+1],w[I*3+2]),s.Z.sub(v,d,f),s.Z.sub(c,f,u),s.Z.cross(g,v,c);for(var E=0;E<3;E++)A[x*3+E]=A[x*3+E]+g[E],A[L*3+E]=A[L*3+E]+g[E],A[I*3+E]=A[I*3+E]+g[E]}for(var E=0;E<A.length;)P(g,A[E],A[E+1],A[E+2]),s.Z.normalize(g,g),A[E++]=g[0],A[E++]=g[1],A[E++]=g[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var U=this.indices,b=this.attributes,w=b.position.value,A=b.normal.value,E=T(),d=T(),f=T(),u=T(),v=T(),c=T();A||(A=b.normal.value=new Float32Array(w.length));for(var g=U?U.length:this.vertexCount,D,x,L,I=0;I<g;){U?(D=U[I++],x=U[I++],L=U[I++]):(D=I++,x=I++,L=I++),P(E,w[D*3],w[D*3+1],w[D*3+2]),P(d,w[x*3],w[x*3+1],w[x*3+2]),P(f,w[L*3],w[L*3+1],w[L*3+2]),s.Z.sub(u,E,d),s.Z.sub(v,d,f),s.Z.cross(c,u,v),s.Z.normalize(c,c);for(var N=0;N<3;N++)A[D*3+N]=c[N],A[x*3+N]=c[N],A[L*3+N]=c[N]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var U=this.vertexCount,b=this.attributes;b.tangent.value||(b.tangent.value=new Float32Array(U*4));var w=b.texcoord0.value,A=b.position.value,E=b.tangent.value,d=b.normal.value;if(!w){console.warn("Geometry without texcoords can't generate tangents.");return}for(var f=[],u=[],v=0;v<U;v++)f[v]=[0,0,0],u[v]=[0,0,0];for(var c=[0,0,0],g=[0,0,0],D=this.indices,x=D?D.length:this.vertexCount,L,I,N,v=0;v<x;){D?(L=D[v++],I=D[v++],N=D[v++]):(L=v++,I=v++,N=v++);var G=w[L*2],K=w[I*2],J=w[N*2],F=w[L*2+1],H=w[I*2+1],V=w[N*2+1],S=A[L*3],W=A[I*3],B=A[N*3],X=A[L*3+1],Y=A[I*3+1],nt=A[N*3+1],z=A[L*3+2],j=A[I*3+2],at=A[N*3+2],ft=W-S,pt=B-S,rt=Y-X,et=nt-X,ut=j-z,dt=at-z,ot=K-G,_t=J-G,lt=H-F,Mt=V-F,Dt=1/(ot*Mt-lt*_t);c[0]=(Mt*ft-lt*pt)*Dt,c[1]=(Mt*rt-lt*et)*Dt,c[2]=(Mt*ut-lt*dt)*Dt,g[0]=(ot*pt-_t*ft)*Dt,g[1]=(ot*et-_t*rt)*Dt,g[2]=(ot*dt-_t*ut)*Dt,y(f[L],f[L],c),y(f[I],f[I],c),y(f[N],f[N],c),y(u[L],u[L],g),y(u[I],u[I],g),y(u[N],u[N],g)}for(var Et=T(),St=T(),It=T(),v=0;v<U;v++){It[0]=d[v*3],It[1]=d[v*3+1],It[2]=d[v*3+2];var mt=f[v];s.Z.scale(Et,It,s.Z.dot(It,mt)),s.Z.sub(Et,mt,Et),s.Z.normalize(Et,Et),s.Z.cross(St,It,mt),E[v*4]=Et[0],E[v*4+1]=Et[1],E[v*4+2]=Et[2],E[v*4+3]=s.Z.dot(St,u[v])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return this.isUseIndices()?this.vertexCount===this.indices.length:!0},generateUniqueVertex:function(){if(!(!this.vertexCount||!this.indices)){this.indices.length>65535&&(this.indices=new p.Z.Uint32Array(this.indices));for(var U=this.attributes,b=this.indices,w=this.getEnabledAttributes(),A={},E=0;E<w.length;E++){var d=w[E];A[d]=U[d].value,U[d].init(this.indices.length)}for(var f=0,u=0;u<b.length;u++){for(var v=b[u],E=0;E<w.length;E++)for(var d=w[E],c=U[d].value,g=U[d].size,D=0;D<g;D++)c[f*g+D]=A[d][v*g+D];b[u]=f,f++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var U=this.attributes,b=U.barycentric.value,w=this.indices;if(!(b&&b.length===w.length*3)){b=U.barycentric.value=new Float32Array(w.length*3);for(var A=0;A<(w?w.length:this.vertexCount/3);)for(var E=0;E<3;E++){var d=w?w[A++]:A*3+E;b[d*3+E]=1}this.dirty()}}},applyTransform:function(U){var b=this.attributes,w=b.position.value,A=b.normal.value,E=b.tangent.value;U=U.array;var d=t.Z.create();t.Z.invert(d,U),t.Z.transpose(d,d);var f=s.Z.transformMat4,u=s.Z.forEach;u(w,3,0,null,f,U),A&&u(A,3,0,null,f,d),E&&u(E,4,0,null,f,d),this.boundingBox&&this.updateBoundingBox()},dispose:function(U){var b=this._cache;b.use(U.__uid__);var w=b.get("chunks");if(w)for(var A=0;A<w.length;A++){for(var E=w[A],d=0;d<E.attributeBuffers.length;d++){var f=E.attributeBuffers[d];U.gl.deleteBuffer(f.buffer)}E.indicesBuffer&&U.gl.deleteBuffer(E.indicesBuffer.buffer)}if(this.__vaoCache){var u=U.getGLExtension("OES_vertex_array_object");for(var v in this.__vaoCache){var c=this.__vaoCache[v].vao;c&&u.deleteVertexArrayOES(c)}}this.__vaoCache={},b.deleteContext(U.__uid__)}});O.STATIC_DRAW=m.STATIC_DRAW,O.DYNAMIC_DRAW=m.DYNAMIC_DRAW,O.STREAM_DRAW=m.STREAM_DRAW,O.AttributeBuffer=m.AttributeBuffer,O.IndicesBuffer=m.IndicesBuffer,O.Attribute=C;var Z=O},92449:function(ht,q,R){"use strict";R.d(q,{Z:function(){return l}});var p=R(80881),s=R(60217),t=`vec3 calcAmbientSHLight(int idx, vec3 N) {
 int offset = 9 * idx;
 return ambientSHLightCoefficients[0]
 + ambientSHLightCoefficients[1] * N.x
 + ambientSHLightCoefficients[2] * N.y
 + ambientSHLightCoefficients[3] * N.z
 + ambientSHLightCoefficients[4] * N.x * N.z
 + ambientSHLightCoefficients[5] * N.z * N.y
 + ambientSHLightCoefficients[6] * N.y * N.x
 + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)
 + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);
}`,r="uniform vec3 ",e="uniform float ",n="@export clay.header.",o="@end",h=":unconfigurable;",i=[n+"directional_light",r+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+h,r+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+h,o,n+"ambient_light",r+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+h,o,n+"ambient_sh_light",r+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+h,r+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+h,t,o,n+"ambient_cubemap_light",r+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+h,o,n+"point_light",r+"pointLightPosition[POINT_LIGHT_COUNT]"+h,e+"pointLightRange[POINT_LIGHT_COUNT]"+h,r+"pointLightColor[POINT_LIGHT_COUNT]"+h,o,n+"spot_light",r+"spotLightPosition[SPOT_LIGHT_COUNT]"+h,r+"spotLightDirection[SPOT_LIGHT_COUNT]"+h,e+"spotLightRange[SPOT_LIGHT_COUNT]"+h,e+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+h,e+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+h,e+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+h,r+"spotLightColor[SPOT_LIGHT_COUNT]"+h,o].join(`
`);s.Z.import(i);var a=p.Z.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var _=p.Z.prototype.clone.call(this);return _.color=Array.prototype.slice.call(this.color),_.intensity=this.intensity,_.castShadow=this.castShadow,_.shadowResolution=this.shadowResolution,_}}),l=a},84708:function(ht,q,R){"use strict";R.d(q,{Z:function(){return d}});var p=R(85038),s=R(34635),t=R(60193),r={},e={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(f){return f=Math.round(f),f<0?0:f>255?255:f}function o(f){return f=Math.round(f),f<0?0:f>360?360:f}function h(f){return f<0?0:f>1?1:f}function i(f){return f.length&&f.charAt(f.length-1)==="%"?n(parseFloat(f)/100*255):n(parseInt(f,10))}function a(f){return f.length&&f.charAt(f.length-1)==="%"?h(parseFloat(f)/100):h(parseFloat(f))}function l(f,u,v){return v<0?v+=1:v>1&&(v-=1),v*6<1?f+(u-f)*v*6:v*2<1?u:v*3<2?f+(u-f)*(2/3-v)*6:f}function _(f,u,v){return f+(u-f)*v}function M(f,u,v,c,g){return f[0]=u,f[1]=v,f[2]=c,f[3]=g,f}function m(f,u){return f[0]=u[0],f[1]=u[1],f[2]=u[2],f[3]=u[3],f}var T=new t.Z(20),y=null;function P(f,u){y&&m(y,u),y=T.put(f,y||u.slice())}r.parse=function(f,u){if(f){u=u||[];var v=T.get(f);if(v)return m(u,v);f=f+"";var c=f.replace(/ /g,"").toLowerCase();if(c in e)return m(u,e[c]),P(f,u),u;if(c.charAt(0)==="#"){if(c.length===4){var g=parseInt(c.substr(1),16);if(!(g>=0&&g<=4095)){M(u,0,0,0,1);return}return M(u,(g&3840)>>4|(g&3840)>>8,g&240|(g&240)>>4,g&15|(g&15)<<4,1),P(f,u),u}else if(c.length===7){var g=parseInt(c.substr(1),16);if(!(g>=0&&g<=16777215)){M(u,0,0,0,1);return}return M(u,(g&16711680)>>16,(g&65280)>>8,g&255,1),P(f,u),u}return}var D=c.indexOf("("),x=c.indexOf(")");if(D!==-1&&x+1===c.length){var L=c.substr(0,D),I=c.substr(D+1,x-(D+1)).split(","),N=1;switch(L){case"rgba":if(I.length!==4){M(u,0,0,0,1);return}N=a(I.pop());case"rgb":if(I.length!==3){M(u,0,0,0,1);return}return M(u,i(I[0]),i(I[1]),i(I[2]),N),P(f,u),u;case"hsla":if(I.length!==4){M(u,0,0,0,1);return}return I[3]=a(I[3]),C(I,u),P(f,u),u;case"hsl":if(I.length!==3){M(u,0,0,0,1);return}return C(I,u),P(f,u),u;default:return}}M(u,0,0,0,1)}},r.parseToFloat=function(f,u){if(u=r.parse(f,u),!!u)return u[0]/=255,u[1]/=255,u[2]/=255,u};function C(f,u){var v=(parseFloat(f[0])%360+360)%360/360,c=a(f[1]),g=a(f[2]),D=g<=.5?g*(c+1):g+c-g*c,x=g*2-D;return u=u||[],M(u,n(l(x,D,v+1/3)*255),n(l(x,D,v)*255),n(l(x,D,v-1/3)*255),1),f.length===4&&(u[3]=f[3]),u}function O(f){if(f){var u=f[0]/255,v=f[1]/255,c=f[2]/255,g=Math.min(u,v,c),D=Math.max(u,v,c),x=D-g,L=(D+g)/2,I,N;if(x===0)I=0,N=0;else{L<.5?N=x/(D+g):N=x/(2-D-g);var G=((D-u)/6+x/2)/x,K=((D-v)/6+x/2)/x,J=((D-c)/6+x/2)/x;u===D?I=J-K:v===D?I=1/3+G-J:c===D&&(I=2/3+K-G),I<0&&(I+=1),I>1&&(I-=1)}var F=[I*360,N,L];return f[3]!=null&&F.push(f[3]),F}}r.lift=function(f,u){var v=r.parse(f);if(v){for(var c=0;c<3;c++)u<0?v[c]=v[c]*(1-u)|0:v[c]=(255-v[c])*u+v[c]|0;return r.stringify(v,v.length===4?"rgba":"rgb")}},r.toHex=function(f){var u=r.parse(f);if(u)return((1<<24)+(u[0]<<16)+(u[1]<<8)+ +u[2]).toString(16).slice(1)},r.fastLerp=function(f,u,v){if(!(!(u&&u.length)||!(f>=0&&f<=1))){v=v||[];var c=f*(u.length-1),g=Math.floor(c),D=Math.ceil(c),x=u[g],L=u[D],I=c-g;return v[0]=n(_(x[0],L[0],I)),v[1]=n(_(x[1],L[1],I)),v[2]=n(_(x[2],L[2],I)),v[3]=h(_(x[3],L[3],I)),v}},r.fastMapToColor=r.fastLerp,r.lerp=function(f,u,v){if(!(!(u&&u.length)||!(f>=0&&f<=1))){var c=f*(u.length-1),g=Math.floor(c),D=Math.ceil(c),x=r.parse(u[g]),L=r.parse(u[D]),I=c-g,N=r.stringify([n(_(x[0],L[0],I)),n(_(x[1],L[1],I)),n(_(x[2],L[2],I)),h(_(x[3],L[3],I))],"rgba");return v?{color:N,leftIndex:g,rightIndex:D,value:c}:N}},r.mapToColor=r.lerp,r.modifyHSL=function(f,u,v,c){if(f=r.parse(f),f)return f=O(f),u!=null&&(f[0]=o(u)),v!=null&&(f[1]=a(v)),c!=null&&(f[2]=a(c)),r.stringify(C(f),"rgba")},r.modifyAlpha=function(f,u){if(f=r.parse(f),f&&u!=null)return f[3]=h(u),r.stringify(f,"rgba")},r.stringify=function(f,u){if(!(!f||!f.length)){var v=f[0]+","+f[1]+","+f[2];return(u==="rgba"||u==="hsva"||u==="hsla")&&(v+=","+f[3]),u+"("+v+")"}};var Z=r,U=Z.parseToFloat,b={};function w(f){var u=Object.keys(f);u.sort();for(var v=[],c=0;c<u.length;c++){var g=u[c],D=f[g];D===null?v.push(g):v.push(g+" "+D.toString())}return v.join(`
`)}function A(f,u,v){v.sort();for(var c=[],g=0;g<v.length;g++){var D=v[g];c.push(D)}var x=w(f)+`
`+w(u)+`
`+c.join(`
`);if(b[x])return b[x];var L=s.Z.genGUID();return b[x]=L,L}var E=p.Z.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(f,u){u===void 0&&console.warn('Uniform value "'+f+'" is undefined');var v=this.uniforms[f];v&&(typeof u=="string"&&(u=U(u)||u),v.value=u,this.autoUpdateTextureStatus&&v.type==="t"&&(u?this.enableTexture(f):this.disableTexture(f)))},setUniforms:function(f){for(var u in f){var v=f[u];this.setUniform(u,v)}},isUniformEnabled:function(f){return this._enabledUniforms.indexOf(f)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(f,u){if(typeof f=="object")for(var v in f){var c=f[v];this.setUniform(v,c)}else this.setUniform(f,u)},get:function(f){var u=this.uniforms[f];if(u)return u.value},attachShader:function(f,u){var v=this.uniforms;this.uniforms=f.createUniforms(),this.shader=f;var c=this.uniforms;this._enabledUniforms=Object.keys(c),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(N){var G=this.uniforms[N].type;return G==="t"||G==="tv"},this);var g=this.vertexDefines,D=this.fragmentDefines;if(this.vertexDefines=s.Z.clone(f.vertexDefines),this.fragmentDefines=s.Z.clone(f.fragmentDefines),u){for(var x in v)c[x]&&(c[x].value=v[x].value);s.Z.defaults(this.vertexDefines,g),s.Z.defaults(this.fragmentDefines,D)}var L={};for(var I in f.textures)L[I]={shaderType:f.textures[I].shaderType,type:f.textures[I].type,enabled:u&&this._textureStatus[I]?this._textureStatus[I].enabled:!1};this._textureStatus=L,this._programKey=""},clone:function(){var f=new this.constructor({name:this.name,shader:this.shader});for(var u in this.uniforms)f.uniforms[u].value=this.uniforms[u].value;return f.depthTest=this.depthTest,f.depthMask=this.depthMask,f.transparent=this.transparent,f.blend=this.blend,f.vertexDefines=s.Z.clone(this.vertexDefines),f.fragmentDefines=s.Z.clone(this.fragmentDefines),f.enableTexture(this.getEnabledTextures()),f.precision=this.precision,f},define:function(f,u,v){var c=this.vertexDefines,g=this.fragmentDefines;f!=="vertex"&&f!=="fragment"&&f!=="both"&&arguments.length<3&&(v=u,u=f,f="both"),v=v!=null?v:null,(f==="vertex"||f==="both")&&c[u]!==v&&(c[u]=v,this._programKey=""),(f==="fragment"||f==="both")&&g[u]!==v&&(g[u]=v,f!=="both"&&(this._programKey=""))},undefine:function(f,u){f!=="vertex"&&f!=="fragment"&&f!=="both"&&arguments.length<2&&(u=f,f="both"),(f==="vertex"||f==="both")&&this.isDefined("vertex",u)&&(delete this.vertexDefines[u],this._programKey=""),(f==="fragment"||f==="both")&&this.isDefined("fragment",u)&&(delete this.fragmentDefines[u],f!=="both"&&(this._programKey=""))},isDefined:function(f,u){switch(f){case"vertex":return this.vertexDefines[u]!==void 0;case"fragment":return this.fragmentDefines[u]!==void 0}},getDefine:function(f,u){switch(f){case"vertex":return this.vertexDefines[u];case"fragment":return this.fragmentDefines[u]}},enableTexture:function(f){if(Array.isArray(f)){for(var u=0;u<f.length;u++)this.enableTexture(f[u]);return}var v=this._textureStatus[f];if(v){var c=v.enabled;c||(v.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var f=this._textureStatus;for(var u in f)f[u].enabled=!0;this._programKey=""},disableTexture:function(f){if(Array.isArray(f)){for(var u=0;u<f.length;u++)this.disableTexture(f[u]);return}var v=this._textureStatus[f];if(v){var c=!v.enabled;c||(v.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var f=this._textureStatus;for(var u in f)f[u].enabled=!1;this._programKey=""},isTextureEnabled:function(f){var u=this._textureStatus;return!!u[f]&&u[f].enabled},getEnabledTextures:function(){var f=[],u=this._textureStatus;for(var v in u)u[v].enabled&&f.push(v);return f},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=A(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),d=E},30420:function(ht,q,R){"use strict";var p=R(38934),s=R(23044),t=p.Z.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var r=p.Z.prototype.clone.call(this);return r.skeleton=this.skeleton,this.joints&&(r.joints=this.joints.slice()),r}});t.POINTS=s.Z.POINTS,t.LINES=s.Z.LINES,t.LINE_LOOP=s.Z.LINE_LOOP,t.LINE_STRIP=s.Z.LINE_STRIP,t.TRIANGLES=s.Z.TRIANGLES,t.TRIANGLE_STRIP=s.Z.TRIANGLE_STRIP,t.TRIANGLE_FAN=s.Z.TRIANGLE_FAN,t.BACK=s.Z.BACK,t.FRONT=s.Z.FRONT,t.FRONT_AND_BACK=s.Z.FRONT_AND_BACK,t.CW=s.Z.CW,t.CCW=s.Z.CCW,q.Z=t},80881:function(ht,q,R){"use strict";var p=R(85038),s=R(14147),t=R(13075),r=R(49865),e=R(85822),n=R(37233),o=0,h=p.Z.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+o++),this.position||(this.position=new s.Z),this.rotation||(this.rotation=new t.Z),this.scale||(this.scale=new s.Z(1,1,1)),this.worldTransform=new r.Z,this.localTransform=new r.Z,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(i){var a=this._scene;if(a){var l=a._nodeRepository;delete l[this.name],l[i]=this}this.name=i},add:function(i){var a=i._parent;if(a!==this){a&&a.remove(i),i._parent=this,this._children.push(i);var l=this._scene;l&&l!==i.scene&&i.traverse(this._addSelfToScene,this),i._needsUpdateWorldTransform=!0}},remove:function(i){var a=this._children,l=a.indexOf(i);l<0||(a.splice(l,1),i._parent=null,this._scene&&i.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var i=this._children,a=0;a<i.length;a++)i[a]._parent=null,this._scene&&i[a].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(i){i._scene.removeFromScene(i),i._scene=null},_addSelfToScene:function(i){this._scene.addToScene(i),i._scene=this._scene},isAncestor:function(i){for(var a=i._parent;a;){if(a===this)return!0;a=a._parent}return!1},children:function(){return this._children.slice()},childAt:function(i){return this._children[i]},getChildByName:function(i){for(var a=this._children,l=0;l<a.length;l++)if(a[l].name===i)return a[l]},getDescendantByName:function(i){for(var a=this._children,l=0;l<a.length;l++){var _=a[l];if(_.name===i)return _;var M=_.getDescendantByName(i);if(M)return M}},queryNode:function(i){if(i){for(var a=i.split("/"),l=this,_=0;_<a.length;_++){var M=a[_];if(M){for(var m=!1,T=l._children,y=0;y<T.length;y++){var P=T[y];if(P.name===M){l=P,m=!0;break}}if(!m)return}}return l}},getPath:function(i){if(!this._parent)return"/";for(var a=this._parent,l=this.name;a._parent&&(l=a.name+"/"+l,a._parent!=i);)a=a._parent;return!a._parent&&i?null:l},traverse:function(i,a){i.call(a,this);for(var l=this._children,_=0,M=l.length;_<M;_++)l[_].traverse(i,a)},eachChild:function(i,a){for(var l=this._children,_=0,M=l.length;_<M;_++){var m=l[_];i.call(a,m,_)}},setLocalTransform:function(i){e.Z.copy(this.localTransform.array,i.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(i){var a=i?null:this.scale;this.localTransform.decomposeMatrix(a,this.rotation,this.position)},setWorldTransform:function(i){e.Z.copy(this.worldTransform.array,i.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var i=e.Z.create();return function(a){var l=this.localTransform,_=this.worldTransform;this._parent?(e.Z.invert(i,this._parent.worldTransform.array),e.Z.multiply(l.array,i,_.array)):e.Z.copy(l.array,_.array);var M=a?null:this.scale;l.decomposeMatrix(M,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var i=this.position,a=this.rotation,l=this.scale;if(this.transformNeedsUpdate()){var _=this.localTransform.array;e.Z.fromRotationTranslation(_,a.array,i.array),e.Z.scale(_,_,l.array),a._dirty=!1,l._dirty=!1,i._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var i=this.localTransform.array,a=this.worldTransform.array;this._parent?e.Z.multiplyAffine(a,this._parent.worldTransform.array,i):e.Z.copy(a,i)},updateWorldTransform:function(){for(var i=this;i&&i.getParent()&&i.getParent().transformNeedsUpdate();)i=i.getParent();i.update()},update:function(i){this.autoUpdateLocalTransform?this.updateLocalTransform():i=!0,(i||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),i=!0,this._needsUpdateWorldTransform=!1);for(var a=this._children,l=0,_=a.length;l<_;l++)a[l].update(i)},getBoundingBox:function(){function i(M){return!M.invisible&&M.geometry}var a=new n.Z,l=new r.Z,_=new r.Z;return function(M,m){return m=m||new n.Z,M=M||i,this._parent?r.Z.invert(_,this._parent.worldTransform):r.Z.identity(_),this.traverse(function(T){T.geometry&&T.geometry.boundingBox&&(a.copy(T.geometry.boundingBox),r.Z.multiply(l,_,T.worldTransform),a.applyTransform(l),m.union(a))},this,i),m}}(),getWorldPosition:function(i){this.transformNeedsUpdate()&&this.updateWorldTransform();var a=this.worldTransform.array;if(i){var l=i.array;return l[0]=a[12],l[1]=a[13],l[2]=a[14],i}else return new s.Z(a[12],a[13],a[14])},clone:function(){var i=new this.constructor,a=this._children;i.setName(this.name),i.position.copy(this.position),i.rotation.copy(this.rotation),i.scale.copy(this.scale);for(var l=0;l<a.length;l++)i.add(a[l].clone());return i},rotateAround:function(){var i=new s.Z,a=new r.Z;return function(l,_,M){i.copy(this.position).subtract(l);var m=this.localTransform;m.identity(),m.translate(l),m.rotate(M,_),a.fromRotationTranslation(this.rotation,i),m.multiply(a),m.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var i=new r.Z;return function(a,l){i.lookAt(this.position,a,l||this.localTransform.y).invert(),this.setLocalTransform(i),this.target=a}}()});q.Z=h},38934:function(ht,q,R){"use strict";var p=R(80881),s=R(23044),t=p.Z.extend({material:null,geometry:null,mode:s.Z.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:s.Z.BACK,frontFace:s.Z.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(r){},afterRender:function(r,e){},getBoundingBox:function(r,e){return e=p.Z.prototype.getBoundingBox.call(this,r,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:function(){var r=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var e=p.Z.prototype.clone.call(this);e.geometry=this.geometry,e.material=this.material;for(var n=0;n<r.length;n++){var o=r[n];e[o]!==this[o]&&(e[o]=this[o])}return e}}()});t.POINTS=s.Z.POINTS,t.LINES=s.Z.LINES,t.LINE_LOOP=s.Z.LINE_LOOP,t.LINE_STRIP=s.Z.LINE_STRIP,t.TRIANGLES=s.Z.TRIANGLES,t.TRIANGLE_STRIP=s.Z.TRIANGLE_STRIP,t.TRIANGLE_FAN=s.Z.TRIANGLE_FAN,t.BACK=s.Z.BACK,t.FRONT=s.Z.FRONT,t.FRONT_AND_BACK=s.Z.FRONT_AND_BACK,t.CW=s.Z.CW,t.CCW=s.Z.CCW,q.Z=t},17103:function(ht,q,R){"use strict";R.d(q,{Z:function(){return V}});var p=R(85038),s=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],t=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function r(S){for(var W={},B={},X=0;X<s.length;X++){var Y=s[X];z(Y)}for(var X=0;X<t.length;X++){var nt=t[X];B[nt]=S.getParameter(S[nt])}this.getExtension=function(j){return j in W||z(j),W[j]},this.getParameter=function(j){return B[j]};function z(j){if(S.getExtension){var at=S.getExtension(j);at||(at=S.getExtension("MOZ_"+j)),at||(at=S.getExtension("WEBKIT_"+j)),W[j]=at}}}var e=r,n=R(23044),o=R(82544),h=R(84708),i=R(38077),a=1,l=2,_=3,M={};function m(S){for(var W=S.split(`
`),B=0,X=W.length;B<X;B++)W[B]=B+1+": "+W[B];return W.join(`
`)}function T(S,W,B){if(!S.getShaderParameter(W,S.COMPILE_STATUS))return[S.getShaderInfoLog(W),m(B)].join(`
`)}var y=new o.Z.Float32Array(16),P=p.Z.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(S){this._textureSlot=0,S.gl.useProgram(this._program)},hasUniform:function(S){var W=this._locations[S];return W!=null},useTextureSlot:function(S,W,B){W&&(S.gl.activeTexture(S.gl.TEXTURE0+B),W.isRenderable()?W.bind(S):W.unbind(S))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(S){this._textureSlot=S||0},takeCurrentTextureSlot:function(S,W){var B=this._textureSlot;return this.useTextureSlot(S,W,B),this._textureSlot++,B},setUniform:function(S,W,B,X){var Y=this._locations,nt=Y[B];if(nt==null)return!1;switch(W){case"m4":if(!(X instanceof Float32Array)){for(var z=0;z<X.length;z++)y[z]=X[z];X=y}S.uniformMatrix4fv(nt,!1,X);break;case"2i":S.uniform2i(nt,X[0],X[1]);break;case"2f":S.uniform2f(nt,X[0],X[1]);break;case"3i":S.uniform3i(nt,X[0],X[1],X[2]);break;case"3f":S.uniform3f(nt,X[0],X[1],X[2]);break;case"4i":S.uniform4i(nt,X[0],X[1],X[2],X[3]);break;case"4f":S.uniform4f(nt,X[0],X[1],X[2],X[3]);break;case"1i":S.uniform1i(nt,X);break;case"1f":S.uniform1f(nt,X);break;case"1fv":S.uniform1fv(nt,X);break;case"1iv":S.uniform1iv(nt,X);break;case"2iv":S.uniform2iv(nt,X);break;case"2fv":S.uniform2fv(nt,X);break;case"3iv":S.uniform3iv(nt,X);break;case"3fv":S.uniform3fv(nt,X);break;case"4iv":S.uniform4iv(nt,X);break;case"4fv":S.uniform4fv(nt,X);break;case"m2":case"m2v":S.uniformMatrix2fv(nt,!1,X);break;case"m3":case"m3v":S.uniformMatrix3fv(nt,!1,X);break;case"m4v":if(Array.isArray(X)&&Array.isArray(X[0])){for(var j=new o.Z.Float32Array(X.length*16),at=0,z=0;z<X.length;z++)for(var ft=X[z],pt=0;pt<16;pt++)j[at++]=ft[pt];S.uniformMatrix4fv(nt,!1,j)}else S.uniformMatrix4fv(nt,!1,X);break}return!0},setUniformOfSemantic:function(S,W,B){var X=this.uniformSemantics[W];return X?this.setUniform(S,X.type,X.symbol,B):!1},enableAttributes:function(S,W,B){var X=S.gl,Y=this._program,nt=this._locations,z;B?z=B.__enabledAttributeList:z=M[S.__uid__],z||(B?z=B.__enabledAttributeList=[]:z=M[S.__uid__]=[]);for(var j=[],at=0;at<W.length;at++){var ft=W[at];if(!this.attributes[ft]){j[at]=-1;continue}var pt=nt[ft];if(pt==null){if(pt=X.getAttribLocation(Y,ft),pt===-1){j[at]=-1;continue}nt[ft]=pt}j[at]=pt,z[pt]?z[pt]=l:z[pt]=a}for(var at=0;at<z.length;at++)switch(z[at]){case a:X.enableVertexAttribArray(at),z[at]=_;break;case l:z[at]=_;break;case _:X.disableVertexAttribArray(at),z[at]=0;break}return j},getAttribLocation:function(S,W){var B=this._locations,X=B[W];return X==null&&(X=S.getAttribLocation(this._program,W),B[W]=X),X},buildProgram:function(S,W,B,X){var Y=S.createShader(S.VERTEX_SHADER),nt=S.createProgram();S.shaderSource(Y,B),S.compileShader(Y);var z=S.createShader(S.FRAGMENT_SHADER);S.shaderSource(z,X),S.compileShader(z);var j=T(S,Y,B);if(j||(j=T(S,z,X),j))return j;if(S.attachShader(nt,Y),S.attachShader(nt,z),W.attributeSemantics.POSITION)S.bindAttribLocation(nt,0,W.attributeSemantics.POSITION.symbol);else{var at=Object.keys(this.attributes);S.bindAttribLocation(nt,0,at[0])}if(S.linkProgram(nt),S.deleteShader(Y),S.deleteShader(z),this._program=nt,this.vertexCode=B,this.fragmentCode=X,!S.getProgramParameter(nt,S.LINK_STATUS))return`Could not link program
`+S.getProgramInfoLog(nt);for(var ft=0;ft<W.uniforms.length;ft++){var pt=W.uniforms[ft];this._locations[pt]=S.getUniformLocation(nt,pt)}}}),C=P,O=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function Z(S,W,B){function X(z,j,at,ft){var pt="";isNaN(j)&&(j in W?j=W[j]:j=Y[j]),isNaN(at)&&(at in W?at=W[at]:at=Y[at]);for(var rt=parseInt(j);rt<parseInt(at);rt++)pt+="{"+ft.replace(/float\s*\(\s*_idx_\s*\)/g,rt.toFixed(1)).replace(/_idx_/g,rt)+"}";return pt}var Y={};for(var nt in B)Y[nt+"_COUNT"]=B[nt];return S.replace(O,X)}function U(S,W,B){var X=[];if(W)for(var Y in W){var nt=W[Y];nt>0&&X.push("#define "+Y.toUpperCase()+"_COUNT "+nt)}if(B)for(var z=0;z<B.length;z++){var j=B[z];X.push("#define "+j.toUpperCase()+"_ENABLED")}for(var j in S){var at=S[j];at===null?X.push("#define "+j):X.push("#define "+j+" "+at.toString())}return X.join(`
`)}function b(S){for(var W=[],B=0;B<S.length;B++)W.push("#extension GL_"+S[B]+" : enable");return W.join(`
`)}function w(S){return["precision",S,"float"].join(" ")+`;
`+["precision",S,"int"].join(" ")+`;
`+["precision",S,"sampler2D"].join(" ")+`;
`}function A(S){this._renderer=S,this._cache={}}A.prototype.getProgram=function(S,W,B){var X=this._cache,Y=S.isSkinnedMesh&&S.isSkinnedMesh(),nt=S.isInstancedMesh&&S.isInstancedMesh(),z="s"+W.shader.shaderID+"m"+W.getProgramKey();B&&(z+="se"+B.getProgramKey(S.lightGroup)),Y&&(z+=",sk"+S.joints.length),nt&&(z+=",is");var Et=X[z];if(Et)return Et;var j=B?B.getLightsNumbers(S.lightGroup):{},at=this._renderer,ft=at.gl,pt=W.getEnabledTextures(),rt="";if(Y){var et={SKINNING:null,JOINT_COUNT:S.joints.length};S.joints.length>at.getMaxJointNumber()&&(et.USE_SKIN_MATRICES_TEXTURE=null),rt+=`
`+U(et)+`
`}nt&&(rt+=`
#define INSTANCING
`);var ut=rt+U(W.vertexDefines,j,pt),dt=rt+U(W.fragmentDefines,j,pt),ot=ut+`
`+W.shader.vertex,_t=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(It){return at.getGLExtension(It)!=null});_t.indexOf("EXT_shader_texture_lod")>=0&&(dt+=`
#define SUPPORT_TEXTURE_LOD`),_t.indexOf("OES_standard_derivatives")>=0&&(dt+=`
#define SUPPORT_STANDARD_DERIVATIVES`);var lt=b(_t)+`
`+w(W.precision)+`
`+dt+`
`+W.shader.fragment,Mt=Z(ot,W.vertexDefines,j),Dt=Z(lt,W.fragmentDefines,j),Et=new C;Et.uniformSemantics=W.shader.uniformSemantics,Et.attributes=W.shader.attributes;var St=Et.buildProgram(ft,W.shader,Mt,Dt);return Et.__error=St,X[z]=Et,Et};var E=A,d=R(60217),f=R(19671),u=R(85822),v=R(3023);d.Z.import(f.Z);var c=u.Z.create,g={};function D(S){return S.material}function x(S,W,B){return W.uniforms[B].value}function L(S,W,B,X){return B!==X}function I(S){return!0}function N(){}var G={float:n.Z.FLOAT,byte:n.Z.BYTE,ubyte:n.Z.UNSIGNED_BYTE,short:n.Z.SHORT,ushort:n.Z.UNSIGNED_SHORT};function K(S,W,B){this.availableAttributes=S,this.availableAttributeSymbols=W,this.indicesBuffer=B,this.vao=null}function J(S){var W,B;this.bind=function(X){W||(W=o.Z.createCanvas(),W.width=W.height=1,W.getContext("2d"));var Y=X.gl,nt=!B;nt&&(B=Y.createTexture()),Y.bindTexture(Y.TEXTURE_2D,B),nt&&Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Y.RGBA,Y.UNSIGNED_BYTE,W)},this.unbind=function(X){X.gl.bindTexture(X.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var F=p.Z.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=o.Z.createCanvas());var S=this.canvas;try{var W={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=S.getContext("webgl",W)||S.getContext("experimental-webgl",W),!this.gl)throw new Error;this._glinfo=new e(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(B){throw"Error creating WebGL Context "+B}this._programMgr=new E(this),this._placeholderTexture=new J(this)},{resize:function(S,W){var B=this.canvas,X=this.devicePixelRatio;S!=null?(B.style&&(B.style.width=S+"px",B.style.height=W+"px"),B.width=S*X,B.height=W*X,this._width=S,this._height=W):(this._width=B.width/X,this._height=B.height/X),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var S=this.viewport;return S.width/S.height},setDevicePixelRatio:function(S){this.devicePixelRatio=S,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(S){return this._glinfo.getExtension(S)},getGLParameter:function(S){return this._glinfo.getParameter(S)},setViewport:function(S,W,B,X,Y){if(typeof S=="object"){var nt=S;S=nt.x,W=nt.y,B=nt.width,X=nt.height,Y=nt.devicePixelRatio}Y=Y||this.devicePixelRatio,this.gl.viewport(S*Y,W*Y,B*Y,X*Y),this.viewport={x:S,y:W,width:B,height:X,devicePixelRatio:Y}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var S=this._clearStack.pop();this.clearColor=S.clearColor,this.clearBit=S.clearBit}},bindSceneRendering:function(S){this._sceneRendering=S},render:function(S,W,B,X){var Y=this.gl,nt=this.clearColor;if(this.clearBit){Y.colorMask(!0,!0,!0,!0),Y.depthMask(!0);var z=this.viewport,j=!1,at=z.devicePixelRatio;(z.width!==this._width||z.height!==this._height||at&&at!==this.devicePixelRatio||z.x||z.y)&&(j=!0,Y.enable(Y.SCISSOR_TEST),Y.scissor(z.x*at,z.y*at,z.width*at,z.height*at)),Y.clearColor(nt[0],nt[1],nt[2],nt[3]),Y.clear(this.clearBit),j&&Y.disable(Y.SCISSOR_TEST)}if(B||S.update(!1),S.updateLights(),W=W||S.getMainCamera(),!W){console.error("Can't find camera in the scene.");return}W.update();var ft=S.updateRenderList(W,!0);this._sceneRendering=S;var pt=ft.opaque,rt=ft.transparent,et=S.material;S.trigger("beforerender",this,S,W,ft),X?(this.renderPreZ(pt,S,W),Y.depthFunc(Y.LEQUAL)):Y.depthFunc(Y.LESS);for(var ut=c(),dt=v.Z.create(),ot=0;ot<rt.length;ot++){var _t=rt[ot];u.Z.multiplyAffine(ut,W.viewMatrix.array,_t.worldTransform.array),v.Z.transformMat4(dt,_t.position.array,ut),_t.__depth=dt[2]}this.renderPass(pt,W,{getMaterial:function(lt){return et||lt.material},sortCompare:this.opaqueSortCompare}),this.renderPass(rt,W,{getMaterial:function(lt){return et||lt.material},sortCompare:this.transparentSortCompare}),S.trigger("afterrender",this,S,W,ft),this._sceneRendering=null},getProgram:function(S,W,B){return W=W||S.material,this._programMgr.getProgram(S,W,B)},validateProgram:function(S){if(S.__error){var W=S.__error;if(g[S.__uid__])return;if(g[S.__uid__]=!0,this.throwError)throw new Error(W);this.trigger("error",W)}},updatePrograms:function(S,W,B){var X=B&&B.getMaterial||D;W=W||null;for(var Y=0;Y<S.length;Y++){var nt=S[Y],z=X.call(this,nt);if(Y>0){var j=S[Y-1],at=j.joints?j.joints.length:0,ft=nt.joints?nt.joints.length:0;if(ft===at&&nt.material===j.material&&nt.lightGroup===j.lightGroup){nt.__program=j.__program;continue}}var pt=this._programMgr.getProgram(nt,z,W);this.validateProgram(pt),nt.__program=pt}},renderPass:function(S,W,B){this.trigger("beforerenderpass",this,S,W,B),B=B||{},B.getMaterial=B.getMaterial||D,B.getUniform=B.getUniform||x,B.isMaterialChanged=B.isMaterialChanged||L,B.beforeRender=B.beforeRender||N,B.afterRender=B.afterRender||N;var X=B.ifRender||I;this.updatePrograms(S,this._sceneRendering,B),B.sortCompare&&S.sort(B.sortCompare);var Y=this.viewport,nt=Y.devicePixelRatio,z=[Y.x*nt,Y.y*nt,Y.width*nt,Y.height*nt],j=this.devicePixelRatio,at=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*j,this._height*j],ft=[z[2],z[3]],pt=Date.now();W?(u.Z.copy(H.VIEW,W.viewMatrix.array),u.Z.copy(H.PROJECTION,W.projectionMatrix.array),u.Z.copy(H.VIEWINVERSE,W.worldTransform.array)):(u.Z.identity(H.VIEW),u.Z.identity(H.PROJECTION),u.Z.identity(H.VIEWINVERSE)),u.Z.multiply(H.VIEWPROJECTION,H.PROJECTION,H.VIEW),u.Z.invert(H.PROJECTIONINVERSE,H.PROJECTION),u.Z.invert(H.VIEWPROJECTIONINVERSE,H.VIEWPROJECTION);for(var rt=this.gl,et=this._sceneRendering,ut,dt,ot,_t,lt,Mt,Dt,Et,St,It,mt,xt,Rt=null,k=0;k<S.length;k++){var tt=S[k],gt=tt.worldTransform!=null,Pt;if(X(tt)){gt&&(Pt=tt.isSkinnedMesh&&tt.isSkinnedMesh()?tt.offsetMatrix?tt.offsetMatrix.array:H.IDENTITY:tt.worldTransform.array);var Q=tt.geometry,$=B.getMaterial.call(this,tt),it=tt.__program,ct=$.shader,Ct=Q.__uid__+"-"+it.__uid__,Zt=Ct!==It;It=Ct,Zt&&Rt&&Rt.bindVertexArrayOES(null),gt&&(u.Z.copy(H.WORLD,Pt),u.Z.multiply(H.WORLDVIEWPROJECTION,H.VIEWPROJECTION,Pt),u.Z.multiplyAffine(H.WORLDVIEW,H.VIEW,Pt),(ct.matrixSemantics.WORLDINVERSE||ct.matrixSemantics.WORLDINVERSETRANSPOSE)&&u.Z.invert(H.WORLDINVERSE,Pt),(ct.matrixSemantics.WORLDVIEWINVERSE||ct.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&u.Z.invert(H.WORLDVIEWINVERSE,H.WORLDVIEW),(ct.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||ct.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&u.Z.invert(H.WORLDVIEWPROJECTIONINVERSE,H.WORLDVIEWPROJECTION)),tt.beforeRender&&tt.beforeRender(this),B.beforeRender.call(this,tt,$,ut);var Lt=it!==dt;Lt?(it.bind(this),it.setUniformOfSemantic(rt,"VIEWPORT",z),it.setUniformOfSemantic(rt,"WINDOW_SIZE",at),W&&(it.setUniformOfSemantic(rt,"NEAR",W.near),it.setUniformOfSemantic(rt,"FAR",W.far)),it.setUniformOfSemantic(rt,"DEVICEPIXELRATIO",nt),it.setUniformOfSemantic(rt,"TIME",pt),it.setUniformOfSemantic(rt,"VIEWPORT_SIZE",ft),et&&et.setLightUniforms(it,tt.lightGroup,this)):it=dt,(Lt||B.isMaterialChanged(tt,ot,$,ut))&&($.depthTest!==_t&&($.depthTest?rt.enable(rt.DEPTH_TEST):rt.disable(rt.DEPTH_TEST),_t=$.depthTest),$.depthMask!==lt&&(rt.depthMask($.depthMask),lt=$.depthMask),$.transparent!==St&&($.transparent?rt.enable(rt.BLEND):rt.disable(rt.BLEND),St=$.transparent),$.transparent&&($.blend?$.blend(rt):(rt.blendEquationSeparate(rt.FUNC_ADD,rt.FUNC_ADD),rt.blendFuncSeparate(rt.SRC_ALPHA,rt.ONE_MINUS_SRC_ALPHA,rt.ONE,rt.ONE_MINUS_SRC_ALPHA))),xt=this._bindMaterial(tt,$,it,ot||null,ut||null,dt||null,B.getUniform),ut=$);var bt=ct.matrixSemanticKeys;if(gt)for(var Ft=0;Ft<bt.length;Ft++){var zt=bt[Ft],Ht=ct.matrixSemantics[zt],jt=H[zt];if(Ht.isTranspose){var kt=H[Ht.semanticNoTranspose];u.Z.transpose(jt,kt)}it.setUniform(rt,Ht.type,Ht.symbol,jt)}tt.cullFace!==Dt&&(Dt=tt.cullFace,rt.cullFace(Dt)),tt.frontFace!==Et&&(Et=tt.frontFace,rt.frontFace(Et)),tt.culling!==Mt&&(Mt=tt.culling,Mt?rt.enable(rt.CULL_FACE):rt.disable(rt.CULL_FACE)),this._updateSkeleton(tt,it,xt),Zt&&(mt=this._bindVAO(Rt,ct,Q,it)),this._renderObject(tt,mt,it),B.afterRender(this,tt),tt.afterRender&&tt.afterRender(this),dt=it,ot=tt}}Rt&&Rt.bindVertexArrayOES(null),this.trigger("afterrenderpass",this,S,W,B)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(S,W,B){var X=this.gl,Y=S.skeleton;if(Y)if(Y.update(),S.joints.length>this.getMaxJointNumber()){var nt=Y.getSubSkinMatricesTexture(S.__uid__,S.joints);W.useTextureSlot(this,nt,B),W.setUniform(X,"1i","skinMatricesTexture",B),W.setUniform(X,"1f","skinMatricesTextureSize",nt.width)}else{var z=Y.getSubSkinMatrices(S.__uid__,S.joints);W.setUniformOfSemantic(X,"SKIN_MATRIX",z)}},_renderObject:function(S,W,B){var X=this.gl,Y=S.geometry,nt=S.mode;nt==null&&(nt=4);var z=null,j=S.isInstancedMesh&&S.isInstancedMesh();if(j&&(z=this.getGLExtension("ANGLE_instanced_arrays"),!z)){console.warn("Device not support ANGLE_instanced_arrays extension");return}var at;if(j&&(at=this._bindInstancedAttributes(S,B,z)),W.indicesBuffer){var ft=this.getGLExtension("OES_element_index_uint"),pt=ft&&Y.indices instanceof Uint32Array,rt=pt?X.UNSIGNED_INT:X.UNSIGNED_SHORT;j?z.drawElementsInstancedANGLE(nt,W.indicesBuffer.count,rt,0,S.getInstanceCount()):X.drawElements(nt,W.indicesBuffer.count,rt,0)}else j?z.drawArraysInstancedANGLE(nt,0,Y.vertexCount,S.getInstanceCount()):X.drawArrays(nt,0,Y.vertexCount);if(j)for(var et=0;et<at.length;et++)X.disableVertexAttribArray(at[et])},_bindInstancedAttributes:function(S,W,B){for(var X=this.gl,Y=S.getInstancedAttributesBuffers(this),nt=[],z=0;z<Y.length;z++){var j=Y[z],at=W.getAttribLocation(X,j.symbol);if(!(at<0)){var ft=G[j.type]||X.FLOAT;X.enableVertexAttribArray(at),X.bindBuffer(X.ARRAY_BUFFER,j.buffer),X.vertexAttribPointer(at,j.size,ft,!1,0,0),B.vertexAttribDivisorANGLE(at,j.divisor),nt.push(at)}}return nt},_bindMaterial:function(S,W,B,X,Y,nt,z){for(var j=this.gl,at=nt===B,ft=B.currentTextureSlot(),pt=W.getEnabledUniforms(),rt=W.getTextureUniforms(),et=this._placeholderTexture,ut=0;ut<rt.length;ut++){var dt=rt[ut],ot=z(S,W,dt),_t=W.uniforms[dt].type;if(_t==="t"&&ot)ot.__slot=-1;else if(_t==="tv")for(var lt=0;lt<ot.length;lt++)ot[lt]&&(ot[lt].__slot=-1)}et.__slot=-1;for(var ut=0;ut<pt.length;ut++){var dt=pt[ut],Mt=W.uniforms[dt],ot=z(S,W,dt),_t=Mt.type,Dt=_t==="t";if(Dt&&(!ot||!ot.isRenderable())&&(ot=et),Y&&at){var Et=z(X,Y,dt);if(Dt&&(!Et||!Et.isRenderable())&&(Et=et),Et===ot){if(Dt)B.takeCurrentTextureSlot(this,null);else if(_t==="tv"&&ot)for(var lt=0;lt<ot.length;lt++)B.takeCurrentTextureSlot(this,null);continue}}if(ot!=null)if(Dt)if(ot.__slot<0){var St=B.currentTextureSlot(),It=B.setUniform(j,"1i",dt,St);It&&(B.takeCurrentTextureSlot(this,ot),ot.__slot=St)}else B.setUniform(j,"1i",dt,ot.__slot);else if(Array.isArray(ot)){if(ot.length===0)continue;if(_t==="tv"){if(!B.hasUniform(dt))continue;for(var mt=[],lt=0;lt<ot.length;lt++){var xt=ot[lt];if(xt.__slot<0){var St=B.currentTextureSlot();mt.push(St),B.takeCurrentTextureSlot(this,xt),xt.__slot=St}else mt.push(xt.__slot)}B.setUniform(j,"1iv",dt,mt)}else B.setUniform(j,Mt.type,dt,ot)}else B.setUniform(j,Mt.type,dt,ot)}var Rt=B.currentTextureSlot();return B.resetTextureSlot(ft),Rt},_bindVAO:function(S,W,B,X){var Y=!B.dynamic,nt=this.gl,z=this.__uid__+"-"+X.__uid__,j=B.__vaoCache[z];if(!j){var at=B.getBufferChunks(this);if(!at||!at.length)return;for(var ft=at[0],pt=ft.attributeBuffers,Et=ft.indicesBuffer,Dt=[],rt=[],et=0;et<pt.length;et++){var ut=pt[et],dt=ut.name,ot=ut.semantic,_t;if(ot){var lt=W.attributeSemantics[ot];_t=lt&&lt.symbol}else _t=dt;_t&&X.attributes[_t]&&(Dt.push(ut),rt.push(_t))}j=new K(Dt,rt,Et),Y&&(B.__vaoCache[z]=j)}var Mt=!0;S&&Y&&(j.vao==null?j.vao=S.createVertexArrayOES():Mt=!1,S.bindVertexArrayOES(j.vao));var Dt=j.availableAttributes,Et=j.indicesBuffer;if(Mt){for(var St=X.enableAttributes(this,j.availableAttributeSymbols,S&&Y&&j),et=0;et<Dt.length;et++){var It=St[et];if(It!==-1){var ut=Dt[et],mt=ut.buffer,xt=ut.size,Rt=G[ut.type]||nt.FLOAT;nt.bindBuffer(nt.ARRAY_BUFFER,mt),nt.vertexAttribPointer(It,xt,Rt,!1,0,0)}}B.isUseIndices()&&nt.bindBuffer(nt.ELEMENT_ARRAY_BUFFER,Et.buffer)}return j},renderPreZ:function(S,W,B){var X=this.gl,Y=this._prezMaterial||new h.Z({shader:new d.Z(d.Z.source("clay.prez.vertex"),d.Z.source("clay.prez.fragment"))});this._prezMaterial=Y,X.colorMask(!1,!1,!1,!1),X.depthMask(!0),this.renderPass(S,B,{ifRender:function(nt){return!nt.ignorePreZ},isMaterialChanged:function(nt,z){var j=nt.material,at=z.material;return j.get("diffuseMap")!==at.get("diffuseMap")||(j.get("alphaCutoff")||0)!==(at.get("alphaCutoff")||0)},getUniform:function(nt,z,j){if(j==="alphaMap")return nt.material.get("diffuseMap");if(j==="alphaCutoff"){if(nt.material.isDefined("fragment","ALPHA_TEST")&&nt.material.get("diffuseMap")){var at=nt.material.get("alphaCutoff");return at||0}return 0}else return j==="uvRepeat"?nt.material.get("uvRepeat"):j==="uvOffset"?nt.material.get("uvOffset"):z.get(j)},getMaterial:function(){return Y},sort:this.opaqueSortCompare}),X.colorMask(!0,!0,!0,!0),X.depthMask(!0)},disposeScene:function(S){this.disposeNode(S,!0,!0),S.dispose()},disposeNode:function(S,W,B){S.getParent()&&S.getParent().remove(S);var X={};S.traverse(function(Y){var nt=Y.material;if(Y.geometry&&W&&Y.geometry.dispose(this),B&&nt&&!X[nt.__uid__]){for(var z=nt.getTextureUniforms(),j=0;j<z.length;j++){var at=z[j],ft=nt.uniforms[at].value,pt=nt.uniforms[at].type;if(ft){if(pt==="t")ft.dispose&&ft.dispose(this);else if(pt==="tv")for(var rt=0;rt<ft.length;rt++)ft[rt]&&ft[rt].dispose&&ft[rt].dispose(this)}}X[nt.__uid__]=!0}Y.dispose&&Y.dispose(this)},this)},disposeGeometry:function(S){S.dispose(this)},disposeTexture:function(S){S.dispose(this)},disposeFrameBuffer:function(S){S.dispose(this)},dispose:function(){},screenToNDC:function(S,W,B){B||(B=new i.Z),W=this._height-W;var X=this.viewport,Y=B.array;return Y[0]=(S-X.x)/X.width,Y[0]=Y[0]*2-1,Y[1]=(W-X.y)/X.height,Y[1]=Y[1]*2-1,B}});F.opaqueSortCompare=F.prototype.opaqueSortCompare=function(S,W){return S.renderOrder===W.renderOrder?S.__program===W.__program?S.material===W.material?S.geometry.__uid__-W.geometry.__uid__:S.material.__uid__-W.material.__uid__:S.__program&&W.__program?S.__program.__uid__-W.__program.__uid__:0:S.renderOrder-W.renderOrder},F.transparentSortCompare=F.prototype.transparentSortCompare=function(S,W){return S.renderOrder===W.renderOrder?S.__depth===W.__depth?S.__program===W.__program?S.material===W.material?S.geometry.__uid__-W.geometry.__uid__:S.material.__uid__-W.material.__uid__:S.__program&&W.__program?S.__program.__uid__-W.__program.__uid__:0:S.__depth-W.__depth:S.renderOrder-W.renderOrder};var H={IDENTITY:c(),WORLD:c(),VIEW:c(),PROJECTION:c(),WORLDVIEW:c(),VIEWPROJECTION:c(),WORLDVIEWPROJECTION:c(),WORLDINVERSE:c(),VIEWINVERSE:c(),PROJECTIONINVERSE:c(),WORLDVIEWINVERSE:c(),VIEWPROJECTIONINVERSE:c(),WORLDVIEWPROJECTIONINVERSE:c(),WORLDTRANSPOSE:c(),VIEWTRANSPOSE:c(),PROJECTIONTRANSPOSE:c(),WORLDVIEWTRANSPOSE:c(),VIEWPROJECTIONTRANSPOSE:c(),WORLDVIEWPROJECTIONTRANSPOSE:c(),WORLDINVERSETRANSPOSE:c(),VIEWINVERSETRANSPOSE:c(),PROJECTIONINVERSETRANSPOSE:c(),WORLDVIEWINVERSETRANSPOSE:c(),VIEWPROJECTIONINVERSETRANSPOSE:c(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:c()};F.COLOR_BUFFER_BIT=n.Z.COLOR_BUFFER_BIT,F.DEPTH_BUFFER_BIT=n.Z.DEPTH_BUFFER_BIT,F.STENCIL_BUFFER_BIT=n.Z.STENCIL_BUFFER_BIT;var V=F},50908:function(ht,q,R){"use strict";var p=R(80881),s=R(92449),t=R(37046),r=R(37233),e=R(34635),n=R(85822),o=R(60193),h=R(49865),i=n.Z.create(),a=n.Z.create(),l={};function _(y){var P=[],C=Object.keys(y);C.sort();for(var O=0;O<C.length;O++){var Z=C[O];P.push(Z+" "+y[Z])}var U=P.join(`
`);if(l[U])return l[U];var b=e.Z.genGUID();return l[U]=b,b}function M(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}M.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},M.prototype.add=function(y,P){P?this.transparent[this._transparentCount++]=y:this.opaque[this._opaqueCount++]=y},M.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var m=p.Z.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new r.Z,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new o.Z(20)}},function(){this._scene=this},{addToScene:function(y){y instanceof t.Z?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(y)):y instanceof s.Z&&this.lights.push(y),y.name&&(this._nodeRepository[y.name]=y)},removeFromScene:function(y){var P;y instanceof t.Z?(P=this._cameraList.indexOf(y),P>=0&&this._cameraList.splice(P,1)):y instanceof s.Z&&(P=this.lights.indexOf(y),P>=0&&this.lights.splice(P,1)),y.name&&delete this._nodeRepository[y.name]},getNode:function(y){return this._nodeRepository[y]},setMainCamera:function(y){var P=this._cameraList.indexOf(y);P>=0&&this._cameraList.splice(P,1),this._cameraList.unshift(y)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var y=this.lights;this._previousLightNumber=this._lightNumber;for(var P={},C=0;C<y.length;C++){var O=y[C];if(!O.invisible){var Z=O.group;P[Z]||(P[Z]={}),P[Z][O.type]=P[Z][O.type]||0,P[Z][O.type]++}}this._lightNumber=P;for(var U in P)this._lightProgramKeys[U]=_(P[U]);this._updateLightUniforms()},cloneNode:function(y){var P=y.clone(),C={};function O(Z,U){C[Z.__uid__]=U;for(var b=0;b<Z._children.length;b++){var w=Z._children[b],A=U._children[b];O(w,A)}}return O(y,P),P.traverse(function(Z){Z.skeleton&&(Z.skeleton=Z.skeleton.clone(C)),Z.material&&(Z.material=Z.material.clone())}),P},updateRenderList:function(y,P){var C=y.__uid__,O=this._renderLists.get(C);O||(O=new M,this._renderLists.put(C,O)),O.startCount(),P&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var Z=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,y,Z,O,P),O.endCount(),O},getRenderList:function(y){return this._renderLists.get(y.__uid__)},_doUpdateRenderList:function(y,P,C,O,Z){if(!y.invisible)for(var U=0;U<y._children.length;U++){var b=y._children[U];if(b.isRenderable()){var w=b.isSkinnedMesh()?i:b.worldTransform.array,A=b.geometry;n.Z.multiplyAffine(a,P.viewMatrix.array,w),(Z&&!A.boundingBox||!this.isFrustumCulled(b,P,a))&&O.add(b,b.material.transparent||C)}b._children.length>0&&this._doUpdateRenderList(b,P,C,O,Z)}},isFrustumCulled:function(){var y=new r.Z,P=new h.Z;return function(C,O,Z){var U=C.boundingBox;if(U||(C.skeleton&&C.skeleton.boundingBox?U=C.skeleton.boundingBox:U=C.geometry.boundingBox),!U)return!1;if(P.array=Z,y.transformFrom(U,P),C.castShadow&&this.viewBoundingBoxLastFrame.union(y),C.frustumCulling){if(!y.intersectBoundingBox(O.frustum.boundingBox))return!0;P.array=O.projectionMatrix.array,y.max.array[2]>0&&y.min.array[2]<0&&(y.max.array[2]=-1e-20),y.applyProjection(P);var b=y.min.array,w=y.max.array;if(w[0]<-1||b[0]>1||w[1]<-1||b[1]>1||w[2]<-1||b[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var y=this.lights;y.sort(T);var P=this._lightUniforms;for(var C in P)for(var O in P[C])P[C][O].value.length=0;for(var Z=0;Z<y.length;Z++){var U=y[Z];if(!U.invisible){var C=U.group;for(var O in U.uniformTemplates){var b=U.uniformTemplates[O],w=b.value(U);if(w!=null){P[C]||(P[C]={}),P[C][O]||(P[C][O]={type:"",value:[]});var A=P[C][O];switch(A.type=b.type+"v",b.type){case"1i":case"1f":case"t":A.value.push(w);break;case"2f":case"3f":case"4f":for(var E=0;E<w.length;E++)A.value.push(w[E]);break;default:console.error("Unkown light uniform type "+b.type)}}}}}},getLightGroups:function(){var y=[];for(var P in this._lightNumber)y.push(P);return y},getNumberChangedLightGroups:function(){var y=[];for(var P in this._lightNumber)this.isLightNumberChanged(P)&&y.push(P);return y},isLightNumberChanged:function(y){var P=this._previousLightNumber,C=this._lightNumber;for(var O in C[y])if(!P[y]||C[y][O]!==P[y][O])return!0;for(var O in P[y])if(!C[y]||C[y][O]!==P[y][O])return!0;return!1},getLightsNumbers:function(y){return this._lightNumber[y]},getProgramKey:function(y){return this._lightProgramKeys[y]},setLightUniforms:function(){function y(P,C,O){for(var Z in P){var U=P[Z];if(U.type==="tv"){if(!C.hasUniform(Z))continue;for(var b=[],w=0;w<U.value.length;w++){var A=U.value[w],E=C.takeCurrentTextureSlot(O,A);b.push(E)}C.setUniform(O.gl,"1iv",Z,b)}else C.setUniform(O.gl,U.type,Z,U.value)}}return function(P,C,O){y(this._lightUniforms[C],P,O),y(this.shadowUniforms,P,O)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function T(y,P){if(P.castShadow&&!y.castShadow)return!0}q.Z=m},60217:function(ht,q,R){"use strict";var p=R(34635),s=R(82544),t=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,r=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,e=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,n={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function o(b){for(var w=[],A=0;A<b;A++)w[A]=0;return w}var h={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return o(2)},vec3:function(){return o(3)},vec4:function(){return o(4)},ivec2:function(){return o(2)},ivec3:function(){return o(3)},ivec4:function(){return o(4)},mat2:function(){return o(4)},mat3:function(){return o(9)},mat4:function(){return o(16)},array:function(){return[]}},i=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],a=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],l=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],_={vec4:4,vec3:3,vec2:2,float:1},M={},m={};function T(b,w){var A="vertex:"+b+"fragment:"+w;if(M[A])return M[A];var E=p.Z.genGUID();return M[A]=E,m[E]={vertex:b,fragment:w},E}function y(b){return b.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function P(){console.error("Wrong uniform/attributes syntax")}function C(b,w){for(var A=/[,=\(\):]/,E=w.replace(/:\s*\[\s*(.*)\s*\]/g,"="+b+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),d=[],f=0;f<E.length;f++)E[f].match(A)?d.push(E[f].charAt(0),E[f].slice(1)):d.push(E[f]);E=d;var u=0,v=1,c=2,g=3,D=4,x=5,L=u,I={},N=null,G;K(E[0]);function K(H){H||P();var V=H.match(/\[(.*?)\]/);G=H.replace(/\[(.*?)\]/,""),I[G]={},V&&(I[G].isArray=!0,I[G].arraySize=V[1])}for(var f=1;f<E.length;f++){var J=E[f];if(J){if(J==="="){if(L!==u&&L!==g){P();break}L=v;continue}else if(J===":"){L=D;continue}else if(J===","){if(L===c){if(!(N instanceof Array)){P();break}N.push(+E[++f])}else L=x;continue}else if(J===")"){I[G].value=new s.Z.Float32Array(N),N=null,L=x;continue}else if(J==="("){if(L!==c){P();break}if(!(N instanceof Array)){P();break}N.push(+E[++f]);continue}else if(J.indexOf("vec")>=0){if(L!==v&&L!==D){P();break}L=c,N=[];continue}else if(L===v){b==="bool"?I[G].value=J==="true":I[G].value=parseFloat(J),N=null;continue}else if(L===D){var F=J;i.indexOf(F)>=0||a.indexOf(F)>=0||l.indexOf(F)>=0?I[G].semantic=F:F==="ignore"||F==="unconfigurable"?I[G].ignore=!0:b==="bool"?I[G].value=F==="true":I[G].value=parseFloat(F);continue}K(J),L=u}}return I}function O(b,w){typeof b=="object"&&(w=b.fragment,b=b.vertex),b=y(b),w=y(w),this._shaderID=T(b,w),this._vertexCode=O.parseImport(b),this._fragmentCode=O.parseImport(w),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}O.prototype={constructor:O,createUniforms:function(){var b={};for(var w in this.uniformTemplates){var A=this.uniformTemplates[w];b[w]={type:A.type,value:A.value()}}return b},_parseImport:function(){this._vertexCode=O.parseImport(this.vertex),this._fragmentCode=O.parseImport(this.fragment)},_addSemanticUniform:function(b,w,A){if(i.indexOf(A)>=0)this.attributeSemantics[A]={symbol:b,type:w};else if(l.indexOf(A)>=0){var E=!1,d=A;A.match(/TRANSPOSE$/)&&(E=!0,d=A.slice(0,-9)),this.matrixSemantics[A]={symbol:b,type:w,isTranspose:E,semanticNoTranspose:d}}else a.indexOf(A)>=0&&(this.uniformSemantics[A]={symbol:b,type:w})},_addMaterialUniform:function(b,w,A,E,d,f){f[b]={type:A,value:d?h.array:E||h[w],semantic:null}},_parseUniforms:function(){var b={},w=this,A="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace(t,d),A="fragment",this._fragmentCode=this._fragmentCode.replace(t,d),w.matrixSemanticKeys=Object.keys(this.matrixSemantics);function E(f){return f!=null?function(){return f}:null}function d(f,u,v){var c=C(u,v),g=[];for(var D in c){var x=c[D],L=x.semantic,I=D,N=n[u],G=E(c[D].value);c[D].isArray&&(I+="["+c[D].arraySize+"]",N+="v"),g.push(I),w._uniformList.push(D),x.ignore||((u==="sampler2D"||u==="samplerCube")&&(w.textures[D]={shaderType:A,type:u}),L?w._addSemanticUniform(D,N,L):w._addMaterialUniform(D,u,N,G,c[D].isArray,b))}return g.length>0?"uniform "+u+" "+g.join(",")+`;
`:""}this.uniformTemplates=b},_parseAttributes:function(){var b={},w=this;this._vertexCode=this._vertexCode.replace(r,A);function A(E,d,f){var u=C(d,f),v=_[d]||1,c=[];for(var g in u){var D=u[g].semantic;if(b[g]={type:"float",size:v,semantic:D||null},D){if(i.indexOf(D)<0)throw new Error('Unkown semantic "'+D+'"');w.attributeSemantics[D]={symbol:g,type:d}}c.push(g)}return"attribute "+d+" "+c.join(",")+`;
`}this.attributes=b},_parseDefines:function(){var b=this,w="vertex";this._vertexCode=this._vertexCode.replace(e,A),w="fragment",this._fragmentCode=this._fragmentCode.replace(e,A);function A(E,d,f){var u=w==="vertex"?b.vertexDefines:b.fragmentDefines;return u[d]||(f==="false"?u[d]=!1:f==="true"?u[d]=!0:u[d]=f?isNaN(parseFloat(f))?f.trim():parseFloat(f):null),""}},clone:function(){var b=m[this._shaderID],w=new O(b.vertex,b.fragment);return w}},Object.defineProperty&&(Object.defineProperty(O.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(O.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(O.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(O.prototype,"uniforms",{get:function(){return this._uniformList}}));var Z=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;O.parseImport=function(b){return b=b.replace(Z,function(d,A,E){var d=O.source(E);return d?O.parseImport(d):(console.error('Shader chunk "'+E+'" not existed in library'),"")}),b};var U=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;O.import=function(b){b.replace(U,function(w,A,E,f){var f=f.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(f){for(var u=E.split("."),v=O.codes,c=0,g;c<u.length-1;)g=u[c++],v[g]||(v[g]={}),v=v[g];g=u[c],v[g]=f}return f})},O.codes={},O.source=function(b){for(var w=b.split("."),A=O.codes,E=0;A&&E<w.length;){var d=w[E++];A=A[d]}return typeof A!="string"?(console.error('Shader "'+b+'" not existed in library'),""):A},q.Z=O},88693:function(ht,q,R){"use strict";var p=R(85038),s=R(23044),t=R(29100),r=p.Z.extend({width:512,height:512,type:s.Z.UNSIGNED_BYTE,format:s.Z.RGBA,wrapS:s.Z.REPEAT,wrapT:s.Z.REPEAT,minFilter:s.Z.LINEAR_MIPMAP_LINEAR,magFilter:s.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new t.Z},{getWebGLTexture:function(e){var n=e.gl,o=this._cache;return o.use(e.__uid__),o.miss("webgl_texture")&&o.put("webgl_texture",n.createTexture()),this.dynamic?this.update(e):o.isDirty()&&(this.update(e),o.fresh()),o.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(e){},updateCommon:function(e){var n=e.gl;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,this.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===s.Z.DEPTH_COMPONENT&&(this.useMipmap=!1);var o=e.getGLExtension("EXT_sRGB");this.format===r.SRGB&&!o&&(this.format=r.RGB),this.format===r.SRGB_ALPHA&&!o&&(this.format=r.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?s.Z.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?s.Z.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var e=this.minFilter;return this.NPOT||!this.useMipmap?e===s.Z.NEAREST_MIPMAP_NEAREST||e===s.Z.NEAREST_MIPMAP_LINEAR?s.Z.NEAREST:e===s.Z.LINEAR_MIPMAP_LINEAR||e===s.Z.LINEAR_MIPMAP_NEAREST?s.Z.LINEAR:e:e},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(e){--e;for(var n=1;n<32;n<<=1)e=e|e>>n;return e+1},dispose:function(e){var n=this._cache;n.use(e.__uid__);var o=n.get("webgl_texture");o&&e.gl.deleteTexture(o),n.deleteContext(e.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),r.BYTE=s.Z.BYTE,r.UNSIGNED_BYTE=s.Z.UNSIGNED_BYTE,r.SHORT=s.Z.SHORT,r.UNSIGNED_SHORT=s.Z.UNSIGNED_SHORT,r.INT=s.Z.INT,r.UNSIGNED_INT=s.Z.UNSIGNED_INT,r.FLOAT=s.Z.FLOAT,r.HALF_FLOAT=36193,r.UNSIGNED_INT_24_8_WEBGL=34042,r.DEPTH_COMPONENT=s.Z.DEPTH_COMPONENT,r.DEPTH_STENCIL=s.Z.DEPTH_STENCIL,r.ALPHA=s.Z.ALPHA,r.RGB=s.Z.RGB,r.RGBA=s.Z.RGBA,r.LUMINANCE=s.Z.LUMINANCE,r.LUMINANCE_ALPHA=s.Z.LUMINANCE_ALPHA,r.SRGB=35904,r.SRGB_ALPHA=35906,r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,r.NEAREST=s.Z.NEAREST,r.LINEAR=s.Z.LINEAR,r.NEAREST_MIPMAP_NEAREST=s.Z.NEAREST_MIPMAP_NEAREST,r.LINEAR_MIPMAP_NEAREST=s.Z.LINEAR_MIPMAP_NEAREST,r.NEAREST_MIPMAP_LINEAR=s.Z.NEAREST_MIPMAP_LINEAR,r.LINEAR_MIPMAP_LINEAR=s.Z.LINEAR_MIPMAP_LINEAR,r.REPEAT=s.Z.REPEAT,r.CLAMP_TO_EDGE=s.Z.CLAMP_TO_EDGE,r.MIRRORED_REPEAT=s.Z.MIRRORED_REPEAT,q.Z=r},75142:function(ht,q,R){"use strict";var p=R(88693),s=R(23044),t=R(82544),r=R(14983),e=r.Z.isPowerOfTwo;function n(i){return Math.pow(2,Math.round(Math.log(i)/Math.LN2))}function o(i,a){var l=n(i.width),_=n(i.height);a=a||document.createElement("canvas"),a.width=l,a.height=_;var M=a.getContext("2d");return M.drawImage(i.image,0,0,l,_),a}var h=p.Z.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(i){var a=i.gl;a.bindTexture(a.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(i);var l=this.format,_=this.type,M=!!(this.convertToPOT&&!this.mipmaps.length&&this.image&&(this.wrapS===p.Z.REPEAT||this.wrapT===p.Z.REPEAT)&&this.NPOT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,M?this.wrapS:this.getAvailableWrapS()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,M?this.wrapT:this.getAvailableWrapT()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,M?this.magFilter:this.getAvailableMagFilter()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,M?this.minFilter:this.getAvailableMinFilter());var m=i.getGLExtension("EXT_texture_filter_anisotropic");if(m&&this.anisotropic>1&&a.texParameterf(a.TEXTURE_2D,m.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),_===36193){var T=i.getGLExtension("OES_texture_half_float");T||(_=s.Z.FLOAT)}if(this.mipmaps.length)for(var y=this.width,P=this.height,C=0;C<this.mipmaps.length;C++){var O=this.mipmaps[C];this._updateTextureData(a,O,C,y,P,l,_,!1),y/=2,P/=2}else this._updateTextureData(a,this,0,this.width,this.height,l,_,M),this.useMipmap&&(!this.NPOT||M)&&a.generateMipmap(a.TEXTURE_2D);a.bindTexture(a.TEXTURE_2D,null)},_updateTextureData:function(i,a,l,_,M,m,T,y){if(a.image){var P=a.image;y&&(this._potCanvas=o(this,this._potCanvas),P=this._potCanvas),i.texImage2D(i.TEXTURE_2D,l,m,m,T,P)}else m<=p.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT&&m>=p.Z.COMPRESSED_RGB_S3TC_DXT1_EXT?i.compressedTexImage2D(i.TEXTURE_2D,l,m,_,M,0,a.pixels):i.texImage2D(i.TEXTURE_2D,l,m,_,M,0,m,T,a.pixels)},generateMipmap:function(i){var a=i.gl;this.useMipmap&&!this.NPOT&&(a.bindTexture(a.TEXTURE_2D,this._cache.get("webgl_texture")),a.generateMipmap(a.TEXTURE_2D))},isPowerOfTwo:function(){return e(this.width)&&e(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!!(this.width&&this.height)},bind:function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,this.getWebGLTexture(i))},unbind:function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,null)},load:function(i,a){var l=t.Z.createImage();a&&(l.crossOrigin=a);var _=this;return l.onload=function(){_.dirty(),_.trigger("success",_)},l.onerror=function(){_.trigger("error",_)},l.src=i,this.image=l,this}});Object.defineProperty(h.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(i){this.image?console.warn("Texture from image can't set width"):(this._width!==i&&this.dirty(),this._width=i)}}),Object.defineProperty(h.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(i){this.image?console.warn("Texture from image can't set height"):(this._height!==i&&this.dirty(),this._height=i)}}),q.Z=h},5847:function(ht,q,R){"use strict";var p=R(88693),s=R(23044),t=R(34635),r=R(14983),e=R(82544),n=r.Z.isPowerOfTwo,o=["px","nx","py","ny","pz","nz"],h=p.Z.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(a){var l=a.gl;l.bindTexture(l.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(a);var _=this.format,M=this.type;l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_S,this.getAvailableWrapS()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_WRAP_T,this.getAvailableWrapT()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),l.texParameteri(l.TEXTURE_CUBE_MAP,l.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var m=a.getGLExtension("EXT_texture_filter_anisotropic");if(m&&this.anisotropic>1&&l.texParameterf(l.TEXTURE_CUBE_MAP,m.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),M===36193){var T=a.getGLExtension("OES_texture_half_float");T||(M=s.Z.FLOAT)}if(this.mipmaps.length)for(var y=this.width,P=this.height,C=0;C<this.mipmaps.length;C++){var O=this.mipmaps[C];this._updateTextureData(l,O,C,y,P,_,M),y/=2,P/=2}else this._updateTextureData(l,this,0,this.width,this.height,_,M),!this.NPOT&&this.useMipmap&&l.generateMipmap(l.TEXTURE_CUBE_MAP);l.bindTexture(l.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(a,l,_,M,m,T,y){for(var P=0;P<6;P++){var C=o[P],O=l.image&&l.image[C];O?a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+P,_,T,T,y,O):a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+P,_,T,M,m,0,T,y,l.pixels&&l.pixels[C])}},generateMipmap:function(a){var l=a.gl;this.useMipmap&&!this.NPOT&&(l.bindTexture(l.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),l.generateMipmap(l.TEXTURE_CUBE_MAP))},bind:function(a){a.gl.bindTexture(a.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(a))},unbind:function(a){a.gl.bindTexture(a.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?n(this.image.px.width)&&n(this.image.px.height):n(this.width)&&n(this.height)},isRenderable:function(){return this.image.px?i(this.image.px)&&i(this.image.nx)&&i(this.image.py)&&i(this.image.ny)&&i(this.image.pz)&&i(this.image.nz):!!(this.width&&this.height)},load:function(a,l){var _=0,M=this;return t.Z.each(a,function(m,T){var y=e.Z.createImage();l&&(y.crossOrigin=l),y.onload=function(){_--,_===0&&(M.dirty(),M.trigger("success",M))},y.onerror=function(){_--},_++,y.src=m,M.image[T]=y}),this}});Object.defineProperty(h.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(a){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==a&&this.dirty(),this._width=a)}}),Object.defineProperty(h.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(a){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==a&&this.dirty(),this._height=a)}});function i(a){return a.width>0&&a.height>0}q.Z=h},95347:function(ht,q,R){"use strict";var p=R(37046),s=p.Z.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=p.Z.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});q.Z=s},18850:function(ht,q,R){"use strict";var p=R(37046),s=p.Z.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,r=Math.atan(1/t[5])*2;this.fov=r/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=p.Z.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}});q.Z=s},80785:function(ht,q,R){"use strict";R.d(q,{Z:function(){return M}});var p=R(85038),s=R(95347),t=R(6132),r=R(60217),e=R(84708),n=R(30420),o=R(23044),h=`
@export clay.compositor.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
varying vec2 v_Texcoord;
void main()
{
 v_Texcoord = texcoord;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end`;r.Z.import(h);var i=new t.Z,a=new n.Z({geometry:i,frustumCulling:!1}),l=new s.Z,_=p.Z.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var m=new r.Z(r.Z.source("clay.compositor.vertex"),this.fragment),T=new e.Z({shader:m});T.enableTexturesAll(),this.material=T},{setUniform:function(m,T){this.material.setUniform(m,T)},getUniform:function(m){var T=this.material.uniforms[m];if(T)return T.value},attachOutput:function(m,T){this.outputs||(this.outputs={}),T=T||o.Z.COLOR_ATTACHMENT0,this.outputs[T]=m},detachOutput:function(m){for(var T in this.outputs)this.outputs[T]===m&&(this.outputs[T]=null)},bind:function(m,T){if(this.outputs)for(var y in this.outputs){var P=this.outputs[y];P&&T.attach(P,y)}T&&T.bind(m)},unbind:function(m,T){T.unbind(m)},render:function(m,T){var y=m.gl;if(T){this.bind(m,T);var P=m.getGLExtension("EXT_draw_buffers");if(P&&this.outputs){var C=[];for(var O in this.outputs)O=+O,O>=y.COLOR_ATTACHMENT0&&O<=y.COLOR_ATTACHMENT0+8&&C.push(O);P.drawBuffersEXT(C)}}this.trigger("beforerender",this,m);var Z=this.clearDepth?y.DEPTH_BUFFER_BIT:0;if(y.depthMask(!0),this.clearColor){Z=Z|y.COLOR_BUFFER_BIT,y.colorMask(!0,!0,!0,!0);var U=this.clearColor;Array.isArray(U)&&y.clearColor(U[0],U[1],U[2],U[3])}y.clear(Z),this.blendWithPrevious?(y.enable(y.BLEND),this.material.transparent=!0):(y.disable(y.BLEND),this.material.transparent=!1),this.renderQuad(m),this.trigger("afterrender",this,m),T&&this.unbind(m,T)},renderQuad:function(m){a.material=this.material,m.renderPass([a],l)},dispose:function(m){}}),M=_},9904:function(ht,q,R){"use strict";var p=R(75142),s=R(23044),t=R(34635),r=function(){this._pool={},this._allocatedTextures=[]};r.prototype={constructor:r,get:function(a){var l=o(a);this._pool.hasOwnProperty(l)||(this._pool[l]=[]);var _=this._pool[l];if(!_.length){var M=new p.Z(a);return this._allocatedTextures.push(M),M}return _.pop()},put:function(a){var l=o(a);this._pool.hasOwnProperty(l)||(this._pool[l]=[]);var _=this._pool[l];_.push(a)},clear:function(a){for(var l=0;l<this._allocatedTextures.length;l++)this._allocatedTextures[l].dispose(a);this._pool={},this._allocatedTextures=[]}};var e={width:512,height:512,type:s.Z.UNSIGNED_BYTE,format:s.Z.RGBA,wrapS:s.Z.CLAMP_TO_EDGE,wrapT:s.Z.CLAMP_TO_EDGE,minFilter:s.Z.LINEAR_MIPMAP_LINEAR,magFilter:s.Z.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},n=Object.keys(e);function o(a){t.Z.defaultsWithPropList(a,e,n),h(a);for(var l="",_=0;_<n.length;_++){var M=n[_],m=a[M].toString();l+=m}return l}function h(a){var l=i(a.width,a.height);a.format===s.Z.DEPTH_COMPONENT&&(a.useMipmap=!1),(!l||!a.useMipmap)&&(a.minFilter==s.Z.NEAREST_MIPMAP_NEAREST||a.minFilter==s.Z.NEAREST_MIPMAP_LINEAR?a.minFilter=s.Z.NEAREST:(a.minFilter==s.Z.LINEAR_MIPMAP_LINEAR||a.minFilter==s.Z.LINEAR_MIPMAP_NEAREST)&&(a.minFilter=s.Z.LINEAR)),l||(a.wrapS=s.Z.CLAMP_TO_EDGE,a.wrapT=s.Z.CLAMP_TO_EDGE)}function i(a,l){return(a&a-1)===0&&(l&l-1)===0}q.Z=r},61857:function(ht,q,R){"use strict";R.d(q,{Z:function(){return nt}});var p=R(34635),s=R(85038),t=s.Z.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(z,j){var at=this.outputs[z],ft=at.parameters,pt=at._parametersCopy;if(pt||(pt=at._parametersCopy={}),ft)for(var rt in ft)rt!=="width"&&rt!=="height"&&(pt[rt]=ft[rt]);var et,ut;return ft.width instanceof Function?et=ft.width.call(this,j):et=ft.width,ft.height instanceof Function?ut=ft.height.call(this,j):ut=ft.height,(pt.width!==et||pt.height!==ut)&&this._outputTextures[z]&&this._outputTextures[z].dispose(j.gl),pt.width=et,pt.height=ut,pt},setParameter:function(z,j){},getParameter:function(z){},setParameters:function(z){for(var j in z)this.setParameter(j,z[j])},render:function(){},getOutput:function(z,j){if(j==null)return j=z,this._outputTextures[j];var at=this.outputs[j];if(at)return this._rendered?at.outputLastFrame?this._prevOutputTextures[j]:this._outputTextures[j]:this._rendering?(this._prevOutputTextures[j]||(this._prevOutputTextures[j]=this._compositor.allocateTexture(at.parameters||{})),this._prevOutputTextures[j]):(this.render(z),this._outputTextures[j])},removeReference:function(z){if(this._outputReferences[z]--,this._outputReferences[z]===0){var j=this.outputs[z];j.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}},link:function(z,j,at){this.inputLinks[z]={node:j,pin:at},j.outputLinks[at]||(j.outputLinks[at]=[]),j.outputLinks[at].push({node:this,pin:z}),this.pass.material.enableTexture(z)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(z){if(!this._rendering){this._rendering=!0;for(var j in this.inputLinks){var at=this.inputLinks[j];at.node.updateReference(at.pin)}this._rendering=!1}z&&this._outputReferences[z]++},beforeFrame:function(){this._rendered=!1;for(var z in this.outputLinks)this._outputReferences[z]=0},afterFrame:function(){for(var z in this.outputLinks)if(this._outputReferences[z]>0){var j=this.outputs[z];j.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}}}),r=t,e=s.Z.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(z){this.nodes.indexOf(z)>=0||(this.nodes.push(z),this._dirty=!0)},removeNode:function(z){typeof z=="string"&&(z=this.getNodeByName(z));var j=this.nodes.indexOf(z);j>=0&&(this.nodes.splice(j,1),this._dirty=!0)},getNodeByName:function(z){for(var j=0;j<this.nodes.length;j++)if(this.nodes[j].name===z)return this.nodes[j]},update:function(){for(var z=0;z<this.nodes.length;z++)this.nodes[z].clear();for(var z=0;z<this.nodes.length;z++){var j=this.nodes[z];if(j.inputs){for(var at in j.inputs)if(j.inputs[at]){if(j.pass&&!j.pass.material.isUniformEnabled(at)){console.warn("Pin "+j.name+"."+at+" not used.");continue}var ft=j.inputs[at],pt=this.findPin(ft);pt?j.link(at,pt.node,pt.pin):console.warn(typeof ft=="string"?"Node "+ft+" not exist":"Pin of "+ft.node+"."+ft.pin+" not exist")}}}},findPin:function(z){var j;if((typeof z=="string"||z instanceof r)&&(z={node:z}),typeof z.node=="string")for(var at=0;at<this.nodes.length;at++){var ft=this.nodes[at];ft.name===z.node&&(j=ft)}else j=z.node;if(j){var pt=z.pin;if(pt||j.outputs&&(pt=Object.keys(j.outputs)[0]),j.outputs[pt])return{node:j,pin:pt}}}}),n=e,o=R(9904),h=R(76728),i=n.extend(function(){return{_outputs:[],_texturePool:new o.Z,_frameBuffer:new h.Z({depthBuffer:!1})}},{addNode:function(z){n.prototype.addNode.call(this,z),z._compositor=this},render:function(z,j){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var at=0;at<this.nodes.length;at++)this.nodes[at].outputs||this._outputs.push(this.nodes[at])}for(var at=0;at<this.nodes.length;at++)this.nodes[at].beforeFrame();for(var at=0;at<this._outputs.length;at++)this._outputs[at].updateReference();for(var at=0;at<this._outputs.length;at++)this._outputs[at].render(z,j);for(var at=0;at<this.nodes.length;at++)this.nodes[at].afterFrame()},allocateTexture:function(z){return this._texturePool.get(z)},releaseTexture:function(z){this._texturePool.put(z)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(z){this._texturePool.clear(z)}}),a=i,l=R(23044),_=r.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new h.Z},{render:function(z){this._rendering=!0;var j=z.gl;this.trigger("beforerender");var at;if(!this.outputs)at=z.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);else{var ft=this.frameBuffer;for(var pt in this.outputs){var rt=this.updateParameter(pt,z),et=this.outputs[pt],ut=this._compositor.allocateTexture(rt);this._outputTextures[pt]=ut;var dt=et.attachment||j.COLOR_ATTACHMENT0;typeof dt=="string"&&(dt=j[dt]),ft.attach(ut,dt)}ft.bind(z);var ot=z.getGLExtension("EXT_draw_buffers");if(ot){var _t=[];for(var dt in this.outputs)dt=parseInt(dt),dt>=j.COLOR_ATTACHMENT0&&dt<=j.COLOR_ATTACHMENT0+8&&_t.push(dt);ot.drawBuffersEXT(_t)}z.saveClear(),z.clearBit=l.Z.DEPTH_BUFFER_BIT|l.Z.COLOR_BUFFER_BIT,at=z.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),z.restoreClear(),ft.unbind(z)}this.trigger("afterrender",at),this._rendering=!1,this._rendered=!0}}),M=_,m=r.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(z,j){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),T=m,y=R(80785),P=r.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var z=new y.Z({fragment:this.shader});this.pass=z},{render:function(z,j){this.trigger("beforerender",z),this._rendering=!0;var at=z.gl;for(var ft in this.inputLinks){var pt=this.inputLinks[ft],rt=pt.node.getOutput(z,pt.pin);this.pass.setUniform(ft,rt)}if(!this.outputs)this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(z),this.pass.render(z,j);else{this.pass.outputs={};var et={};for(var ut in this.outputs){var dt=this.updateParameter(ut,z);isNaN(dt.width)&&this.updateParameter(ut,z);var ot=this.outputs[ut],_t=this._compositor.allocateTexture(dt);this._outputTextures[ut]=_t;var lt=ot.attachment||at.COLOR_ATTACHMENT0;typeof lt=="string"&&(lt=at[lt]),et[lt]=_t}this._compositor.getFrameBuffer().bind(z);for(var lt in et)this._compositor.getFrameBuffer().attach(et[lt],lt);this.pass.render(z),this._compositor.getFrameBuffer().updateMipmap(z)}for(var ft in this.inputLinks){var pt=this.inputLinks[ft];pt.node.removeReference(pt.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",z)},updateParameter:function(z,j){var at=this.outputs[z],ft=at.parameters,pt=at._parametersCopy;if(pt||(pt=at._parametersCopy={}),ft)for(var rt in ft)rt!=="width"&&rt!=="height"&&(pt[rt]=ft[rt]);var et,ut;return typeof ft.width=="function"?et=ft.width.call(this,j):et=ft.width,typeof ft.height=="function"?ut=ft.height.call(this,j):ut=ft.height,et=Math.ceil(et),ut=Math.ceil(ut),(pt.width!==et||pt.height!==ut)&&this._outputTextures[z]&&this._outputTextures[z].dispose(j),pt.width=et,pt.height=ut,pt},setParameter:function(z,j){this.pass.setUniform(z,j)},getParameter:function(z){return this.pass.getUniform(z)},setParameters:function(z){for(var j in z)this.setParameter(j,z[j])},define:function(z,j){this.pass.material.define("fragment",z,j)},undefine:function(z){this.pass.material.undefine("fragment",z)},removeReference:function(z){if(this._outputReferences[z]--,this._outputReferences[z]===0){var j=this.outputs[z];j.keepLastFrame?(this._prevOutputTextures[z]&&this._compositor.releaseTexture(this._prevOutputTextures[z]),this._prevOutputTextures[z]=this._outputTextures[z]):this._compositor.releaseTexture(this._outputTextures[z])}},clear:function(){r.prototype.clear.call(this),this.pass.material.disableTexturesAll()}}),C=P,O=R(60217),Z=R(88693),U=R(75142),b=R(5847),w=`@export clay.compositor.coloradjust
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float exposure : 0.0;
uniform float gamma : 1.0;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);
 color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 color = clamp( color * pow(2.0, exposure), 0.0, 1.0);
 color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);
 float luminance = dot( color, w );
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.brightness
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = tex.rgb + vec3(brightness);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.contrast
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float contrast : 1.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.exposure
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float exposure : 0.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb * pow(2.0, exposure);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.gamma
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float gamma : 1.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = pow(tex.rgb, vec3(gamma));
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.saturation
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb;
 float luminance = dot(color, w);
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end`,A=R(71364),E=`@export clay.compositor.hdr.log_lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 float luminance = dot(tex.rgb, w);
 luminance = log(luminance + 0.001);
 gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));
}
@end
@export clay.compositor.hdr.lum_adaption
varying vec2 v_Texcoord;
uniform sampler2D adaptedLum;
uniform sampler2D currentLum;
uniform float frameTime : 0.02;
@import clay.util.rgbm
void main()
{
 float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;
 float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);
 fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));
 gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));
}
@end
@export clay.compositor.lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord );
 float luminance = dot(tex.rgb, w);
 gl_FragColor = vec4(vec3(luminance), 1.0);
}
@end`,d=R(69663),f=`@export clay.compositor.vignette
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float darkness: 1;
uniform float offset: 1;
@import clay.util.rgbm
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = texel.rgb;
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);
 gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));
}
@end`,u=R(71032),v=R(61430),c=R(12045),g=R(85747),D=R(53746),x=`@export clay.compositor.lensflare
#define SAMPLE_NUMBER 8
uniform sampler2D texture;
uniform sampler2D lenscolor;
uniform vec2 textureSize : [512, 512];
uniform float dispersal : 0.3;
uniform float haloWidth : 0.4;
uniform float distortion : 1.0;
varying vec2 v_Texcoord;
@import clay.util.rgbm
vec4 textureDistorted(
 in vec2 texcoord,
 in vec2 direction,
 in vec3 distortion
) {
 return vec4(
 decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,
 1.0
 );
}
void main()
{
 vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;
 vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;
 vec2 haloVec = normalize(ghostVec) * haloWidth;
 vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);
 vec4 result = vec4(0.0);
 for (int i = 0; i < SAMPLE_NUMBER; i++)
 {
 vec2 offset = fract(texcoord + ghostVec * float(i));
 float weight = length(vec2(0.5) - offset) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 }
 result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));
 float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 vec2 offset = fract(texcoord + haloVec);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 gl_FragColor = result;
}
@end`,L=R(34725),I=R(14289);function N(z){z.import(w),z.import(A.Z),z.import(E),z.import(d.Z),z.import(f),z.import(u.Z),z.import(v.Z),z.import(c.Z),z.import(g.Z),z.import(D.Z),z.import(x),z.import(L.Z),z.import(I.Z)}N(O.Z);var G=/^#source\((.*?)\)/;function K(z,j){var at=new a;j=j||{};var ft={textures:{},parameters:{}},pt=function(ut,dt){for(var ot=0;ot<z.nodes.length;ot++){var _t=z.nodes[ot],lt=J(_t,ft,j);lt&&at.addNode(lt)}};for(var rt in z.parameters){var et=z.parameters[rt];ft.parameters[rt]=V(et)}return S(z,ft,j,function(ut){ft.textures=ut,pt()}),at}function J(z,j,at){var ft=z.type||"filter",pt,rt,et;if(ft==="filter"){var ut=z.shader.trim(),dt=G.exec(ut);if(dt?pt=O.Z.source(dt[1].trim()):ut.charAt(0)==="#"&&(pt=j.shaders[ut.substr(1)]),pt||(pt=ut),!pt)return}if(z.inputs){rt={};for(var ot in z.inputs)typeof z.inputs[ot]=="string"?rt[ot]=z.inputs[ot]:rt[ot]={node:z.inputs[ot].node,pin:z.inputs[ot].pin}}if(z.outputs){et={};for(var ot in z.outputs){var _t=z.outputs[ot];et[ot]={},_t.attachment!=null&&(et[ot].attachment=_t.attachment),_t.keepLastFrame!=null&&(et[ot].keepLastFrame=_t.keepLastFrame),_t.outputLastFrame!=null&&(et[ot].outputLastFrame=_t.outputLastFrame),_t.parameters&&(et[ot].parameters=V(_t.parameters))}}var lt;if(ft==="scene"?lt=new M({name:z.name,scene:at.scene,camera:at.camera,outputs:et}):ft==="texture"?lt=new T({name:z.name,outputs:et}):lt=new C({name:z.name,shader:pt,inputs:rt,outputs:et}),lt){if(z.parameters)for(var ot in z.parameters){var Mt=z.parameters[ot];typeof Mt=="string"?(Mt=Mt.trim(),Mt.charAt(0)==="#"?Mt=j.textures[Mt.substr(1)]:lt.on("beforerender",W(ot,X(Mt)))):typeof Mt=="function"&&lt.on("beforerender",Mt),lt.setParameter(ot,Mt)}if(z.defines&&lt.pass)for(var ot in z.defines){var Mt=z.defines[ot];lt.pass.material.define("fragment",ot,Mt)}}return lt}function F(z,j){return z}function H(z,j){return j}function V(z){var j={};if(!z)return j;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(ft){var pt=z[ft];pt!=null&&(typeof pt=="string"&&(pt=Z.Z[pt]),j[ft]=pt)});var at=z.scale||1;return["width","height"].forEach(function(ft){if(z[ft]!=null){var pt=z[ft];typeof pt=="string"?(pt=pt.trim(),j[ft]=B(ft,X(pt),at)):j[ft]=pt}}),j.width||(j.width=F),j.height||(j.height=H),z.useMipmap!=null&&(j.useMipmap=z.useMipmap),j}function S(z,j,at,ft){if(!z.textures){ft({});return}var pt={},rt=0,et=!1,ut=at.textureRootPath;p.Z.each(z.textures,function(dt,ot){var _t,lt=dt.path,Mt=V(dt.parameters);if(Array.isArray(lt)&&lt.length===6)ut&&(lt=lt.map(function(Dt){return p.Z.relative2absolute(Dt,ut)})),_t=new b.Z(Mt);else if(typeof lt=="string")ut&&(lt=p.Z.relative2absolute(lt,ut)),_t=new U.Z(Mt);else return;_t.load(lt),rt++,_t.once("success",function(){pt[ot]=_t,rt--,rt===0&&(ft(pt),et=!0)})}),rt===0&&!et&&ft(pt)}function W(z,j){return function(at){var ft=at.getDevicePixelRatio(),pt=at.getWidth(),rt=at.getHeight(),et=j(pt,rt,ft);this.setParameter(z,et)}}function B(z,j,at){return at=at||1,function(ft){var pt=ft.getDevicePixelRatio(),rt=ft.getWidth()*at,et=ft.getHeight()*at;return j(rt,et,pt)}}function X(z){var j=/^expr\((.*)\)$/.exec(z);if(j)try{var at=new Function("width","height","dpr","return "+j[1]);return at(1,1),at}catch(ft){throw new Error("Invalid expression.")}}var Y=K,nt=Y},85038:function(ht,q,R){"use strict";R.d(q,{Z:function(){return h}});function p(i,a,l){typeof a=="object"&&(l=a,a=null);var _=this,M;if(!(i instanceof Function)){M=[];for(var m in i)i.hasOwnProperty(m)&&M.push(m)}var T=function(P){if(_.apply(this,arguments),i instanceof Function?s(this,i.call(this,P)):t(this,i,M),this.constructor===T)for(var C=T.__initializers__,O=0;O<C.length;O++)C[O].apply(this,arguments)};T.__super__=_,_.__initializers__?T.__initializers__=_.__initializers__.slice():T.__initializers__=[],a&&T.__initializers__.push(a);var y=function(){};return y.prototype=_.prototype,T.prototype=new y,T.prototype.constructor=T,s(T.prototype,l),T.extend=_.extend,T.derive=_.extend,T}function s(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l])}function t(i,a,l){for(var _=0;_<l.length;_++){var M=l[_];i[M]=a[M]}}var r={extend:p,derive:p},e=R(18167),n=R(34635),o=function(){this.__uid__=n.Z.genGUID()};o.__initializers__=[function(i){n.Z.extend(this,i)}],n.Z.extend(o,r),n.Z.extend(o.prototype,e.Z);var h=o},29100:function(ht,q){"use strict";var R="__dt__",p=function(){this._contextId=0,this._caches=[],this._context={}};p.prototype={use:function(s,t){var r=this._caches;r[s]||(r[s]={},t&&(r[s]=t())),this._contextId=s,this._context=r[s]},put:function(s,t){this._context[s]=t},get:function(s){return this._context[s]},dirty:function(s){s=s||"";var t=R+s;this.put(t,!0)},dirtyAll:function(s){s=s||"";for(var t=R+s,r=this._caches,e=0;e<r.length;e++)r[e]&&(r[e][t]=!0)},fresh:function(s){s=s||"";var t=R+s;this.put(t,!1)},freshAll:function(s){s=s||"";for(var t=R+s,r=this._caches,e=0;e<r.length;e++)r[e]&&(r[e][t]=!1)},isDirty:function(s){s=s||"";var t=R+s,r=this._context;return!r.hasOwnProperty(t)||r[t]===!0},deleteContext:function(s){delete this._caches[s],this._context={}},delete:function(s){delete this._context[s]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(s,t){var r=Object.keys(this._caches);r.forEach(function(e){s&&s.call(t,e)})},miss:function(s){return!this._context.hasOwnProperty(s)}},p.prototype.constructor=p,q.Z=p},60193:function(ht,q,R){"use strict";R.d(q,{Z:function(){return r}});var p=function(){this.head=null,this.tail=null,this._length=0};p.prototype.insert=function(e){var n=new p.Entry(e);return this.insertEntry(n),n},p.prototype.insertAt=function(e,n){if(!(e<0)){for(var o=this.head,h=0;o&&h!=e;)o=o.next,h++;if(o){var i=new p.Entry(n),a=o.prev;a?(a.next=i,i.prev=a):this.head=i,i.next=o,o.prev=i}else this.insert(n)}},p.prototype.insertBeforeEntry=function(e,n){var o=new p.Entry(e),h=n.prev;h?(h.next=o,o.prev=h):this.head=o,o.next=n,n.prev=o,this._length++},p.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._length++},p.prototype.remove=function(e){var n=e.prev,o=e.next;n?n.next=o:this.head=o,o?o.prev=n:this.tail=n,e.next=e.prev=null,this._length--},p.prototype.removeAt=function(e){if(!(e<0)){for(var n=this.head,o=0;n&&o!=e;)n=n.next,o++;if(n)return this.remove(n),n.value}},p.prototype.getHead=function(){if(this.head)return this.head.value},p.prototype.getTail=function(){if(this.tail)return this.tail.value},p.prototype.getAt=function(e){if(!(e<0)){for(var n=this.head,o=0;n&&o!=e;)n=n.next,o++;return n.value}},p.prototype.indexOf=function(e){for(var n=this.head,o=0;n;){if(n.value===e)return o;n=n.next,o++}},p.prototype.length=function(){return this._length},p.prototype.isEmpty=function(){return this._length===0},p.prototype.forEach=function(e,n){for(var o=this.head,h=0,i=typeof n!="undefined";o;)i?e.call(n,o.value,h):e(o.value,h),o=o.next,h++},p.prototype.clear=function(){this.tail=this.head=null,this._length=0},p.Entry=function(e){this.value=e,this.next=null,this.prev=null};var s=p,t=function(e){this._list=new s,this._map={},this._maxSize=e||10};t.prototype.setMaxSize=function(e){this._maxSize=e},t.prototype.put=function(e,n){if(!this._map.hasOwnProperty(e)){var o=this._list.length();if(o>=this._maxSize&&o>0){var h=this._list.head;this._list.remove(h),delete this._map[h.key]}var i=this._list.insert(n);i.key=e,this._map[e]=i}},t.prototype.get=function(e){var n=this._map[e];if(this._map.hasOwnProperty(e))return n!==this._list.tail&&(this._list.remove(n),this._list.insertEntry(n)),n.value},t.prototype.remove=function(e){var n=this._map[e];typeof n!="undefined"&&(delete this._map[e],this._list.remove(n))},t.prototype.clear=function(){this._list.clear(),this._map={}};var r=t},23044:function(ht,q){"use strict";q.Z={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},18167:function(ht,q){"use strict";function R(s,t){this.action=s,this.context=t}var p={trigger:function(s){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(s)){var t=this.__handlers__[s],r=t.length,e=-1,n=arguments;switch(n.length){case 1:for(;++e<r;)t[e].action.call(t[e].context);return;case 2:for(;++e<r;)t[e].action.call(t[e].context,n[1]);return;case 3:for(;++e<r;)t[e].action.call(t[e].context,n[1],n[2]);return;case 4:for(;++e<r;)t[e].action.call(t[e].context,n[1],n[2],n[3]);return;case 5:for(;++e<r;)t[e].action.call(t[e].context,n[1],n[2],n[3],n[4]);return;default:for(;++e<r;)t[e].action.apply(t[e].context,Array.prototype.slice.call(n,1));return}}},on:function(s,t,r){if(!(!s||!t)){var e=this.__handlers__||(this.__handlers__={});if(!e[s])e[s]=[];else if(this.has(s,t))return;var n=new R(t,r||this);return e[s].push(n),this}},once:function(s,t,r){if(!s||!t)return;var e=this;function n(){e.off(s,n),t.apply(this,arguments)}return this.on(s,n,r)},before:function(s,t,r){if(!(!s||!t))return s="before"+s,this.on(s,t,r)},after:function(s,t,r){if(!(!s||!t))return s="after"+s,this.on(s,t,r)},success:function(s,t){return this.once("success",s,t)},error:function(s,t){return this.once("error",s,t)},off:function(s,t){var r=this.__handlers__||(this.__handlers__={});if(!t){r[s]=[];return}if(r[s]){for(var e=r[s],n=[],o=0;o<e.length;o++)t&&e[o].action!==t&&n.push(e[o]);r[s]=n}return this},has:function(s,t){var r=this.__handlers__;if(!r||!r[s])return!1;for(var e=r[s],n=0;n<e.length;n++)if(e[n].action===t)return!0}};q.Z=p},34635:function(ht,q){"use strict";var R=0,p=Array.prototype,s=p.forEach,t={genGUID:function(){return++R},relative2absolute:function(r,e){if(!e||r.match(/^\//))return r;for(var n=r.split("/"),o=e.split("/"),h=n[0];h==="."||h==="..";)h===".."&&o.pop(),n.shift(),h=n[0];return o.join("/")+"/"+n.join("/")},extend:function(r,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r},defaults:function(r,e){if(e)for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r},extendWithPropList:function(r,e,n){if(e)for(var o=0;o<n.length;o++){var h=n[o];r[h]=e[h]}return r},defaultsWithPropList:function(r,e,n){if(e)for(var o=0;o<n.length;o++){var h=n[o];r[h]==null&&(r[h]=e[h])}return r},each:function(r,e,n){if(r&&e)if(r.forEach&&r.forEach===s)r.forEach(e,n);else if(r.length===+r.length)for(var o=0,h=r.length;o<h;o++)e.call(n,r[o],o,r);else for(var i in r)r.hasOwnProperty(i)&&e.call(n,r[i],i,r)},isObject:function(r){return r===Object(r)},isArray:function(r){return Array.isArray(r)},isArrayLike:function(r){return r?r.length===+r.length:!1},clone:function(r){if(t.isObject(r)){if(t.isArray(r))return r.slice();if(t.isArrayLike(r)){for(var e=new r.constructor(r.length),n=0;n<r.length;n++)e[n]=r[n];return e}else return t.extend({},r)}else return r}};q.Z=t},82544:function(ht,q,R){"use strict";R.d(q,{Z:function(){return n}});function p(o){var h=new XMLHttpRequest;h.open("get",o.url),h.responseType=o.responseType||"text",o.onprogress&&(h.onprogress=function(i){if(i.lengthComputable){var a=i.loaded/i.total;o.onprogress(a,i.loaded,i.total)}else o.onprogress(null)}),h.onload=function(i){h.status>=400?o.onerror&&o.onerror():o.onload&&o.onload(h.response)},o.onerror&&(h.onerror=o.onerror),h.send(null)}var s={get:p},t,r={};r.supportWebGL=function(){if(t==null)try{var o=document.createElement("canvas"),h=o.getContext("webgl")||o.getContext("experimental-webgl");if(!h)throw new Error}catch(i){t=!1}return t},r.Int8Array=typeof Int8Array=="undefined"?Array:Int8Array,r.Uint8Array=typeof Uint8Array=="undefined"?Array:Uint8Array,r.Uint16Array=typeof Uint16Array=="undefined"?Array:Uint16Array,r.Uint32Array=typeof Uint32Array=="undefined"?Array:Uint32Array,r.Int16Array=typeof Int16Array=="undefined"?Array:Int16Array,r.Float32Array=typeof Float32Array=="undefined"?Array:Float32Array,r.Float64Array=typeof Float64Array=="undefined"?Array:Float64Array;var e={};typeof window!="undefined"?e=window:typeof R.g!="undefined"&&(e=R.g),r.requestAnimationFrame=e.requestAnimationFrame||e.msRequestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(o){setTimeout(o,16)},r.createCanvas=function(){return document.createElement("canvas")},r.createImage=function(){return new e.Image},r.request={get:s.get},r.addEventListener=function(o,h,i,a){o.addEventListener(h,i,a)},r.removeEventListener=function(o,h,i){o.removeEventListener(h,i)};var n=r},43938:function(ht,q,R){"use strict";R.d(q,{Z:function(){return a}});var p=R(97410),s=R(3023),t=R(39186),r=R(3522),e=R(66987),n=R(98663),o=R(85822),h=R(81520),i={vec2:p.Z,vec3:s.Z,vec4:t.Z,mat2:r.Z,mat2d:e.Z,mat3:n.Z,mat4:o.Z,quat:h.Z},a=i},99439:function(ht,q,R){"use strict";var p=R(11476),s=R(6132),t=R(49865),r=R(14147),e=R(37233),n=R(82544),o=new t.Z,h=p.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var a={px:i("px",this.depthSegments,this.heightSegments),nx:i("nx",this.depthSegments,this.heightSegments),py:i("py",this.widthSegments,this.depthSegments),ny:i("ny",this.widthSegments,this.depthSegments),pz:i("pz",this.widthSegments,this.heightSegments),nz:i("nz",this.widthSegments,this.heightSegments)},l=["position","texcoord0","normal"],_=0,M=0;for(var m in a)_+=a[m].vertexCount,M+=a[m].indices.length;for(var T=0;T<l.length;T++)this.attributes[l[T]].init(_);this.indices=new n.Z.Uint16Array(M);var y=0,P=0;for(var m in a){for(var C=a[m],T=0;T<l.length;T++)for(var O=l[T],Z=C.attributes[O].value,U=C.attributes[O].size,b=O==="normal",w=0;w<Z.length;w++){var A=Z[w];this.inside&&b&&(A=-A),this.attributes[O].value[w+U*P]=A}for(var E=C.indices.length,w=0;w<C.indices.length;w++)this.indices[w+y]=P+C.indices[this.inside?E-w-1:w];y+=C.indices.length,P+=C.vertexCount}this.boundingBox=new e.Z,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function i(a,l,_){o.identity();var M=new s.Z({widthSegments:l,heightSegments:_});switch(a){case"px":t.Z.translate(o,o,r.Z.POSITIVE_X),t.Z.rotateY(o,o,Math.PI/2);break;case"nx":t.Z.translate(o,o,r.Z.NEGATIVE_X),t.Z.rotateY(o,o,-Math.PI/2);break;case"py":t.Z.translate(o,o,r.Z.POSITIVE_Y),t.Z.rotateX(o,o,-Math.PI/2);break;case"ny":t.Z.translate(o,o,r.Z.NEGATIVE_Y),t.Z.rotateX(o,o,Math.PI/2);break;case"pz":t.Z.translate(o,o,r.Z.POSITIVE_Z);break;case"nz":t.Z.translate(o,o,r.Z.NEGATIVE_Z),t.Z.rotateY(o,o,Math.PI);break}return M.applyTransform(o),M}q.Z=h},6132:function(ht,q,R){"use strict";var p=R(11476),s=R(37233),t=p.Z.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var r=this.heightSegments,e=this.widthSegments,n=this.attributes,o=[],h=[],i=[],a=[],l=0;l<=r;l++)for(var _=l/r,M=0;M<=e;M++){var m=M/e;if(o.push([2*m-1,2*_-1,0]),h&&h.push([m,_]),i&&i.push([0,0,1]),M<e&&l<r){var T=M+l*(e+1);a.push([T,T+1,T+e+1]),a.push([T+e+1,T+1,T+e+2])}}n.position.fromArray(o),n.texcoord0.fromArray(h),n.normal.fromArray(i),this.initIndicesFromArray(a),this.boundingBox=new s.Z,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});q.Z=t},88935:function(ht,q,R){"use strict";var p=R(11476),s=R(37233),t=p.Z.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var r=this.heightSegments,e=this.widthSegments,n=this.attributes.position,o=this.attributes.texcoord0,h=this.attributes.normal,i=(e+1)*(r+1);n.init(i),o.init(i),h.init(i);var a=i>65535?Uint32Array:Uint16Array,l=this.indices=new a(e*r*6),_,M,m,T,y,P,C,w=this.radius,O=this.phiStart,Z=this.phiLength,U=this.thetaStart,b=this.thetaLength,w=this.radius,A=[],E=[],d=0,f=1/w;for(C=0;C<=r;C++)for(P=0;P<=e;P++)T=P/e,y=C/r,_=-w*Math.cos(O+T*Z)*Math.sin(U+y*b),M=w*Math.cos(U+y*b),m=w*Math.sin(O+T*Z)*Math.sin(U+y*b),A[0]=_,A[1]=M,A[2]=m,E[0]=T,E[1]=y,n.set(d,A),o.set(d,E),A[0]*=f,A[1]*=f,A[2]*=f,h.set(d,A),d++;var u,v,c,g,D=e+1,x=0;for(C=0;C<r;C++)for(P=0;P<e;P++)v=C*D+P,u=C*D+P+1,g=(C+1)*D+P+1,c=(C+1)*D+P,l[x++]=u,l[x++]=v,l[x++]=g,l[x++]=v,l[x++]=c,l[x++]=g;this.boundingBox=new s.Z,this.boundingBox.max.set(w,w,w),this.boundingBox.min.set(-w,-w,-w)}});q.Z=t},55516:function(ht,q,R){"use strict";R.d(q,{RQ:function(){return t},Uc:function(){return s},Yh:function(){return p}});var p=1e-6,s=Array,t=Math.random},3522:function(ht,q,R){"use strict";var p=R(55516),s={};s.create=function(){var t=new p.Uc(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},s.clone=function(t){var r=new p.Uc(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},s.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},s.transpose=function(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t},s.invert=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=e*h-o*n;return i?(i=1/i,t[0]=h*i,t[1]=-n*i,t[2]=-o*i,t[3]=e*i,t):null},s.adjoint=function(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t},s.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},s.multiply=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=e[0],l=e[1],_=e[2],M=e[3];return t[0]=n*a+h*l,t[1]=o*a+i*l,t[2]=n*_+h*M,t[3]=o*_+i*M,t},s.mul=s.multiply,s.rotate=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=Math.sin(e),l=Math.cos(e);return t[0]=n*l+h*a,t[1]=o*l+i*a,t[2]=n*-a+h*l,t[3]=o*-a+i*l,t},s.scale=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=e[0],l=e[1];return t[0]=n*a,t[1]=o*a,t[2]=h*l,t[3]=i*l,t},s.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},s.LDU=function(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]},q.Z=s},66987:function(ht,q,R){"use strict";var p=R(55516),s={};s.create=function(){var t=new p.Uc(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},s.clone=function(t){var r=new p.Uc(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},s.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},s.invert=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=r[4],a=r[5],l=e*h-n*o;return l?(l=1/l,t[0]=h*l,t[1]=-n*l,t[2]=-o*l,t[3]=e*l,t[4]=(o*a-h*i)*l,t[5]=(n*i-e*a)*l,t):null},s.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},s.multiply=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=e[0],M=e[1],m=e[2],T=e[3],y=e[4],P=e[5];return t[0]=n*_+h*M,t[1]=o*_+i*M,t[2]=n*m+h*T,t[3]=o*m+i*T,t[4]=n*y+h*P+a,t[5]=o*y+i*P+l,t},s.mul=s.multiply,s.rotate=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=Math.sin(e),M=Math.cos(e);return t[0]=n*M+h*_,t[1]=o*M+i*_,t[2]=n*-_+h*M,t[3]=o*-_+i*M,t[4]=a,t[5]=l,t},s.scale=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=e[0],M=e[1];return t[0]=n*_,t[1]=o*_,t[2]=h*M,t[3]=i*M,t[4]=a,t[5]=l,t},s.translate=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=e[0],M=e[1];return t[0]=n,t[1]=o,t[2]=h,t[3]=i,t[4]=n*_+h*M+a,t[5]=o*_+i*M+l,t},s.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},q.Z=s},98663:function(ht,q,R){"use strict";var p=R(55516),s={};s.create=function(){var t=new p.Uc(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},s.fromMat4=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t},s.clone=function(t){var r=new p.Uc(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},s.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},s.transpose=function(t,r){if(t===r){var e=r[1],n=r[2],o=r[5];t[1]=r[3],t[2]=r[6],t[3]=e,t[5]=r[7],t[6]=n,t[7]=o}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t},s.invert=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=M*i-a*_,T=-M*h+a*l,y=_*h-i*l,P=e*m+n*T+o*y;return P?(P=1/P,t[0]=m*P,t[1]=(-M*n+o*_)*P,t[2]=(a*n-o*i)*P,t[3]=T*P,t[4]=(M*e-o*l)*P,t[5]=(-a*e+o*h)*P,t[6]=y*P,t[7]=(-_*e+n*l)*P,t[8]=(i*e-n*h)*P,t):null},s.adjoint=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8];return t[0]=i*M-a*_,t[1]=o*_-n*M,t[2]=n*a-o*i,t[3]=a*l-h*M,t[4]=e*M-o*l,t[5]=o*h-e*a,t[6]=h*_-i*l,t[7]=n*l-e*_,t[8]=e*i-n*h,t},s.determinant=function(t){var r=t[0],e=t[1],n=t[2],o=t[3],h=t[4],i=t[5],a=t[6],l=t[7],_=t[8];return r*(_*h-i*l)+e*(-_*o+i*a)+n*(l*o-h*a)},s.multiply=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=e[0],y=e[1],P=e[2],C=e[3],O=e[4],Z=e[5],U=e[6],b=e[7],w=e[8];return t[0]=T*n+y*i+P*_,t[1]=T*o+y*a+P*M,t[2]=T*h+y*l+P*m,t[3]=C*n+O*i+Z*_,t[4]=C*o+O*a+Z*M,t[5]=C*h+O*l+Z*m,t[6]=U*n+b*i+w*_,t[7]=U*o+b*a+w*M,t[8]=U*h+b*l+w*m,t},s.mul=s.multiply,s.translate=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=e[0],y=e[1];return t[0]=n,t[1]=o,t[2]=h,t[3]=i,t[4]=a,t[5]=l,t[6]=T*n+y*i+_,t[7]=T*o+y*a+M,t[8]=T*h+y*l+m,t},s.rotate=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=Math.sin(e),y=Math.cos(e);return t[0]=y*n+T*i,t[1]=y*o+T*a,t[2]=y*h+T*l,t[3]=y*i-T*n,t[4]=y*a-T*o,t[5]=y*l-T*h,t[6]=_,t[7]=M,t[8]=m,t},s.scale=function(t,r,e){var n=e[0],o=e[1];return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=o*r[3],t[4]=o*r[4],t[5]=o*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},s.fromMat2d=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},s.fromQuat=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=e+e,a=n+n,l=o+o,_=e*i,M=n*i,m=n*a,T=o*i,y=o*a,P=o*l,C=h*i,O=h*a,Z=h*l;return t[0]=1-m-P,t[3]=M-Z,t[6]=T+O,t[1]=M+Z,t[4]=1-_-P,t[7]=y-C,t[2]=T-O,t[5]=y+C,t[8]=1-_-m,t},s.normalFromMat4=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],P=r[12],C=r[13],O=r[14],Z=r[15],U=e*a-n*i,b=e*l-o*i,w=e*_-h*i,A=n*l-o*a,E=n*_-h*a,d=o*_-h*l,f=M*C-m*P,u=M*O-T*P,v=M*Z-y*P,c=m*O-T*C,g=m*Z-y*C,D=T*Z-y*O,x=U*D-b*g+w*c+A*v-E*u+d*f;return x?(x=1/x,t[0]=(a*D-l*g+_*c)*x,t[1]=(l*v-i*D-_*u)*x,t[2]=(i*g-a*v+_*f)*x,t[3]=(o*g-n*D-h*c)*x,t[4]=(e*D-o*v+h*u)*x,t[5]=(n*v-e*g-h*f)*x,t[6]=(C*d-O*E+Z*A)*x,t[7]=(O*w-P*d-Z*b)*x,t[8]=(P*E-C*w+Z*U)*x,t):null},s.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},q.Z=s},85822:function(ht,q,R){"use strict";var p=R(55516),s={};s.create=function(){var t=new p.Uc(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},s.clone=function(t){var r=new p.Uc(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},s.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},s.transpose=function(t,r){if(t===r){var e=r[1],n=r[2],o=r[3],h=r[6],i=r[7],a=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=h,t[11]=r[14],t[12]=o,t[13]=i,t[14]=a}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},s.invert=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],P=r[12],C=r[13],O=r[14],Z=r[15],U=e*a-n*i,b=e*l-o*i,w=e*_-h*i,A=n*l-o*a,E=n*_-h*a,d=o*_-h*l,f=M*C-m*P,u=M*O-T*P,v=M*Z-y*P,c=m*O-T*C,g=m*Z-y*C,D=T*Z-y*O,x=U*D-b*g+w*c+A*v-E*u+d*f;return x?(x=1/x,t[0]=(a*D-l*g+_*c)*x,t[1]=(o*g-n*D-h*c)*x,t[2]=(C*d-O*E+Z*A)*x,t[3]=(T*E-m*d-y*A)*x,t[4]=(l*v-i*D-_*u)*x,t[5]=(e*D-o*v+h*u)*x,t[6]=(O*w-P*d-Z*b)*x,t[7]=(M*d-T*w+y*b)*x,t[8]=(i*g-a*v+_*f)*x,t[9]=(n*v-e*g-h*f)*x,t[10]=(P*E-C*w+Z*U)*x,t[11]=(m*w-M*E-y*U)*x,t[12]=(a*u-i*c-l*f)*x,t[13]=(e*c-n*u+o*f)*x,t[14]=(C*b-P*A-O*U)*x,t[15]=(M*A-m*b+T*U)*x,t):null},s.adjoint=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=r[4],a=r[5],l=r[6],_=r[7],M=r[8],m=r[9],T=r[10],y=r[11],P=r[12],C=r[13],O=r[14],Z=r[15];return t[0]=a*(T*Z-y*O)-m*(l*Z-_*O)+C*(l*y-_*T),t[1]=-(n*(T*Z-y*O)-m*(o*Z-h*O)+C*(o*y-h*T)),t[2]=n*(l*Z-_*O)-a*(o*Z-h*O)+C*(o*_-h*l),t[3]=-(n*(l*y-_*T)-a*(o*y-h*T)+m*(o*_-h*l)),t[4]=-(i*(T*Z-y*O)-M*(l*Z-_*O)+P*(l*y-_*T)),t[5]=e*(T*Z-y*O)-M*(o*Z-h*O)+P*(o*y-h*T),t[6]=-(e*(l*Z-_*O)-i*(o*Z-h*O)+P*(o*_-h*l)),t[7]=e*(l*y-_*T)-i*(o*y-h*T)+M*(o*_-h*l),t[8]=i*(m*Z-y*C)-M*(a*Z-_*C)+P*(a*y-_*m),t[9]=-(e*(m*Z-y*C)-M*(n*Z-h*C)+P*(n*y-h*m)),t[10]=e*(a*Z-_*C)-i*(n*Z-h*C)+P*(n*_-h*a),t[11]=-(e*(a*y-_*m)-i*(n*y-h*m)+M*(n*_-h*a)),t[12]=-(i*(m*O-T*C)-M*(a*O-l*C)+P*(a*T-l*m)),t[13]=e*(m*O-T*C)-M*(n*O-o*C)+P*(n*T-o*m),t[14]=-(e*(a*O-l*C)-i*(n*O-o*C)+P*(n*l-o*a)),t[15]=e*(a*T-l*m)-i*(n*T-o*m)+M*(n*l-o*a),t},s.determinant=function(t){var r=t[0],e=t[1],n=t[2],o=t[3],h=t[4],i=t[5],a=t[6],l=t[7],_=t[8],M=t[9],m=t[10],T=t[11],y=t[12],P=t[13],C=t[14],O=t[15],Z=r*i-e*h,U=r*a-n*h,b=r*l-o*h,w=e*a-n*i,A=e*l-o*i,E=n*l-o*a,d=_*P-M*y,f=_*C-m*y,u=_*O-T*y,v=M*C-m*P,c=M*O-T*P,g=m*O-T*C;return Z*g-U*c+b*v+w*u-A*f+E*d},s.multiply=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=r[4],l=r[5],_=r[6],M=r[7],m=r[8],T=r[9],y=r[10],P=r[11],C=r[12],O=r[13],Z=r[14],U=r[15],b=e[0],w=e[1],A=e[2],E=e[3];return t[0]=b*n+w*a+A*m+E*C,t[1]=b*o+w*l+A*T+E*O,t[2]=b*h+w*_+A*y+E*Z,t[3]=b*i+w*M+A*P+E*U,b=e[4],w=e[5],A=e[6],E=e[7],t[4]=b*n+w*a+A*m+E*C,t[5]=b*o+w*l+A*T+E*O,t[6]=b*h+w*_+A*y+E*Z,t[7]=b*i+w*M+A*P+E*U,b=e[8],w=e[9],A=e[10],E=e[11],t[8]=b*n+w*a+A*m+E*C,t[9]=b*o+w*l+A*T+E*O,t[10]=b*h+w*_+A*y+E*Z,t[11]=b*i+w*M+A*P+E*U,b=e[12],w=e[13],A=e[14],E=e[15],t[12]=b*n+w*a+A*m+E*C,t[13]=b*o+w*l+A*T+E*O,t[14]=b*h+w*_+A*y+E*Z,t[15]=b*i+w*M+A*P+E*U,t},s.multiplyAffine=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[4],a=r[5],l=r[6],_=r[8],M=r[9],m=r[10],T=r[12],y=r[13],P=r[14],C=e[0],O=e[1],Z=e[2];return t[0]=C*n+O*i+Z*_,t[1]=C*o+O*a+Z*M,t[2]=C*h+O*l+Z*m,C=e[4],O=e[5],Z=e[6],t[4]=C*n+O*i+Z*_,t[5]=C*o+O*a+Z*M,t[6]=C*h+O*l+Z*m,C=e[8],O=e[9],Z=e[10],t[8]=C*n+O*i+Z*_,t[9]=C*o+O*a+Z*M,t[10]=C*h+O*l+Z*m,C=e[12],O=e[13],Z=e[14],t[12]=C*n+O*i+Z*_+T,t[13]=C*o+O*a+Z*M+y,t[14]=C*h+O*l+Z*m+P,t},s.mul=s.multiply,s.mulAffine=s.multiplyAffine,s.translate=function(t,r,e){var n=e[0],o=e[1],h=e[2],i,a,l,_,M,m,T,y,P,C,O,Z;return r===t?(t[12]=r[0]*n+r[4]*o+r[8]*h+r[12],t[13]=r[1]*n+r[5]*o+r[9]*h+r[13],t[14]=r[2]*n+r[6]*o+r[10]*h+r[14],t[15]=r[3]*n+r[7]*o+r[11]*h+r[15]):(i=r[0],a=r[1],l=r[2],_=r[3],M=r[4],m=r[5],T=r[6],y=r[7],P=r[8],C=r[9],O=r[10],Z=r[11],t[0]=i,t[1]=a,t[2]=l,t[3]=_,t[4]=M,t[5]=m,t[6]=T,t[7]=y,t[8]=P,t[9]=C,t[10]=O,t[11]=Z,t[12]=i*n+M*o+P*h+r[12],t[13]=a*n+m*o+C*h+r[13],t[14]=l*n+T*o+O*h+r[14],t[15]=_*n+y*o+Z*h+r[15]),t},s.scale=function(t,r,e){var n=e[0],o=e[1],h=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=r[7]*o,t[8]=r[8]*h,t[9]=r[9]*h,t[10]=r[10]*h,t[11]=r[11]*h,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},s.rotate=function(t,r,e,n){var o=n[0],h=n[1],i=n[2],a=Math.sqrt(o*o+h*h+i*i),l,_,M,m,T,y,P,C,O,Z,U,b,w,A,E,d,f,u,v,c,g,D,x,L;return Math.abs(a)<p.Yh?null:(a=1/a,o*=a,h*=a,i*=a,l=Math.sin(e),_=Math.cos(e),M=1-_,m=r[0],T=r[1],y=r[2],P=r[3],C=r[4],O=r[5],Z=r[6],U=r[7],b=r[8],w=r[9],A=r[10],E=r[11],d=o*o*M+_,f=h*o*M+i*l,u=i*o*M-h*l,v=o*h*M-i*l,c=h*h*M+_,g=i*h*M+o*l,D=o*i*M+h*l,x=h*i*M-o*l,L=i*i*M+_,t[0]=m*d+C*f+b*u,t[1]=T*d+O*f+w*u,t[2]=y*d+Z*f+A*u,t[3]=P*d+U*f+E*u,t[4]=m*v+C*c+b*g,t[5]=T*v+O*c+w*g,t[6]=y*v+Z*c+A*g,t[7]=P*v+U*c+E*g,t[8]=m*D+C*x+b*L,t[9]=T*D+O*x+w*L,t[10]=y*D+Z*x+A*L,t[11]=P*D+U*x+E*L,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},s.rotateX=function(t,r,e){var n=Math.sin(e),o=Math.cos(e),h=r[4],i=r[5],a=r[6],l=r[7],_=r[8],M=r[9],m=r[10],T=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=h*o+_*n,t[5]=i*o+M*n,t[6]=a*o+m*n,t[7]=l*o+T*n,t[8]=_*o-h*n,t[9]=M*o-i*n,t[10]=m*o-a*n,t[11]=T*o-l*n,t},s.rotateY=function(t,r,e){var n=Math.sin(e),o=Math.cos(e),h=r[0],i=r[1],a=r[2],l=r[3],_=r[8],M=r[9],m=r[10],T=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*o-_*n,t[1]=i*o-M*n,t[2]=a*o-m*n,t[3]=l*o-T*n,t[8]=h*n+_*o,t[9]=i*n+M*o,t[10]=a*n+m*o,t[11]=l*n+T*o,t},s.rotateZ=function(t,r,e){var n=Math.sin(e),o=Math.cos(e),h=r[0],i=r[1],a=r[2],l=r[3],_=r[4],M=r[5],m=r[6],T=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=h*o+_*n,t[1]=i*o+M*n,t[2]=a*o+m*n,t[3]=l*o+T*n,t[4]=_*o-h*n,t[5]=M*o-i*n,t[6]=m*o-a*n,t[7]=T*o-l*n,t},s.fromRotationTranslation=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3],a=n+n,l=o+o,_=h+h,M=n*a,m=n*l,T=n*_,y=o*l,P=o*_,C=h*_,O=i*a,Z=i*l,U=i*_;return t[0]=1-(y+C),t[1]=m+U,t[2]=T-Z,t[3]=0,t[4]=m-U,t[5]=1-(M+C),t[6]=P+O,t[7]=0,t[8]=T+Z,t[9]=P-O,t[10]=1-(M+y),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},s.fromQuat=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=e+e,a=n+n,l=o+o,_=e*i,M=n*i,m=n*a,T=o*i,y=o*a,P=o*l,C=h*i,O=h*a,Z=h*l;return t[0]=1-m-P,t[1]=M+Z,t[2]=T-O,t[3]=0,t[4]=M-Z,t[5]=1-_-P,t[6]=y+C,t[7]=0,t[8]=T+O,t[9]=y-C,t[10]=1-_-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},s.frustum=function(t,r,e,n,o,h,i){var a=1/(e-r),l=1/(o-n),_=1/(h-i);return t[0]=h*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h*2*l,t[6]=0,t[7]=0,t[8]=(e+r)*a,t[9]=(o+n)*l,t[10]=(i+h)*_,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*h*2*_,t[15]=0,t},s.perspective=function(t,r,e,n,o){var h=1/Math.tan(r/2),i=1/(n-o);return t[0]=h/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*i,t[15]=0,t},s.ortho=function(t,r,e,n,o,h,i){var a=1/(r-e),l=1/(n-o),_=1/(h-i);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*_,t[11]=0,t[12]=(r+e)*a,t[13]=(o+n)*l,t[14]=(i+h)*_,t[15]=1,t},s.lookAt=function(t,r,e,n){var o,h,i,a,l,_,M,m,T,y,P=r[0],C=r[1],O=r[2],Z=n[0],U=n[1],b=n[2],w=e[0],A=e[1],E=e[2];return Math.abs(P-w)<p.Yh&&Math.abs(C-A)<p.Yh&&Math.abs(O-E)<p.Yh?s.identity(t):(M=P-w,m=C-A,T=O-E,y=1/Math.sqrt(M*M+m*m+T*T),M*=y,m*=y,T*=y,o=U*T-b*m,h=b*M-Z*T,i=Z*m-U*M,y=Math.sqrt(o*o+h*h+i*i),y?(y=1/y,o*=y,h*=y,i*=y):(o=0,h=0,i=0),a=m*i-T*h,l=T*o-M*i,_=M*h-m*o,y=Math.sqrt(a*a+l*l+_*_),y?(y=1/y,a*=y,l*=y,_*=y):(a=0,l=0,_=0),t[0]=o,t[1]=a,t[2]=M,t[3]=0,t[4]=h,t[5]=l,t[6]=m,t[7]=0,t[8]=i,t[9]=_,t[10]=T,t[11]=0,t[12]=-(o*P+h*C+i*O),t[13]=-(a*P+l*C+_*O),t[14]=-(M*P+m*C+T*O),t[15]=1,t)},s.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},q.Z=s},81520:function(ht,q,R){"use strict";var p=R(55516),s=R(3023),t=R(39186),r=R(98663),e={};e.create=function(){var n=new p.Uc(4);return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n},e.rotationTo=function(){var n=s.Z.create(),o=s.Z.fromValues(1,0,0),h=s.Z.fromValues(0,1,0);return function(i,a,l){var _=s.Z.dot(a,l);return _<-.999999?(s.Z.cross(n,o,a),s.Z.length(n)<1e-6&&s.Z.cross(n,h,a),s.Z.normalize(n,n),e.setAxisAngle(i,n,Math.PI),i):_>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(s.Z.cross(n,a,l),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+_,e.normalize(i,i))}}(),e.setAxes=function(){var n=r.Z.create();return function(o,h,i,a){return n[0]=i[0],n[3]=i[1],n[6]=i[2],n[1]=a[0],n[4]=a[1],n[7]=a[2],n[2]=-h[0],n[5]=-h[1],n[8]=-h[2],e.normalize(o,e.fromMat3(o,n))}}(),e.clone=t.Z.clone,e.fromValues=t.Z.fromValues,e.copy=t.Z.copy,e.set=t.Z.set,e.identity=function(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n},e.setAxisAngle=function(n,o,h){h=h*.5;var i=Math.sin(h);return n[0]=i*o[0],n[1]=i*o[1],n[2]=i*o[2],n[3]=Math.cos(h),n},e.add=t.Z.add,e.multiply=function(n,o,h){var i=o[0],a=o[1],l=o[2],_=o[3],M=h[0],m=h[1],T=h[2],y=h[3];return n[0]=i*y+_*M+a*T-l*m,n[1]=a*y+_*m+l*M-i*T,n[2]=l*y+_*T+i*m-a*M,n[3]=_*y-i*M-a*m-l*T,n},e.mul=e.multiply,e.scale=t.Z.scale,e.rotateX=function(n,o,h){h*=.5;var i=o[0],a=o[1],l=o[2],_=o[3],M=Math.sin(h),m=Math.cos(h);return n[0]=i*m+_*M,n[1]=a*m+l*M,n[2]=l*m-a*M,n[3]=_*m-i*M,n},e.rotateY=function(n,o,h){h*=.5;var i=o[0],a=o[1],l=o[2],_=o[3],M=Math.sin(h),m=Math.cos(h);return n[0]=i*m-l*M,n[1]=a*m+_*M,n[2]=l*m+i*M,n[3]=_*m-a*M,n},e.rotateZ=function(n,o,h){h*=.5;var i=o[0],a=o[1],l=o[2],_=o[3],M=Math.sin(h),m=Math.cos(h);return n[0]=i*m+a*M,n[1]=a*m-i*M,n[2]=l*m+_*M,n[3]=_*m-l*M,n},e.calculateW=function(n,o){var h=o[0],i=o[1],a=o[2];return n[0]=h,n[1]=i,n[2]=a,n[3]=Math.sqrt(Math.abs(1-h*h-i*i-a*a)),n},e.dot=t.Z.dot,e.lerp=t.Z.lerp,e.slerp=function(n,o,h,i){var a=o[0],l=o[1],_=o[2],M=o[3],m=h[0],T=h[1],y=h[2],P=h[3],C,O,Z,U,b;return O=a*m+l*T+_*y+M*P,O<0&&(O=-O,m=-m,T=-T,y=-y,P=-P),1-O>1e-6?(C=Math.acos(O),Z=Math.sin(C),U=Math.sin((1-i)*C)/Z,b=Math.sin(i*C)/Z):(U=1-i,b=i),n[0]=U*a+b*m,n[1]=U*l+b*T,n[2]=U*_+b*y,n[3]=U*M+b*P,n},e.invert=function(n,o){var h=o[0],i=o[1],a=o[2],l=o[3],_=h*h+i*i+a*a+l*l,M=_?1/_:0;return n[0]=-h*M,n[1]=-i*M,n[2]=-a*M,n[3]=l*M,n},e.conjugate=function(n,o){return n[0]=-o[0],n[1]=-o[1],n[2]=-o[2],n[3]=o[3],n},e.length=t.Z.length,e.len=e.length,e.squaredLength=t.Z.squaredLength,e.sqrLen=e.squaredLength,e.normalize=t.Z.normalize,e.fromMat3=function(n,o){var h=o[0]+o[4]+o[8],i;if(h>0)i=Math.sqrt(h+1),n[3]=.5*i,i=.5/i,n[0]=(o[5]-o[7])*i,n[1]=(o[6]-o[2])*i,n[2]=(o[1]-o[3])*i;else{var a=0;o[4]>o[0]&&(a=1),o[8]>o[a*3+a]&&(a=2);var l=(a+1)%3,_=(a+2)%3;i=Math.sqrt(o[a*3+a]-o[l*3+l]-o[_*3+_]+1),n[a]=.5*i,i=.5/i,n[3]=(o[l*3+_]-o[_*3+l])*i,n[l]=(o[l*3+a]+o[a*3+l])*i,n[_]=(o[_*3+a]+o[a*3+_])*i}return n},q.Z=e},97410:function(ht,q,R){"use strict";var p=R(55516),s={};s.create=function(){var t=new p.Uc(2);return t[0]=0,t[1]=0,t},s.clone=function(t){var r=new p.Uc(2);return r[0]=t[0],r[1]=t[1],r},s.fromValues=function(t,r){var e=new p.Uc(2);return e[0]=t,e[1]=r,e},s.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t},s.set=function(t,r,e){return t[0]=r,t[1]=e,t},s.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t},s.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t},s.sub=s.subtract,s.multiply=function(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t},s.mul=s.multiply,s.divide=function(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t},s.div=s.divide,s.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t},s.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t},s.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t},s.scaleAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t},s.distance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.sqrt(e*e+n*n)},s.dist=s.distance,s.squaredDistance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n},s.sqrDist=s.squaredDistance,s.length=function(t){var r=t[0],e=t[1];return Math.sqrt(r*r+e*e)},s.len=s.length,s.squaredLength=function(t){var r=t[0],e=t[1];return r*r+e*e},s.sqrLen=s.squaredLength,s.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t},s.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},s.normalize=function(t,r){var e=r[0],n=r[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=r[0]*o,t[1]=r[1]*o),t},s.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]},s.cross=function(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t},s.lerp=function(t,r,e,n){var o=r[0],h=r[1];return t[0]=o+n*(e[0]-o),t[1]=h+n*(e[1]-h),t},s.random=function(t,r){r=r||1;var e=GLMAT_RANDOM()*2*Math.PI;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t},s.transformMat2=function(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o,t[1]=e[1]*n+e[3]*o,t},s.transformMat2d=function(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o+e[4],t[1]=e[1]*n+e[3]*o+e[5],t},s.transformMat3=function(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[3]*o+e[6],t[1]=e[1]*n+e[4]*o+e[7],t},s.transformMat4=function(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[4]*o+e[12],t[1]=e[1]*n+e[5]*o+e[13],t},s.forEach=function(){var t=s.create();return function(r,e,n,o,h,i){var a,l;for(e||(e=2),n||(n=0),o?l=Math.min(o*e+n,r.length):l=r.length,a=n;a<l;a+=e)t[0]=r[a],t[1]=r[a+1],h(t,t,i),r[a]=t[0],r[a+1]=t[1];return r}}(),q.Z=s},3023:function(ht,q,R){"use strict";var p=R(55516),s={};s.create=function(){var t=new p.Uc(3);return t[0]=0,t[1]=0,t[2]=0,t},s.clone=function(t){var r=new p.Uc(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},s.fromValues=function(t,r,e){var n=new p.Uc(3);return n[0]=t,n[1]=r,n[2]=e,n},s.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},s.set=function(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t},s.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},s.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t},s.sub=s.subtract,s.multiply=function(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t},s.mul=s.multiply,s.divide=function(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t},s.div=s.divide,s.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},s.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},s.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},s.scaleAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t},s.distance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return Math.sqrt(e*e+n*n+o*o)},s.dist=s.distance,s.squaredDistance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return e*e+n*n+o*o},s.sqrDist=s.squaredDistance,s.length=function(t){var r=t[0],e=t[1],n=t[2];return Math.sqrt(r*r+e*e+n*n)},s.len=s.length,s.squaredLength=function(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n},s.sqrLen=s.squaredLength,s.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},s.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},s.normalize=function(t,r){var e=r[0],n=r[1],o=r[2],h=e*e+n*n+o*o;return h>0&&(h=1/Math.sqrt(h),t[0]=r[0]*h,t[1]=r[1]*h,t[2]=r[2]*h),t},s.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},s.cross=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=e[0],a=e[1],l=e[2];return t[0]=o*l-h*a,t[1]=h*i-n*l,t[2]=n*a-o*i,t},s.lerp=function(t,r,e,n){var o=r[0],h=r[1],i=r[2];return t[0]=o+n*(e[0]-o),t[1]=h+n*(e[1]-h),t[2]=i+n*(e[2]-i),t},s.random=function(t,r){r=r||1;var e=(0,p.RQ)()*2*Math.PI,n=(0,p.RQ)()*2-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*r,t},s.transformMat4=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=e[3]*n+e[7]*o+e[11]*h+e[15];return i=i||1,t[0]=(e[0]*n+e[4]*o+e[8]*h+e[12])/i,t[1]=(e[1]*n+e[5]*o+e[9]*h+e[13])/i,t[2]=(e[2]*n+e[6]*o+e[10]*h+e[14])/i,t},s.transformMat3=function(t,r,e){var n=r[0],o=r[1],h=r[2];return t[0]=n*e[0]+o*e[3]+h*e[6],t[1]=n*e[1]+o*e[4]+h*e[7],t[2]=n*e[2]+o*e[5]+h*e[8],t},s.transformQuat=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=e[0],a=e[1],l=e[2],_=e[3],M=_*n+a*h-l*o,m=_*o+l*n-i*h,T=_*h+i*o-a*n,y=-i*n-a*o-l*h;return t[0]=M*_+y*-i+m*-l-T*-a,t[1]=m*_+y*-a+T*-i-M*-l,t[2]=T*_+y*-l+M*-a-m*-i,t},s.rotateX=function(t,r,e,n){var o=[],h=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],h[0]=o[0],h[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),h[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=h[0]+e[0],t[1]=h[1]+e[1],t[2]=h[2]+e[2],t},s.rotateY=function(t,r,e,n){var o=[],h=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],h[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),h[1]=o[1],h[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=h[0]+e[0],t[1]=h[1]+e[1],t[2]=h[2]+e[2],t},s.rotateZ=function(t,r,e,n){var o=[],h=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],h[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),h[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),h[2]=o[2],t[0]=h[0]+e[0],t[1]=h[1]+e[1],t[2]=h[2]+e[2],t},s.forEach=function(){var t=s.create();return function(r,e,n,o,h,i){var a,l;for(e||(e=3),n||(n=0),o?l=Math.min(o*e+n,r.length):l=r.length,a=n;a<l;a+=e)t[0]=r[a],t[1]=r[a+1],t[2]=r[a+2],h(t,t,i),r[a]=t[0],r[a+1]=t[1],r[a+2]=t[2];return r}}(),s.angle=function(t,r){var e=s.fromValues(t[0],t[1],t[2]),n=s.fromValues(r[0],r[1],r[2]);s.normalize(e,e),s.normalize(n,n);var o=s.dot(e,n);return o>1?0:Math.acos(o)},q.Z=s},39186:function(ht,q,R){"use strict";var p=R(55516),s={};s.create=function(){var t=new p.Uc(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},s.clone=function(t){var r=new p.Uc(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},s.fromValues=function(t,r,e,n){var o=new p.Uc(4);return o[0]=t,o[1]=r,o[2]=e,o[3]=n,o},s.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},s.set=function(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t},s.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},s.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t},s.sub=s.subtract,s.multiply=function(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t},s.mul=s.multiply,s.divide=function(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t},s.div=s.divide,s.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t},s.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t},s.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},s.scaleAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t},s.distance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],h=r[3]-t[3];return Math.sqrt(e*e+n*n+o*o+h*h)},s.dist=s.distance,s.squaredDistance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],h=r[3]-t[3];return e*e+n*n+o*o+h*h},s.sqrDist=s.squaredDistance,s.length=function(t){var r=t[0],e=t[1],n=t[2],o=t[3];return Math.sqrt(r*r+e*e+n*n+o*o)},s.len=s.length,s.squaredLength=function(t){var r=t[0],e=t[1],n=t[2],o=t[3];return r*r+e*e+n*n+o*o},s.sqrLen=s.squaredLength,s.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},s.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},s.normalize=function(t,r){var e=r[0],n=r[1],o=r[2],h=r[3],i=e*e+n*n+o*o+h*h;return i>0&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i),t},s.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},s.lerp=function(t,r,e,n){var o=r[0],h=r[1],i=r[2],a=r[3];return t[0]=o+n*(e[0]-o),t[1]=h+n*(e[1]-h),t[2]=i+n*(e[2]-i),t[3]=a+n*(e[3]-a),t},s.random=function(t,r){return r=r||1,t[0]=(0,p.RQ)(),t[1]=(0,p.RQ)(),t[2]=(0,p.RQ)(),t[3]=(0,p.RQ)(),s.normalize(t,t),s.scale(t,t,r),t},s.transformMat4=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=r[3];return t[0]=e[0]*n+e[4]*o+e[8]*h+e[12]*i,t[1]=e[1]*n+e[5]*o+e[9]*h+e[13]*i,t[2]=e[2]*n+e[6]*o+e[10]*h+e[14]*i,t[3]=e[3]*n+e[7]*o+e[11]*h+e[15]*i,t},s.transformQuat=function(t,r,e){var n=r[0],o=r[1],h=r[2],i=e[0],a=e[1],l=e[2],_=e[3],M=_*n+a*h-l*o,m=_*o+l*n-i*h,T=_*h+i*o-a*n,y=-i*n-a*o-l*h;return t[0]=M*_+y*-i+m*-l-T*-a,t[1]=m*_+y*-a+T*-i-M*-l,t[2]=T*_+y*-l+M*-a-m*-i,t},s.forEach=function(){var t=s.create();return function(r,e,n,o,h,i){var a,l;for(e||(e=4),n||(n=0),o?l=Math.min(o*e+n,r.length):l=r.length,a=n;a<l;a+=e)t[0]=r[a],t[1]=r[a+1],t[2]=r[a+2],t[3]=r[a+3],h(t,t,i),r[a]=t[0],r[a+1]=t[1],r[a+2]=t[2],r[a+3]=t[3];return r}}(),q.Z=s},82085:function(ht,q,R){"use strict";var p=R(92449),s=p.Z.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var r=t.color,e=t.intensity;return[r[0]*e,r[1]*e,r[2]*e]}}}});q.Z=s},81157:function(ht,q,R){"use strict";var p=R(92449),s=R(74208),t=p.Z.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(r,e){if(!r.getGLExtension("EXT_shader_texture_lod")){console.warn("Device not support textureCubeLodEXT");return}this._brdfLookup||(this._normalDistribution=s.Z.generateNormalDistribution(),this._brdfLookup=s.Z.integrateBRDF(r,this._normalDistribution));var n=this.cubemap;if(!n.__prefiltered){var o=s.Z.prefilterEnvironmentMap(r,n,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup);this.cubemap=o.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(r)}},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(r){var e=r.color,n=r.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientCubemapLightCubemap:{type:"t",value:function(r){return r.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(r){return r._brdfLookup}}}});q.Z=t},43577:function(ht,q,R){"use strict";var p=R(92449),s=R(82544),t=p.Z.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new s.Z.Float32Array(9*3)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(r){var e=r.color,n=r.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientSHLightCoefficients:{type:"3f",value:function(r){for(var e=r._coefficientsTmpArr,n=0;n<r.coefficients.length;n++)e[n]=r.coefficients[n];return e}}}});q.Z=t},47555:function(ht,q,R){"use strict";var p=R(92449),s=R(14147),t=p.Z.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(r){return r.__dir=r.__dir||new s.Z,r.__dir.copy(r.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(r){var e=r.color,n=r.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var r=p.Z.prototype.clone.call(this);return r.shadowBias=this.shadowBias,r.shadowSlopeScale=this.shadowSlopeScale,r}});q.Z=t},21971:function(ht,q,R){"use strict";var p=R(92449),s=p.Z.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var r=t.color,e=t.intensity;return[r[0]*e,r[1]*e,r[2]*e]}}},clone:function(){var t=p.Z.prototype.clone.call(this);return t.range=this.range,t}});q.Z=s},57766:function(ht,q,R){"use strict";var p=R(92449),s=R(14147),t=p.Z.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(r){return r.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(r){return r.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(r){return Math.cos(r.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(r){return Math.cos(r.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(r){return r.falloffFactor}},spotLightDirection:{type:"3f",value:function(r){return r.__dir=r.__dir||new s.Z,r.__dir.copy(r.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(r){var e=r.color,n=r.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var r=p.Z.prototype.clone.call(this);return r.range=this.range,r.umbraAngle=this.umbraAngle,r.penumbraAngle=this.penumbraAngle,r.falloffFactor=this.falloffFactor,r.shadowBias=this.shadowBias,r.shadowSlopeScale=this.shadowSlopeScale,r}});q.Z=t},37233:function(ht,q,R){"use strict";var p=R(14147),s=R(3023),t=s.Z.set,r=s.Z.copy,e=function(n,o){this.min=n||new p.Z(1/0,1/0,1/0),this.max=o||new p.Z(-1/0,-1/0,-1/0),this.vertices=null};e.prototype={constructor:e,updateFromVertices:function(n){if(n.length>0){var o=this.min,h=this.max,i=o.array,a=h.array;r(i,n[0]),r(a,n[0]);for(var l=1;l<n.length;l++){var _=n[l];_[0]<i[0]&&(i[0]=_[0]),_[1]<i[1]&&(i[1]=_[1]),_[2]<i[2]&&(i[2]=_[2]),_[0]>a[0]&&(a[0]=_[0]),_[1]>a[1]&&(a[1]=_[1]),_[2]>a[2]&&(a[2]=_[2])}o._dirty=!0,h._dirty=!0}},union:function(n){var o=this.min,h=this.max;return s.Z.min(o.array,o.array,n.min.array),s.Z.max(h.array,h.array,n.max.array),o._dirty=!0,h._dirty=!0,this},intersection:function(n){var o=this.min,h=this.max;return s.Z.max(o.array,o.array,n.min.array),s.Z.min(h.array,h.array,n.max.array),o._dirty=!0,h._dirty=!0,this},intersectBoundingBox:function(n){var o=this.min.array,h=this.max.array,i=n.min.array,a=n.max.array;return!(o[0]>a[0]||o[1]>a[1]||o[2]>a[2]||h[0]<i[0]||h[1]<i[1]||h[2]<i[2])},containBoundingBox:function(n){var o=this.min.array,h=this.max.array,i=n.min.array,a=n.max.array;return o[0]<=i[0]&&o[1]<=i[1]&&o[2]<=i[2]&&h[0]>=a[0]&&h[1]>=a[1]&&h[2]>=a[2]},containPoint:function(n){var o=this.min.array,h=this.max.array,i=n.array;return o[0]<=i[0]&&o[1]<=i[1]&&o[2]<=i[2]&&h[0]>=i[0]&&h[1]>=i[1]&&h[2]>=i[2]},isFinite:function(){var n=this.min.array,o=this.max.array;return isFinite(n[0])&&isFinite(n[1])&&isFinite(n[2])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(o[2])},applyTransform:function(n){this.transformFrom(this,n)},transformFrom:function(){var n=s.Z.create(),o=s.Z.create(),h=s.Z.create(),i=s.Z.create(),a=s.Z.create(),l=s.Z.create();return function(_,M){var m=_.min.array,T=_.max.array,y=M.array;return n[0]=y[0]*m[0],n[1]=y[1]*m[0],n[2]=y[2]*m[0],o[0]=y[0]*T[0],o[1]=y[1]*T[0],o[2]=y[2]*T[0],h[0]=y[4]*m[1],h[1]=y[5]*m[1],h[2]=y[6]*m[1],i[0]=y[4]*T[1],i[1]=y[5]*T[1],i[2]=y[6]*T[1],a[0]=y[8]*m[2],a[1]=y[9]*m[2],a[2]=y[10]*m[2],l[0]=y[8]*T[2],l[1]=y[9]*T[2],l[2]=y[10]*T[2],m=this.min.array,T=this.max.array,m[0]=Math.min(n[0],o[0])+Math.min(h[0],i[0])+Math.min(a[0],l[0])+y[12],m[1]=Math.min(n[1],o[1])+Math.min(h[1],i[1])+Math.min(a[1],l[1])+y[13],m[2]=Math.min(n[2],o[2])+Math.min(h[2],i[2])+Math.min(a[2],l[2])+y[14],T[0]=Math.max(n[0],o[0])+Math.max(h[0],i[0])+Math.max(a[0],l[0])+y[12],T[1]=Math.max(n[1],o[1])+Math.max(h[1],i[1])+Math.max(a[1],l[1])+y[13],T[2]=Math.max(n[2],o[2])+Math.max(h[2],i[2])+Math.max(a[2],l[2])+y[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(n){var o=this.min.array,h=this.max.array,i=n.array,a=o[0],l=o[1],_=o[2],M=h[0],m=h[1],T=o[2],y=h[0],P=h[1],C=h[2];if(i[15]===1)o[0]=i[0]*a+i[12],o[1]=i[5]*l+i[13],h[2]=i[10]*_+i[14],h[0]=i[0]*y+i[12],h[1]=i[5]*P+i[13],o[2]=i[10]*C+i[14];else{var O=-1/_;o[0]=i[0]*a*O,o[1]=i[5]*l*O,h[2]=(i[10]*_+i[14])*O,O=-1/T,h[0]=i[0]*M*O,h[1]=i[5]*m*O,O=-1/C,o[2]=(i[10]*C+i[14])*O}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var n=this.vertices;if(!n){n=[];for(var o=0;o<8;o++)n[o]=s.Z.fromValues(0,0,0);this.vertices=n}var h=this.min.array,i=this.max.array;return t(n[0],h[0],h[1],h[2]),t(n[1],h[0],i[1],h[2]),t(n[2],i[0],h[1],h[2]),t(n[3],i[0],i[1],h[2]),t(n[4],h[0],h[1],i[2]),t(n[5],h[0],i[1],i[2]),t(n[6],i[0],h[1],i[2]),t(n[7],i[0],i[1],i[2]),this},copy:function(n){var o=this.min,h=this.max;return r(o.array,n.min.array),r(h.array,n.max.array),o._dirty=!0,h._dirty=!0,this},clone:function(){var n=new e;return n.copy(this),n}},q.Z=e},88908:function(ht,q,R){"use strict";var p=R(37233),s=R(87542),t=R(3023),r=t.Z.set,e=t.Z.copy,n=t.Z.transformMat4,o=Math.min,h=Math.max,i=function(){this.planes=[];for(var a=0;a<6;a++)this.planes.push(new s.Z);this.boundingBox=new p.Z,this.vertices=[];for(var a=0;a<8;a++)this.vertices[a]=t.Z.fromValues(0,0,0)};i.prototype={setFromProjection:function(a){var l=this.planes,_=a.array,M=_[0],m=_[1],T=_[2],y=_[3],P=_[4],C=_[5],O=_[6],Z=_[7],U=_[8],b=_[9],w=_[10],A=_[11],E=_[12],d=_[13],f=_[14],u=_[15];r(l[0].normal.array,y-M,Z-P,A-U),l[0].distance=-(u-E),l[0].normalize(),r(l[1].normal.array,y+M,Z+P,A+U),l[1].distance=-(u+E),l[1].normalize(),r(l[2].normal.array,y+m,Z+C,A+b),l[2].distance=-(u+d),l[2].normalize(),r(l[3].normal.array,y-m,Z-C,A-b),l[3].distance=-(u-d),l[3].normalize(),r(l[4].normal.array,y-T,Z-O,A-w),l[4].distance=-(u-f),l[4].normalize(),r(l[5].normal.array,y+T,Z+O,A+w),l[5].distance=-(u+f),l[5].normalize();var v=this.boundingBox,c=this.vertices;if(u===0){var g=C/M,D=-f/(w-1),x=-f/(w+1),L=-x/C,I=-D/C;v.min.set(-L*g,-L,x),v.max.set(L*g,L,D),r(c[0],-L*g,-L,x),r(c[1],-L*g,L,x),r(c[2],L*g,-L,x),r(c[3],L*g,L,x),r(c[4],-I*g,-I,D),r(c[5],-I*g,I,D),r(c[6],I*g,-I,D),r(c[7],I*g,I,D)}else{var N=(-1-E)/M,G=(1-E)/M,K=(1-d)/C,J=(-1-d)/C,F=(-1-f)/w,H=(1-f)/w;v.min.set(Math.min(N,G),Math.min(J,K),Math.min(H,F)),v.max.set(Math.max(G,N),Math.max(K,J),Math.max(F,H));var V=v.min.array,S=v.max.array;r(c[0],V[0],V[1],V[2]),r(c[1],V[0],S[1],V[2]),r(c[2],S[0],V[1],V[2]),r(c[3],S[0],S[1],V[2]),r(c[4],V[0],V[1],S[2]),r(c[5],V[0],S[1],S[2]),r(c[6],S[0],V[1],S[2]),r(c[7],S[0],S[1],S[2])}},getTransformedBoundingBox:function(){var a=t.Z.create();return function(l,_){var M=this.vertices,m=_.array,T=l.min,y=l.max,P=T.array,C=y.array,O=M[0];n(a,O,m),e(P,a),e(C,a);for(var Z=1;Z<8;Z++)O=M[Z],n(a,O,m),P[0]=o(a[0],P[0]),P[1]=o(a[1],P[1]),P[2]=o(a[2],P[2]),C[0]=h(a[0],C[0]),C[1]=h(a[1],C[1]),C[2]=h(a[2],C[2]);return T._dirty=!0,y._dirty=!0,l}}()},q.Z=i},22351:function(ht,q,R){"use strict";var p=R(3522),s=function(){this.array=p.Z.create(),this._dirty=!0};s.prototype={constructor:s,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},clone:function(){return new s().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},s.adjoint=function(t,r){return p.Z.adjoint(t.array,r.array),t._dirty=!0,t},s.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},s.determinant=function(t){return p.Z.determinant(t.array)},s.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},s.invert=function(t,r){return p.Z.invert(t.array,r.array),t._dirty=!0,t},s.mul=function(t,r,e){return p.Z.mul(t.array,r.array,e.array),t._dirty=!0,t},s.multiply=s.mul,s.rotate=function(t,r,e){return p.Z.rotate(t.array,r.array,e),t._dirty=!0,t},s.scale=function(t,r,e){return p.Z.scale(t.array,r.array,e.array),t._dirty=!0,t},s.transpose=function(t,r){return p.Z.transpose(t.array,r.array),t._dirty=!0,t},q.Z=s},40004:function(ht,q,R){"use strict";var p=R(66987),s=function(){this.array=p.Z.create(),this._dirty=!0};s.prototype={constructor:s,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},clone:function(){return new s().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return p.Z.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},s.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},s.determinant=function(t){return p.Z.determinant(t.array)},s.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},s.invert=function(t,r){return p.Z.invert(t.array,r.array),t._dirty=!0,t},s.mul=function(t,r,e){return p.Z.mul(t.array,r.array,e.array),t._dirty=!0,t},s.multiply=s.mul,s.rotate=function(t,r,e){return p.Z.rotate(t.array,r.array,e),t._dirty=!0,t},s.scale=function(t,r,e){return p.Z.scale(t.array,r.array,e.array),t._dirty=!0,t},s.translate=function(t,r,e){return p.Z.translate(t.array,r.array,e.array),t._dirty=!0,t},q.Z=s},35692:function(ht,q,R){"use strict";var p=R(98663),s=function(){this.array=p.Z.create(),this._dirty=!0};s.prototype={constructor:s,setArray:function(t){for(var r=0;r<this.array.length;r++)this.array[r]=t[r];return this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new s().copy(this)},copy:function(t){return p.Z.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},fromMat2d:function(t){return p.Z.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return p.Z.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return p.Z.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return p.Z.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return p.Z.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return p.Z.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return p.Z.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return p.Z.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return p.Z.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return p.Z.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return p.Z.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},s.adjoint=function(t,r){return p.Z.adjoint(t.array,r.array),t._dirty=!0,t},s.copy=function(t,r){return p.Z.copy(t.array,r.array),t._dirty=!0,t},s.determinant=function(t){return p.Z.determinant(t.array)},s.identity=function(t){return p.Z.identity(t.array),t._dirty=!0,t},s.invert=function(t,r){return p.Z.invert(t.array,r.array),t},s.mul=function(t,r,e){return p.Z.mul(t.array,r.array,e.array),t._dirty=!0,t},s.multiply=s.mul,s.fromMat2d=function(t,r){return p.Z.fromMat2d(t.array,r.array),t._dirty=!0,t},s.fromMat4=function(t,r){return p.Z.fromMat4(t.array,r.array),t._dirty=!0,t},s.fromQuat=function(t,r){return p.Z.fromQuat(t.array,r.array),t._dirty=!0,t},s.normalFromMat4=function(t,r){return p.Z.normalFromMat4(t.array,r.array),t._dirty=!0,t},s.rotate=function(t,r,e){return p.Z.rotate(t.array,r.array,e),t._dirty=!0,t},s.scale=function(t,r,e){return p.Z.scale(t.array,r.array,e.array),t._dirty=!0,t},s.transpose=function(t,r){return p.Z.transpose(t.array,r.array),t._dirty=!0,t},s.translate=function(t,r,e){return p.Z.translate(t.array,r.array,e.array),t._dirty=!0,t},q.Z=s},49865:function(ht,q,R){"use strict";var p=R(85822),s=R(3023),t=R(81520),r=R(98663),e=R(14147),n=function(){this._axisX=new e.Z,this._axisY=new e.Z,this._axisZ=new e.Z,this.array=p.Z.create(),this._dirty=!0};n.prototype={constructor:n,setArray:function(i){for(var a=0;a<this.array.length;a++)this.array[a]=i[a];return this._dirty=!0,this},adjoint:function(){return p.Z.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new n().copy(this)},copy:function(i){return p.Z.copy(this.array,i.array),this._dirty=!0,this},determinant:function(){return p.Z.determinant(this.array)},fromQuat:function(i){return p.Z.fromQuat(this.array,i.array),this._dirty=!0,this},fromRotationTranslation:function(i,a){return p.Z.fromRotationTranslation(this.array,i.array,a.array),this._dirty=!0,this},fromMat2d:function(i){return n.fromMat2d(this,i),this},frustum:function(i,a,l,_,M,m){return p.Z.frustum(this.array,i,a,l,_,M,m),this._dirty=!0,this},identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(i,a,l){return p.Z.lookAt(this.array,i.array,a.array,l.array),this._dirty=!0,this},mul:function(i){return p.Z.mul(this.array,this.array,i.array),this._dirty=!0,this},mulLeft:function(i){return p.Z.mul(this.array,i.array,this.array),this._dirty=!0,this},multiply:function(i){return p.Z.multiply(this.array,this.array,i.array),this._dirty=!0,this},multiplyLeft:function(i){return p.Z.multiply(this.array,i.array,this.array),this._dirty=!0,this},ortho:function(i,a,l,_,M,m){return p.Z.ortho(this.array,i,a,l,_,M,m),this._dirty=!0,this},perspective:function(i,a,l,_){return p.Z.perspective(this.array,i,a,l,_),this._dirty=!0,this},rotate:function(i,a){return p.Z.rotate(this.array,this.array,i,a.array),this._dirty=!0,this},rotateX:function(i){return p.Z.rotateX(this.array,this.array,i),this._dirty=!0,this},rotateY:function(i){return p.Z.rotateY(this.array,this.array,i),this._dirty=!0,this},rotateZ:function(i){return p.Z.rotateZ(this.array,this.array,i),this._dirty=!0,this},scale:function(i){return p.Z.scale(this.array,this.array,i.array),this._dirty=!0,this},translate:function(i){return p.Z.translate(this.array,this.array,i.array),this._dirty=!0,this},transpose:function(){return p.Z.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var i=s.Z.create(),a=s.Z.create(),l=s.Z.create(),_=r.Z.create();return function(M,m,T){var y=this.array;s.Z.set(i,y[0],y[1],y[2]),s.Z.set(a,y[4],y[5],y[6]),s.Z.set(l,y[8],y[9],y[10]);var P=s.Z.length(i),C=s.Z.length(a),O=s.Z.length(l),Z=this.determinant();Z<0&&(P=-P),M&&M.set(P,C,O),T.set(y[12],y[13],y[14]),r.Z.fromMat4(_,y),_[0]/=P,_[1]/=P,_[2]/=P,_[3]/=C,_[4]/=C,_[5]/=C,_[6]/=O,_[7]/=O,_[8]/=O,t.Z.fromMat3(m.array,_),t.Z.normalize(m.array,m.array),m._dirty=!0,T._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var o=Object.defineProperty;if(o){var h=n.prototype;o(h,"z",{get:function(){var i=this.array;return this._axisZ.set(i[8],i[9],i[10]),this._axisZ},set:function(i){var a=this.array;i=i.array,a[8]=i[0],a[9]=i[1],a[10]=i[2],this._dirty=!0}}),o(h,"y",{get:function(){var i=this.array;return this._axisY.set(i[4],i[5],i[6]),this._axisY},set:function(i){var a=this.array;i=i.array,a[4]=i[0],a[5]=i[1],a[6]=i[2],this._dirty=!0}}),o(h,"x",{get:function(){var i=this.array;return this._axisX.set(i[0],i[1],i[2]),this._axisX},set:function(i){var a=this.array;i=i.array,a[0]=i[0],a[1]=i[1],a[2]=i[2],this._dirty=!0}})}n.adjoint=function(i,a){return p.Z.adjoint(i.array,a.array),i._dirty=!0,i},n.copy=function(i,a){return p.Z.copy(i.array,a.array),i._dirty=!0,i},n.determinant=function(i){return p.Z.determinant(i.array)},n.identity=function(i){return p.Z.identity(i.array),i._dirty=!0,i},n.ortho=function(i,a,l,_,M,m,T){return p.Z.ortho(i.array,a,l,_,M,m,T),i._dirty=!0,i},n.perspective=function(i,a,l,_,M){return p.Z.perspective(i.array,a,l,_,M),i._dirty=!0,i},n.lookAt=function(i,a,l,_){return p.Z.lookAt(i.array,a.array,l.array,_.array),i._dirty=!0,i},n.invert=function(i,a){return p.Z.invert(i.array,a.array),i._dirty=!0,i},n.mul=function(i,a,l){return p.Z.mul(i.array,a.array,l.array),i._dirty=!0,i},n.multiply=n.mul,n.fromQuat=function(i,a){return p.Z.fromQuat(i.array,a.array),i._dirty=!0,i},n.fromRotationTranslation=function(i,a,l){return p.Z.fromRotationTranslation(i.array,a.array,l.array),i._dirty=!0,i},n.fromMat2d=function(_,l){_._dirty=!0;var l=l.array,_=_.array;return _[0]=l[0],_[4]=l[2],_[12]=l[4],_[1]=l[1],_[5]=l[3],_[13]=l[5],_},n.rotate=function(i,a,l,_){return p.Z.rotate(i.array,a.array,l,_.array),i._dirty=!0,i},n.rotateX=function(i,a,l){return p.Z.rotateX(i.array,a.array,l),i._dirty=!0,i},n.rotateY=function(i,a,l){return p.Z.rotateY(i.array,a.array,l),i._dirty=!0,i},n.rotateZ=function(i,a,l){return p.Z.rotateZ(i.array,a.array,l),i._dirty=!0,i},n.scale=function(i,a,l){return p.Z.scale(i.array,a.array,l.array),i._dirty=!0,i},n.transpose=function(i,a){return p.Z.transpose(i.array,a.array),i._dirty=!0,i},n.translate=function(i,a,l){return p.Z.translate(i.array,a.array,l.array),i._dirty=!0,i},q.Z=n},87542:function(ht,q,R){"use strict";var p=R(14147),s=R(85822),t=R(3023),r=R(39186),e=function(n,o){this.normal=n||new p.Z(0,1,0),this.distance=o||0};e.prototype={constructor:e,distanceToPoint:function(n){return t.Z.dot(n.array,this.normal.array)-this.distance},projectPoint:function(n,o){o||(o=new p.Z);var h=this.distanceToPoint(n);return t.Z.scaleAndAdd(o.array,n.array,this.normal.array,-h),o._dirty=!0,o},normalize:function(){var n=1/t.Z.len(this.normal.array);t.Z.scale(this.normal.array,n),this.distance*=n},intersectFrustum:function(n){for(var o=n.vertices,h=this.normal.array,i=t.Z.dot(o[0].array,h)>this.distance,a=1;a<8;a++)if(t.Z.dot(o[a].array,h)>this.distance!=i)return!0},intersectLine:function(){var n=t.Z.create();return function(o,h,i){var a=this.distanceToPoint(o),l=this.distanceToPoint(h);if(a>0&&l>0||a<0&&l<0)return null;var _=this.normal.array,M=this.distance,m=o.array;t.Z.sub(n,h.array,o.array),t.Z.normalize(n,n);var T=t.Z.dot(_,n);if(T===0)return null;i||(i=new p.Z);var y=(t.Z.dot(_,m)-M)/T;return t.Z.scaleAndAdd(i.array,m,n,-y),i._dirty=!0,i}}(),applyTransform:function(){var n=s.Z.create(),o=r.Z.create(),h=r.Z.create();return h[3]=1,function(i){i=i.array,t.Z.scale(h,this.normal.array,this.distance),r.Z.transformMat4(h,h,i),this.distance=t.Z.dot(h,this.normal.array),s.Z.invert(n,i),s.Z.transpose(n,n),o[3]=0,t.Z.copy(o,this.normal.array),r.Z.transformMat4(o,o,n),t.Z.copy(this.normal.array,o)}}(),copy:function(n){t.Z.copy(this.normal.array,n.normal.array),this.normal._dirty=!0,this.distance=n.distance},clone:function(){var n=new e;return n.copy(this),n}},q.Z=e},13075:function(ht,q,R){"use strict";var p=R(81520),s=R(98663),t=function(n,o,h,i){n=n||0,o=o||0,h=h||0,i=i===void 0?1:i,this.array=p.Z.fromValues(n,o,h,i),this._dirty=!0};t.prototype={constructor:t,add:function(n){return p.Z.add(this.array,this.array,n.array),this._dirty=!0,this},calculateW:function(){return p.Z.calculateW(this.array,this.array),this._dirty=!0,this},set:function(n,o,h,i){return this.array[0]=n,this.array[1]=o,this.array[2]=h,this.array[3]=i,this._dirty=!0,this},setArray:function(n){return this.array[0]=n[0],this.array[1]=n[1],this.array[2]=n[2],this.array[3]=n[3],this._dirty=!0,this},clone:function(){return new t(this.x,this.y,this.z,this.w)},conjugate:function(){return p.Z.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(n){return p.Z.copy(this.array,n.array),this._dirty=!0,this},dot:function(n){return p.Z.dot(this.array,n.array)},fromMat3:function(n){return p.Z.fromMat3(this.array,n.array),this._dirty=!0,this},fromMat4:function(){var n=s.Z.create();return function(o){return s.Z.fromMat4(n,o.array),s.Z.transpose(n,n),p.Z.fromMat3(this.array,n),this._dirty=!0,this}}(),identity:function(){return p.Z.identity(this.array),this._dirty=!0,this},invert:function(){return p.Z.invert(this.array,this.array),this._dirty=!0,this},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(n,o,h){return p.Z.lerp(this.array,n.array,o.array,h),this._dirty=!0,this},mul:function(n){return p.Z.mul(this.array,this.array,n.array),this._dirty=!0,this},mulLeft:function(n){return p.Z.multiply(this.array,n.array,this.array),this._dirty=!0,this},multiply:function(n){return p.Z.multiply(this.array,this.array,n.array),this._dirty=!0,this},multiplyLeft:function(n){return p.Z.multiply(this.array,n.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(n){return p.Z.rotateX(this.array,this.array,n),this._dirty=!0,this},rotateY:function(n){return p.Z.rotateY(this.array,this.array,n),this._dirty=!0,this},rotateZ:function(n){return p.Z.rotateZ(this.array,this.array,n),this._dirty=!0,this},rotationTo:function(n,o){return p.Z.rotationTo(this.array,n.array,o.array),this._dirty=!0,this},setAxes:function(n,o,h){return p.Z.setAxes(this.array,n.array,o.array,h.array),this._dirty=!0,this},setAxisAngle:function(n,o){return p.Z.setAxisAngle(this.array,n.array,o),this._dirty=!0,this},slerp:function(n,o,h){return p.Z.slerp(this.array,n.array,o.array,h),this._dirty=!0,this},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},fromEuler:function(n,o){return t.fromEuler(this,n,o)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var r=Object.defineProperty;if(r){var e=t.prototype;r(e,"x",{get:function(){return this.array[0]},set:function(n){this.array[0]=n,this._dirty=!0}}),r(e,"y",{get:function(){return this.array[1]},set:function(n){this.array[1]=n,this._dirty=!0}}),r(e,"z",{get:function(){return this.array[2]},set:function(n){this.array[2]=n,this._dirty=!0}}),r(e,"w",{get:function(){return this.array[3]},set:function(n){this.array[3]=n,this._dirty=!0}})}t.add=function(n,o,h){return p.Z.add(n.array,o.array,h.array),n._dirty=!0,n},t.set=function(n,o,h,i,a){p.Z.set(n.array,o,h,i,a),n._dirty=!0},t.copy=function(n,o){return p.Z.copy(n.array,o.array),n._dirty=!0,n},t.calculateW=function(n,o){return p.Z.calculateW(n.array,o.array),n._dirty=!0,n},t.conjugate=function(n,o){return p.Z.conjugate(n.array,o.array),n._dirty=!0,n},t.identity=function(n){return p.Z.identity(n.array),n._dirty=!0,n},t.invert=function(n,o){return p.Z.invert(n.array,o.array),n._dirty=!0,n},t.dot=function(n,o){return p.Z.dot(n.array,o.array)},t.len=function(n){return p.Z.length(n.array)},t.lerp=function(n,o,h,i){return p.Z.lerp(n.array,o.array,h.array,i),n._dirty=!0,n},t.slerp=function(n,o,h,i){return p.Z.slerp(n.array,o.array,h.array,i),n._dirty=!0,n},t.mul=function(n,o,h){return p.Z.multiply(n.array,o.array,h.array),n._dirty=!0,n},t.multiply=t.mul,t.rotateX=function(n,o,h){return p.Z.rotateX(n.array,o.array,h),n._dirty=!0,n},t.rotateY=function(n,o,h){return p.Z.rotateY(n.array,o.array,h),n._dirty=!0,n},t.rotateZ=function(n,o,h){return p.Z.rotateZ(n.array,o.array,h),n._dirty=!0,n},t.setAxisAngle=function(n,o,h){return p.Z.setAxisAngle(n.array,o.array,h),n._dirty=!0,n},t.normalize=function(n,o){return p.Z.normalize(n.array,o.array),n._dirty=!0,n},t.sqrLen=function(n){return p.Z.sqrLen(n.array)},t.squaredLength=t.sqrLen,t.fromMat3=function(n,o){return p.Z.fromMat3(n.array,o.array),n._dirty=!0,n},t.setAxes=function(n,o,h,i){return p.Z.setAxes(n.array,o.array,h.array,i.array),n._dirty=!0,n},t.rotationTo=function(n,o,h){return p.Z.rotationTo(n.array,o.array,h.array),n._dirty=!0,n},t.fromEuler=function(n,o,y){n._dirty=!0,o=o.array;var i=n.array,a=Math.cos(o[0]/2),l=Math.cos(o[1]/2),_=Math.cos(o[2]/2),M=Math.sin(o[0]/2),m=Math.sin(o[1]/2),T=Math.sin(o[2]/2),y=(y||"XYZ").toUpperCase();switch(y){case"XYZ":i[0]=M*l*_+a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_-M*m*T;break;case"YXZ":i[0]=M*l*_+a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_+M*m*T;break;case"ZXY":i[0]=M*l*_-a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_-M*m*T;break;case"ZYX":i[0]=M*l*_-a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_+M*m*T;break;case"YZX":i[0]=M*l*_+a*m*T,i[1]=a*m*_+M*l*T,i[2]=a*l*T-M*m*_,i[3]=a*l*_-M*m*T;break;case"XZY":i[0]=M*l*_-a*m*T,i[1]=a*m*_-M*l*T,i[2]=a*l*T+M*m*_,i[3]=a*l*_+M*m*T;break}},q.Z=t},76867:function(ht,q,R){"use strict";var p=R(14147),s=R(3023),t=1e-5,r=function(e,n){this.origin=e||new p.Z,this.direction=n||new p.Z};r.prototype={constructor:r,intersectPlane:function(e,n){var o=e.normal.array,h=e.distance,i=this.origin.array,a=this.direction.array,l=s.Z.dot(o,a);if(l===0)return null;n||(n=new p.Z);var _=(s.Z.dot(o,i)-h)/l;return s.Z.scaleAndAdd(n.array,i,a,-_),n._dirty=!0,n},mirrorAgainstPlane:function(e){var n=s.Z.dot(e.normal.array,this.direction.array);s.Z.scaleAndAdd(this.direction.array,this.direction.array,e.normal.array,-n*2),this.direction._dirty=!0},distanceToPoint:function(){var e=s.Z.create();return function(n){s.Z.sub(e,n,this.origin.array);var o=s.Z.dot(e,this.direction.array);if(o<0)return s.Z.distance(this.origin.array,n);var h=s.Z.lenSquared(e);return Math.sqrt(h-o*o)}}(),intersectSphere:function(){var e=s.Z.create();return function(n,o,h){var i=this.origin.array,a=this.direction.array;n=n.array,s.Z.sub(e,n,i);var l=s.Z.dot(e,a),_=s.Z.squaredLength(e),M=_-l*l,m=o*o;if(!(M>m)){var T=Math.sqrt(m-M),y=l-T,P=l+T;return h||(h=new p.Z),y<0?P<0?null:(s.Z.scaleAndAdd(h.array,i,a,P),h):(s.Z.scaleAndAdd(h.array,i,a,y),h)}}}(),intersectBoundingBox:function(e,n){var o=this.direction.array,h=this.origin.array,i=e.min.array,a=e.max.array,l=1/o[0],_=1/o[1],M=1/o[2],m,T,y,P,C,O;if(l>=0?(m=(i[0]-h[0])*l,T=(a[0]-h[0])*l):(T=(i[0]-h[0])*l,m=(a[0]-h[0])*l),_>=0?(y=(i[1]-h[1])*_,P=(a[1]-h[1])*_):(P=(i[1]-h[1])*_,y=(a[1]-h[1])*_),m>P||y>T||((y>m||m!==m)&&(m=y),(P<T||T!==T)&&(T=P),M>=0?(C=(i[2]-h[2])*M,O=(a[2]-h[2])*M):(O=(i[2]-h[2])*M,C=(a[2]-h[2])*M),m>O||C>T)||((C>m||m!==m)&&(m=C),(O<T||T!==T)&&(T=O),T<0))return null;var Z=m>=0?m:T;return n||(n=new p.Z),s.Z.scaleAndAdd(n.array,h,o,Z),n},intersectTriangle:function(){var e=s.Z.create(),n=s.Z.create(),o=s.Z.create(),h=s.Z.create();return function(i,a,l,_,M,m){var T=this.direction.array,y=this.origin.array;i=i.array,a=a.array,l=l.array,s.Z.sub(e,a,i),s.Z.sub(n,l,i),s.Z.cross(h,n,T);var P=s.Z.dot(e,h);if(_){if(P>-t)return null}else if(P>-t&&P<t)return null;s.Z.sub(o,y,i);var C=s.Z.dot(h,o)/P;if(C<0||C>1)return null;s.Z.cross(h,e,o);var O=s.Z.dot(T,h)/P;if(O<0||O>1||C+O>1)return null;s.Z.cross(h,e,n);var Z=-s.Z.dot(o,h)/P;return Z<0?null:(M||(M=new p.Z),m&&p.Z.set(m,1-C-O,C,O),s.Z.scaleAndAdd(M.array,y,T,Z),M)}}(),applyTransform:function(e){p.Z.add(this.direction,this.direction,this.origin),p.Z.transformMat4(this.origin,this.origin,e),p.Z.transformMat4(this.direction,this.direction,e),p.Z.sub(this.direction,this.direction,this.origin),p.Z.normalize(this.direction,this.direction)},copy:function(e){p.Z.copy(this.origin,e.origin),p.Z.copy(this.direction,e.direction)},clone:function(){var e=new r;return e.copy(this),e}},q.Z=r},38077:function(ht,q,R){"use strict";var p=R(97410),s=function(r,e){r=r||0,e=e||0,this.array=p.Z.fromValues(r,e),this._dirty=!0};if(s.prototype={constructor:s,add:function(r){return p.Z.add(this.array,this.array,r.array),this._dirty=!0,this},set:function(r,e){return this.array[0]=r,this.array[1]=e,this._dirty=!0,this},setArray:function(r){return this.array[0]=r[0],this.array[1]=r[1],this._dirty=!0,this},clone:function(){return new s(this.x,this.y)},copy:function(r){return p.Z.copy(this.array,r.array),this._dirty=!0,this},cross:function(r,e){return p.Z.cross(r.array,this.array,e.array),r._dirty=!0,this},dist:function(r){return p.Z.dist(this.array,r.array)},distance:function(r){return p.Z.distance(this.array,r.array)},div:function(r){return p.Z.div(this.array,this.array,r.array),this._dirty=!0,this},divide:function(r){return p.Z.divide(this.array,this.array,r.array),this._dirty=!0,this},dot:function(r){return p.Z.dot(this.array,r.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(r,e,n){return p.Z.lerp(this.array,r.array,e.array,n),this._dirty=!0,this},min:function(r){return p.Z.min(this.array,this.array,r.array),this._dirty=!0,this},max:function(r){return p.Z.max(this.array,this.array,r.array),this._dirty=!0,this},mul:function(r){return p.Z.mul(this.array,this.array,r.array),this._dirty=!0,this},multiply:function(r){return p.Z.multiply(this.array,this.array,r.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(r){return p.Z.random(this.array,r),this._dirty=!0,this},scale:function(r){return p.Z.scale(this.array,this.array,r),this._dirty=!0,this},scaleAndAdd:function(r,e){return p.Z.scaleAndAdd(this.array,this.array,r.array,e),this._dirty=!0,this},sqrDist:function(r){return p.Z.sqrDist(this.array,r.array)},squaredDistance:function(r){return p.Z.squaredDistance(this.array,r.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(r){return p.Z.sub(this.array,this.array,r.array),this._dirty=!0,this},subtract:function(r){return p.Z.subtract(this.array,this.array,r.array),this._dirty=!0,this},transformMat2:function(r){return p.Z.transformMat2(this.array,this.array,r.array),this._dirty=!0,this},transformMat2d:function(r){return p.Z.transformMat2d(this.array,this.array,r.array),this._dirty=!0,this},transformMat3:function(r){return p.Z.transformMat3(this.array,this.array,r.array),this._dirty=!0,this},transformMat4:function(r){return p.Z.transformMat4(this.array,this.array,r.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty){var t=s.prototype;Object.defineProperty(t,"x",{get:function(){return this.array[0]},set:function(r){this.array[0]=r,this._dirty=!0}}),Object.defineProperty(t,"y",{get:function(){return this.array[1]},set:function(r){this.array[1]=r,this._dirty=!0}})}s.add=function(r,e,n){return p.Z.add(r.array,e.array,n.array),r._dirty=!0,r},s.set=function(r,e,n){return p.Z.set(r.array,e,n),r._dirty=!0,r},s.copy=function(r,e){return p.Z.copy(r.array,e.array),r._dirty=!0,r},s.cross=function(r,e,n){return p.Z.cross(r.array,e.array,n.array),r._dirty=!0,r},s.dist=function(r,e){return p.Z.distance(r.array,e.array)},s.distance=s.dist,s.div=function(r,e,n){return p.Z.divide(r.array,e.array,n.array),r._dirty=!0,r},s.divide=s.div,s.dot=function(r,e){return p.Z.dot(r.array,e.array)},s.len=function(r){return p.Z.length(r.array)},s.lerp=function(r,e,n,o){return p.Z.lerp(r.array,e.array,n.array,o),r._dirty=!0,r},s.min=function(r,e,n){return p.Z.min(r.array,e.array,n.array),r._dirty=!0,r},s.max=function(r,e,n){return p.Z.max(r.array,e.array,n.array),r._dirty=!0,r},s.mul=function(r,e,n){return p.Z.multiply(r.array,e.array,n.array),r._dirty=!0,r},s.multiply=s.mul,s.negate=function(r,e){return p.Z.negate(r.array,e.array),r._dirty=!0,r},s.normalize=function(r,e){return p.Z.normalize(r.array,e.array),r._dirty=!0,r},s.random=function(r,e){return p.Z.random(r.array,e),r._dirty=!0,r},s.scale=function(r,e,n){return p.Z.scale(r.array,e.array,n),r._dirty=!0,r},s.scaleAndAdd=function(r,e,n,o){return p.Z.scaleAndAdd(r.array,e.array,n.array,o),r._dirty=!0,r},s.sqrDist=function(r,e){return p.Z.sqrDist(r.array,e.array)},s.squaredDistance=s.sqrDist,s.sqrLen=function(r){return p.Z.sqrLen(r.array)},s.squaredLength=s.sqrLen,s.sub=function(r,e,n){return p.Z.subtract(r.array,e.array,n.array),r._dirty=!0,r},s.subtract=s.sub,s.transformMat2=function(r,e,n){return p.Z.transformMat2(r.array,e.array,n.array),r._dirty=!0,r},s.transformMat2d=function(r,e,n){return p.Z.transformMat2d(r.array,e.array,n.array),r._dirty=!0,r},s.transformMat3=function(r,e,n){return p.Z.transformMat3(r.array,e.array,n.array),r._dirty=!0,r},s.transformMat4=function(r,e,n){return p.Z.transformMat4(r.array,e.array,n.array),r._dirty=!0,r},q.Z=s},14147:function(ht,q,R){"use strict";var p=R(3023),s=function(i,a,l){i=i||0,a=a||0,l=l||0,this.array=p.Z.fromValues(i,a,l),this._dirty=!0};s.prototype={constructor:s,add:function(i){return p.Z.add(this.array,this.array,i.array),this._dirty=!0,this},set:function(i,a,l){return this.array[0]=i,this.array[1]=a,this.array[2]=l,this._dirty=!0,this},setArray:function(i){return this.array[0]=i[0],this.array[1]=i[1],this.array[2]=i[2],this._dirty=!0,this},clone:function(){return new s(this.x,this.y,this.z)},copy:function(i){return p.Z.copy(this.array,i.array),this._dirty=!0,this},cross:function(i,a){return p.Z.cross(this.array,i.array,a.array),this._dirty=!0,this},dist:function(i){return p.Z.dist(this.array,i.array)},distance:function(i){return p.Z.distance(this.array,i.array)},div:function(i){return p.Z.div(this.array,this.array,i.array),this._dirty=!0,this},divide:function(i){return p.Z.divide(this.array,this.array,i.array),this._dirty=!0,this},dot:function(i){return p.Z.dot(this.array,i.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(i,a,l){return p.Z.lerp(this.array,i.array,a.array,l),this._dirty=!0,this},min:function(i){return p.Z.min(this.array,this.array,i.array),this._dirty=!0,this},max:function(i){return p.Z.max(this.array,this.array,i.array),this._dirty=!0,this},mul:function(i){return p.Z.mul(this.array,this.array,i.array),this._dirty=!0,this},multiply:function(i){return p.Z.multiply(this.array,this.array,i.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(i){return p.Z.random(this.array,i),this._dirty=!0,this},scale:function(i){return p.Z.scale(this.array,this.array,i),this._dirty=!0,this},scaleAndAdd:function(i,a){return p.Z.scaleAndAdd(this.array,this.array,i.array,a),this._dirty=!0,this},sqrDist:function(i){return p.Z.sqrDist(this.array,i.array)},squaredDistance:function(i){return p.Z.squaredDistance(this.array,i.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(i){return p.Z.sub(this.array,this.array,i.array),this._dirty=!0,this},subtract:function(i){return p.Z.subtract(this.array,this.array,i.array),this._dirty=!0,this},transformMat3:function(i){return p.Z.transformMat3(this.array,this.array,i.array),this._dirty=!0,this},transformMat4:function(i){return p.Z.transformMat4(this.array,this.array,i.array),this._dirty=!0,this},transformQuat:function(i){return p.Z.transformQuat(this.array,this.array,i.array),this._dirty=!0,this},applyProjection:function(i){var a=this.array;if(i=i.array,i[15]===0){var l=-1/a[2];a[0]=i[0]*a[0]*l,a[1]=i[5]*a[1]*l,a[2]=(i[10]*a[2]+i[14])*l}else a[0]=i[0]*a[0]+i[12],a[1]=i[5]*a[1]+i[13],a[2]=i[10]*a[2]+i[14];return this._dirty=!0,this},eulerFromQuat:function(i,a){s.eulerFromQuat(this,i,a)},eulerFromMat3:function(i,a){s.eulerFromMat3(this,i,a)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var t=Object.defineProperty;if(t){var r=s.prototype;t(r,"x",{get:function(){return this.array[0]},set:function(i){this.array[0]=i,this._dirty=!0}}),t(r,"y",{get:function(){return this.array[1]},set:function(i){this.array[1]=i,this._dirty=!0}}),t(r,"z",{get:function(){return this.array[2]},set:function(i){this.array[2]=i,this._dirty=!0}})}s.add=function(i,a,l){return p.Z.add(i.array,a.array,l.array),i._dirty=!0,i},s.set=function(i,a,l,_){p.Z.set(i.array,a,l,_),i._dirty=!0},s.copy=function(i,a){return p.Z.copy(i.array,a.array),i._dirty=!0,i},s.cross=function(i,a,l){return p.Z.cross(i.array,a.array,l.array),i._dirty=!0,i},s.dist=function(i,a){return p.Z.distance(i.array,a.array)},s.distance=s.dist,s.div=function(i,a,l){return p.Z.divide(i.array,a.array,l.array),i._dirty=!0,i},s.divide=s.div,s.dot=function(i,a){return p.Z.dot(i.array,a.array)},s.len=function(i){return p.Z.length(i.array)},s.lerp=function(i,a,l,_){return p.Z.lerp(i.array,a.array,l.array,_),i._dirty=!0,i},s.min=function(i,a,l){return p.Z.min(i.array,a.array,l.array),i._dirty=!0,i},s.max=function(i,a,l){return p.Z.max(i.array,a.array,l.array),i._dirty=!0,i},s.mul=function(i,a,l){return p.Z.multiply(i.array,a.array,l.array),i._dirty=!0,i},s.multiply=s.mul,s.negate=function(i,a){return p.Z.negate(i.array,a.array),i._dirty=!0,i},s.normalize=function(i,a){return p.Z.normalize(i.array,a.array),i._dirty=!0,i},s.random=function(i,a){return p.Z.random(i.array,a),i._dirty=!0,i},s.scale=function(i,a,l){return p.Z.scale(i.array,a.array,l),i._dirty=!0,i},s.scaleAndAdd=function(i,a,l,_){return p.Z.scaleAndAdd(i.array,a.array,l.array,_),i._dirty=!0,i},s.sqrDist=function(i,a){return p.Z.sqrDist(i.array,a.array)},s.squaredDistance=s.sqrDist,s.sqrLen=function(i){return p.Z.sqrLen(i.array)},s.squaredLength=s.sqrLen,s.sub=function(i,a,l){return p.Z.subtract(i.array,a.array,l.array),i._dirty=!0,i},s.subtract=s.sub,s.transformMat3=function(i,a,l){return p.Z.transformMat3(i.array,a.array,l.array),i._dirty=!0,i},s.transformMat4=function(i,a,l){return p.Z.transformMat4(i.array,a.array,l.array),i._dirty=!0,i},s.transformQuat=function(i,a,l){return p.Z.transformQuat(i.array,a.array,l.array),i._dirty=!0,i};function e(i,a,l){return i<a?a:i>l?l:i}var n=Math.atan2,o=Math.asin,h=Math.abs;s.eulerFromQuat=function(i,a,U){i._dirty=!0,a=a.array;var _=i.array,M=a[0],m=a[1],T=a[2],y=a[3],P=M*M,C=m*m,O=T*T,Z=y*y,U=(U||"XYZ").toUpperCase();switch(U){case"XYZ":_[0]=n(2*(M*y-m*T),Z-P-C+O),_[1]=o(e(2*(M*T+m*y),-1,1)),_[2]=n(2*(T*y-M*m),Z+P-C-O);break;case"YXZ":_[0]=o(e(2*(M*y-m*T),-1,1)),_[1]=n(2*(M*T+m*y),Z-P-C+O),_[2]=n(2*(M*m+T*y),Z-P+C-O);break;case"ZXY":_[0]=o(e(2*(M*y+m*T),-1,1)),_[1]=n(2*(m*y-T*M),Z-P-C+O),_[2]=n(2*(T*y-M*m),Z-P+C-O);break;case"ZYX":_[0]=n(2*(M*y+T*m),Z-P-C+O),_[1]=o(e(2*(m*y-M*T),-1,1)),_[2]=n(2*(M*m+T*y),Z+P-C-O);break;case"YZX":_[0]=n(2*(M*y-T*m),Z-P+C-O),_[1]=n(2*(m*y-M*T),Z+P-C-O),_[2]=o(e(2*(M*m+T*y),-1,1));break;case"XZY":_[0]=n(2*(M*y+m*T),Z-P+C-O),_[1]=n(2*(M*T+m*y),Z+P-C-O),_[2]=o(e(2*(T*y-M*m),-1,1));break;default:console.warn("Unkown order: "+U)}return i},s.eulerFromMat3=function(i,a,w){var _=a.array,M=_[0],m=_[3],T=_[6],y=_[1],P=_[4],C=_[7],O=_[2],Z=_[5],U=_[8],b=i.array,w=(w||"XYZ").toUpperCase();switch(w){case"XYZ":b[1]=o(e(T,-1,1)),h(T)<.99999?(b[0]=n(-C,U),b[2]=n(-m,M)):(b[0]=n(Z,P),b[2]=0);break;case"YXZ":b[0]=o(-e(C,-1,1)),h(C)<.99999?(b[1]=n(T,U),b[2]=n(y,P)):(b[1]=n(-O,M),b[2]=0);break;case"ZXY":b[0]=o(e(Z,-1,1)),h(Z)<.99999?(b[1]=n(-O,U),b[2]=n(-m,P)):(b[1]=0,b[2]=n(y,M));break;case"ZYX":b[1]=o(-e(O,-1,1)),h(O)<.99999?(b[0]=n(Z,U),b[2]=n(y,M)):(b[0]=0,b[2]=n(-m,P));break;case"YZX":b[2]=o(e(y,-1,1)),h(y)<.99999?(b[0]=n(-C,P),b[1]=n(-O,M)):(b[0]=0,b[1]=n(T,U));break;case"XZY":b[2]=o(-e(m,-1,1)),h(m)<.99999?(b[0]=n(Z,P),b[1]=n(T,M)):(b[0]=n(-C,U),b[1]=0);break;default:console.warn("Unkown order: "+w)}return i._dirty=!0,i},Object.defineProperties(s,{POSITIVE_X:{get:function(){return new s(1,0,0)}},NEGATIVE_X:{get:function(){return new s(-1,0,0)}},POSITIVE_Y:{get:function(){return new s(0,1,0)}},NEGATIVE_Y:{get:function(){return new s(0,-1,0)}},POSITIVE_Z:{get:function(){return new s(0,0,1)}},NEGATIVE_Z:{get:function(){return new s(0,0,-1)}},UP:{get:function(){return new s(0,1,0)}},ZERO:{get:function(){return new s}}}),q.Z=s},60273:function(ht,q,R){"use strict";var p=R(39186),s=function(e,n,o,h){e=e||0,n=n||0,o=o||0,h=h||0,this.array=p.Z.fromValues(e,n,o,h),this._dirty=!0};s.prototype={constructor:s,add:function(e){return p.Z.add(this.array,this.array,e.array),this._dirty=!0,this},set:function(e,n,o,h){return this.array[0]=e,this.array[1]=n,this.array[2]=o,this.array[3]=h,this._dirty=!0,this},setArray:function(e){return this.array[0]=e[0],this.array[1]=e[1],this.array[2]=e[2],this.array[3]=e[3],this._dirty=!0,this},clone:function(){return new s(this.x,this.y,this.z,this.w)},copy:function(e){return p.Z.copy(this.array,e.array),this._dirty=!0,this},dist:function(e){return p.Z.dist(this.array,e.array)},distance:function(e){return p.Z.distance(this.array,e.array)},div:function(e){return p.Z.div(this.array,this.array,e.array),this._dirty=!0,this},divide:function(e){return p.Z.divide(this.array,this.array,e.array),this._dirty=!0,this},dot:function(e){return p.Z.dot(this.array,e.array)},len:function(){return p.Z.len(this.array)},length:function(){return p.Z.length(this.array)},lerp:function(e,n,o){return p.Z.lerp(this.array,e.array,n.array,o),this._dirty=!0,this},min:function(e){return p.Z.min(this.array,this.array,e.array),this._dirty=!0,this},max:function(e){return p.Z.max(this.array,this.array,e.array),this._dirty=!0,this},mul:function(e){return p.Z.mul(this.array,this.array,e.array),this._dirty=!0,this},multiply:function(e){return p.Z.multiply(this.array,this.array,e.array),this._dirty=!0,this},negate:function(){return p.Z.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return p.Z.normalize(this.array,this.array),this._dirty=!0,this},random:function(e){return p.Z.random(this.array,e),this._dirty=!0,this},scale:function(e){return p.Z.scale(this.array,this.array,e),this._dirty=!0,this},scaleAndAdd:function(e,n){return p.Z.scaleAndAdd(this.array,this.array,e.array,n),this._dirty=!0,this},sqrDist:function(e){return p.Z.sqrDist(this.array,e.array)},squaredDistance:function(e){return p.Z.squaredDistance(this.array,e.array)},sqrLen:function(){return p.Z.sqrLen(this.array)},squaredLength:function(){return p.Z.squaredLength(this.array)},sub:function(e){return p.Z.sub(this.array,this.array,e.array),this._dirty=!0,this},subtract:function(e){return p.Z.subtract(this.array,this.array,e.array),this._dirty=!0,this},transformMat4:function(e){return p.Z.transformMat4(this.array,this.array,e.array),this._dirty=!0,this},transformQuat:function(e){return p.Z.transformQuat(this.array,this.array,e.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var t=Object.defineProperty;if(t){var r=s.prototype;t(r,"x",{get:function(){return this.array[0]},set:function(e){this.array[0]=e,this._dirty=!0}}),t(r,"y",{get:function(){return this.array[1]},set:function(e){this.array[1]=e,this._dirty=!0}}),t(r,"z",{get:function(){return this.array[2]},set:function(e){this.array[2]=e,this._dirty=!0}}),t(r,"w",{get:function(){return this.array[3]},set:function(e){this.array[3]=e,this._dirty=!0}})}s.add=function(e,n,o){return p.Z.add(e.array,n.array,o.array),e._dirty=!0,e},s.set=function(e,n,o,h,i){p.Z.set(e.array,n,o,h,i),e._dirty=!0},s.copy=function(e,n){return p.Z.copy(e.array,n.array),e._dirty=!0,e},s.dist=function(e,n){return p.Z.distance(e.array,n.array)},s.distance=s.dist,s.div=function(e,n,o){return p.Z.divide(e.array,n.array,o.array),e._dirty=!0,e},s.divide=s.div,s.dot=function(e,n){return p.Z.dot(e.array,n.array)},s.len=function(e){return p.Z.length(e.array)},s.lerp=function(e,n,o,h){return p.Z.lerp(e.array,n.array,o.array,h),e._dirty=!0,e},s.min=function(e,n,o){return p.Z.min(e.array,n.array,o.array),e._dirty=!0,e},s.max=function(e,n,o){return p.Z.max(e.array,n.array,o.array),e._dirty=!0,e},s.mul=function(e,n,o){return p.Z.multiply(e.array,n.array,o.array),e._dirty=!0,e},s.multiply=s.mul,s.negate=function(e,n){return p.Z.negate(e.array,n.array),e._dirty=!0,e},s.normalize=function(e,n){return p.Z.normalize(e.array,n.array),e._dirty=!0,e},s.random=function(e,n){return p.Z.random(e.array,n),e._dirty=!0,e},s.scale=function(e,n,o){return p.Z.scale(e.array,n.array,o),e._dirty=!0,e},s.scaleAndAdd=function(e,n,o,h){return p.Z.scaleAndAdd(e.array,n.array,o.array,h),e._dirty=!0,e},s.sqrDist=function(e,n){return p.Z.sqrDist(e.array,n.array)},s.squaredDistance=s.sqrDist,s.sqrLen=function(e){return p.Z.sqrLen(e.array)},s.squaredLength=s.sqrLen,s.sub=function(e,n,o){return p.Z.subtract(e.array,n.array,o.array),e._dirty=!0,e},s.subtract=s.sub,s.transformMat4=function(e,n,o){return p.Z.transformMat4(e.array,n.array,o.array),e._dirty=!0,e},s.transformQuat=function(e,n,o){return p.Z.transformQuat(e.array,n.array,o.array),e._dirty=!0,e},q.Z=s},14983:function(ht,q){"use strict";var R={};R.isPowerOfTwo=function(p){return(p&p-1)===0},R.nextPowerOfTwo=function(p){return p--,p|=p>>1,p|=p>>2,p|=p>>4,p|=p>>8,p|=p>>16,p++,p},R.nearestPowerOfTwo=function(p){return Math.pow(2,Math.round(Math.log(p)/Math.LN2))},q.Z=R},20739:function(ht,q,R){"use strict";var p=R(85038),s=R(76867),t=R(38077),r=R(14147),e=R(49865),n=R(38934),o=R(23044),h=R(3023),i=p.Z.extend({scene:null,camera:null,renderer:null},function(){this._ray=new s.Z,this._ndc=new t.Z},{pick:function(a,l,_){var M=this.pickAll(a,l,[],_);return M[0]||null},pickAll:function(a,l,_,M){return this.renderer.screenToNDC(a,l,this._ndc),this.camera.castRay(this._ndc,this._ray),_=_||[],this._intersectNode(this.scene,_,M||!1),_.sort(this._intersectionCompareFunc),_},_intersectNode:function(a,l,_){a instanceof n.Z&&a.isRenderable()&&(!a.ignorePicking||_)&&(a.mode===o.Z.TRIANGLES&&a.geometry.isUseIndices()||a.geometry.pickByRay||a.geometry.pick)&&this._intersectRenderable(a,l);for(var M=0;M<a._children.length;M++)this._intersectNode(a._children[M],l,_)},_intersectRenderable:function(){var a=new r.Z,l=new r.Z,_=new r.Z,M=new s.Z,m=new e.Z;return function(T,y){var P=T.isSkinnedMesh();M.copy(this._ray),e.Z.invert(m,T.worldTransform),P||M.applyTransform(m);var C=T.geometry,O=P?T.skeleton.boundingBox:C.boundingBox;if(!(O&&!M.intersectBoundingBox(O))){if(C.pick){C.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,T,y);return}else if(C.pickByRay){C.pickByRay(M,T,y);return}var Z=T.cullFace===o.Z.BACK&&T.frontFace===o.Z.CCW||T.cullFace===o.Z.FRONT&&T.frontFace===o.Z.CW,U,b=C.indices,w=C.attributes.position,A=C.attributes.weight,E=C.attributes.joint,d,f=[];if(!(!w||!w.value||!b)){if(P){d=T.skeleton.getSubSkinMatrices(T.__uid__,T.joints);for(var u=0;u<T.joints.length;u++){f[u]=f[u]||[];for(var v=0;v<16;v++)f[u][v]=d[u*16+v]}var c=[],g=[],D=[],x=[],L=[],I=C.attributes.skinnedPosition;(!I||!I.value)&&(C.createAttribute("skinnedPosition","f",3),I=C.attributes.skinnedPosition,I.init(C.vertexCount));for(var u=0;u<C.vertexCount;u++){w.get(u,c),A.get(u,g),E.get(u,D),g[3]=1-g[0]-g[1]-g[2],h.Z.set(x,0,0,0);for(var v=0;v<4;v++)D[v]>=0&&g[v]>1e-4&&(h.Z.transformMat4(L,c,f[D[v]]),h.Z.scaleAndAdd(x,x,L,g[v]));I.set(u,x)}}for(var u=0;u<b.length;u+=3){var N=b[u],G=b[u+1],K=b[u+2],J=P?C.attributes.skinnedPosition:w;if(J.get(N,a.array),J.get(G,l.array),J.get(K,_.array),Z?U=M.intersectTriangle(a,l,_,T.culling):U=M.intersectTriangle(a,_,l,T.culling),U){var F=new r.Z;P?r.Z.copy(F,U):r.Z.transformMat4(F,U,T.worldTransform),y.push(new i.Intersection(U,F,T,[N,G,K],u/3,r.Z.dist(F,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(a,l){return a.distance-l.distance}});i.Intersection=function(a,l,_,M,m,T){this.point=a,this.pointWorld=l,this.target=_,this.triangle=M,this.triangleIndex=m,this.distance=T},q.Z=i},43484:function(ht,q,R){"use strict";R.d(q,{Z:function(){return a}});var p=R(30420),s=R(99439),t=R(60217),r=R(84708),e=R(88693),n=R(18850),o=R(49865),h=`@export clay.skybox.vertex
#define SHADER_NAME skybox
uniform mat4 world : WORLD;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
varying vec3 v_WorldPosition;
void main()
{
 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end
@export clay.skybox.fragment
#define PI 3.1415926
uniform mat4 viewInverse : VIEWINVERSE;
#ifdef EQUIRECTANGULAR
uniform sampler2D environmentMap;
#else
uniform samplerCube environmentMap;
#endif
uniform float lod: 0.0;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
@import clay.util.srgb
@import clay.util.ACES
void main()
{
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
#ifdef EQUIRECTANGULAR
 float phi = acos(V.y);
 float theta = atan(-V.x, V.z) + PI * 0.5;
 vec2 uv = vec2(theta / 2.0 / PI, phi / PI);
 vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));
#else
 #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)
 vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));
 #else
 vec4 texel = decodeHDR(textureCube(environmentMap, V));
 #endif
#endif
#ifdef SRGB_DECODE
 texel = sRGBToLinear(texel);
#endif
#ifdef TONEMAPPING
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
#ifdef SRGB_ENCODE
 texel = linearTosRGB(texel);
#endif
 gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));
}
@end`;t.Z.import(h);var i=p.Z.extend(function(){var l=new t.Z({vertex:t.Z.source("clay.skybox.vertex"),fragment:t.Z.source("clay.skybox.fragment")}),_=new r.Z({shader:l,depthMask:!1});return{scene:null,geometry:new s.Z,material:_,environmentMap:null,culling:!1,_dummyCamera:new n.Z}},function(){var l=this.scene;l&&this.attachScene(l),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(l){this.scene&&this.detachScene(),l.skybox=this,this.scene=l,l.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(l){this.detachScene(),this.geometry.dispose(l)},setEnvironmentMap:function(l){l.textureType==="texture2D"?(this.material.define("EQUIRECTANGULAR"),l.minFilter=e.Z.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",l)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(l,_,M){this.renderSkybox(l,M)},renderSkybox:function(l,_){var M=this._dummyCamera;M.aspect=l.getViewportAspect(),M.fov=_.fov||50,M.updateProjectionMatrix(),o.Z.invert(M.invProjectionMatrix,M.projectionMatrix),M.worldTransform.copy(_.worldTransform),M.viewMatrix.copy(_.viewMatrix),this.position.copy(_.getWorldPosition()),this.update(),l.gl.disable(l.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),l.renderPass([this],M)}}),a=i},74738:function(ht,q,R){"use strict";var p=R(43484);q.Z=p.Z},56076:function(ht,q,R){"use strict";var p=R(85038),s=R(14147),t=R(18850),r=R(76728),e=["px","nx","py","ny","pz","nz"],n=p.Z.extend(function(){var o={position:new s.Z,far:1e3,near:.1,texture:null,shadowMapPass:null},h=o._cameras={px:new t.Z({fov:90}),nx:new t.Z({fov:90}),py:new t.Z({fov:90}),ny:new t.Z({fov:90}),pz:new t.Z({fov:90}),nz:new t.Z({fov:90})};return h.px.lookAt(s.Z.POSITIVE_X,s.Z.NEGATIVE_Y),h.nx.lookAt(s.Z.NEGATIVE_X,s.Z.NEGATIVE_Y),h.py.lookAt(s.Z.POSITIVE_Y,s.Z.POSITIVE_Z),h.ny.lookAt(s.Z.NEGATIVE_Y,s.Z.NEGATIVE_Z),h.pz.lookAt(s.Z.POSITIVE_Z,s.Z.NEGATIVE_Y),h.nz.lookAt(s.Z.NEGATIVE_Z,s.Z.NEGATIVE_Y),o._frameBuffer=new r.Z,o},{getCamera:function(o){return this._cameras[o]},render:function(o,h,i){var a=o.gl;i||h.update();for(var l=this.texture.width,_=2*Math.atan(l/(l-.5))/Math.PI*180,M=0;M<6;M++){var m=e[M],T=this._cameras[m];if(s.Z.copy(T.position,this.position),T.far=this.far,T.near=this.near,T.fov=_,this.shadowMapPass){T.update();var y=h.getBoundingBox();y.applyTransform(T.viewMatrix),h.viewBoundingBoxLastFrame.copy(y),this.shadowMapPass.render(o,h,T,!0)}this._frameBuffer.attach(this.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+M),this._frameBuffer.bind(o),o.render(h,T,!0),this._frameBuffer.unbind(o)}},dispose:function(o){this._frameBuffer.dispose(o)}});q.Z=n},79908:function(ht,q,R){"use strict";R.d(q,{Z:function(){return A}});var p=R(85038),s=R(23044),t=R(14147),r=R(37233),e=R(88908),n=R(49865),o=R(17103),h=R(60217),i=R(84708),a=R(76728),l=R(88693),_=R(75142),M=R(5847),m=R(18850),T=R(95347),y=R(80785),P=R(9904),C=R(85822),O=`@export clay.sm.depth.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
uniform vec2 uvRepeat = vec2(1.0, 1.0);
uniform vec2 uvOffset = vec2(0.0, 0.0);
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
void main(){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 v_ViewPosition = worldViewProjection * P;
 gl_Position = v_ViewPosition;
 v_Texcoord = texcoord * uvRepeat + uvOffset;
}
@end
@export clay.sm.depth.fragment
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
uniform float bias : 0.001;
uniform float slopeScale : 1.0;
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
@import clay.util.encode_float
void main(){
 float depth = v_ViewPosition.z / v_ViewPosition.w;
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
#ifdef USE_VSM
 depth = depth * 0.5 + 0.5;
 float moment1 = depth;
 float moment2 = depth * depth;
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 moment2 += 0.25*(dx*dx+dy*dy);
 #endif
 gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);
#else
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;
 #else
 depth += bias;
 #endif
 gl_FragColor = encodeFloat(depth * 0.5 + 0.5);
#endif
}
@end
@export clay.sm.debug_depth
uniform sampler2D depthMap;
varying vec2 v_Texcoord;
@import clay.util.decode_float
void main() {
 vec4 tex = texture2D(depthMap, v_Texcoord);
#ifdef USE_VSM
 gl_FragColor = vec4(tex.rgb, 1.0);
#else
 float depth = decodeFloat(tex);
 gl_FragColor = vec4(depth, depth, depth, 1.0);
#endif
}
@end
@export clay.sm.distance.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 world : WORLD;
attribute vec3 position : POSITION;
@import clay.chunk.skinning_header
varying vec3 v_WorldPosition;
void main (){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = worldViewProjection * P;
 v_WorldPosition = (world * P).xyz;
}
@end
@export clay.sm.distance.fragment
uniform vec3 lightPosition;
uniform float range : 100;
varying vec3 v_WorldPosition;
@import clay.util.encode_float
void main(){
 float dist = distance(lightPosition, v_WorldPosition);
#ifdef USE_VSM
 gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);
#else
 dist = dist / range;
 gl_FragColor = encodeFloat(dist);
#endif
}
@end
@export clay.plugin.shadow_map_common
@import clay.util.decode_float
float tapShadowMap(sampler2D map, vec2 uv, float z){
 vec4 tex = texture2D(map, uv);
 return step(z, decodeFloat(tex) * 2.0 - 1.0);
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {
 float shadowContrib = tapShadowMap(map, uv, z);
 vec2 offset = vec2(1.0 / textureSize) * scale;
#ifdef PCF_KERNEL_SIZE
 for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{
 shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);
 }}
 return shadowContrib / float(PCF_KERNEL_SIZE + 1);
#else
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);
 return shadowContrib / 9.0;
#endif
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize) {
 return pcf(map, uv, z, textureSize, vec2(1.0));
}
float chebyshevUpperBound(vec2 moments, float z){
 float p = 0.0;
 z = z * 0.5 + 0.5;
 if (z <= moments.x) {
 p = 1.0;
 }
 float variance = moments.y - moments.x * moments.x;
 variance = max(variance, 0.0000001);
 float mD = moments.x - z;
 float pMax = variance / (variance + mD * mD);
 pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);
 return max(p, pMax);
}
float computeShadowContrib(
 sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset
) {
 vec4 posInLightSpace = lightVPM * vec4(position, 1.0);
 posInLightSpace.xyz /= posInLightSpace.w;
 float z = posInLightSpace.z;
 if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&
 all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){
 vec2 uv = (posInLightSpace.xy+1.0) / 2.0;
 #ifdef USE_VSM
 vec2 moments = texture2D(map, uv * scale + offset).xy;
 return chebyshevUpperBound(moments, z);
 #else
 return pcf(map, uv * scale + offset, z, textureSize, scale);
 #endif
 }
 return 1.0;
}
float computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {
 return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));
}
float computeShadowContribOmni(samplerCube map, vec3 direction, float range)
{
 float dist = length(direction);
 vec4 shadowTex = textureCube(map, direction);
#ifdef USE_VSM
 vec2 moments = shadowTex.xy;
 float variance = moments.y - moments.x * moments.x;
 float mD = moments.x - dist;
 float p = variance / (variance + mD * mD);
 if(moments.x + 0.001 < dist){
 return clamp(p, 0.0, 1.0);
 }else{
 return 1.0;
 }
#else
 return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);
#endif
}
@end
@export clay.plugin.compute_shadow_map
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)
#ifdef SPOT_LIGHT_SHADOWMAP_COUNT
uniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT
#if defined(SHADOW_CASCADE)
uniform sampler2D directionalLightShadowMaps[1]:unconfigurable;
uniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;
uniform float directionalLightShadowMapSizes[1]:unconfigurable;
uniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;
uniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;
#else
uniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#endif
#ifdef POINT_LIGHT_SHADOWMAP_COUNT
uniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
uniform bool shadowEnabled : true;
#ifdef PCF_KERNEL_SIZE
uniform vec2 pcfKernel[PCF_KERNEL_SIZE];
#endif
@import clay.plugin.shadow_map_common
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,
 spotLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
#ifdef SHADOW_CASCADE
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)
 / (gl_DepthRange.far - gl_DepthRange.near);
 float shadowContrib;
 shadowContribs[0] = 1.0;
 for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{
 if (
 depth >= shadowCascadeClipsNear[_idx_] &&
 depth <= shadowCascadeClipsFar[_idx_]
 ) {
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[0],
 vec2(1.0 / float(SHADOW_CASCADE), 1.0),
 vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)
 );
 shadowContribs[0] = shadowContrib;
 }
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#else
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
#if defined(POINT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){
 vec3 lightPosition;
 vec3 direction;
 for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 lightPosition = pointLightPosition[_idx_];
 direction = position - lightPosition;
 shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);
 }}
 for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
@end`,Z=["px","nx","py","ny","pz","nz"];h.Z.import(O);function U(E,d,f){if(f==="alphaMap")return E.material.get("diffuseMap");if(f==="alphaCutoff"){if(E.material.isDefined("fragment","ALPHA_TEST")&&E.material.get("diffuseMap")){var u=E.material.get("alphaCutoff");return u||0}return 0}else return f==="uvRepeat"?E.material.get("uvRepeat"):f==="uvOffset"?E.material.get("uvOffset"):d.get(f)}function b(E,d){var f=E.material,u=d.material;return f.get("diffuseMap")!==u.get("diffuseMap")||(f.get("alphaCutoff")||0)!==(u.get("alphaCutoff")||0)}var w=p.Z.extend(function(){return{softShadow:w.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new a.Z,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new P.Z}},function(){this._gaussianPassH=new y.Z({fragment:h.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new y.Z({fragment:h.Z.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new y.Z({fragment:h.Z.source("clay.sm.debug_depth")})},{render:function(E,d,f,u){f||(f=d.getMainCamera()),this.trigger("beforerender",this,E,d,f),this._renderShadowPass(E,d,f,u),this.trigger("afterrender",this,E,d,f)},renderDebug:function(E,d){E.saveClear();var f=E.viewport,u=0,v=0,c=d||f.width/4,g=c;this.softShadow===w.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM");for(var D in this._textures){var x=this._textures[D];E.setViewport(u,v,c*x.width/x.height,g),this._outputDepthPass.setUniform("depthMap",x),this._outputDepthPass.render(E),u+=c*x.width/x.height}E.setViewport(f),E.restoreClear()},_updateReceivers:function(E,d){if(d.receiveShadow?(this._receivers.push(d),d.material.set("shadowEnabled",1),d.material.set("pcfKernel",this.kernelPCF)):d.material.set("shadowEnabled",0),this.softShadow===w.VSM)d.material.define("fragment","USE_VSM"),d.material.undefine("fragment","PCF_KERNEL_SIZE");else{d.material.undefine("fragment","USE_VSM");var f=this.kernelPCF;f&&f.length?d.material.define("fragment","PCF_KERNEL_SIZE",f.length/2):d.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(E,d){var f=this;d.traverse(function(c){c.isRenderable()&&f._updateReceivers(E,c)});for(var u=0;u<d.lights.length;u++){var v=d.lights[u];v.castShadow&&!v.invisible&&this._lightsCastShadow.push(v)}},_renderShadowPass:function(E,d,f,u){for(var v in this._shadowMapNumber)this._shadowMapNumber[v]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var c=E.gl;if(u||d.update(),f&&f.update(),d.updateLights(),this._update(E,d),!this._lightsCastShadow.length&&this._lastRenderNotCastShadow)return;this._lastRenderNotCastShadow=this._lightsCastShadow===0,c.enable(c.DEPTH_TEST),c.depthMask(!0),c.disable(c.BLEND),c.clearColor(1,1,1,1);for(var g=[],D=[],x=[],L=[],I=[],N=[],G,K=0;K<this._lightsCastShadow.length;K++){var J=this._lightsCastShadow[K];if(J.type==="DIRECTIONAL_LIGHT"){if(G){console.warn("Only one direectional light supported with shadow cascade");continue}if(J.shadowCascade>4){console.warn("Support at most 4 cascade");continue}J.shadowCascade>1&&(G=J),this.renderDirectionalLightShadow(E,d,f,J,I,L,x)}else J.type==="SPOT_LIGHT"?this.renderSpotLightShadow(E,d,J,D,g):J.type==="POINT_LIGHT"&&this.renderPointLightShadow(E,d,J,N);this._shadowMapNumber[J.type]++}for(var F in this._shadowMapNumber)for(var H=this._shadowMapNumber[F],V=F+"_SHADOWMAP_COUNT",K=0;K<this._receivers.length;K++){var S=this._receivers[K],W=S.material;W.fragmentDefines[V]!==H&&(H>0?W.define("fragment",V,H):W.isDefined("fragment",V)&&W.undefine("fragment",V))}for(var K=0;K<this._receivers.length;K++){var S=this._receivers[K],W=S.material;G?W.define("fragment","SHADOW_CASCADE",G.shadowCascade):W.undefine("fragment","SHADOW_CASCADE")}var B=d.shadowUniforms;function X(at){return at.height}if(x.length>0){var Y=x.map(X);if(B.directionalLightShadowMaps={value:x,type:"tv"},B.directionalLightMatrices={value:L,type:"m4v"},B.directionalLightShadowMapSizes={value:Y,type:"1fv"},G){var nt=I.slice(),z=I.slice();nt.pop(),z.shift(),nt.reverse(),z.reverse(),L.reverse(),B.shadowCascadeClipsNear={value:nt,type:"1fv"},B.shadowCascadeClipsFar={value:z,type:"1fv"}}}if(g.length>0){var j=g.map(X),B=d.shadowUniforms;B.spotLightShadowMaps={value:g,type:"tv"},B.spotLightMatrices={value:D,type:"m4v"},B.spotLightShadowMapSizes={value:j,type:"1fv"}}N.length>0&&(B.pointLightShadowMaps={value:N,type:"tv"})},renderDirectionalLightShadow:function(){var E=new e.Z,d=new n.Z,f=new r.Z,u=new n.Z,v=new n.Z,c=new n.Z,g=new n.Z;return function(D,x,L,I,N,G,K){var J=this._getDepthMaterial(I),F={getMaterial:function(St){return St.shadowDepthMaterial||J},isMaterialChanged:b,getUniform:U,ifRender:function(St){return St.castShadow},sortCompare:o.Z.opaqueSortCompare};if(!x.viewBoundingBoxLastFrame.isFinite()){var H=x.getBoundingBox();x.viewBoundingBoxLastFrame.copy(H).applyTransform(L.viewMatrix)}var V=Math.min(-x.viewBoundingBoxLastFrame.min.z,L.far),S=Math.max(-x.viewBoundingBoxLastFrame.max.z,L.near),W=this._getDirectionalLightCamera(I,x,L),B=c.array;g.copy(W.projectionMatrix),C.Z.invert(v.array,W.worldTransform.array),C.Z.multiply(v.array,v.array,L.worldTransform.array),C.Z.multiply(B,g.array,v.array);for(var X=[],Y=L instanceof m.Z,nt=(L.near+L.far)/(L.near-L.far),z=2*L.near*L.far/(L.near-L.far),j=0;j<=I.shadowCascade;j++){var at=S*Math.pow(V/S,j/I.shadowCascade),ft=S+(V-S)*j/I.shadowCascade,pt=at*I.cascadeSplitLogFactor+ft*(1-I.cascadeSplitLogFactor);X.push(pt),N.push(-(-pt*nt+z)/-pt)}var rt=this._getTexture(I,I.shadowCascade);K.push(rt);var et=D.viewport,ut=D.gl;this._frameBuffer.attach(rt),this._frameBuffer.bind(D),ut.clear(ut.COLOR_BUFFER_BIT|ut.DEPTH_BUFFER_BIT);for(var j=0;j<I.shadowCascade;j++){var dt=X[j],ot=X[j+1];Y?C.Z.perspective(d.array,L.fov/180*Math.PI,L.aspect,dt,ot):C.Z.ortho(d.array,L.left,L.right,L.bottom,L.top,dt,ot),E.setFromProjection(d),E.getTransformedBoundingBox(f,v),f.applyProjection(g);var _t=f.min.array,lt=f.max.array;_t[0]=Math.max(_t[0],-1),_t[1]=Math.max(_t[1],-1),lt[0]=Math.min(lt[0],1),lt[1]=Math.min(lt[1],1),u.ortho(_t[0],lt[0],_t[1],lt[1],1,-1),W.projectionMatrix.multiplyLeft(u);var Mt=I.shadowResolution||512;D.setViewport((I.shadowCascade-j-1)*Mt,0,Mt,Mt,1);var Dt=x.updateRenderList(W);D.renderPass(Dt.opaque,W,F),this.softShadow===w.VSM&&this._gaussianFilter(D,rt,rt.width);var Et=new n.Z;Et.copy(W.viewMatrix).multiplyLeft(W.projectionMatrix),G.push(Et.array),W.projectionMatrix.copy(g)}this._frameBuffer.unbind(D),D.setViewport(et)}}(),renderSpotLightShadow:function(E,d,f,u,v){var c=this._getTexture(f),g=this._getSpotLightCamera(f),D=E.gl;this._frameBuffer.attach(c),this._frameBuffer.bind(E),D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT);var x=this._getDepthMaterial(f),L={getMaterial:function(G){return G.shadowDepthMaterial||x},isMaterialChanged:b,getUniform:U,ifRender:function(G){return G.castShadow},sortCompare:o.Z.opaqueSortCompare},I=d.updateRenderList(g);E.renderPass(I.opaque,g,L),this._frameBuffer.unbind(E),this.softShadow===w.VSM&&this._gaussianFilter(E,c,c.width);var N=new n.Z;N.copy(g.worldTransform).invert().multiplyLeft(g.projectionMatrix),v.push(c),u.push(N.array)},renderPointLightShadow:function(E,d,f,u){var v=this._getTexture(f),c=E.gl;u.push(v);var g=this._getDepthMaterial(f),D={getMaterial:function(S){return S.shadowDepthMaterial||g},getUniform:U,sortCompare:o.Z.opaqueSortCompare},x={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},L=new r.Z,I=f.getWorldPosition().array,N=new r.Z,G=f.range;N.min.setArray(I),N.max.setArray(I);var K=new t.Z(G,G,G);N.max.add(K),N.min.sub(K);var J={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};d.traverse(function(S){if(S.isRenderable()&&S.castShadow){var W=S.geometry;if(!W.boundingBox){for(var B=0;B<Z.length;B++)x[Z[B]].push(S);return}if(L.transformFrom(W.boundingBox,S.worldTransform),!L.intersectBoundingBox(N))return;L.updateVertices();for(var B=0;B<Z.length;B++)J[Z[B]]=!1;for(var B=0;B<8;B++){var X=L.vertices[B],Y=X[0]-I[0],nt=X[1]-I[1],z=X[2]-I[2],j=Math.abs(Y),at=Math.abs(nt),ft=Math.abs(z);j>at?j>ft?J[Y>0?"px":"nx"]=!0:J[z>0?"pz":"nz"]=!0:at>ft?J[nt>0?"py":"ny"]=!0:J[z>0?"pz":"nz"]=!0}for(var B=0;B<Z.length;B++)J[Z[B]]&&x[Z[B]].push(S)}});for(var F=0;F<6;F++){var H=Z[F],V=this._getPointLightCamera(f,H);this._frameBuffer.attach(v,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+F),this._frameBuffer.bind(E),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),E.renderPass(x[H],V,D)}this._frameBuffer.unbind(E)},_getDepthMaterial:function(E){var d=this._lightMaterials[E.__uid__],f=E.type==="POINT_LIGHT";if(!d){var u=f?"clay.sm.distance.":"clay.sm.depth.";d=new i.Z({precision:this.precision,shader:new h.Z(h.Z.source(u+"vertex"),h.Z.source(u+"fragment"))}),this._lightMaterials[E.__uid__]=d}return E.shadowSlopeScale!=null&&d.setUniform("slopeScale",E.shadowSlopeScale),E.shadowBias!=null&&d.setUniform("bias",E.shadowBias),this.softShadow===w.VSM?d.define("fragment","USE_VSM"):d.undefine("fragment","USE_VSM"),f&&(d.set("lightPosition",E.getWorldPosition().array),d.set("range",E.range)),d},_gaussianFilter:function(E,d,f){var u={width:f,height:f,type:l.Z.FLOAT},v=this._texturePool.get(u);this._frameBuffer.attach(v),this._frameBuffer.bind(E),this._gaussianPassH.setUniform("texture",d),this._gaussianPassH.setUniform("textureWidth",f),this._gaussianPassH.render(E),this._frameBuffer.attach(d),this._gaussianPassV.setUniform("texture",v),this._gaussianPassV.setUniform("textureHeight",f),this._gaussianPassV.render(E),this._frameBuffer.unbind(E),this._texturePool.put(v)},_getTexture:function(E,d){var f=E.__uid__,u=this._textures[f],v=E.shadowResolution||512;return d=d||1,u||(E.type==="POINT_LIGHT"?u=new M.Z:u=new _.Z,u.width=v*d,u.height=v,this.softShadow===w.VSM?(u.type=l.Z.FLOAT,u.anisotropic=4):(u.minFilter=s.Z.NEAREST,u.magFilter=s.Z.NEAREST,u.useMipmap=!1),this._textures[f]=u),u},_getPointLightCamera:function(E,d){this._lightCameras.point||(this._lightCameras.point={px:new m.Z,nx:new m.Z,py:new m.Z,ny:new m.Z,pz:new m.Z,nz:new m.Z});var f=this._lightCameras.point[d];switch(f.far=E.range,f.fov=90,f.position.set(0,0,0),d){case"px":f.lookAt(t.Z.POSITIVE_X,t.Z.NEGATIVE_Y);break;case"nx":f.lookAt(t.Z.NEGATIVE_X,t.Z.NEGATIVE_Y);break;case"py":f.lookAt(t.Z.POSITIVE_Y,t.Z.POSITIVE_Z);break;case"ny":f.lookAt(t.Z.NEGATIVE_Y,t.Z.NEGATIVE_Z);break;case"pz":f.lookAt(t.Z.POSITIVE_Z,t.Z.NEGATIVE_Y);break;case"nz":f.lookAt(t.Z.NEGATIVE_Z,t.Z.NEGATIVE_Y);break}return E.getWorldPosition(f.position),f.update(),f},_getDirectionalLightCamera:function(){var E=new n.Z,d=new r.Z,f=new r.Z;return function(u,v,c){this._lightCameras.directional||(this._lightCameras.directional=new T.Z);var g=this._lightCameras.directional;d.copy(v.viewBoundingBoxLastFrame),d.intersection(c.frustum.boundingBox),g.position.copy(d.min).add(d.max).scale(.5).transformMat4(c.worldTransform),g.rotation.copy(u.rotation),g.scale.copy(u.scale),g.updateWorldTransform(),n.Z.invert(E,g.worldTransform),n.Z.multiply(E,E,c.worldTransform),f.copy(d).applyTransform(E);var D=f.min.array,x=f.max.array;return g.position.set((D[0]+x[0])/2,(D[1]+x[1])/2,x[2]).transformMat4(g.worldTransform),g.near=0,g.far=-D[2]+x[2],isNaN(this.lightFrustumBias)?g.far*=4:g.far+=this.lightFrustumBias,g.left=D[0],g.right=x[0],g.top=x[1],g.bottom=D[1],g.update(!0),g}}(),_getSpotLightCamera:function(E){this._lightCameras.spot||(this._lightCameras.spot=new m.Z);var d=this._lightCameras.spot;return d.fov=E.penumbraAngle*2,d.far=E.range,d.worldTransform.copy(E.worldTransform),d.updateProjectionMatrix(),C.Z.invert(d.viewMatrix.array,d.worldTransform.array),d},dispose:function(E){var d=E.gl||E;this._frameBuffer&&this._frameBuffer.dispose(d);for(var f in this._textures)this._textures[f].dispose(d);this._texturePool.clear(E.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var u=0;u<this._receivers.length;u++){var v=this._receivers[u];if(v.material){var c=v.material;c.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),c.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),c.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),c.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});w.VSM=1,w.PCF=2;var A=w},34725:function(ht,q){"use strict";q.Z=`@export clay.compositor.blend
#define SHADER_NAME blend
#ifdef TEXTURE1_ENABLED
uniform sampler2D texture1;
uniform float weight1 : 1.0;
#endif
#ifdef TEXTURE2_ENABLED
uniform sampler2D texture2;
uniform float weight2 : 1.0;
#endif
#ifdef TEXTURE3_ENABLED
uniform sampler2D texture3;
uniform float weight3 : 1.0;
#endif
#ifdef TEXTURE4_ENABLED
uniform sampler2D texture4;
uniform float weight4 : 1.0;
#endif
#ifdef TEXTURE5_ENABLED
uniform sampler2D texture5;
uniform float weight5 : 1.0;
#endif
#ifdef TEXTURE6_ENABLED
uniform sampler2D texture6;
uniform float weight6 : 1.0;
#endif
varying vec2 v_Texcoord;
@import clay.util.rgbm
void main()
{
 vec4 tex = vec4(0.0);
#ifdef TEXTURE1_ENABLED
 tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;
#endif
#ifdef TEXTURE2_ENABLED
 tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;
#endif
#ifdef TEXTURE3_ENABLED
 tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;
#endif
#ifdef TEXTURE4_ENABLED
 tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;
#endif
#ifdef TEXTURE5_ENABLED
 tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;
#endif
#ifdef TEXTURE6_ENABLED
 tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;
#endif
 gl_FragColor = encodeHDR(tex);
}
@end`},71364:function(ht,q){"use strict";q.Z=`@export clay.compositor.kernel.gaussian_9
float gaussianKernel[9];
gaussianKernel[0] = 0.07;
gaussianKernel[1] = 0.09;
gaussianKernel[2] = 0.12;
gaussianKernel[3] = 0.14;
gaussianKernel[4] = 0.16;
gaussianKernel[5] = 0.14;
gaussianKernel[6] = 0.12;
gaussianKernel[7] = 0.09;
gaussianKernel[8] = 0.07;
@end
@export clay.compositor.kernel.gaussian_13
float gaussianKernel[13];
gaussianKernel[0] = 0.02;
gaussianKernel[1] = 0.03;
gaussianKernel[2] = 0.06;
gaussianKernel[3] = 0.08;
gaussianKernel[4] = 0.11;
gaussianKernel[5] = 0.13;
gaussianKernel[6] = 0.14;
gaussianKernel[7] = 0.13;
gaussianKernel[8] = 0.11;
gaussianKernel[9] = 0.08;
gaussianKernel[10] = 0.06;
gaussianKernel[11] = 0.03;
gaussianKernel[12] = 0.02;
@end
@export clay.compositor.gaussian_blur
#define SHADER_NAME gaussian_blur
uniform sampler2D texture;varying vec2 v_Texcoord;
uniform float blurSize : 2.0;
uniform vec2 textureSize : [512.0, 512.0];
uniform float blurDir : 0.0;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main (void)
{
 @import clay.compositor.kernel.gaussian_9
 vec2 off = blurSize / textureSize;
 off *= vec2(1.0 - blurDir, blurDir);
 vec4 sum = vec4(0.0);
 float weightAll = 0.0;
 for (int i = 0; i < 9; i++) {
 float w = gaussianKernel[i];
 vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));
 sum += texel * w;
 weightAll += w;
 }
 gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));
}
@end
`},61430:function(ht,q){"use strict";q.Z=`@export clay.compositor.bright
uniform sampler2D texture;
uniform float threshold : 1;
uniform float scale : 1.0;
uniform vec2 textureSize: [512, 512];
varying vec2 v_Texcoord;
const vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
vec4 median(vec4 a, vec4 b, vec4 c)
{
 return a + b + c - min(min(a, b), c) - max(max(a, b), c);
}
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
#ifdef ANTI_FLICKER
 vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);
 vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));
 vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));
 vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));
 vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));
 texel = median(median(texel, s1, s2), s3, s4);
#endif
 float lum = dot(texel.rgb , lumWeight);
 vec4 color;
 if (lum > threshold && texel.a > 0.0)
 {
 color = vec4(texel.rgb * scale, texel.a * scale);
 }
 else
 {
 color = vec4(0.0);
 }
 gl_FragColor = encodeHDR(color);
}
@end
`},12045:function(ht,q){"use strict";q.Z=`@export clay.compositor.downsample
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
varying vec2 v_Texcoord;
@import clay.util.rgbm
float brightness(vec3 c)
{
 return max(max(c.r, c.g), c.b);
}
@import clay.util.clamp_sample
void main()
{
 vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;
#ifdef ANTI_FLICKER
 vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;
 vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;
 vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;
 vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;
 float s1w = 1.0 / (brightness(s1) + 1.0);
 float s2w = 1.0 / (brightness(s2) + 1.0);
 float s3w = 1.0 / (brightness(s3) + 1.0);
 float s4w = 1.0 / (brightness(s4) + 1.0);
 float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);
 vec4 color = vec4(
 (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,
 1.0
 );
#else
 vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 color *= 0.25;
#endif
 gl_FragColor = encodeHDR(color);
}
@end`},14289:function(ht,q){"use strict";q.Z=`@export clay.compositor.fxaa
uniform sampler2D texture;
uniform vec4 viewport : VIEWPORT;
varying vec2 v_Texcoord;
#define FXAA_REDUCE_MIN (1.0/128.0)
#define FXAA_REDUCE_MUL (1.0/8.0)
#define FXAA_SPAN_MAX 8.0
@import clay.util.rgbm
void main()
{
 vec2 resolution = 1.0 / viewport.zw;
 vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;
 vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );
 vec3 rgbM = rgbaM.xyz;
 float opacity = rgbaM.w;
 vec3 luma = vec3( 0.299, 0.587, 0.114 );
 float lumaNW = dot( rgbNW, luma );
 float lumaNE = dot( rgbNE, luma );
 float lumaSW = dot( rgbSW, luma );
 float lumaSE = dot( rgbSE, luma );
 float lumaM = dot( rgbM, luma );
 float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );
 float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );
 vec2 dir;
 dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
 dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));
 float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );
 float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );
 dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),
 max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
 dir * rcpDirMin)) * resolution;
 vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA *= 0.5;
 vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;
 rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;
 rgbB *= 0.25;
 rgbB += rgbA * 0.5;
 float lumaB = dot( rgbB, luma );
 if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )
 {
 gl_FragColor = vec4( rgbA, opacity );
 }
 else {
 gl_FragColor = vec4( rgbB, opacity );
 }
}
@end`},53746:function(ht,q){"use strict";q.Z=`@export clay.compositor.hdr.composite
#define TONEMAPPING
uniform sampler2D texture;
#ifdef BLOOM_ENABLED
uniform sampler2D bloom;
#endif
#ifdef LENSFLARE_ENABLED
uniform sampler2D lensflare;
uniform sampler2D lensdirt;
#endif
#ifdef LUM_ENABLED
uniform sampler2D lum;
#endif
#ifdef LUT_ENABLED
uniform sampler2D lut;
#endif
#ifdef COLOR_CORRECTION
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float saturation : 1.0;
#endif
#ifdef VIGNETTE
uniform float vignetteDarkness: 1.0;
uniform float vignetteOffset: 1.0;
#endif
uniform float exposure : 1.0;
uniform float bloomIntensity : 0.25;
uniform float lensflareIntensity : 1;
varying vec2 v_Texcoord;
@import clay.util.srgb
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
float eyeAdaption(float fLum)
{
 return mix(0.2, fLum, 0.5);
}
#ifdef LUT_ENABLED
vec3 lutTransform(vec3 color) {
 float blueColor = color.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec4 newColor1 = texture2D(lut, texPos1);
 vec4 newColor2 = texture2D(lut, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 return newColor.rgb;
}
#endif
@import clay.util.rgbm
void main()
{
 vec4 texel = vec4(0.0);
 vec4 originalTexel = vec4(0.0);
#ifdef TEXTURE_ENABLED
 texel = decodeHDR(texture2D(texture, v_Texcoord));
 originalTexel = texel;
#endif
#ifdef BLOOM_ENABLED
 vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));
 texel.rgb += bloomTexel.rgb * bloomIntensity;
 texel.a += bloomTexel.a * bloomIntensity;
#endif
#ifdef LENSFLARE_ENABLED
 texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;
#endif
 texel.a = min(texel.a, 1.0);
#ifdef LUM_ENABLED
 float fLum = texture2D(lum, vec2(0.5, 0.5)).r;
 float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));
 float exposureBias = adaptedLumDest * exposure;
#else
 float exposureBias = exposure;
#endif
#ifdef TONEMAPPING
 texel.rgb *= exposureBias;
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
 texel = linearTosRGB(texel);
#ifdef LUT_ENABLED
 texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));
#endif
#ifdef COLOR_CORRECTION
 texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);
 texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));
 texel.rgb = mix(vec3(lum), texel.rgb, saturation);
#endif
#ifdef VIGNETTE
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);
 texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));
#endif
 gl_FragColor = encodeHDR(texel);
#ifdef DEBUG
 #if DEBUG == 1
 gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));
 #elif DEBUG == 2
 gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);
 #elif DEBUG == 3
 gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));
 #endif
#endif
 if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {
 gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));
 }
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`},69663:function(ht,q){"use strict";q.Z=`
@export clay.compositor.lut
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform sampler2D lookup;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 float blueColor = tex.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec4 newColor1 = texture2D(lookup, texPos1);
 vec4 newColor2 = texture2D(lookup, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 gl_FragColor = vec4(newColor.rgb, tex.w);
}
@end`},71032:function(ht,q){"use strict";q.Z=`@export clay.compositor.output
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = tex.rgb;
#ifdef OUTPUT_ALPHA
 gl_FragColor.a = tex.a;
#else
 gl_FragColor.a = 1.0;
#endif
 gl_FragColor = encodeHDR(gl_FragColor);
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`},85747:function(ht,q){"use strict";q.Z=`
@export clay.compositor.upsample
#define HIGH_QUALITY
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
uniform float sampleScale: 0.5;
varying vec2 v_Texcoord;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main()
{
#ifdef HIGH_QUALITY
 vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 gl_FragColor = encodeHDR(s / 16.0);
#else
 vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 gl_FragColor = encodeHDR(s / 4.0);
#endif
}
@end`},19671:function(ht,q){"use strict";q.Z=`@export clay.prez.vertex
uniform mat4 WVP : WORLDVIEWPROJECTION;
attribute vec3 pos : POSITION;
attribute vec2 uv : TEXCOORD_0;
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec2 v_Texcoord;
void main()
{
 vec4 P = vec4(pos, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = WVP * P;
 v_Texcoord = uv * uvRepeat + uvOffset;
}
@end
@export clay.prez.fragment
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
varying vec2 v_Texcoord;
void main()
{
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
 gl_FragColor = vec4(0.0,0.0,0.0,1.0);
}
@end`},73142:function(ht,q){"use strict";q.Z=`
@export clay.util.rand
highp float rand(vec2 uv) {
 const highp float a = 12.9898, b = 78.233, c = 43758.5453;
 highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);
 return fract(sin(sn) * c);
}
@end
@export clay.util.calculate_attenuation
uniform float attenuationFactor : 5.0;
float lightAttenuation(float dist, float range)
{
 float attenuation = 1.0;
 attenuation = dist*dist/(range*range+1.0);
 float att_s = attenuationFactor;
 attenuation = 1.0/(attenuation*att_s+1.0);
 att_s = 1.0/(att_s+1.0);
 attenuation = attenuation - att_s;
 attenuation /= 1.0 - att_s;
 return clamp(attenuation, 0.0, 1.0);
}
@end
@export clay.util.edge_factor
#ifdef SUPPORT_STANDARD_DERIVATIVES
float edgeFactor(float width)
{
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#else
float edgeFactor(float width)
{
 return 1.0;
}
#endif
@end
@export clay.util.encode_float
vec4 encodeFloat(const in float depth)
{
 const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
 const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
 vec4 res = fract(depth * bitShifts);
 res -= res.xxyz * bit_mask;
 return res;
}
@end
@export clay.util.decode_float
float decodeFloat(const in vec4 color)
{
 const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);
 return dot(color, bitShifts);
}
@end
@export clay.util.float
@import clay.util.encode_float
@import clay.util.decode_float
@end
@export clay.util.rgbm_decode
vec3 RGBMDecode(vec4 rgbm, float range) {
 return range * rgbm.rgb * rgbm.a;
}
@end
@export clay.util.rgbm_encode
vec4 RGBMEncode(vec3 color, float range) {
 if (dot(color, color) == 0.0) {
 return vec4(0.0);
 }
 vec4 rgbm;
 color /= range;
 rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);
 rgbm.a = ceil(rgbm.a * 255.0) / 255.0;
 rgbm.rgb = color / rgbm.a;
 return rgbm;
}
@end
@export clay.util.rgbm
@import clay.util.rgbm_decode
@import clay.util.rgbm_encode
vec4 decodeHDR(vec4 color)
{
#if defined(RGBM_DECODE) || defined(RGBM)
 return vec4(RGBMDecode(color, 8.12), 1.0);
#else
 return color;
#endif
}
vec4 encodeHDR(vec4 color)
{
#if defined(RGBM_ENCODE) || defined(RGBM)
 return RGBMEncode(color.xyz, 8.12);
#else
 return color;
#endif
}
@end
@export clay.util.srgb
vec4 sRGBToLinear(in vec4 value) {
 return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);
}
vec4 linearTosRGB(in vec4 value) {
 return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);
}
@end
@export clay.chunk.skinning_header
#ifdef SKINNING
attribute vec3 weight : WEIGHT;
attribute vec4 joint : JOINT;
#ifdef USE_SKIN_MATRICES_TEXTURE
uniform sampler2D skinMatricesTexture : ignore;
uniform float skinMatricesTextureSize: ignore;
mat4 getSkinMatrix(sampler2D tex, float idx) {
 float j = idx * 4.0;
 float x = mod(j, skinMatricesTextureSize);
 float y = floor(j / skinMatricesTextureSize) + 0.5;
 vec2 scale = vec2(skinMatricesTextureSize);
 return mat4(
 texture2D(tex, vec2(x + 0.5, y) / scale),
 texture2D(tex, vec2(x + 1.5, y) / scale),
 texture2D(tex, vec2(x + 2.5, y) / scale),
 texture2D(tex, vec2(x + 3.5, y) / scale)
 );
}
mat4 getSkinMatrix(float idx) {
 return getSkinMatrix(skinMatricesTexture, idx);
}
#else
uniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;
mat4 getSkinMatrix(float idx) {
 return skinMatrix[int(idx)];
}
#endif
#endif
@end
@export clay.chunk.skin_matrix
mat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;
if (weight.y > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.y) * weight.y;
}
if (weight.z > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.z) * weight.z;
}
float weightW = 1.0-weight.x-weight.y-weight.z;
if (weightW > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.w) * weightW;
}
@end
@export clay.chunk.instancing_header
#ifdef INSTANCING
attribute vec4 instanceMat1;
attribute vec4 instanceMat2;
attribute vec4 instanceMat3;
#endif
@end
@export clay.chunk.instancing_matrix
mat4 instanceMat = mat4(
 vec4(instanceMat1.xyz, 0.0),
 vec4(instanceMat2.xyz, 0.0),
 vec4(instanceMat3.xyz, 0.0),
 vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)
);
@end
@export clay.util.parallax_correct
vec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {
 vec3 first = (boxMax - pos) / dir;
 vec3 second = (boxMin - pos) / dir;
 vec3 further = max(first, second);
 float dist = min(further.x, min(further.y, further.z));
 vec3 fixedPos = pos + dir * dist;
 vec3 boxCenter = (boxMax + boxMin) * 0.5;
 return normalize(fixedPos - boxCenter);
}
@end
@export clay.util.clamp_sample
vec4 clampSample(const in sampler2D texture, const in vec2 coord)
{
#ifdef STEREO
 float eye = step(0.5, coord.x) * 0.5;
 vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));
#else
 vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));
#endif
 return texture2D(texture, coordClamped);
}
@end
@export clay.util.ACES
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
@end`},74208:function(ht,q,R){"use strict";R.d(q,{Z:function(){return P}});var p=R(75142),s=R(5847),t=R(88693),r=R(76728),e=R(80785),n=R(84708),o=R(60217),h=R(43484),i=R(50908),a=R(56076),l=R(82544),_=R(39789),M=`#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform sampler2D normalDistribution;
uniform vec2 viewportSize : [512, 256];
const vec3 N = vec3(0.0, 0.0, 1.0);
const float fSampleNumber = float(SAMPLE_NUMBER);
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
float G_Smith(float roughness, float NoV, float NoL) {
 float k = roughness * roughness / 2.0;
 float G1V = NoV / (NoV * (1.0 - k) + k);
 float G1L = NoL / (NoL * (1.0 - k) + k);
 return G1L * G1V;
}
void main() {
 vec2 uv = gl_FragCoord.xy / viewportSize;
 float NoV = uv.x;
 float roughness = uv.y;
 vec3 V;
 V.x = sqrt(1.0 - NoV * NoV);
 V.y = 0.0;
 V.z = NoV;
 float A = 0.0;
 float B = 0.0;
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(L.z, 0.0, 1.0);
 float NoH = clamp(H.z, 0.0, 1.0);
 float VoH = clamp(dot(V, H), 0.0, 1.0);
 if (NoL > 0.0) {
 float G = G_Smith(roughness, NoV, NoL);
 float G_Vis = G * VoH / (NoH * NoV);
 float Fc = pow(1.0 - VoH, 5.0);
 A += (1.0 - Fc) * G_Vis;
 B += Fc * G_Vis;
 }
 }
 gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);
}
`,m=`#define SHADER_NAME prefilter
#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform mat4 viewInverse : VIEWINVERSE;
uniform samplerCube environmentMap;
uniform sampler2D normalDistribution;
uniform float roughness : 0.5;
varying vec2 v_Texcoord;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
void main() {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
 vec3 N = V;
 vec3 prefilteredColor = vec3(0.0);
 float totalWeight = 0.0;
 float fMaxSampleNumber = float(SAMPLE_NUMBER);
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(dot(N, L), 0.0, 1.0);
 if (NoL > 0.0) {
 prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;
 totalWeight += NoL;
 }
 }
 gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));
}
`,T={},y=["px","nx","py","ny","pz","nz"];T.prefilterEnvironmentMap=function(C,O,Z,U,b){(!b||!U)&&(U=T.generateNormalDistribution(),b=T.integrateBRDF(C,U)),Z=Z||{};var w=Z.width||64,A=Z.height||64,E=Z.type||O.type,d=new s.Z({width:w,height:A,type:E,flipY:!1,mipmaps:[]});d.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var f=Math.min(w,A),u=Math.log(f)/Math.log(2)+1,v=new n.Z({shader:new o.Z({vertex:o.Z.source("clay.skybox.vertex"),fragment:m})});v.set("normalDistribution",U),Z.encodeRGBM&&v.define("fragment","RGBM_ENCODE"),Z.decodeRGBM&&v.define("fragment","RGBM_DECODE");var c=new i.Z,g;if(O.textureType==="texture2D"){var D=new s.Z({width:w,height:A,type:E===t.Z.FLOAT?t.Z.HALF_FLOAT:E});_.Z.panoramaToCubeMap(C,O,D,{encodeRGBM:Z.decodeRGBM}),O=D}g=new h.Z({scene:c,material:v}),g.material.set("environmentMap",O);var x=new a.Z({texture:d});Z.encodeRGBM&&(E=d.type=t.Z.UNSIGNED_BYTE);for(var L=new p.Z({width:w,height:A,type:E}),I=new r.Z({depthBuffer:!1}),N=l.Z[E===t.Z.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],G=0;G<u;G++){d.mipmaps[G]={pixels:{}},g.material.set("roughness",G/(u-1));for(var K=L.width,J=2*Math.atan(K/(K-.5))/Math.PI*180,F=0;F<y.length;F++){var H=new N(L.width*L.height*4);I.attach(L),I.bind(C);var V=x.getCamera(y[F]);V.fov=J,C.render(c,V),C.gl.readPixels(0,0,L.width,L.height,t.Z.RGBA,E,H),I.unbind(C),d.mipmaps[G].pixels[y[F]]=H}L.width/=2,L.height/=2,L.dirty()}return I.dispose(C),L.dispose(C),g.dispose(C),U.dispose(C),{environmentMap:d,brdfLookup:b,normalDistribution:U,maxMipmapLevel:u}},T.integrateBRDF=function(C,O){O=O||T.generateNormalDistribution();var Z=new r.Z({depthBuffer:!1}),U=new e.Z({fragment:M}),b=new p.Z({width:512,height:256,type:t.Z.HALF_FLOAT,wrapS:t.Z.CLAMP_TO_EDGE,wrapT:t.Z.CLAMP_TO_EDGE,minFilter:t.Z.NEAREST,magFilter:t.Z.NEAREST,useMipmap:!1});return U.setUniform("normalDistribution",O),U.setUniform("viewportSize",[512,256]),U.attachOutput(b),U.render(C,Z),Z.dispose(C),b},T.generateNormalDistribution=function(Z,U){for(var Z=Z||256,U=U||1024,b=new p.Z({width:Z,height:U,type:t.Z.FLOAT,minFilter:t.Z.NEAREST,magFilter:t.Z.NEAREST,wrapS:t.Z.CLAMP_TO_EDGE,wrapT:t.Z.CLAMP_TO_EDGE,useMipmap:!1}),w=new Float32Array(U*Z*4),A=[],E=0;E<Z;E++){for(var d=E/Z,f=d*d,u=0;u<U;u++){var v=(u<<16|u>>>16)>>>0;v=((v&1431655765)<<1|(v&2863311530)>>>1)>>>0,v=((v&858993459)<<2|(v&3435973836)>>>2)>>>0,v=((v&252645135)<<4|(v&4042322160)>>>4)>>>0,v=(((v&16711935)<<8|(v&4278255360)>>>8)>>>0)/4294967296;var c=Math.sqrt((1-v)/(1+(f*f-1)*v));A[u]=c}for(var u=0;u<U;u++){var g=(u*Z+E)*4,c=A[u],D=Math.sqrt(1-c*c),x=u/U,L=2*Math.PI*x;w[g]=D*Math.cos(L),w[g+1]=c,w[g+2]=D*Math.sin(L),w[g+3]=1}}return b.pixels=w,b};var P=T},34052:function(ht,q,R){"use strict";var p=R(88693),s=R(76728),t=R(75142),r=R(82544),e=R(43484),n=R(74738),o=R(56076),h=R(50908),i=R(3023),a={},l=["px","nx","py","ny","pz","nz"];function _(y,P){var C=new Texture2D({width:9,height:1,type:Texture.FLOAT}),O=new Pass({fragment:projectEnvMapShaderCode});O.material.define("fragment","TEXTURE_SIZE",P.width),O.setUniform("environmentMap",P);var Z=new FrameBuffer;Z.attach(C),O.render(y,Z),Z.bind(y);var U=new vendor.Float32Array(9*4);y.gl.readPixels(0,0,9,1,Texture.RGBA,Texture.FLOAT,U);for(var b=new vendor.Float32Array(9*3),w=0;w<9;w++)b[w*3]=U[w*4],b[w*3+1]=U[w*4+1],b[w*3+2]=U[w*4+2];return Z.unbind(y),Z.dispose(y),O.dispose(y),b}function M(y,P){var C=y[0],O=y[1],Z=y[2];return P===0?1:P===1?C:P===2?O:P===3?Z:P===4?C*Z:P===5?O*Z:P===6?C*O:P===7?3*Z*Z-1:C*C-O*O}var m={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function T(y,P,C,O){for(var Z=new r.Z.Float32Array(27),U=i.Z.create(),b=i.Z.create(),w=i.Z.create(),A=0;A<9;A++){for(var E=i.Z.create(),d=0;d<l.length;d++){for(var f=P[l[d]],u=i.Z.create(),v=0,c=0,g=m[l[d]],D=0;D<O;D++)for(var x=0;x<C;x++){U[0]=x/(C-1)*2-1,U[1]=D/(O-1)*2-1,U[2]=-1,i.Z.normalize(U,U),w[0]=U[g[0]]*g[3],w[1]=U[g[1]]*g[4],w[2]=U[g[2]]*g[5],b[0]=f[c++]/255,b[1]=f[c++]/255,b[2]=f[c++]/255;var L=f[c++]/255*8.12;b[0]*=L,b[1]*=L,b[2]*=L,i.Z.scaleAndAdd(u,u,b,M(w,A)*-U[2]),v+=-U[2]}i.Z.scaleAndAdd(E,E,u,1/v)}Z[A*3]=E[0]/6,Z[A*3+1]=E[1]/6,Z[A*3+2]=E[2]/6}return Z}a.projectEnvironmentMap=function(y,P,C){C=C||{},C.lod=C.lod||0;var O,Z=new h.Z,U=64;P.textureType==="texture2D"?O=new n.Z({scene:Z,environmentMap:P}):(U=P.image&&P.image.px?P.image.px.width:P.width,O=new e.Z({scene:Z,environmentMap:P}));var b=Math.ceil(U/Math.pow(2,C.lod)),w=Math.ceil(U/Math.pow(2,C.lod)),A=new t.Z({width:b,height:w}),E=new s.Z;O.material.define("fragment","RGBM_ENCODE"),C.decodeRGBM&&O.material.define("fragment","RGBM_DECODE"),O.material.set("lod",C.lod);for(var d=new o.Z({texture:A}),f={},u=0;u<l.length;u++){f[l[u]]=new Uint8Array(b*w*4);var v=d.getCamera(l[u]);v.fov=90,E.attach(A),E.bind(y),y.render(Z,v),y.gl.readPixels(0,0,b,w,p.Z.RGBA,p.Z.UNSIGNED_BYTE,f[l[u]]),E.unbind(y)}return O.dispose(y),E.dispose(y),A.dispose(y),T(y,f,b,w)},q.Z=a},39789:function(ht,q,R){"use strict";R.d(q,{Z:function(){return It}});var p=R(75142),s=R(5847),t=R(82544),r=R(56076),e=R(74738),n=R(50908),o=R(88693),h=542327876,i=1,a=2,l=4,_=8,M=4096,m=131072,T=524288,y=8388608,P=8,C=4194304,O=4096,Z=512,U=1024,b=2048,w=4096,A=8192,E=16384,d=32768,f=2097152,u=1,v=2,c=4,g=64,D=512,x=131072;function L(mt){return mt.charCodeAt(0)+(mt.charCodeAt(1)<<8)+(mt.charCodeAt(2)<<16)+(mt.charCodeAt(3)<<24)}function I(mt){return String.fromCharCode(mt&255,mt>>8&255,mt>>16&255,mt>>24&255)}var N=31,G=L("DXT1"),K=L("DXT3"),J=L("DXT5"),F=0,H=1,V=2,S=3,W=4,B=7,X=20,Y=21,nt=27,z=28,j=29,at=30,ft={parse:function(mt,xt){var Rt=new Int32Array(mt,0,N);if(Rt[F]!==h||!Rt(X)&c)return null;var k=Rt(Y),tt=Rt[W],gt=Rt[S],Pt=Rt[z]&Z,Q=Rt[V]&m,$,it;switch(k){case G:$=8,it=o.Z.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case K:$=16,it=o.Z.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case J:$=16,it=o.Z.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var ct=Rt[H]+4,Ct=Pt?6:1,Zt=1;Q&&(Zt=Math.max(1,Rt[B]));for(var Lt=[],bt=0;bt<Ct;bt++){var Ft=tt,zt=gt;Lt[bt]=new p.Z({width:Ft,height:zt,format:it});for(var Ht=[],jt=0;jt<Zt;jt++){var kt=Math.max(4,Ft)/4*Math.max(4,zt)/4*$,Qt=new Uint8Array(mt,ct,kt);ct+=kt,Ft*=.5,zt*=.5,Ht[jt]=Qt}Lt[bt].pixels=Ht[0],Q&&(Lt[bt].mipmaps=Ht)}if(xt)xt.width=Lt[0].width,xt.height=Lt[0].height,xt.format=Lt[0].format,xt.pixels=Lt[0].pixels,xt.mipmaps=Lt[0].mipmaps;else return Lt[0]}},pt=ft,rt=String.fromCharCode,et=8,ut=32767;function dt(mt,xt,Rt,k){if(mt[3]>0){var tt=Math.pow(2,mt[3]-128-8+k);xt[Rt+0]=mt[0]*tt,xt[Rt+1]=mt[1]*tt,xt[Rt+2]=mt[2]*tt}else xt[Rt+0]=0,xt[Rt+1]=0,xt[Rt+2]=0;return xt[Rt+3]=1,xt}function ot(mt,xt,Rt){for(var k="",tt=xt;tt<Rt;tt++)k+=rt(mt[tt]);return k}function _t(mt,xt){xt[0]=mt[0],xt[1]=mt[1],xt[2]=mt[2],xt[3]=mt[3]}function lt(mt,xt,Rt,k){for(var tt=0,gt=0,Pt=k;Pt>0;)if(mt[gt][0]=xt[Rt++],mt[gt][1]=xt[Rt++],mt[gt][2]=xt[Rt++],mt[gt][3]=xt[Rt++],mt[gt][0]===1&&mt[gt][1]===1&&mt[gt][2]===1){for(var Q=mt[gt][3]<<tt>>>0;Q>0;Q--)_t(mt[gt-1],mt[gt]),gt++,Pt--;tt+=8}else gt++,Pt--,tt=0;return Rt}function Mt(mt,xt,Rt,k){if(k<et|k>ut)return lt(mt,xt,Rt,k);var tt=xt[Rt++];if(tt!=2)return lt(mt,xt,Rt-1,k);if(mt[0][1]=xt[Rt++],mt[0][2]=xt[Rt++],tt=xt[Rt++],(mt[0][2]<<8>>>0|tt)>>>0!==k)return null;for(var tt=0;tt<4;tt++)for(var gt=0;gt<k;){var Pt=xt[Rt++];if(Pt>128){Pt=(Pt&127)>>>0;for(var Q=xt[Rt++];Pt--;)mt[gt++][tt]=Q}else for(;Pt--;)mt[gt++][tt]=xt[Rt++]}return Rt}var Dt={parseRGBE:function(mt,xt,Rt){Rt==null&&(Rt=0);var k=new Uint8Array(mt),tt=k.length;if(ot(k,0,2)==="#?"){for(var gt=2;gt<tt&&!(rt(k[gt])===`
`&&rt(k[gt+1])===`
`);gt++);if(!(gt>=tt)){gt+=2;for(var Pt="";gt<tt;gt++){var Q=rt(k[gt]);if(Q===`
`)break;Pt+=Q}var $=Pt.split(" "),it=parseInt($[1]),ct=parseInt($[3]);if(!(!ct||!it)){for(var Ct=gt+1,Zt=[],Lt=0;Lt<ct;Lt++){Zt[Lt]=[];for(var bt=0;bt<4;bt++)Zt[Lt][bt]=0}for(var Ft=new Float32Array(ct*it*4),zt=0,Ht=0;Ht<it;Ht++){var Ct=Mt(Zt,k,Ct,ct);if(!Ct)return null;for(var Lt=0;Lt<ct;Lt++)dt(Zt[Lt],Ft,zt,Rt),zt+=4}return xt||(xt=new p.Z),xt.width=ct,xt.height=it,xt.pixels=Ft,xt.type=o.Z.FLOAT,xt}}}},parseRGBEFromPNG:function(mt){}},Et=Dt,St={loadTexture:function(mt,xt,Rt,k){var tt;if(typeof xt=="function"?(Rt=xt,k=Rt,xt={}):xt=xt||{},typeof mt=="string"){if(mt.match(/.hdr$/)||xt.fileType==="hdr")return tt=new p.Z({width:0,height:0,sRGB:!1}),St._fetchTexture(mt,function(gt){Et.parseRGBE(gt,tt,xt.exposure),tt.dirty(),Rt&&Rt(tt)},k),tt;mt.match(/.dds$/)||xt.fileType==="dds"?(tt=new p.Z({width:0,height:0}),St._fetchTexture(mt,function(gt){pt.parse(gt,tt),tt.dirty(),Rt&&Rt(tt)},k)):(tt=new p.Z,tt.load(mt),tt.success(Rt),tt.error(k))}else typeof mt=="object"&&typeof mt.px!="undefined"&&(tt=new s.Z,tt.load(mt),tt.success(Rt),tt.error(k));return tt},loadPanorama:function(mt,xt,Rt,k,tt,gt){var Pt=this;typeof k=="function"?(tt=k,gt=tt,k={}):k=k||{},St.loadTexture(xt,k,function(Q){Q.flipY=k.flipY||!1,Pt.panoramaToCubeMap(mt,Q,Rt,k),Q.dispose(mt),tt&&tt(Rt)},gt)},panoramaToCubeMap:function(mt,xt,Rt,k){var tt=new r.Z,gt=new e.Z({scene:new n.Z});return gt.setEnvironmentMap(xt),k=k||{},k.encodeRGBM&&gt.material.define("fragment","RGBM_ENCODE"),Rt.sRGB=xt.sRGB,tt.texture=Rt,tt.render(mt,gt.scene),tt.texture=null,tt.dispose(mt),Rt},heightToNormal:function(mt,xt){var Rt=document.createElement("canvas"),k=Rt.width=mt.width,tt=Rt.height=mt.height,gt=Rt.getContext("2d");gt.drawImage(mt,0,0,k,tt),xt=xt||!1;for(var Pt=gt.getImageData(0,0,k,tt),Q=gt.createImageData(k,tt),$=0;$<Pt.data.length;$+=4){if(xt){var it=Pt.data[$],ct=Pt.data[$+1],Ct=Pt.data[$+2],Zt=Math.abs(it-ct)+Math.abs(ct-Ct);if(Zt>20)return console.warn("Given image is not a height map"),mt}var Lt,bt,Ft,zt;$%(k*4)===0?(Lt=Pt.data[$],Ft=Pt.data[$+4]):$%(k*4)===(k-1)*4?(Lt=Pt.data[$-4],Ft=Pt.data[$]):(Lt=Pt.data[$-4],Ft=Pt.data[$+4]),$<k*4?(bt=Pt.data[$],zt=Pt.data[$+k*4]):$>k*(tt-1)*4?(bt=Pt.data[$-k*4],zt=Pt.data[$]):(bt=Pt.data[$-k*4],zt=Pt.data[$+k*4]),Q.data[$]=Lt-Ft+127,Q.data[$+1]=bt-zt+127,Q.data[$+2]=255,Q.data[$+3]=255}return gt.putImageData(Q,0,0),Rt},isHeightImage:function(mt,xt,Rt){if(!mt||!mt.width||!mt.height)return!1;var k=document.createElement("canvas"),tt=k.getContext("2d"),gt=xt||32;Rt=Rt||20,k.width=k.height=gt,tt.drawImage(mt,0,0,gt,gt);for(var Pt=tt.getImageData(0,0,gt,gt),Q=0;Q<Pt.data.length;Q+=4){var $=Pt.data[Q],it=Pt.data[Q+1],ct=Pt.data[Q+2],Ct=Math.abs($-it)+Math.abs(it-ct);if(Ct>Rt)return!1}return!0},_fetchTexture:function(mt,xt,Rt){t.Z.request.get({url:mt,responseType:"arraybuffer",onload:xt,onerror:Rt})},createChessboard:function(mt,xt,Rt,k){mt=mt||512,xt=xt||64,Rt=Rt||"black",k=k||"white";var tt=Math.ceil(mt/xt),gt=document.createElement("canvas");gt.width=mt,gt.height=mt;var Pt=gt.getContext("2d");Pt.fillStyle=k,Pt.fillRect(0,0,mt,mt),Pt.fillStyle=Rt;for(var Q=0;Q<tt;Q++)for(var $=0;$<tt;$++){var it=$%2?Q%2:Q%2-1;it&&Pt.fillRect(Q*xt,$*xt,xt,xt)}var ct=new p.Z({image:gt,anisotropic:8});return ct},createBlank:function(mt){var xt=document.createElement("canvas");xt.width=1,xt.height=1;var Rt=xt.getContext("2d");Rt.fillStyle=mt,Rt.fillRect(0,0,1,1);var k=new p.Z({image:xt});return k}},It=St},24972:function(ht,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.default=R;function R(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}},65825:function(ht,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.default=R;function R(p,s){if(!p)return!1;if(p.contains)return p.contains(s);for(var t=s;t;){if(t===p)return!0;t=t.parentNode}return!1}},44074:function(ht,q,R){"use strict";var p=R(37019).default;Object.defineProperty(q,"__esModule",{value:!0}),q.clearContainerCache=T,q.injectCSS=l,q.removeCSS=M,q.updateCSS=y;var s=p(R(24972)),t=p(R(65825)),r="data-rc-order",e="rc-util-key",n=new Map;function o(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=P.mark;return C?C.startsWith("data-")?C:"data-".concat(C):e}function h(P){if(P.attachTo)return P.attachTo;var C=document.querySelector("head");return C||document.body}function i(P){return P==="queue"?"prependQueue":P?"prepend":"append"}function a(P){return Array.from((n.get(P)||P).children).filter(function(C){return C.tagName==="STYLE"})}function l(P){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,s.default)())return null;var O=C.csp,Z=C.prepend,U=document.createElement("style");U.setAttribute(r,i(Z)),O!=null&&O.nonce&&(U.nonce=O==null?void 0:O.nonce),U.innerHTML=P;var b=h(C),w=b.firstChild;if(Z){if(Z==="queue"){var A=a(b).filter(function(E){return["prepend","prependQueue"].includes(E.getAttribute(r))});if(A.length)return b.insertBefore(U,A[A.length-1].nextSibling),U}b.insertBefore(U,w)}else b.appendChild(U);return U}function _(P){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=h(C);return a(O).find(function(Z){return Z.getAttribute(o(C))===P})}function M(P){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=_(P,C);if(O){var Z=h(C);Z.removeChild(O)}}function m(P,C){var O=n.get(P);if(!O||!(0,t.default)(document,O)){var Z=l("",C),U=Z.parentNode;n.set(P,U),P.removeChild(Z)}}function T(){n.clear()}function y(P,C){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z=h(O);m(Z,O);var U=_(C,O);if(U){var b,w;if((b=O.csp)!==null&&b!==void 0&&b.nonce&&U.nonce!==((w=O.csp)===null||w===void 0?void 0:w.nonce)){var A;U.nonce=(A=O.csp)===null||A===void 0?void 0:A.nonce}return U.innerHTML!==P&&(U.innerHTML=P),U}var E=l(P,O);return E.setAttribute(o(O),C),E}},35696:function(ht,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.getShadowRoot=s,q.inShadow=p;function R(t){var r;return t==null||(r=t.getRootNode)===null||r===void 0?void 0:r.call(t)}function p(t){return R(t)!==(t==null?void 0:t.ownerDocument)}function s(t){return p(t)?R(t):null}},10786:function(ht,q){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.call=n,q.default=void 0,q.note=r,q.noteOnce=h,q.preMessage=void 0,q.resetWarned=e,q.warning=t,q.warningOnce=o;var R={},p=[],s=function(l){p.push(l)};q.preMessage=s;function t(a,l){if(!1)var _}function r(a,l){if(!1)var _}function e(){R={}}function n(a,l,_){!l&&!R[_]&&(a(!1,_),R[_]=!0)}function o(a,l){n(t,a,l)}function h(a,l){n(r,a,l)}o.preMessage=s,o.resetWarned=e,o.noteOnce=h;var i=o;q.default=i},12012:function(ht,q,R){"use strict";R.d(q,{ZT:function(){return s}});var p=function(f,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,c){v.__proto__=c}||function(v,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(v[g]=c[g])},p(f,u)};function s(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");p(f,u);function v(){this.constructor=f}f.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}var t=function(){return t=Object.assign||function(u){for(var v,c=1,g=arguments.length;c<g;c++){v=arguments[c];for(var D in v)Object.prototype.hasOwnProperty.call(v,D)&&(u[D]=v[D])}return u},t.apply(this,arguments)};function r(f,u){var v={};for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&u.indexOf(c)<0&&(v[c]=f[c]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,c=Object.getOwnPropertySymbols(f);g<c.length;g++)u.indexOf(c[g])<0&&Object.prototype.propertyIsEnumerable.call(f,c[g])&&(v[c[g]]=f[c[g]]);return v}function e(f,u,v,c){var g=arguments.length,D=g<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,v):c,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(f,u,v,c);else for(var L=f.length-1;L>=0;L--)(x=f[L])&&(D=(g<3?x(D):g>3?x(u,v,D):x(u,v))||D);return g>3&&D&&Object.defineProperty(u,v,D),D}function n(f,u){return function(v,c){u(v,c,f)}}function o(f,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,u)}function h(f,u,v,c){function g(D){return D instanceof v?D:new v(function(x){x(D)})}return new(v||(v=Promise))(function(D,x){function L(G){try{N(c.next(G))}catch(K){x(K)}}function I(G){try{N(c.throw(G))}catch(K){x(K)}}function N(G){G.done?D(G.value):g(G.value).then(L,I)}N((c=c.apply(f,u||[])).next())})}function i(f,u){var v={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},c,g,D,x;return x={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function L(N){return function(G){return I([N,G])}}function I(N){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,g&&(D=N[0]&2?g.return:N[0]?g.throw||((D=g.return)&&D.call(g),0):g.next)&&!(D=D.call(g,N[1])).done)return D;switch(g=0,D&&(N=[N[0]&2,D.value]),N[0]){case 0:case 1:D=N;break;case 4:return v.label++,{value:N[1],done:!1};case 5:v.label++,g=N[1],N=[0];continue;case 7:N=v.ops.pop(),v.trys.pop();continue;default:if(D=v.trys,!(D=D.length>0&&D[D.length-1])&&(N[0]===6||N[0]===2)){v=0;continue}if(N[0]===3&&(!D||N[1]>D[0]&&N[1]<D[3])){v.label=N[1];break}if(N[0]===6&&v.label<D[1]){v.label=D[1],D=N;break}if(D&&v.label<D[2]){v.label=D[2],v.ops.push(N);break}D[2]&&v.ops.pop(),v.trys.pop();continue}N=u.call(f,v)}catch(G){N=[6,G],g=0}finally{c=D=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}}var a=Object.create?function(f,u,v,c){c===void 0&&(c=v),Object.defineProperty(f,c,{enumerable:!0,get:function(){return u[v]}})}:function(f,u,v,c){c===void 0&&(c=v),f[c]=u[v]};function l(f,u){for(var v in f)v!=="default"&&!Object.prototype.hasOwnProperty.call(u,v)&&a(u,f,v)}function _(f){var u=typeof Symbol=="function"&&Symbol.iterator,v=u&&f[u],c=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&c>=f.length&&(f=void 0),{value:f&&f[c++],done:!f}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(f,u){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var c=v.call(f),g,D=[],x;try{for(;(u===void 0||u-- >0)&&!(g=c.next()).done;)D.push(g.value)}catch(L){x={error:L}}finally{try{g&&!g.done&&(v=c.return)&&v.call(c)}finally{if(x)throw x.error}}return D}function m(){for(var f=[],u=0;u<arguments.length;u++)f=f.concat(M(arguments[u]));return f}function T(){for(var f=0,u=0,v=arguments.length;u<v;u++)f+=arguments[u].length;for(var c=Array(f),g=0,u=0;u<v;u++)for(var D=arguments[u],x=0,L=D.length;x<L;x++,g++)c[g]=D[x];return c}function y(f,u,v){if(v||arguments.length===2)for(var c=0,g=u.length,D;c<g;c++)(D||!(c in u))&&(D||(D=Array.prototype.slice.call(u,0,c)),D[c]=u[c]);return f.concat(D||u)}function P(f){return this instanceof P?(this.v=f,this):new P(f)}function C(f,u,v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=v.apply(f,u||[]),g,D=[];return g={},x("next"),x("throw"),x("return"),g[Symbol.asyncIterator]=function(){return this},g;function x(J){c[J]&&(g[J]=function(F){return new Promise(function(H,V){D.push([J,F,H,V])>1||L(J,F)})})}function L(J,F){try{I(c[J](F))}catch(H){K(D[0][3],H)}}function I(J){J.value instanceof P?Promise.resolve(J.value.v).then(N,G):K(D[0][2],J)}function N(J){L("next",J)}function G(J){L("throw",J)}function K(J,F){J(F),D.shift(),D.length&&L(D[0][0],D[0][1])}}function O(f){var u,v;return u={},c("next"),c("throw",function(g){throw g}),c("return"),u[Symbol.iterator]=function(){return this},u;function c(g,D){u[g]=f[g]?function(x){return(v=!v)?{value:P(f[g](x)),done:g==="return"}:D?D(x):x}:D}}function Z(f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=f[Symbol.asyncIterator],v;return u?u.call(f):(f=typeof _=="function"?_(f):f[Symbol.iterator](),v={},c("next"),c("throw"),c("return"),v[Symbol.asyncIterator]=function(){return this},v);function c(D){v[D]=f[D]&&function(x){return new Promise(function(L,I){x=f[D](x),g(L,I,x.done,x.value)})}}function g(D,x,L,I){Promise.resolve(I).then(function(N){D({value:N,done:L})},x)}}function U(f,u){return Object.defineProperty?Object.defineProperty(f,"raw",{value:u}):f.raw=u,f}var b=Object.create?function(f,u){Object.defineProperty(f,"default",{enumerable:!0,value:u})}:function(f,u){f.default=u};function w(f){if(f&&f.__esModule)return f;var u={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&a(u,f,v);return b(u,f),u}function A(f){return f&&f.__esModule?f:{default:f}}function E(f,u,v,c){if(v==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?f!==u||!c:!u.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?c:v==="a"?c.call(f):c?c.value:u.get(f)}function d(f,u,v,c,g){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!g)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?f!==u||!g:!u.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?g.call(f,v):g?g.value=v:u.set(f,v),v}},12434:function(ht,q,R){"use strict";var p=R(23463),s=R(70295),t=R(16128),r=R(10563),e=R(98733),n=R(70324),o=R(62623),h=R(96170),i=R(53197),a="__zr_normal__",l=p.dN.concat(["ignore"]),_=(0,n.u4)(p.dN,function(w,A){return w[A]=!0,w},{ignore:!1}),M={},m=new t.Z(0,0,0,0),T=function(){function w(A){this.id=(0,n.M8)(),this.animators=[],this.currentStates=[],this.states={},this._init(A)}return w.prototype._init=function(A){this.attr(A)},w.prototype.drift=function(A,E,d){switch(this.draggable){case"horizontal":E=0;break;case"vertical":A=0;break}var f=this.transform;f||(f=this.transform=[1,0,0,1,0,0]),f[4]+=A,f[5]+=E,this.decomposeTransform(),this.markRedraw()},w.prototype.beforeUpdate=function(){},w.prototype.afterUpdate=function(){},w.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},w.prototype.updateInnerText=function(A){var E=this._textContent;if(E&&(!E.ignore||A)){this.textConfig||(this.textConfig={});var d=this.textConfig,f=d.local,u=E.innerTransformable,v=void 0,c=void 0,g=!1;u.parent=f?this:null;var D=!1;if(u.copyTransform(E),d.position!=null){var x=m;d.layoutRect?x.copy(d.layoutRect):x.copy(this.getBoundingRect()),f||x.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(M,d,x):(0,e.wI)(M,d,x),u.x=M.x,u.y=M.y,v=M.align,c=M.verticalAlign;var L=d.origin;if(L&&d.rotation!=null){var I=void 0,N=void 0;L==="center"?(I=x.width*.5,N=x.height*.5):(I=(0,e.GM)(L[0],x.width),N=(0,e.GM)(L[1],x.height)),D=!0,u.originX=-u.x+I+(f?0:x.x),u.originY=-u.y+N+(f?0:x.y)}}d.rotation!=null&&(u.rotation=d.rotation);var G=d.offset;G&&(u.x+=G[0],u.y+=G[1],D||(u.originX=-G[0],u.originY=-G[1]));var K=d.inside==null?typeof d.position=="string"&&d.position.indexOf("inside")>=0:d.inside,J=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),F=void 0,H=void 0,V=void 0;K&&this.canBeInsideText()?(F=d.insideFill,H=d.insideStroke,(F==null||F==="auto")&&(F=this.getInsideTextFill()),(H==null||H==="auto")&&(H=this.getInsideTextStroke(F),V=!0)):(F=d.outsideFill,H=d.outsideStroke,(F==null||F==="auto")&&(F=this.getOutsideFill()),(H==null||H==="auto")&&(H=this.getOutsideStroke(F),V=!0)),F=F||"#000",(F!==J.fill||H!==J.stroke||V!==J.autoStroke||v!==J.align||c!==J.verticalAlign)&&(g=!0,J.fill=F,J.stroke=H,J.autoStroke=V,J.align=v,J.verticalAlign=c,E.setDefaultTextStyle(J)),E.__dirty|=i.YV,g&&E.dirtyStyle(!0)}},w.prototype.canBeInsideText=function(){return!0},w.prototype.getInsideTextFill=function(){return"#fff"},w.prototype.getInsideTextStroke=function(A){return"#000"},w.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?o.GD:o.vU},w.prototype.getOutsideStroke=function(A){var E=this.__zr&&this.__zr.getBackgroundColor(),d=typeof E=="string"&&(0,h.parse)(E);d||(d=[255,255,255,1]);for(var f=d[3],u=this.__zr.isDarkMode(),v=0;v<3;v++)d[v]=d[v]*f+(u?0:255)*(1-f);return d[3]=1,(0,h.stringify)(d,"rgba")},w.prototype.traverse=function(A,E){},w.prototype.attrKV=function(A,E){A==="textConfig"?this.setTextConfig(E):A==="textContent"?this.setTextContent(E):A==="clipPath"?this.setClipPath(E):A==="extra"?(this.extra=this.extra||{},(0,n.l7)(this.extra,E)):this[A]=E},w.prototype.hide=function(){this.ignore=!0,this.markRedraw()},w.prototype.show=function(){this.ignore=!1,this.markRedraw()},w.prototype.attr=function(A,E){if(typeof A=="string")this.attrKV(A,E);else if((0,n.Kn)(A))for(var d=A,f=(0,n.XP)(d),u=0;u<f.length;u++){var v=f[u];this.attrKV(v,A[v])}return this.markRedraw(),this},w.prototype.saveCurrentToNormalState=function(A){this._innerSaveToNormal(A);for(var E=this._normalState,d=0;d<this.animators.length;d++){var f=this.animators[d],u=f.__fromStateTransition;if(!(f.getLoop()||u&&u!==a)){var v=f.targetName,c=v?E[v]:E;f.saveTo(c)}}},w.prototype._innerSaveToNormal=function(A){var E=this._normalState;E||(E=this._normalState={}),A.textConfig&&!E.textConfig&&(E.textConfig=this.textConfig),this._savePrimaryToNormal(A,E,l)},w.prototype._savePrimaryToNormal=function(A,E,d){for(var f=0;f<d.length;f++){var u=d[f];A[u]!=null&&!(u in E)&&(E[u]=this[u])}},w.prototype.hasState=function(){return this.currentStates.length>0},w.prototype.getState=function(A){return this.states[A]},w.prototype.ensureState=function(A){var E=this.states;return E[A]||(E[A]={}),E[A]},w.prototype.clearStates=function(A){this.useState(a,!1,A)},w.prototype.useState=function(A,E,d,f){var u=A===a,v=this.hasState();if(!(!v&&u)){var c=this.currentStates,g=this.stateTransition;if(!((0,n.cq)(c,A)>=0&&(E||c.length===1))){var D;if(this.stateProxy&&!u&&(D=this.stateProxy(A)),D||(D=this.states&&this.states[A]),!D&&!u){(0,n.H)("State "+A+" not exists.");return}u||this.saveCurrentToNormalState(D);var x=!!(D&&D.hoverLayer||f);x&&this._toggleHoverLayerFlag(!0),this._applyStateObj(A,D,this._normalState,E,!d&&!this.__inHover&&g&&g.duration>0,g);var L=this._textContent,I=this._textGuide;return L&&L.useState(A,E,d,x),I&&I.useState(A,E,d,x),u?(this.currentStates=[],this._normalState={}):E?this.currentStates.push(A):this.currentStates=[A],this._updateAnimationTargets(),this.markRedraw(),!x&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.YV),D}}},w.prototype.useStates=function(A,E,d){if(!A.length)this.clearStates();else{var f=[],u=this.currentStates,v=A.length,c=v===u.length;if(c){for(var g=0;g<v;g++)if(A[g]!==u[g]){c=!1;break}}if(c)return;for(var g=0;g<v;g++){var D=A[g],x=void 0;this.stateProxy&&(x=this.stateProxy(D,A)),x||(x=this.states[D]),x&&f.push(x)}var L=f[v-1],I=!!(L&&L.hoverLayer||d);I&&this._toggleHoverLayerFlag(!0);var N=this._mergeStates(f),G=this.stateTransition;this.saveCurrentToNormalState(N),this._applyStateObj(A.join(","),N,this._normalState,!1,!E&&!this.__inHover&&G&&G.duration>0,G);var K=this._textContent,J=this._textGuide;K&&K.useStates(A,E,I),J&&J.useStates(A,E,I),this._updateAnimationTargets(),this.currentStates=A.slice(),this.markRedraw(),!I&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~i.YV)}},w.prototype._updateAnimationTargets=function(){for(var A=0;A<this.animators.length;A++){var E=this.animators[A];E.targetName&&E.changeTarget(this[E.targetName])}},w.prototype.removeState=function(A){var E=(0,n.cq)(this.currentStates,A);if(E>=0){var d=this.currentStates.slice();d.splice(E,1),this.useStates(d)}},w.prototype.replaceState=function(A,E,d){var f=this.currentStates.slice(),u=(0,n.cq)(f,A),v=(0,n.cq)(f,E)>=0;u>=0?v?f.splice(u,1):f[u]=E:d&&!v&&f.push(E),this.useStates(f)},w.prototype.toggleState=function(A,E){E?this.useState(A,!0):this.removeState(A)},w.prototype._mergeStates=function(A){for(var E={},d,f=0;f<A.length;f++){var u=A[f];(0,n.l7)(E,u),u.textConfig&&(d=d||{},(0,n.l7)(d,u.textConfig))}return d&&(E.textConfig=d),E},w.prototype._applyStateObj=function(A,E,d,f,u,v){var c=!(E&&f);E&&E.textConfig?(this.textConfig=(0,n.l7)({},f?this.textConfig:d.textConfig),(0,n.l7)(this.textConfig,E.textConfig)):c&&d.textConfig&&(this.textConfig=d.textConfig);for(var g={},D=!1,x=0;x<l.length;x++){var L=l[x],I=u&&_[L];E&&E[L]!=null?I?(D=!0,g[L]=E[L]):this[L]=E[L]:c&&d[L]!=null&&(I?(D=!0,g[L]=d[L]):this[L]=d[L])}if(!u)for(var x=0;x<this.animators.length;x++){var N=this.animators[x],G=N.targetName;N.getLoop()||N.__changeFinalValue(G?(E||d)[G]:E||d)}D&&this._transitionState(A,g,v)},w.prototype._attachComponent=function(A){if(!(A.__zr&&!A.__hostTarget)&&A!==this){var E=this.__zr;E&&A.addSelfToZr(E),A.__zr=E,A.__hostTarget=this}},w.prototype._detachComponent=function(A){A.__zr&&A.removeSelfFromZr(A.__zr),A.__zr=null,A.__hostTarget=null},w.prototype.getClipPath=function(){return this._clipPath},w.prototype.setClipPath=function(A){this._clipPath&&this._clipPath!==A&&this.removeClipPath(),this._attachComponent(A),this._clipPath=A,this.markRedraw()},w.prototype.removeClipPath=function(){var A=this._clipPath;A&&(this._detachComponent(A),this._clipPath=null,this.markRedraw())},w.prototype.getTextContent=function(){return this._textContent},w.prototype.setTextContent=function(A){var E=this._textContent;E!==A&&(E&&E!==A&&this.removeTextContent(),A.innerTransformable=new p.ZP,this._attachComponent(A),this._textContent=A,this.markRedraw())},w.prototype.setTextConfig=function(A){this.textConfig||(this.textConfig={}),(0,n.l7)(this.textConfig,A),this.markRedraw()},w.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},w.prototype.removeTextContent=function(){var A=this._textContent;A&&(A.innerTransformable=null,this._detachComponent(A),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},w.prototype.getTextGuideLine=function(){return this._textGuide},w.prototype.setTextGuideLine=function(A){this._textGuide&&this._textGuide!==A&&this.removeTextGuideLine(),this._attachComponent(A),this._textGuide=A,this.markRedraw()},w.prototype.removeTextGuideLine=function(){var A=this._textGuide;A&&(this._detachComponent(A),this._textGuide=null,this.markRedraw())},w.prototype.markRedraw=function(){this.__dirty|=i.YV;var A=this.__zr;A&&(this.__inHover?A.refreshHover():A.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},w.prototype.dirty=function(){this.markRedraw()},w.prototype._toggleHoverLayerFlag=function(A){this.__inHover=A;var E=this._textContent,d=this._textGuide;E&&(E.__inHover=A),d&&(d.__inHover=A)},w.prototype.addSelfToZr=function(A){if(this.__zr!==A){this.__zr=A;var E=this.animators;if(E)for(var d=0;d<E.length;d++)A.animation.addAnimator(E[d]);this._clipPath&&this._clipPath.addSelfToZr(A),this._textContent&&this._textContent.addSelfToZr(A),this._textGuide&&this._textGuide.addSelfToZr(A)}},w.prototype.removeSelfFromZr=function(A){if(this.__zr){this.__zr=null;var E=this.animators;if(E)for(var d=0;d<E.length;d++)A.animation.removeAnimator(E[d]);this._clipPath&&this._clipPath.removeSelfFromZr(A),this._textContent&&this._textContent.removeSelfFromZr(A),this._textGuide&&this._textGuide.removeSelfFromZr(A)}},w.prototype.animate=function(A,E,d){var f=A?this[A]:this,u=new s.Z(f,E,d);return A&&(u.targetName=A),this.addAnimator(u,A),u},w.prototype.addAnimator=function(A,E){var d=this.__zr,f=this;A.during(function(){f.updateDuringAnimation(E)}).done(function(){var u=f.animators,v=(0,n.cq)(u,A);v>=0&&u.splice(v,1)}),this.animators.push(A),d&&d.animation.addAnimator(A),d&&d.wakeUp()},w.prototype.updateDuringAnimation=function(A){this.markRedraw()},w.prototype.stopAnimation=function(A,E){for(var d=this.animators,f=d.length,u=[],v=0;v<f;v++){var c=d[v];!A||A===c.scope?c.stop(E):u.push(c)}return this.animators=u,this},w.prototype.animateTo=function(A,E,d){y(this,A,E,d)},w.prototype.animateFrom=function(A,E,d){y(this,A,E,d,!0)},w.prototype._transitionState=function(A,E,d,f){for(var u=y(this,E,d,f),v=0;v<u.length;v++)u[v].__fromStateTransition=A},w.prototype.getBoundingRect=function(){return null},w.prototype.getPaintRect=function(){return null},w.initDefaultProps=function(){var A=w.prototype;A.type="element",A.name="",A.ignore=A.silent=A.isGroup=A.draggable=A.dragging=A.ignoreClip=A.__inHover=!1,A.__dirty=i.YV;var E={};function d(u,v,c){E[u+v+c]||(console.warn("DEPRECATED: '"+u+"' has been deprecated. use '"+v+"', '"+c+"' instead"),E[u+v+c]=!0)}function f(u,v,c,g){Object.defineProperty(A,u,{get:function(){if(!this[v]){var x=this[v]=[];D(this,x)}return this[v]},set:function(x){this[c]=x[0],this[g]=x[1],this[v]=x,D(this,x)}});function D(x,L){Object.defineProperty(L,0,{get:function(){return x[c]},set:function(I){x[c]=I}}),Object.defineProperty(L,1,{get:function(){return x[g]},set:function(I){x[g]=I}})}}Object.defineProperty&&(f("position","_legacyPos","x","y"),f("scale","_legacyScale","scaleX","scaleY"),f("origin","_legacyOrigin","originX","originY"))}(),w}();(0,n.jB)(T,r.Z),(0,n.jB)(T,p.ZP);function y(w,A,E,d,f){E=E||{};var u=[];b(w,"",w,A,E,d,u,f);var v=u.length,c=!1,g=E.done,D=E.aborted,x=function(){c=!0,v--,v<=0&&(c?g&&g():D&&D())},L=function(){v--,v<=0&&(c?g&&g():D&&D())};v||g&&g(),u.length>0&&E.during&&u[0].during(function(G,K){E.during(K)});for(var I=0;I<u.length;I++){var N=u[I];x&&N.done(x),L&&N.aborted(L),E.force&&N.duration(E.duration),N.start(E.easing)}return u}function P(w,A,E){for(var d=0;d<E;d++)w[d]=A[d]}function C(w){return(0,n.zG)(w[0])}function O(w,A,E){if((0,n.zG)(A[E]))if((0,n.zG)(w[E])||(w[E]=[]),(0,n.fU)(A[E])){var d=A[E].length;w[E].length!==d&&(w[E]=new A[E].constructor(d),P(w[E],A[E],d))}else{var f=A[E],u=w[E],v=f.length;if(C(f))for(var c=f[0].length,g=0;g<v;g++)u[g]?P(u[g],f[g],c):u[g]=Array.prototype.slice.call(f[g]);else P(u,f,v);u.length=f.length}else w[E]=A[E]}function Z(w,A){return w===A||(0,n.zG)(w)&&(0,n.zG)(A)&&U(w,A)}function U(w,A){var E=w.length;if(E!==A.length)return!1;for(var d=0;d<E;d++)if(w[d]!==A[d])return!1;return!0}function b(w,A,E,d,f,u,v,c){for(var g=(0,n.XP)(d),D=f.duration,x=f.delay,L=f.additive,I=f.setToFinal,N=!(0,n.Kn)(u),G=w.animators,K=[],J=0;J<g.length;J++){var F=g[J],H=d[F];if(H!=null&&E[F]!=null&&(N||u[F]))if((0,n.Kn)(H)&&!(0,n.zG)(H)&&!(0,n.Qq)(H)){if(A){c||(E[F]=H,w.updateDuringAnimation(A));continue}b(w,F,E[F],H,f,u&&u[F],v,c)}else K.push(F);else c||(E[F]=H,w.updateDuringAnimation(A),K.push(F))}var V=K.length;if(!L&&V)for(var S=0;S<G.length;S++){var W=G[S];if(W.targetName===A){var B=W.stopTracks(K);if(B){var X=(0,n.cq)(G,W);G.splice(X,1)}}}if(f.force||(K=(0,n.hX)(K,function(j){return!Z(d[j],E[j])}),V=K.length),V>0||f.force&&!v.length){var Y=void 0,nt=void 0,z=void 0;if(c){nt={},I&&(Y={});for(var S=0;S<V;S++){var F=K[S];nt[F]=E[F],I?Y[F]=d[F]:E[F]=d[F]}}else if(I){z={};for(var S=0;S<V;S++){var F=K[S];z[F]=(0,s.V)(E[F]),O(E,d,F)}}var W=new s.Z(E,!1,!1,L?(0,n.hX)(G,function(at){return at.targetName===A}):null);W.targetName=A,f.scope&&(W.scope=f.scope),I&&Y&&W.whenWithKeys(0,Y,K),z&&W.whenWithKeys(0,z,K),W.whenWithKeys(D==null?500:D,c?nt:d,K).delay(x||0),w.addAnimator(W,A),v.push(W)}}q.Z=T},70295:function(ht,q,R){"use strict";R.d(q,{V:function(){return P},Z:function(){return D}});var p={linear:function(x){return x},quadraticIn:function(x){return x*x},quadraticOut:function(x){return x*(2-x)},quadraticInOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)},cubicIn:function(x){return x*x*x},cubicOut:function(x){return--x*x*x+1},cubicInOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)},quarticIn:function(x){return x*x*x*x},quarticOut:function(x){return 1- --x*x*x*x},quarticInOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)},quinticIn:function(x){return x*x*x*x*x},quinticOut:function(x){return--x*x*x*x*x+1},quinticInOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)},sinusoidalIn:function(x){return 1-Math.cos(x*Math.PI/2)},sinusoidalOut:function(x){return Math.sin(x*Math.PI/2)},sinusoidalInOut:function(x){return .5*(1-Math.cos(Math.PI*x))},exponentialIn:function(x){return x===0?0:Math.pow(1024,x-1)},exponentialOut:function(x){return x===1?1:1-Math.pow(2,-10*x)},exponentialInOut:function(x){return x===0?0:x===1?1:(x*=2)<1?.5*Math.pow(1024,x-1):.5*(-Math.pow(2,-10*(x-1))+2)},circularIn:function(x){return 1-Math.sqrt(1-x*x)},circularOut:function(x){return Math.sqrt(1- --x*x)},circularInOut:function(x){return(x*=2)<1?-.5*(Math.sqrt(1-x*x)-1):.5*(Math.sqrt(1-(x-=2)*x)+1)},elasticIn:function(x){var L,I=.1,N=.4;return x===0?0:x===1?1:(!I||I<1?(I=1,L=N/4):L=N*Math.asin(1/I)/(2*Math.PI),-(I*Math.pow(2,10*(x-=1))*Math.sin((x-L)*(2*Math.PI)/N)))},elasticOut:function(x){var L,I=.1,N=.4;return x===0?0:x===1?1:(!I||I<1?(I=1,L=N/4):L=N*Math.asin(1/I)/(2*Math.PI),I*Math.pow(2,-10*x)*Math.sin((x-L)*(2*Math.PI)/N)+1)},elasticInOut:function(x){var L,I=.1,N=.4;return x===0?0:x===1?1:(!I||I<1?(I=1,L=N/4):L=N*Math.asin(1/I)/(2*Math.PI),(x*=2)<1?-.5*(I*Math.pow(2,10*(x-=1))*Math.sin((x-L)*(2*Math.PI)/N)):I*Math.pow(2,-10*(x-=1))*Math.sin((x-L)*(2*Math.PI)/N)*.5+1)},backIn:function(x){var L=1.70158;return x*x*((L+1)*x-L)},backOut:function(x){var L=1.70158;return--x*x*((L+1)*x+L)+1},backInOut:function(x){var L=2.5949095;return(x*=2)<1?.5*(x*x*((L+1)*x-L)):.5*((x-=2)*x*((L+1)*x+L)+2)},bounceIn:function(x){return 1-p.bounceOut(1-x)},bounceOut:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},bounceInOut:function(x){return x<.5?p.bounceIn(x*2)*.5:p.bounceOut(x*2-1)*.5+.5}},s=p,t=R(70324),r=R(74720),e=function(){function x(L){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=L.life||1e3,this._delay=L.delay||0,this.loop=L.loop||!1,this.onframe=L.onframe||t.ZT,this.ondestroy=L.ondestroy||t.ZT,this.onrestart=L.onrestart||t.ZT,L.easing&&this.setEasing(L.easing)}return x.prototype.step=function(L,I){if(this._inited||(this._startTime=L+this._delay,this._inited=!0),this._paused){this._pausedTime+=I;return}var N=this._life,G=L-this._startTime-this._pausedTime,K=G/N;K<0&&(K=0),K=Math.min(K,1);var J=this.easingFunc,F=J?J(K):K;if(this.onframe(F),K===1)if(this.loop){var H=G%N;this._startTime=L-H,this._pausedTime=0,this.onrestart()}else return!0;return!1},x.prototype.pause=function(){this._paused=!0},x.prototype.resume=function(){this._paused=!1},x.prototype.setEasing=function(L){this.easing=L,this.easingFunc=(0,t.mf)(L)?L:s[L]||(0,r.H)(L)},x}(),n=e,o=R(96170),h=R(72352),i=Array.prototype.slice;function a(x,L,I){return(L-x)*I+x}function l(x,L,I,N){for(var G=L.length,K=0;K<G;K++)x[K]=a(L[K],I[K],N);return x}function _(x,L,I,N){for(var G=L.length,K=G&&L[0].length,J=0;J<G;J++){x[J]||(x[J]=[]);for(var F=0;F<K;F++)x[J][F]=a(L[J][F],I[J][F],N)}return x}function M(x,L,I,N){for(var G=L.length,K=0;K<G;K++)x[K]=L[K]+I[K]*N;return x}function m(x,L,I,N){for(var G=L.length,K=G&&L[0].length,J=0;J<G;J++){x[J]||(x[J]=[]);for(var F=0;F<K;F++)x[J][F]=L[J][F]+I[J][F]*N}return x}function T(x,L){for(var I=x.length,N=L.length,G=I>N?L:x,K=Math.min(I,N),J=G[K-1]||{color:[0,0,0,0],offset:0},F=K;F<Math.max(I,N);F++)G.push({offset:J.offset,color:J.color.slice()})}function y(x,L,I){var N=x,G=L;if(!(!N.push||!G.push)){var K=N.length,J=G.length;if(K!==J){var F=K>J;if(F)N.length=J;else for(var H=K;H<J;H++)N.push(I===1?G[H]:i.call(G[H]))}for(var V=N[0]&&N[0].length,H=0;H<N.length;H++)if(I===1)isNaN(N[H])&&(N[H]=G[H]);else for(var S=0;S<V;S++)isNaN(N[H][S])&&(N[H][S]=G[H][S])}}function P(x){if((0,t.zG)(x)){var L=x.length;if((0,t.zG)(x[0])){for(var I=[],N=0;N<L;N++)I.push(i.call(x[N]));return I}return i.call(x)}return x}function C(x){return x[0]=Math.floor(x[0])||0,x[1]=Math.floor(x[1])||0,x[2]=Math.floor(x[2])||0,x[3]=x[3]==null?1:x[3],"rgba("+x.join(",")+")"}function O(x){return(0,t.zG)(x&&x[0])?2:1}var Z=0,U=1,b=2,w=3,A=4,E=5,d=6;function f(x){return x===A||x===E}function u(x){return x===U||x===b}var v=[0,0,0,0],c=function(){function x(L){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=L}return x.prototype.isFinished=function(){return this._finished},x.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},x.prototype.needsAnimate=function(){return this.keyframes.length>=1},x.prototype.getAdditiveTrack=function(){return this._additiveTrack},x.prototype.addKeyframe=function(L,I,N){this._needsSort=!0;var G=this.keyframes,K=G.length,J=!1,F=d,H=I;if((0,t.zG)(I)){var V=O(I);F=V,(V===1&&!(0,t.hj)(I[0])||V===2&&!(0,t.hj)(I[0][0]))&&(J=!0)}else if((0,t.hj)(I)&&!(0,t.Bu)(I))F=Z;else if((0,t.HD)(I))if(!isNaN(+I))F=Z;else{var S=o.parse(I);S&&(H=S,F=w)}else if((0,t.Qq)(I)){var W=(0,t.l7)({},H);W.colorStops=(0,t.UI)(I.colorStops,function(X){return{offset:X.offset,color:o.parse(X.color)}}),(0,h.I1)(I)?F=A:(0,h.gO)(I)&&(F=E),H=W}K===0?this.valType=F:(F!==this.valType||F===d)&&(J=!0),this.discrete=this.discrete||J;var B={time:L,value:H,rawValue:I,percent:0};return N&&(B.easing=N,B.easingFunc=(0,t.mf)(N)?N:s[N]||(0,r.H)(N)),G.push(B),B},x.prototype.prepare=function(L,I){var N=this.keyframes;this._needsSort&&N.sort(function(nt,z){return nt.time-z.time});for(var G=this.valType,K=N.length,J=N[K-1],F=this.discrete,H=u(G),V=f(G),S=0;S<K;S++){var W=N[S],B=W.value,X=J.value;W.percent=W.time/L,F||(H&&S!==K-1?y(B,X,G):V&&T(B.colorStops,X.colorStops))}if(!F&&G!==E&&I&&this.needsAnimate()&&I.needsAnimate()&&G===I.valType&&!I._finished){this._additiveTrack=I;for(var Y=N[0].value,S=0;S<K;S++)G===Z?N[S].additiveValue=N[S].value-Y:G===w?N[S].additiveValue=M([],N[S].value,Y,-1):u(G)&&(N[S].additiveValue=G===U?M([],N[S].value,Y,-1):m([],N[S].value,Y,-1))}},x.prototype.step=function(L,I){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var N=this._additiveTrack!=null,G=N?"additiveValue":"value",K=this.valType,J=this.keyframes,F=J.length,H=this.propName,V=K===w,S,W=this._lastFr,B=Math.min,X,Y;if(F===1)X=Y=J[0];else{if(I<0)S=0;else if(I<this._lastFrP){var nt=B(W+1,F-1);for(S=nt;S>=0&&!(J[S].percent<=I);S--);S=B(S,F-2)}else{for(S=W;S<F&&!(J[S].percent>I);S++);S=B(S-1,F-2)}Y=J[S+1],X=J[S]}if(X&&Y){this._lastFr=S,this._lastFrP=I;var z=Y.percent-X.percent,j=z===0?1:B((I-X.percent)/z,1);Y.easingFunc&&(j=Y.easingFunc(j));var at=N?this._additiveValue:V?v:L[H];if((u(K)||V)&&!at&&(at=this._additiveValue=[]),this.discrete)L[H]=j<1?X.rawValue:Y.rawValue;else if(u(K))K===U?l(at,X[G],Y[G],j):_(at,X[G],Y[G],j);else if(f(K)){var ft=X[G],pt=Y[G],rt=K===A;L[H]={type:rt?"linear":"radial",x:a(ft.x,pt.x,j),y:a(ft.y,pt.y,j),colorStops:(0,t.UI)(ft.colorStops,function(ut,dt){var ot=pt.colorStops[dt];return{offset:a(ut.offset,ot.offset,j),color:C(l([],ut.color,ot.color,j))}}),global:pt.global},rt?(L[H].x2=a(ft.x2,pt.x2,j),L[H].y2=a(ft.y2,pt.y2,j)):L[H].r=a(ft.r,pt.r,j)}else if(V)l(at,X[G],Y[G],j),N||(L[H]=C(at));else{var et=a(X[G],Y[G],j);N?this._additiveValue=et:L[H]=et}N&&this._addToTarget(L)}}},x.prototype._addToTarget=function(L){var I=this.valType,N=this.propName,G=this._additiveValue;I===Z?L[N]=L[N]+G:I===w?(o.parse(L[N],v),M(v,v,G,1),L[N]=C(v)):I===U?M(L[N],L[N],G,1):I===b&&m(L[N],L[N],G,1)},x}(),g=function(){function x(L,I,N,G){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=L,this._loop=I,I&&G){(0,t.H)("Can' use additive animation on looped animation.");return}this._additiveAnimators=G,this._allowDiscrete=N}return x.prototype.getMaxTime=function(){return this._maxTime},x.prototype.getDelay=function(){return this._delay},x.prototype.getLoop=function(){return this._loop},x.prototype.getTarget=function(){return this._target},x.prototype.changeTarget=function(L){this._target=L},x.prototype.when=function(L,I,N){return this.whenWithKeys(L,I,(0,t.XP)(I),N)},x.prototype.whenWithKeys=function(L,I,N,G){for(var K=this._tracks,J=0;J<N.length;J++){var F=N[J],H=K[F];if(!H){H=K[F]=new c(F);var V=void 0,S=this._getAdditiveTrack(F);if(S){var W=S.keyframes,B=W[W.length-1];V=B&&B.value,S.valType===w&&V&&(V=C(V))}else V=this._target[F];if(V==null)continue;L>0&&H.addKeyframe(0,P(V),G),this._trackKeys.push(F)}H.addKeyframe(L,P(I[F]),G)}return this._maxTime=Math.max(this._maxTime,L),this},x.prototype.pause=function(){this._clip.pause(),this._paused=!0},x.prototype.resume=function(){this._clip.resume(),this._paused=!1},x.prototype.isPaused=function(){return!!this._paused},x.prototype.duration=function(L){return this._maxTime=L,this._force=!0,this},x.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var L=this._doneCbs;if(L)for(var I=L.length,N=0;N<I;N++)L[N].call(this)},x.prototype._abortedCallback=function(){this._setTracksFinished();var L=this.animation,I=this._abortedCbs;if(L&&L.removeClip(this._clip),this._clip=null,I)for(var N=0;N<I.length;N++)I[N].call(this)},x.prototype._setTracksFinished=function(){for(var L=this._tracks,I=this._trackKeys,N=0;N<I.length;N++)L[I[N]].setFinished()},x.prototype._getAdditiveTrack=function(L){var I,N=this._additiveAnimators;if(N)for(var G=0;G<N.length;G++){var K=N[G].getTrack(L);K&&(I=K)}return I},x.prototype.start=function(L){if(!(this._started>0)){this._started=1;for(var I=this,N=[],G=this._maxTime||0,K=0;K<this._trackKeys.length;K++){var J=this._trackKeys[K],F=this._tracks[J],H=this._getAdditiveTrack(J),V=F.keyframes,S=V.length;if(F.prepare(G,H),F.needsAnimate())if(!this._allowDiscrete&&F.discrete){var W=V[S-1];W&&(I._target[F.propName]=W.rawValue),F.setFinished()}else N.push(F)}if(N.length||this._force){var B=new n({life:G,loop:this._loop,delay:this._delay||0,onframe:function(X){I._started=2;var Y=I._additiveAnimators;if(Y){for(var nt=!1,z=0;z<Y.length;z++)if(Y[z]._clip){nt=!0;break}nt||(I._additiveAnimators=null)}for(var z=0;z<N.length;z++)N[z].step(I._target,X);var j=I._onframeCbs;if(j)for(var z=0;z<j.length;z++)j[z](I._target,X)},ondestroy:function(){I._doneCallback()}});this._clip=B,this.animation&&this.animation.addClip(B),L&&B.setEasing(L)}else this._doneCallback();return this}},x.prototype.stop=function(L){if(this._clip){var I=this._clip;L&&I.onframe(1),this._abortedCallback()}},x.prototype.delay=function(L){return this._delay=L,this},x.prototype.during=function(L){return L&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(L)),this},x.prototype.done=function(L){return L&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(L)),this},x.prototype.aborted=function(L){return L&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(L)),this},x.prototype.getClip=function(){return this._clip},x.prototype.getTrack=function(L){return this._tracks[L]},x.prototype.getTracks=function(){var L=this;return(0,t.UI)(this._trackKeys,function(I){return L._tracks[I]})},x.prototype.stopTracks=function(L,I){if(!L.length||!this._clip)return!0;for(var N=this._tracks,G=this._trackKeys,K=0;K<L.length;K++){var J=N[L[K]];J&&!J.isFinished()&&(I?J.step(this._target,1):this._started===1&&J.step(this._target,0),J.setFinished())}for(var F=!0,K=0;K<G.length;K++)if(!N[G[K]].isFinished()){F=!1;break}return F&&this._abortedCallback(),F},x.prototype.saveTo=function(L,I,N){if(L){I=I||this._trackKeys;for(var G=0;G<I.length;G++){var K=I[G],J=this._tracks[K];if(!(!J||J.isFinished())){var F=J.keyframes,H=F[N?0:F.length-1];H&&(L[K]=P(H.rawValue))}}}},x.prototype.__changeFinalValue=function(L,I){I=I||(0,t.XP)(L);for(var N=0;N<I.length;N++){var G=I[N],K=this._tracks[G];if(K){var J=K.keyframes;if(J.length>1){var F=J.pop();K.addKeyframe(F.time,L[G]),K.prepare(this._maxTime,K.getAdditiveTrack())}}}},x}(),D=g},74720:function(ht,q,R){"use strict";R.d(q,{H:function(){return r}});var p=R(14296),s=R(70324),t=/cubic-bezier\(([0-9,\.e ]+)\)/;function r(e){var n=e&&t.exec(e);if(n){var o=n[1].split(","),h=+(0,s.fy)(o[0]),i=+(0,s.fy)(o[1]),a=+(0,s.fy)(o[2]),l=+(0,s.fy)(o[3]);if(isNaN(h+i+a+l))return;var _=[];return function(M){return M<=0?0:M>=1?1:(0,p.kD)(0,h,a,1,M,_)&&(0,p.af)(0,i,l,1,_[0])}}}},75820:function(ht,q,R){"use strict";var p=R(54490),s;s=p.Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},q.Z=s},57782:function(ht,q,R){"use strict";R.d(q,{Z:function(){return b}});var p=R(62623),s=R(70324),t=R(12012),r=R(10563),e=R(89625),n=R(87368),o=R(16128),h=R(53197),i=R(47297);function a(w,A,E){var d=i.qW.createCanvas(),f=A.getWidth(),u=A.getHeight(),v=d.style;return v&&(v.position="absolute",v.left="0",v.top="0",v.width=f+"px",v.height=u+"px",d.setAttribute("data-zr-dom-id",w)),d.width=f*E,d.height=u*E,d}var l=function(w){(0,t.ZT)(A,w);function A(E,d,f){var u=w.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null;var v;f=f||p.KL,typeof E=="string"?v=a(E,d,f):s.Kn(E)&&(v=E,E=v.id),u.id=E,u.dom=v;var c=v.style;return c&&(s.$j(v),v.onselectstart=function(){return!1},c.padding="0",c.margin="0",c.borderWidth="0"),u.painter=d,u.dpr=f,u}return A.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},A.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},A.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},A.prototype.setUnpainted=function(){this.__firstTimePaint=!0},A.prototype.createBackBuffer=function(){var E=this.dpr;this.domBack=a("back-"+this.id,this.painter,E),this.ctxBack=this.domBack.getContext("2d"),E!==1&&this.ctxBack.scale(E,E)},A.prototype.createRepaintRects=function(E,d,f,u){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var v=[],c=this.maxRepaintRectCount,g=!1,D=new o.Z(0,0,0,0);function x(H){if(!(!H.isFinite()||H.isZero()))if(v.length===0){var V=new o.Z(0,0,0,0);V.copy(H),v.push(V)}else{for(var S=!1,W=1/0,B=0,X=0;X<v.length;++X){var Y=v[X];if(Y.intersect(H)){var nt=new o.Z(0,0,0,0);nt.copy(Y),nt.union(H),v[X]=nt,S=!0;break}else if(g){D.copy(H),D.union(Y);var z=H.width*H.height,j=Y.width*Y.height,at=D.width*D.height,ft=at-z-j;ft<W&&(W=ft,B=X)}}if(g&&(v[B].union(H),S=!0),!S){var V=new o.Z(0,0,0,0);V.copy(H),v.push(V)}g||(g=v.length>=c)}}for(var L=this.__startIndex;L<this.__endIndex;++L){var I=E[L];if(I){var N=I.shouldBePainted(f,u,!0,!0),G=I.__isRendered&&(I.__dirty&h.YV||!N)?I.getPrevPaintRect():null;G&&x(G);var K=N&&(I.__dirty&h.YV||!I.__isRendered)?I.getPaintRect():null;K&&x(K)}}for(var L=this.__prevStartIndex;L<this.__prevEndIndex;++L){var I=d[L],N=I.shouldBePainted(f,u,!0,!0);if(I&&(!N||!I.__zr)&&I.__isRendered){var G=I.getPrevPaintRect();G&&x(G)}}var J;do{J=!1;for(var L=0;L<v.length;){if(v[L].isZero()){v.splice(L,1);continue}for(var F=L+1;F<v.length;)v[L].intersect(v[F])?(J=!0,v[L].union(v[F]),v.splice(F,1)):F++;L++}}while(J);return this._paintRects=v,v},A.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},A.prototype.resize=function(E,d){var f=this.dpr,u=this.dom,v=u.style,c=this.domBack;v&&(v.width=E+"px",v.height=d+"px"),u.width=E*f,u.height=d*f,c&&(c.width=E*f,c.height=d*f,f!==1&&this.ctxBack.scale(f,f))},A.prototype.clear=function(E,d,f){var u=this.dom,v=this.ctx,c=u.width,g=u.height;d=d||this.clearColor;var D=this.motionBlur&&!E,x=this.lastFrameAlpha,L=this.dpr,I=this;D&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(u,0,0,c/L,g/L));var N=this.domBack;function G(K,J,F,H){if(v.clearRect(K,J,F,H),d&&d!=="transparent"){var V=void 0;if(s.Qq(d)){var S=d.global||d.__width===F&&d.__height===H;V=S&&d.__canvasGradient||(0,e.ZF)(v,d,{x:0,y:0,width:F,height:H}),d.__canvasGradient=V,d.__width=F,d.__height=H}else s.dL(d)&&(d.scaleX=d.scaleX||L,d.scaleY=d.scaleY||L,V=(0,n.RZ)(v,d,{dirty:function(){I.setUnpainted(),I.__painter.refresh()}}));v.save(),v.fillStyle=V||d,v.fillRect(K,J,F,H),v.restore()}D&&(v.save(),v.globalAlpha=x,v.drawImage(N,K,J,F,H),v.restore())}!f||D?G(0,0,c,g):f.length&&s.S6(f,function(K){G(K.x*L,K.y*L,K.width*L,K.height*L)})},A}(r.Z),_=l,M=R(75820),m=R(54490),T=1e5,y=314159,P=.01,C=.001;function O(w){return w?w.__builtin__?!0:!(typeof w.resize!="function"||typeof w.refresh!="function"):!1}function Z(w,A){var E=document.createElement("div");return E.style.cssText=["position:relative","width:"+w+"px","height:"+A+"px","padding:0","margin:0","border-width:0"].join(";")+";",E}var U=function(){function w(A,E,d,f){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!A.nodeName||A.nodeName.toUpperCase()==="CANVAS";this._opts=d=s.l7({},d||{}),this.dpr=d.devicePixelRatio||p.KL,this._singleCanvas=u,this.root=A;var v=A.style;v&&(s.$j(A),A.innerHTML=""),this.storage=E;var c=this._zlevelList;this._prevDisplayList=[];var g=this._layers;if(u){var x=A,L=x.width,I=x.height;d.width!=null&&(L=d.width),d.height!=null&&(I=d.height),this.dpr=d.devicePixelRatio||1,x.width=L*this.dpr,x.height=I*this.dpr,this._width=L,this._height=I;var N=new _(x,this,this.dpr);N.__builtin__=!0,N.initContext(),g[y]=N,N.zlevel=y,c.push(y),this._domRoot=A}else{this._width=(0,e.ap)(A,0,d),this._height=(0,e.ap)(A,1,d);var D=this._domRoot=Z(this._width,this._height);A.appendChild(D)}}return w.prototype.getType=function(){return"canvas"},w.prototype.isSingleCanvas=function(){return this._singleCanvas},w.prototype.getViewportRoot=function(){return this._domRoot},w.prototype.getViewportRootOffset=function(){var A=this.getViewportRoot();if(A)return{offsetLeft:A.offsetLeft||0,offsetTop:A.offsetTop||0}},w.prototype.refresh=function(A){var E=this.storage.getDisplayList(!0),d=this._prevDisplayList,f=this._zlevelList;this._redrawId=Math.random(),this._paintList(E,d,A,this._redrawId);for(var u=0;u<f.length;u++){var v=f[u],c=this._layers[v];if(!c.__builtin__&&c.refresh){var g=u===0?this._backgroundColor:null;c.refresh(g)}}return this._opts.useDirtyRect&&(this._prevDisplayList=E.slice()),this},w.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},w.prototype._paintHoverList=function(A){var E=A.length,d=this._hoverlayer;if(d&&d.clear(),!!E){for(var f={inHover:!0,viewWidth:this._width,viewHeight:this._height},u,v=0;v<E;v++){var c=A[v];c.__inHover&&(d||(d=this._hoverlayer=this.getLayer(T)),u||(u=d.ctx,u.save()),(0,n.Dm)(u,c,f,v===E-1))}u&&u.restore()}},w.prototype.getHoverLayer=function(){return this.getLayer(T)},w.prototype.paintOne=function(A,E){(0,n.RV)(A,E)},w.prototype._paintList=function(A,E,d,f){if(this._redrawId===f){d=d||!1,this._updateLayerStatus(A);var u=this._doPaintList(A,E,d),v=u.finished,c=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(A),v)this.eachLayer(function(D){D.afterBrush&&D.afterBrush()});else{var g=this;(0,M.Z)(function(){g._paintList(A,E,d,f)})}}},w.prototype._compositeManually=function(){var A=this.getLayer(y).ctx,E=this._domRoot.width,d=this._domRoot.height;A.clearRect(0,0,E,d),this.eachBuiltinLayer(function(f){f.virtual&&A.drawImage(f.dom,0,0,E,d)})},w.prototype._doPaintList=function(A,E,d){for(var f=this,u=[],v=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var g=this._zlevelList[c],D=this._layers[g];D.__builtin__&&D!==this._hoverlayer&&(D.__dirty||d)&&u.push(D)}for(var x=!0,L=!1,I=function(K){var J=u[K],F=J.ctx,H=v&&J.createRepaintRects(A,E,N._width,N._height),V=d?J.__startIndex:J.__drawIndex,S=!d&&J.incremental&&Date.now,W=S&&Date.now(),B=J.zlevel===N._zlevelList[0]?N._backgroundColor:null;if(J.__startIndex===J.__endIndex)J.clear(!1,B,H);else if(V===J.__startIndex){var X=A[V];(!X.incremental||!X.notClear||d)&&J.clear(!1,B,H)}V===-1&&(console.error("For some unknown reason. drawIndex is -1"),V=J.__startIndex);var Y,nt=function(ft){var pt={inHover:!1,allClipped:!1,prevEl:null,viewWidth:f._width,viewHeight:f._height};for(Y=V;Y<J.__endIndex;Y++){var rt=A[Y];if(rt.__inHover&&(L=!0),f._doPaintEl(rt,J,v,ft,pt,Y===J.__endIndex-1),S){var et=Date.now()-W;if(et>15)break}}pt.prevElClipPaths&&F.restore()};if(H)if(H.length===0)Y=J.__endIndex;else for(var z=N.dpr,j=0;j<H.length;++j){var at=H[j];F.save(),F.beginPath(),F.rect(at.x*z,at.y*z,at.width*z,at.height*z),F.clip(),nt(at),F.restore()}else F.save(),nt(),F.restore();J.__drawIndex=Y,J.__drawIndex<J.__endIndex&&(x=!1)},N=this,G=0;G<u.length;G++)I(G);return m.Z.wxa&&s.S6(this._layers,function(K){K&&K.ctx&&K.ctx.draw&&K.ctx.draw()}),{finished:x,needsRefreshHover:L}},w.prototype._doPaintEl=function(A,E,d,f,u,v){var c=E.ctx;if(d){var g=A.getPaintRect();(!f||g&&g.intersect(f))&&((0,n.Dm)(c,A,u,v),A.setPrevPaintRect(g))}else(0,n.Dm)(c,A,u,v)},w.prototype.getLayer=function(A,E){this._singleCanvas&&!this._needsManuallyCompositing&&(A=y);var d=this._layers[A];return d||(d=new _("zr_"+A,this,this.dpr),d.zlevel=A,d.__builtin__=!0,this._layerConfig[A]?s.TS(d,this._layerConfig[A],!0):this._layerConfig[A-P]&&s.TS(d,this._layerConfig[A-P],!0),E&&(d.virtual=E),this.insertLayer(A,d),d.initContext()),d},w.prototype.insertLayer=function(A,E){var d=this._layers,f=this._zlevelList,u=f.length,v=this._domRoot,c=null,g=-1;if(!d[A]&&O(E)){if(u>0&&A>f[0]){for(g=0;g<u-1&&!(f[g]<A&&f[g+1]>A);g++);c=d[f[g]]}if(f.splice(g+1,0,A),d[A]=E,!E.virtual)if(c){var D=c.dom;D.nextSibling?v.insertBefore(E.dom,D.nextSibling):v.appendChild(E.dom)}else v.firstChild?v.insertBefore(E.dom,v.firstChild):v.appendChild(E.dom);E.__painter=this}},w.prototype.eachLayer=function(A,E){for(var d=this._zlevelList,f=0;f<d.length;f++){var u=d[f];A.call(E,this._layers[u],u)}},w.prototype.eachBuiltinLayer=function(A,E){for(var d=this._zlevelList,f=0;f<d.length;f++){var u=d[f],v=this._layers[u];v.__builtin__&&A.call(E,v,u)}},w.prototype.eachOtherLayer=function(A,E){for(var d=this._zlevelList,f=0;f<d.length;f++){var u=d[f],v=this._layers[u];v.__builtin__||A.call(E,v,u)}},w.prototype.getLayers=function(){return this._layers},w.prototype._updateLayerStatus=function(A){this.eachBuiltinLayer(function(L,I){L.__dirty=L.__used=!1});function E(L){u&&(u.__endIndex!==L&&(u.__dirty=!0),u.__endIndex=L)}if(this._singleCanvas)for(var d=1;d<A.length;d++){var f=A[d];if(f.zlevel!==A[d-1].zlevel||f.incremental){this._needsManuallyCompositing=!0;break}}var u=null,v=0,c,g;for(g=0;g<A.length;g++){var f=A[g],D=f.zlevel,x=void 0;c!==D&&(c=D,v=0),f.incremental?(x=this.getLayer(D+C,this._needsManuallyCompositing),x.incremental=!0,v=1):x=this.getLayer(D+(v>0?P:0),this._needsManuallyCompositing),x.__builtin__||s.H("ZLevel "+D+" has been used by unkown layer "+x.id),x!==u&&(x.__used=!0,x.__startIndex!==g&&(x.__dirty=!0),x.__startIndex=g,x.incremental?x.__drawIndex=-1:x.__drawIndex=g,E(g),u=x),f.__dirty&h.YV&&!f.__inHover&&(x.__dirty=!0,x.incremental&&x.__drawIndex<0&&(x.__drawIndex=g))}E(g),this.eachBuiltinLayer(function(L,I){!L.__used&&L.getElementCount()>0&&(L.__dirty=!0,L.__startIndex=L.__endIndex=L.__drawIndex=0),L.__dirty&&L.__drawIndex<0&&(L.__drawIndex=L.__startIndex)})},w.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},w.prototype._clearLayer=function(A){A.clear()},w.prototype.setBackgroundColor=function(A){this._backgroundColor=A,s.S6(this._layers,function(E){E.setUnpainted()})},w.prototype.configLayer=function(A,E){if(E){var d=this._layerConfig;d[A]?s.TS(d[A],E,!0):d[A]=E;for(var f=0;f<this._zlevelList.length;f++){var u=this._zlevelList[f];if(u===A||u===A+P){var v=this._layers[u];s.TS(v,d[A],!0)}}}},w.prototype.delLayer=function(A){var E=this._layers,d=this._zlevelList,f=E[A];f&&(f.dom.parentNode.removeChild(f.dom),delete E[A],d.splice(s.cq(d,A),1))},w.prototype.resize=function(A,E){if(this._domRoot.style){var d=this._domRoot;d.style.display="none";var f=this._opts,u=this.root;if(A!=null&&(f.width=A),E!=null&&(f.height=E),A=(0,e.ap)(u,0,f),E=(0,e.ap)(u,1,f),d.style.display="",this._width!==A||E!==this._height){d.style.width=A+"px",d.style.height=E+"px";for(var v in this._layers)this._layers.hasOwnProperty(v)&&this._layers[v].resize(A,E);this.refresh(!0)}this._width=A,this._height=E}else{if(A==null||E==null)return;this._width=A,this._height=E,this.getLayer(y).resize(A,E)}return this},w.prototype.clearLayer=function(A){var E=this._layers[A];E&&E.clear()},w.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},w.prototype.getRenderedCanvas=function(A){if(A=A||{},this._singleCanvas&&!this._compositeManually)return this._layers[y].dom;var E=new _("image",this,A.pixelRatio||this.dpr);E.initContext(),E.clear(!1,A.backgroundColor||this._backgroundColor);var d=E.ctx;if(A.pixelRatio<=this.dpr){this.refresh();var f=E.dom.width,u=E.dom.height;this.eachLayer(function(L){L.__builtin__?d.drawImage(L.dom,0,0,f,u):L.renderToCanvas&&(d.save(),L.renderToCanvas(d),d.restore())})}else for(var v={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),g=0,D=c.length;g<D;g++){var x=c[g];(0,n.Dm)(d,x,v,g===D-1)}return E.dom},w.prototype.getWidth=function(){return this._width},w.prototype.getHeight=function(){return this._height},w}(),b=U},85342:function(ht,q,R){"use strict";R.d(q,{a:function(){return t}});var p=R(70324);function s(r,e){return!r||r==="solid"||!(e>0)?null:r==="dashed"?[4*e,2*e]:r==="dotted"?[e]:(0,p.hj)(r)?[r]:(0,p.kJ)(r)?r:null}function t(r){var e=r.style,n=e.lineDash&&e.lineWidth>0&&s(e.lineDash,e.lineWidth),o=e.lineDashOffset;if(n){var h=e.strokeNoScale&&r.getLineScale?r.getLineScale():1;h&&h!==1&&(n=(0,p.UI)(n,function(i){return i/h}),o/=h)}return[n,o]}},87368:function(ht,q,R){"use strict";R.d(q,{Dm:function(){return K},RV:function(){return G},RZ:function(){return C}});var p=R(11635),s=R(29436),t=R(6850),r=R(89625),e=R(66210),n=R(13806),o=R(83007),h=R(70324),i=R(85342),a=R(53197),l=R(47297),_=new s.Z(!0);function M(F){var H=F.stroke;return!(H==null||H==="none"||!(F.lineWidth>0))}function m(F){return typeof F=="string"&&F!=="none"}function T(F){var H=F.fill;return H!=null&&H!=="none"}function y(F,H){if(H.fillOpacity!=null&&H.fillOpacity!==1){var V=F.globalAlpha;F.globalAlpha=H.fillOpacity*H.opacity,F.fill(),F.globalAlpha=V}else F.fill()}function P(F,H){if(H.strokeOpacity!=null&&H.strokeOpacity!==1){var V=F.globalAlpha;F.globalAlpha=H.strokeOpacity*H.opacity,F.stroke(),F.globalAlpha=V}else F.stroke()}function C(F,H,V){var S=(0,t.Gq)(H.image,H.__image,V);if((0,t.v5)(S)){var W=F.createPattern(S,H.repeat||"repeat");if(typeof DOMMatrix=="function"&&W&&W.setTransform){var B=new DOMMatrix;B.translateSelf(H.x||0,H.y||0),B.rotateSelf(0,0,(H.rotation||0)*h.I3),B.scaleSelf(H.scaleX||1,H.scaleY||1),W.setTransform(B)}return W}}function O(F,H,V,S){var W,B=M(V),X=T(V),Y=V.strokePercent,nt=Y<1,z=!H.path;(!H.silent||nt)&&z&&H.createPathProxy();var j=H.path||_,at=H.__dirty;if(!S){var ft=V.fill,pt=V.stroke,rt=X&&!!ft.colorStops,et=B&&!!pt.colorStops,ut=X&&!!ft.image,dt=B&&!!pt.image,ot=void 0,_t=void 0,lt=void 0,Mt=void 0,Dt=void 0;(rt||et)&&(Dt=H.getBoundingRect()),rt&&(ot=at?(0,r.ZF)(F,ft,Dt):H.__canvasFillGradient,H.__canvasFillGradient=ot),et&&(_t=at?(0,r.ZF)(F,pt,Dt):H.__canvasStrokeGradient,H.__canvasStrokeGradient=_t),ut&&(lt=at||!H.__canvasFillPattern?C(F,ft,H):H.__canvasFillPattern,H.__canvasFillPattern=lt),dt&&(Mt=at||!H.__canvasStrokePattern?C(F,pt,H):H.__canvasStrokePattern,H.__canvasStrokePattern=lt),rt?F.fillStyle=ot:ut&&(lt?F.fillStyle=lt:X=!1),et?F.strokeStyle=_t:dt&&(Mt?F.strokeStyle=Mt:B=!1)}var Et=H.getGlobalScale();j.setScale(Et[0],Et[1],H.segmentIgnoreThreshold);var St,It;F.setLineDash&&V.lineDash&&(W=(0,i.a)(H),St=W[0],It=W[1]);var mt=!0;(z||at&a.RH)&&(j.setDPR(F.dpr),nt?j.setContext(null):(j.setContext(F),mt=!1),j.reset(),H.buildPath(j,H.shape,S),j.toStatic(),H.pathUpdated()),mt&&j.rebuildPath(F,nt?Y:1),St&&(F.setLineDash(St),F.lineDashOffset=It),S||(V.strokeFirst?(B&&P(F,V),X&&y(F,V)):(X&&y(F,V),B&&P(F,V))),St&&F.setLineDash([])}function Z(F,H,V){var S=H.__image=(0,t.Gq)(V.image,H.__image,H,H.onload);if(!(!S||!(0,t.v5)(S))){var W=V.x||0,B=V.y||0,X=H.getWidth(),Y=H.getHeight(),nt=S.width/S.height;if(X==null&&Y!=null?X=Y*nt:Y==null&&X!=null?Y=X/nt:X==null&&Y==null&&(X=S.width,Y=S.height),V.sWidth&&V.sHeight){var z=V.sx||0,j=V.sy||0;F.drawImage(S,z,j,V.sWidth,V.sHeight,W,B,X,Y)}else if(V.sx&&V.sy){var z=V.sx,j=V.sy,at=X-z,ft=Y-j;F.drawImage(S,z,j,at,ft,W,B,X,Y)}else F.drawImage(S,W,B,X,Y)}}function U(F,H,V){var S,W=V.text;if(W!=null&&(W+=""),W){F.font=V.font||l.Uo,F.textAlign=V.textAlign,F.textBaseline=V.textBaseline;var B=void 0,X=void 0;F.setLineDash&&V.lineDash&&(S=(0,i.a)(H),B=S[0],X=S[1]),B&&(F.setLineDash(B),F.lineDashOffset=X),V.strokeFirst?(M(V)&&F.strokeText(W,V.x,V.y),T(V)&&F.fillText(W,V.x,V.y)):(T(V)&&F.fillText(W,V.x,V.y),M(V)&&F.strokeText(W,V.x,V.y)),B&&F.setLineDash([])}}var b=["shadowBlur","shadowOffsetX","shadowOffsetY"],w=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function A(F,H,V,S,W){var B=!1;if(!S&&(V=V||{},H===V))return!1;if(S||H.opacity!==V.opacity){I(F,W),B=!0;var X=Math.max(Math.min(H.opacity,1),0);F.globalAlpha=isNaN(X)?p.tj.opacity:X}(S||H.blend!==V.blend)&&(B||(I(F,W),B=!0),F.globalCompositeOperation=H.blend||p.tj.blend);for(var Y=0;Y<b.length;Y++){var nt=b[Y];(S||H[nt]!==V[nt])&&(B||(I(F,W),B=!0),F[nt]=F.dpr*(H[nt]||0))}return(S||H.shadowColor!==V.shadowColor)&&(B||(I(F,W),B=!0),F.shadowColor=H.shadowColor||p.tj.shadowColor),B}function E(F,H,V,S,W){var B=N(H,W.inHover),X=S?null:V&&N(V,W.inHover)||{};if(B===X)return!1;var Y=A(F,B,X,S,W);if((S||B.fill!==X.fill)&&(Y||(I(F,W),Y=!0),m(B.fill)&&(F.fillStyle=B.fill)),(S||B.stroke!==X.stroke)&&(Y||(I(F,W),Y=!0),m(B.stroke)&&(F.strokeStyle=B.stroke)),(S||B.opacity!==X.opacity)&&(Y||(I(F,W),Y=!0),F.globalAlpha=B.opacity==null?1:B.opacity),H.hasStroke()){var nt=B.lineWidth,z=nt/(B.strokeNoScale&&H.getLineScale?H.getLineScale():1);F.lineWidth!==z&&(Y||(I(F,W),Y=!0),F.lineWidth=z)}for(var j=0;j<w.length;j++){var at=w[j],ft=at[0];(S||B[ft]!==X[ft])&&(Y||(I(F,W),Y=!0),F[ft]=B[ft]||at[1])}return Y}function d(F,H,V,S,W){return A(F,N(H,W.inHover),V&&N(V,W.inHover),S,W)}function f(F,H){var V=H.transform,S=F.dpr||1;V?F.setTransform(S*V[0],S*V[1],S*V[2],S*V[3],S*V[4],S*V[5]):F.setTransform(S,0,0,S,0,0)}function u(F,H,V){for(var S=!1,W=0;W<F.length;W++){var B=F[W];S=S||B.isZeroArea(),f(H,B),H.beginPath(),B.buildPath(H,B.shape),H.clip()}V.allClipped=S}function v(F,H){return F&&H?F[0]!==H[0]||F[1]!==H[1]||F[2]!==H[2]||F[3]!==H[3]||F[4]!==H[4]||F[5]!==H[5]:!(!F&&!H)}var c=1,g=2,D=3,x=4;function L(F){var H=T(F),V=M(F);return!(F.lineDash||!(+H^+V)||H&&typeof F.fill!="string"||V&&typeof F.stroke!="string"||F.strokePercent<1||F.strokeOpacity<1||F.fillOpacity<1)}function I(F,H){H.batchFill&&F.fill(),H.batchStroke&&F.stroke(),H.batchFill="",H.batchStroke=""}function N(F,H){return H&&F.__hoverStyle||F.style}function G(F,H){K(F,H,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function K(F,H,V,S){var W=H.transform;if(!H.shouldBePainted(V.viewWidth,V.viewHeight,!1,!1)){H.__dirty&=~a.YV,H.__isRendered=!1;return}var B=H.__clipPaths,X=V.prevElClipPaths,Y=!1,nt=!1;if((!X||(0,r.cF)(B,X))&&(X&&X.length&&(I(F,V),F.restore(),nt=Y=!0,V.prevElClipPaths=null,V.allClipped=!1,V.prevEl=null),B&&B.length&&(I(F,V),F.save(),u(B,F,V),Y=!0),V.prevElClipPaths=B),V.allClipped){H.__isRendered=!1;return}H.beforeBrush&&H.beforeBrush(),H.innerBeforeBrush();var z=V.prevEl;z||(nt=Y=!0);var j=H instanceof e.ZP&&H.autoBatch&&L(H.style);Y||v(W,z.transform)?(I(F,V),f(F,H)):j||I(F,V);var at=N(H,V.inHover);H instanceof e.ZP?(V.lastDrawType!==c&&(nt=!0,V.lastDrawType=c),E(F,H,z,nt,V),(!j||!V.batchFill&&!V.batchStroke)&&F.beginPath(),O(F,H,at,j),j&&(V.batchFill=at.fill||"",V.batchStroke=at.stroke||"")):H instanceof o.Z?(V.lastDrawType!==D&&(nt=!0,V.lastDrawType=D),E(F,H,z,nt,V),U(F,H,at)):H instanceof n.ZP?(V.lastDrawType!==g&&(nt=!0,V.lastDrawType=g),d(F,H,z,nt,V),Z(F,H,at)):H.getTemporalDisplayables&&(V.lastDrawType!==x&&(nt=!0,V.lastDrawType=x),J(F,H,V)),j&&S&&I(F,V),H.innerAfterBrush(),H.afterBrush&&H.afterBrush(),V.prevEl=H,H.__dirty=0,H.__isRendered=!0}function J(F,H,V){var S=H.getDisplayables(),W=H.getTemporalDisplayables();F.save();var B={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:V.viewWidth,viewHeight:V.viewHeight,inHover:V.inHover},X,Y;for(X=H.getCursor(),Y=S.length;X<Y;X++){var nt=S[X];nt.beforeBrush&&nt.beforeBrush(),nt.innerBeforeBrush(),K(F,nt,B,X===Y-1),nt.innerAfterBrush(),nt.afterBrush&&nt.afterBrush(),B.prevEl=nt}for(var z=0,j=W.length;z<j;z++){var nt=W[z];nt.beforeBrush&&nt.beforeBrush(),nt.innerBeforeBrush(),K(F,nt,B,z===j-1),nt.innerAfterBrush(),nt.afterBrush&&nt.afterBrush(),B.prevEl=nt}H.clearTemporalDisplayables(),H.notClear=!0,F.restore()}},89625:function(ht,q,R){"use strict";R.d(q,{ZF:function(){return r},ap:function(){return o},cF:function(){return e}});function p(h){return isFinite(h)}function s(h,i,a){var l=i.x==null?0:i.x,_=i.x2==null?1:i.x2,M=i.y==null?0:i.y,m=i.y2==null?0:i.y2;i.global||(l=l*a.width+a.x,_=_*a.width+a.x,M=M*a.height+a.y,m=m*a.height+a.y),l=p(l)?l:0,_=p(_)?_:1,M=p(M)?M:0,m=p(m)?m:0;var T=h.createLinearGradient(l,M,_,m);return T}function t(h,i,a){var l=a.width,_=a.height,M=Math.min(l,_),m=i.x==null?.5:i.x,T=i.y==null?.5:i.y,y=i.r==null?.5:i.r;i.global||(m=m*l+a.x,T=T*_+a.y,y=y*M),m=p(m)?m:.5,T=p(T)?T:.5,y=y>=0&&p(y)?y:.5;var P=h.createRadialGradient(m,T,0,m,T,y);return P}function r(h,i,a){for(var l=i.type==="radial"?t(h,i,a):s(h,i,a),_=i.colorStops,M=0;M<_.length;M++)l.addColorStop(_[M].offset,_[M].color);return l}function e(h,i){if(h===i||!h&&!i)return!1;if(!h||!i||h.length!==i.length)return!0;for(var a=0;a<h.length;a++)if(h[a]!==i[a])return!0;return!1}function n(h){return parseInt(h,10)}function o(h,i,a){var l=["width","height"][i],_=["clientWidth","clientHeight"][i],M=["paddingLeft","paddingTop"][i],m=["paddingRight","paddingBottom"][i];if(a[l]!=null&&a[l]!=="auto")return parseFloat(a[l]);var T=document.defaultView.getComputedStyle(h);return(h[_]||n(T[l])||n(h.style[l]))-(n(T[M])||0)-(n(T[m])||0)|0}},62623:function(ht,q,R){"use strict";R.d(q,{Ak:function(){return e},GD:function(){return o},KL:function(){return r},iv:function(){return h},vU:function(){return n}});var p=R(54490),s=1;p.Z.hasGlobalWindow&&(s=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var t=0,r=s,e=.4,n="#333",o="#ccc",h="#eee"},35849:function(ht,q,R){"use strict";R.d(q,{m:function(){return p}});function p(s,t,r,e,n,o,h){if(n===0)return!1;var i=n,a=0,l=s;if(h>t+i&&h>e+i||h<t-i&&h<e-i||o>s+i&&o>r+i||o<s-i&&o<r-i)return!1;if(s!==r)a=(t-e)/(s-r),l=(s*e-r*t)/(s-r);else return Math.abs(o-s)<=i/2;var _=a*o-h+l,M=_*_/(a*a+1);return M<=i/2*i/2}},48154:function(ht,q,R){"use strict";R.d(q,{X:function(){return r}});var p=R(99271),s=1e-8;function t(e,n){return Math.abs(e-n)<s}function r(e,n,o){var h=0,i=e[0];if(!i)return!1;for(var a=1;a<e.length;a++){var l=e[a];h+=(0,p.Z)(i[0],i[1],l[0],l[1],n,o),i=l}var _=e[0];return(!t(i[0],_[0])||!t(i[1],_[1]))&&(h+=(0,p.Z)(i[0],i[1],_[0],_[1],n,o)),h!==0}},48610:function(ht,q,R){"use strict";R.d(q,{m:function(){return s}});var p=R(14296);function s(t,r,e,n,o,h,i,a,l){if(i===0)return!1;var _=i;if(l>r+_&&l>n+_&&l>h+_||l<r-_&&l<n-_&&l<h-_||a>t+_&&a>e+_&&a>o+_||a<t-_&&a<e-_&&a<o-_)return!1;var M=(0,p.Wr)(t,r,e,n,o,h,a,l,null);return M<=_/2}},98733:function(ht,q,R){"use strict";R.d(q,{Dp:function(){return a},GM:function(){return _},M3:function(){return h},dz:function(){return e},lP:function(){return o},mU:function(){return i},wI:function(){return M}});var p=R(16128),s=R(86280),t=R(47297),r={};function e(m,T){T=T||t.Uo;var y=r[T];y||(y=r[T]=new s.ZP(500));var P=y.get(m);return P==null&&(P=t.qW.measureText(m,T).width,y.put(m,P)),P}function n(m,T,y,P){var C=e(m,T),O=a(T),Z=h(0,C,y),U=i(0,O,P),b=new p.Z(Z,U,C,O);return b}function o(m,T,y,P){var C=((m||"")+"").split(`
`),O=C.length;if(O===1)return n(C[0],T,y,P);for(var Z=new p.Z(0,0,0,0),U=0;U<C.length;U++){var b=n(C[U],T,y,P);U===0?Z.copy(b):Z.union(b)}return Z}function h(m,T,y){return y==="right"?m-=T:y==="center"&&(m-=T/2),m}function i(m,T,y){return y==="middle"?m-=T/2:y==="bottom"&&(m-=T),m}function a(m){return e("\u56FD",m)}function l(m,T){return platformApi.measureText(m,T)}function _(m,T){return typeof m=="string"?m.lastIndexOf("%")>=0?parseFloat(m)/100*T:parseFloat(m):m}function M(m,T,y){var P=T.position||"inside",C=T.distance!=null?T.distance:5,O=y.height,Z=y.width,U=O/2,b=y.x,w=y.y,A="left",E="top";if(P instanceof Array)b+=_(P[0],y.width),w+=_(P[1],y.height),A=null,E=null;else switch(P){case"left":b-=C,w+=U,A="right",E="middle";break;case"right":b+=C+Z,w+=U,E="middle";break;case"top":b+=Z/2,w-=C,A="center",E="bottom";break;case"bottom":b+=Z/2,w+=O+C,A="center";break;case"inside":b+=Z/2,w+=U,A="center",E="middle";break;case"insideLeft":b+=C,w+=U,E="middle";break;case"insideRight":b+=Z-C,w+=U,A="right",E="middle";break;case"insideTop":b+=Z/2,w+=C,A="center";break;case"insideBottom":b+=Z/2,w+=O-C,A="center",E="bottom";break;case"insideTopLeft":b+=C,w+=C;break;case"insideTopRight":b+=Z-C,w+=C,A="right";break;case"insideBottomLeft":b+=C,w+=O-C,E="bottom";break;case"insideBottomRight":b+=Z-C,w+=O-C,A="right",E="bottom";break}return m=m||{},m.x=b,m.y=w,m.align=A,m.verticalAlign=E,m}},47833:function(ht,q,R){"use strict";R.d(q,{m:function(){return s}});var p=Math.PI*2;function s(t){return t%=p,t<0&&(t+=p),t}},99271:function(ht,q,R){"use strict";R.d(q,{Z:function(){return p}});function p(s,t,r,e,n,o){if(o>t&&o>e||o<t&&o<e||e===t)return 0;var h=(o-t)/(e-t),i=e<t?1:-1;(h===1||h===0)&&(i=e<t?.5:-.5);var a=h*(r-s)+s;return a===n?1/0:a>n?i:0}},16128:function(ht,q,R){"use strict";var p=R(58427),s=R(73913),t=Math.min,r=Math.max,e=new s.Z,n=new s.Z,o=new s.Z,h=new s.Z,i=new s.Z,a=new s.Z,l=function(){function _(M,m,T,y){T<0&&(M=M+T,T=-T),y<0&&(m=m+y,y=-y),this.x=M,this.y=m,this.width=T,this.height=y}return _.prototype.union=function(M){var m=t(M.x,this.x),T=t(M.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=r(M.x+M.width,this.x+this.width)-m:this.width=M.width,isFinite(this.y)&&isFinite(this.height)?this.height=r(M.y+M.height,this.y+this.height)-T:this.height=M.height,this.x=m,this.y=T},_.prototype.applyTransform=function(M){_.applyTransform(this,this,M)},_.prototype.calculateTransform=function(M){var m=this,T=M.width/m.width,y=M.height/m.height,P=p.Ue();return p.Iu(P,P,[-m.x,-m.y]),p.bA(P,P,[T,y]),p.Iu(P,P,[M.x,M.y]),P},_.prototype.intersect=function(M,m){if(!M)return!1;M instanceof _||(M=_.create(M));var T=this,y=T.x,P=T.x+T.width,C=T.y,O=T.y+T.height,Z=M.x,U=M.x+M.width,b=M.y,w=M.y+M.height,A=!(P<Z||U<y||O<b||w<C);if(m){var E=1/0,d=0,f=Math.abs(P-Z),u=Math.abs(U-y),v=Math.abs(O-b),c=Math.abs(w-C),g=Math.min(f,u),D=Math.min(v,c);P<Z||U<y?g>d&&(d=g,f<u?s.Z.set(a,-f,0):s.Z.set(a,u,0)):g<E&&(E=g,f<u?s.Z.set(i,f,0):s.Z.set(i,-u,0)),O<b||w<C?D>d&&(d=D,v<c?s.Z.set(a,0,-v):s.Z.set(a,0,c)):g<E&&(E=g,v<c?s.Z.set(i,0,v):s.Z.set(i,0,-c))}return m&&s.Z.copy(m,A?i:a),A},_.prototype.contain=function(M,m){var T=this;return M>=T.x&&M<=T.x+T.width&&m>=T.y&&m<=T.y+T.height},_.prototype.clone=function(){return new _(this.x,this.y,this.width,this.height)},_.prototype.copy=function(M){_.copy(this,M)},_.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},_.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},_.prototype.isZero=function(){return this.width===0||this.height===0},_.create=function(M){return new _(M.x,M.y,M.width,M.height)},_.copy=function(M,m){M.x=m.x,M.y=m.y,M.width=m.width,M.height=m.height},_.applyTransform=function(M,m,T){if(!T){M!==m&&_.copy(M,m);return}if(T[1]<1e-5&&T[1]>-1e-5&&T[2]<1e-5&&T[2]>-1e-5){var y=T[0],P=T[3],C=T[4],O=T[5];M.x=m.x*y+C,M.y=m.y*P+O,M.width=m.width*y,M.height=m.height*P,M.width<0&&(M.x+=M.width,M.width=-M.width),M.height<0&&(M.y+=M.height,M.height=-M.height);return}e.x=o.x=m.x,e.y=h.y=m.y,n.x=h.x=m.x+m.width,n.y=o.y=m.y+m.height,e.transform(T),h.transform(T),n.transform(T),o.transform(T),M.x=t(e.x,n.x,o.x,h.x),M.y=t(e.y,n.y,o.y,h.y);var Z=r(e.x,n.x,o.x,h.x),U=r(e.y,n.y,o.y,h.y);M.width=Z-M.x,M.height=U-M.y},_}();q.Z=l},10563:function(ht,q){"use strict";var R=function(){function p(s){s&&(this._$eventProcessor=s)}return p.prototype.on=function(s,t,r,e){this._$handlers||(this._$handlers={});var n=this._$handlers;if(typeof t=="function"&&(e=r,r=t,t=null),!r||!s)return this;var o=this._$eventProcessor;t!=null&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),n[s]||(n[s]=[]);for(var h=0;h<n[s].length;h++)if(n[s][h].h===r)return this;var i={h:r,query:t,ctx:e||this,callAtLast:r.zrEventfulCallAtLast},a=n[s].length-1,l=n[s][a];return l&&l.callAtLast?n[s].splice(a,0,i):n[s].push(i),this},p.prototype.isSilent=function(s){var t=this._$handlers;return!t||!t[s]||!t[s].length},p.prototype.off=function(s,t){var r=this._$handlers;if(!r)return this;if(!s)return this._$handlers={},this;if(t){if(r[s]){for(var e=[],n=0,o=r[s].length;n<o;n++)r[s][n].h!==t&&e.push(r[s][n]);r[s]=e}r[s]&&r[s].length===0&&delete r[s]}else delete r[s];return this},p.prototype.trigger=function(s){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var e=this._$handlers[s],n=this._$eventProcessor;if(e)for(var o=t.length,h=e.length,i=0;i<h;i++){var a=e[i];if(!(n&&n.filter&&a.query!=null&&!n.filter(s,a.query)))switch(o){case 0:a.h.call(a.ctx);break;case 1:a.h.call(a.ctx,t[0]);break;case 2:a.h.call(a.ctx,t[0],t[1]);break;default:a.h.apply(a.ctx,t);break}}return n&&n.afterTrigger&&n.afterTrigger(s),this},p.prototype.triggerWithContext=function(s){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var e=this._$handlers[s],n=this._$eventProcessor;if(e)for(var o=t.length,h=t[o-1],i=e.length,a=0;a<i;a++){var l=e[a];if(!(n&&n.filter&&l.query!=null&&!n.filter(s,l.query)))switch(o){case 0:l.h.call(h);break;case 1:l.h.call(h,t[0]);break;case 2:l.h.call(h,t[0],t[1]);break;default:l.h.apply(h,t.slice(1,o-1));break}}return n&&n.afterTrigger&&n.afterTrigger(s),this},p}();q.Z=R},86280:function(ht,q,R){"use strict";var p=function(){function r(e){this.value=e}return r}(),s=function(){function r(){this._len=0}return r.prototype.insert=function(e){var n=new p(e);return this.insertEntry(n),n},r.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.prototype.remove=function(e){var n=e.prev,o=e.next;n?n.next=o:this.head=o,o?o.prev=n:this.tail=n,e.next=e.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),t=function(){function r(e){this._list=new s,this._maxSize=10,this._map={},this._maxSize=e}return r.prototype.put=function(e,n){var o=this._list,h=this._map,i=null;if(h[e]==null){var a=o.len(),l=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var _=o.head;o.remove(_),delete h[_.key],i=_.value,this._lastRemovedEntry=_}l?l.value=n:l=new p(n),l.key=e,o.insertEntry(l),h[e]=l}return i},r.prototype.get=function(e){var n=this._map[e],o=this._list;if(n!=null)return n!==o.tail&&(o.remove(n),o.insertEntry(n)),n.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}();q.ZP=t},23736:function(ht,q,R){"use strict";var p=R(73913),s=[0,0],t=[0,0],r=new p.Z,e=new p.Z,n=function(){function o(h,i){this._corners=[],this._axes=[],this._origin=[0,0];for(var a=0;a<4;a++)this._corners[a]=new p.Z;for(var a=0;a<2;a++)this._axes[a]=new p.Z;h&&this.fromBoundingRect(h,i)}return o.prototype.fromBoundingRect=function(h,i){var a=this._corners,l=this._axes,_=h.x,M=h.y,m=_+h.width,T=M+h.height;if(a[0].set(_,M),a[1].set(m,M),a[2].set(m,T),a[3].set(_,T),i)for(var y=0;y<4;y++)a[y].transform(i);p.Z.sub(l[0],a[1],a[0]),p.Z.sub(l[1],a[3],a[0]),l[0].normalize(),l[1].normalize();for(var y=0;y<2;y++)this._origin[y]=l[y].dot(a[0])},o.prototype.intersect=function(h,i){var a=!0,l=!i;return r.set(1/0,1/0),e.set(0,0),!this._intersectCheckOneSide(this,h,r,e,l,1)&&(a=!1,l)||!this._intersectCheckOneSide(h,this,r,e,l,-1)&&(a=!1,l)||l||p.Z.copy(i,a?r:e),a},o.prototype._intersectCheckOneSide=function(h,i,a,l,_,M){for(var m=!0,T=0;T<2;T++){var y=this._axes[T];if(this._getProjMinMaxOnAxis(T,h._corners,s),this._getProjMinMaxOnAxis(T,i._corners,t),s[1]<t[0]||s[0]>t[1]){if(m=!1,_)return m;var P=Math.abs(t[0]-s[1]),C=Math.abs(s[0]-t[1]);Math.min(P,C)>l.len()&&(P<C?p.Z.scale(l,y,-P*M):p.Z.scale(l,y,C*M))}else if(a){var P=Math.abs(t[0]-s[1]),C=Math.abs(s[0]-t[1]);Math.min(P,C)<a.len()&&(P<C?p.Z.scale(a,y,P*M):p.Z.scale(a,y,-C*M))}}return m},o.prototype._getProjMinMaxOnAxis=function(h,i,a){for(var l=this._axes[h],_=this._origin,M=i[0].dot(l)+_[h],m=M,T=M,y=1;y<i.length;y++){var P=i[y].dot(l)+_[h];m=Math.min(P,m),T=Math.max(P,T)}a[0]=m,a[1]=T},o}();q.Z=n},29436:function(ht,q,R){"use strict";R.d(q,{L:function(){return w}});var p=R(85755),s=R(16128),t=R(62623),r=R(19169),e=R(14296),n={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},o=[],h=[],i=[],a=[],l=[],_=[],M=Math.min,m=Math.max,T=Math.cos,y=Math.sin,P=Math.abs,C=Math.PI,O=C*2,Z=typeof Float32Array!="undefined",U=[];function b(E){var d=Math.round(E/C*1e8)/1e8;return d%2*C}function w(E,d){var f=b(E[0]);f<0&&(f+=O);var u=f-E[0],v=E[1];v+=u,!d&&v-f>=O?v=f+O:d&&f-v>=O?v=f-O:!d&&f>v?v=f+(O-b(f-v)):d&&f<v&&(v=f-(O-b(v-f))),E[0]=f,E[1]=v}var A=function(){function E(d){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,d&&(this._saveData=!1),this._saveData&&(this.data=[])}return E.prototype.increaseVersion=function(){this._version++},E.prototype.getVersion=function(){return this._version},E.prototype.setScale=function(d,f,u){u=u||0,u>0&&(this._ux=P(u/t.KL/d)||0,this._uy=P(u/t.KL/f)||0)},E.prototype.setDPR=function(d){this.dpr=d},E.prototype.setContext=function(d){this._ctx=d},E.prototype.getContext=function(){return this._ctx},E.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},E.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},E.prototype.moveTo=function(d,f){return this._drawPendingPt(),this.addData(n.M,d,f),this._ctx&&this._ctx.moveTo(d,f),this._x0=d,this._y0=f,this._xi=d,this._yi=f,this},E.prototype.lineTo=function(d,f){var u=P(d-this._xi),v=P(f-this._yi),c=u>this._ux||v>this._uy;if(this.addData(n.L,d,f),this._ctx&&c&&this._ctx.lineTo(d,f),c)this._xi=d,this._yi=f,this._pendingPtDist=0;else{var g=u*u+v*v;g>this._pendingPtDist&&(this._pendingPtX=d,this._pendingPtY=f,this._pendingPtDist=g)}return this},E.prototype.bezierCurveTo=function(d,f,u,v,c,g){return this._drawPendingPt(),this.addData(n.C,d,f,u,v,c,g),this._ctx&&this._ctx.bezierCurveTo(d,f,u,v,c,g),this._xi=c,this._yi=g,this},E.prototype.quadraticCurveTo=function(d,f,u,v){return this._drawPendingPt(),this.addData(n.Q,d,f,u,v),this._ctx&&this._ctx.quadraticCurveTo(d,f,u,v),this._xi=u,this._yi=v,this},E.prototype.arc=function(d,f,u,v,c,g){this._drawPendingPt(),U[0]=v,U[1]=c,w(U,g),v=U[0],c=U[1];var D=c-v;return this.addData(n.A,d,f,u,u,v,D,0,g?0:1),this._ctx&&this._ctx.arc(d,f,u,v,c,g),this._xi=T(c)*u+d,this._yi=y(c)*u+f,this},E.prototype.arcTo=function(d,f,u,v,c){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(d,f,u,v,c),this},E.prototype.rect=function(d,f,u,v){return this._drawPendingPt(),this._ctx&&this._ctx.rect(d,f,u,v),this.addData(n.R,d,f,u,v),this},E.prototype.closePath=function(){this._drawPendingPt(),this.addData(n.Z);var d=this._ctx,f=this._x0,u=this._y0;return d&&d.closePath(),this._xi=f,this._yi=u,this},E.prototype.fill=function(d){d&&d.fill(),this.toStatic()},E.prototype.stroke=function(d){d&&d.stroke(),this.toStatic()},E.prototype.len=function(){return this._len},E.prototype.setData=function(d){var f=d.length;!(this.data&&this.data.length===f)&&Z&&(this.data=new Float32Array(f));for(var u=0;u<f;u++)this.data[u]=d[u];this._len=f},E.prototype.appendPath=function(d){d instanceof Array||(d=[d]);for(var f=d.length,u=0,v=this._len,c=0;c<f;c++)u+=d[c].len();Z&&this.data instanceof Float32Array&&(this.data=new Float32Array(v+u));for(var c=0;c<f;c++)for(var g=d[c].data,D=0;D<g.length;D++)this.data[v++]=g[D];this._len=v},E.prototype.addData=function(d,f,u,v,c,g,D,x,L){if(this._saveData){var I=this.data;this._len+arguments.length>I.length&&(this._expandData(),I=this.data);for(var N=0;N<arguments.length;N++)I[this._len++]=arguments[N]}},E.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},E.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var d=[],f=0;f<this._len;f++)d[f]=this.data[f];this.data=d}},E.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var d=this.data;d instanceof Array&&(d.length=this._len,Z&&this._len>11&&(this.data=new Float32Array(d)))}},E.prototype.getBoundingRect=function(){i[0]=i[1]=l[0]=l[1]=Number.MAX_VALUE,a[0]=a[1]=_[0]=_[1]=-Number.MAX_VALUE;var d=this.data,f=0,u=0,v=0,c=0,g;for(g=0;g<this._len;){var D=d[g++],x=g===1;switch(x&&(f=d[g],u=d[g+1],v=f,c=u),D){case n.M:f=v=d[g++],u=c=d[g++],l[0]=v,l[1]=c,_[0]=v,_[1]=c;break;case n.L:(0,r.u4)(f,u,d[g],d[g+1],l,_),f=d[g++],u=d[g++];break;case n.C:(0,r.H9)(f,u,d[g++],d[g++],d[g++],d[g++],d[g],d[g+1],l,_),f=d[g++],u=d[g++];break;case n.Q:(0,r.mJ)(f,u,d[g++],d[g++],d[g],d[g+1],l,_),f=d[g++],u=d[g++];break;case n.A:var L=d[g++],I=d[g++],N=d[g++],G=d[g++],K=d[g++],J=d[g++]+K;g+=1;var F=!d[g++];x&&(v=T(K)*N+L,c=y(K)*G+I),(0,r.qL)(L,I,N,G,K,J,F,l,_),f=T(J)*N+L,u=y(J)*G+I;break;case n.R:v=f=d[g++],c=u=d[g++];var H=d[g++],V=d[g++];(0,r.u4)(v,c,v+H,c+V,l,_);break;case n.Z:f=v,u=c;break}p.VV(i,i,l),p.Fp(a,a,_)}return g===0&&(i[0]=i[1]=a[0]=a[1]=0),new s.Z(i[0],i[1],a[0]-i[0],a[1]-i[1])},E.prototype._calculateLength=function(){var d=this.data,f=this._len,u=this._ux,v=this._uy,c=0,g=0,D=0,x=0;this._pathSegLen||(this._pathSegLen=[]);for(var L=this._pathSegLen,I=0,N=0,G=0;G<f;){var K=d[G++],J=G===1;J&&(c=d[G],g=d[G+1],D=c,x=g);var F=-1;switch(K){case n.M:c=D=d[G++],g=x=d[G++];break;case n.L:{var H=d[G++],V=d[G++],S=H-c,W=V-g;(P(S)>u||P(W)>v||G===f-1)&&(F=Math.sqrt(S*S+W*W),c=H,g=V);break}case n.C:{var B=d[G++],X=d[G++],H=d[G++],V=d[G++],Y=d[G++],nt=d[G++];F=(0,e.Ci)(c,g,B,X,H,V,Y,nt,10),c=Y,g=nt;break}case n.Q:{var B=d[G++],X=d[G++],H=d[G++],V=d[G++];F=(0,e.wQ)(c,g,B,X,H,V,10),c=H,g=V;break}case n.A:var z=d[G++],j=d[G++],at=d[G++],ft=d[G++],pt=d[G++],rt=d[G++],et=rt+pt;G+=1;var ut=!d[G++];J&&(D=T(pt)*at+z,x=y(pt)*ft+j),F=m(at,ft)*M(O,Math.abs(rt)),c=T(et)*at+z,g=y(et)*ft+j;break;case n.R:{D=c=d[G++],x=g=d[G++];var dt=d[G++],ot=d[G++];F=dt*2+ot*2;break}case n.Z:{var S=D-c,W=x-g;F=Math.sqrt(S*S+W*W),c=D,g=x;break}}F>=0&&(L[N++]=F,I+=F)}return this._pathLen=I,I},E.prototype.rebuildPath=function(d,f){var u=this.data,v=this._ux,c=this._uy,g=this._len,D,x,L,I,N,G,K=f<1,J,F,H=0,V=0,S,W=0,B,X;if(!(K&&(this._pathSegLen||this._calculateLength(),J=this._pathSegLen,F=this._pathLen,S=f*F,!S)))t:for(var Y=0;Y<g;){var nt=u[Y++],z=Y===1;switch(z&&(L=u[Y],I=u[Y+1],D=L,x=I),nt!==n.L&&W>0&&(d.lineTo(B,X),W=0),nt){case n.M:D=L=u[Y++],x=I=u[Y++],d.moveTo(L,I);break;case n.L:{N=u[Y++],G=u[Y++];var j=P(N-L),at=P(G-I);if(j>v||at>c){if(K){var ft=J[V++];if(H+ft>S){var pt=(S-H)/ft;d.lineTo(L*(1-pt)+N*pt,I*(1-pt)+G*pt);break t}H+=ft}d.lineTo(N,G),L=N,I=G,W=0}else{var rt=j*j+at*at;rt>W&&(B=N,X=G,W=rt)}break}case n.C:{var et=u[Y++],ut=u[Y++],dt=u[Y++],ot=u[Y++],_t=u[Y++],lt=u[Y++];if(K){var ft=J[V++];if(H+ft>S){var pt=(S-H)/ft;(0,e.Vz)(L,et,dt,_t,pt,o),(0,e.Vz)(I,ut,ot,lt,pt,h),d.bezierCurveTo(o[1],h[1],o[2],h[2],o[3],h[3]);break t}H+=ft}d.bezierCurveTo(et,ut,dt,ot,_t,lt),L=_t,I=lt;break}case n.Q:{var et=u[Y++],ut=u[Y++],dt=u[Y++],ot=u[Y++];if(K){var ft=J[V++];if(H+ft>S){var pt=(S-H)/ft;(0,e.Lx)(L,et,dt,pt,o),(0,e.Lx)(I,ut,ot,pt,h),d.quadraticCurveTo(o[1],h[1],o[2],h[2]);break t}H+=ft}d.quadraticCurveTo(et,ut,dt,ot),L=dt,I=ot;break}case n.A:var Mt=u[Y++],Dt=u[Y++],Et=u[Y++],St=u[Y++],It=u[Y++],mt=u[Y++],xt=u[Y++],Rt=!u[Y++],k=Et>St?Et:St,tt=P(Et-St)>.001,gt=It+mt,Pt=!1;if(K){var ft=J[V++];H+ft>S&&(gt=It+mt*(S-H)/ft,Pt=!0),H+=ft}if(tt&&d.ellipse?d.ellipse(Mt,Dt,Et,St,xt,It,gt,Rt):d.arc(Mt,Dt,k,It,gt,Rt),Pt)break t;z&&(D=T(It)*Et+Mt,x=y(It)*St+Dt),L=T(gt)*Et+Mt,I=y(gt)*St+Dt;break;case n.R:D=L=u[Y],x=I=u[Y+1],N=u[Y++],G=u[Y++];var Q=u[Y++],$=u[Y++];if(K){var ft=J[V++];if(H+ft>S){var it=S-H;d.moveTo(N,G),d.lineTo(N+M(it,Q),G),it-=Q,it>0&&d.lineTo(N+Q,G+M(it,$)),it-=$,it>0&&d.lineTo(N+m(Q-it,0),G+$),it-=Q,it>0&&d.lineTo(N,G+m($-it,0));break t}H+=ft}d.rect(N,G,Q,$);break;case n.Z:if(K){var ft=J[V++];if(H+ft>S){var pt=(S-H)/ft;d.lineTo(L*(1-pt)+D*pt,I*(1-pt)+x*pt);break t}H+=ft}d.closePath(),L=D,I=x}}},E.prototype.clone=function(){var d=new E,f=this.data;return d.data=f.slice?f.slice():Array.prototype.slice.call(f),d._len=this._len,d},E.CMD=n,E.initDefaultProps=function(){var d=E.prototype;d._saveData=!0,d._ux=0,d._uy=0,d._pendingPtDist=0,d._version=0}(),E}();q.Z=A},73913:function(ht,q){"use strict";var R=function(){function p(s,t){this.x=s||0,this.y=t||0}return p.prototype.copy=function(s){return this.x=s.x,this.y=s.y,this},p.prototype.clone=function(){return new p(this.x,this.y)},p.prototype.set=function(s,t){return this.x=s,this.y=t,this},p.prototype.equal=function(s){return s.x===this.x&&s.y===this.y},p.prototype.add=function(s){return this.x+=s.x,this.y+=s.y,this},p.prototype.scale=function(s){this.x*=s,this.y*=s},p.prototype.scaleAndAdd=function(s,t){this.x+=s.x*t,this.y+=s.y*t},p.prototype.sub=function(s){return this.x-=s.x,this.y-=s.y,this},p.prototype.dot=function(s){return this.x*s.x+this.y*s.y},p.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},p.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},p.prototype.normalize=function(){var s=this.len();return this.x/=s,this.y/=s,this},p.prototype.distance=function(s){var t=this.x-s.x,r=this.y-s.y;return Math.sqrt(t*t+r*r)},p.prototype.distanceSquare=function(s){var t=this.x-s.x,r=this.y-s.y;return t*t+r*r},p.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},p.prototype.transform=function(s){if(s){var t=this.x,r=this.y;return this.x=s[0]*t+s[2]*r+s[4],this.y=s[1]*t+s[3]*r+s[5],this}},p.prototype.toArray=function(s){return s[0]=this.x,s[1]=this.y,s},p.prototype.fromArray=function(s){this.x=s[0],this.y=s[1]},p.set=function(s,t,r){s.x=t,s.y=r},p.copy=function(s,t){s.x=t.x,s.y=t.y},p.len=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},p.lenSquare=function(s){return s.x*s.x+s.y*s.y},p.dot=function(s,t){return s.x*t.x+s.y*t.y},p.add=function(s,t,r){s.x=t.x+r.x,s.y=t.y+r.y},p.sub=function(s,t,r){s.x=t.x-r.x,s.y=t.y-r.y},p.scale=function(s,t,r){s.x=t.x*r,s.y=t.y*r},p.scaleAndAdd=function(s,t,r,e){s.x=t.x+r.x*e,s.y=t.y+r.y*e},p.lerp=function(s,t,r,e){var n=1-e;s.x=n*t.x+e*r.x,s.y=n*t.y+e*r.y},p}();q.Z=R},23463:function(ht,q,R){"use strict";R.d(q,{dN:function(){return l},kY:function(){return _}});var p=R(58427),s=R(85755),t=p.yR,r=5e-5;function e(M){return M>r||M<-r}var n=[],o=[],h=p.Ue(),i=Math.abs,a=function(){function M(){}return M.prototype.getLocalTransform=function(m){return M.getLocalTransform(this,m)},M.prototype.setPosition=function(m){this.x=m[0],this.y=m[1]},M.prototype.setScale=function(m){this.scaleX=m[0],this.scaleY=m[1]},M.prototype.setSkew=function(m){this.skewX=m[0],this.skewY=m[1]},M.prototype.setOrigin=function(m){this.originX=m[0],this.originY=m[1]},M.prototype.needLocalTransform=function(){return e(this.rotation)||e(this.x)||e(this.y)||e(this.scaleX-1)||e(this.scaleY-1)||e(this.skewX)||e(this.skewY)},M.prototype.updateTransform=function(){var m=this.parent&&this.parent.transform,T=this.needLocalTransform(),y=this.transform;if(!(T||m)){y&&t(y);return}y=y||p.Ue(),T?this.getLocalTransform(y):t(y),m&&(T?p.dC(y,m,y):p.JG(y,m)),this.transform=y,this._resolveGlobalScaleRatio(y)},M.prototype._resolveGlobalScaleRatio=function(m){var T=this.globalScaleRatio;if(T!=null&&T!==1){this.getGlobalScale(n);var y=n[0]<0?-1:1,P=n[1]<0?-1:1,C=((n[0]-y)*T+y)/n[0]||0,O=((n[1]-P)*T+P)/n[1]||0;m[0]*=C,m[1]*=C,m[2]*=O,m[3]*=O}this.invTransform=this.invTransform||p.Ue(),p.U_(this.invTransform,m)},M.prototype.getComputedTransform=function(){for(var m=this,T=[];m;)T.push(m),m=m.parent;for(;m=T.pop();)m.updateTransform();return this.transform},M.prototype.setLocalTransform=function(m){if(m){var T=m[0]*m[0]+m[1]*m[1],y=m[2]*m[2]+m[3]*m[3],P=Math.atan2(m[1],m[0]),C=Math.PI/2+P-Math.atan2(m[3],m[2]);y=Math.sqrt(y)*Math.cos(C),T=Math.sqrt(T),this.skewX=C,this.skewY=0,this.rotation=-P,this.x=+m[4],this.y=+m[5],this.scaleX=T,this.scaleY=y,this.originX=0,this.originY=0}},M.prototype.decomposeTransform=function(){if(this.transform){var m=this.parent,T=this.transform;m&&m.transform&&(p.dC(o,m.invTransform,T),T=o);var y=this.originX,P=this.originY;(y||P)&&(h[4]=y,h[5]=P,p.dC(o,T,h),o[4]-=y,o[5]-=P,T=o),this.setLocalTransform(T)}},M.prototype.getGlobalScale=function(m){var T=this.transform;return m=m||[],T?(m[0]=Math.sqrt(T[0]*T[0]+T[1]*T[1]),m[1]=Math.sqrt(T[2]*T[2]+T[3]*T[3]),T[0]<0&&(m[0]=-m[0]),T[3]<0&&(m[1]=-m[1]),m):(m[0]=1,m[1]=1,m)},M.prototype.transformCoordToLocal=function(m,T){var y=[m,T],P=this.invTransform;return P&&s.Ne(y,y,P),y},M.prototype.transformCoordToGlobal=function(m,T){var y=[m,T],P=this.transform;return P&&s.Ne(y,y,P),y},M.prototype.getLineScale=function(){var m=this.transform;return m&&i(m[0]-1)>1e-10&&i(m[3]-1)>1e-10?Math.sqrt(i(m[0]*m[3]-m[2]*m[1])):1},M.prototype.copyTransform=function(m){_(this,m)},M.getLocalTransform=function(m,T){T=T||[];var y=m.originX||0,P=m.originY||0,C=m.scaleX,O=m.scaleY,Z=m.anchorX,U=m.anchorY,b=m.rotation||0,w=m.x,A=m.y,E=m.skewX?Math.tan(m.skewX):0,d=m.skewY?Math.tan(-m.skewY):0;if(y||P||Z||U){var f=y+Z,u=P+U;T[4]=-f*C-E*u*O,T[5]=-u*O-d*f*C}else T[4]=T[5]=0;return T[0]=C,T[3]=O,T[1]=d*C,T[2]=E*O,b&&p.U1(T,T,b),T[4]+=y+w,T[5]+=P+A,T},M.initDefaultProps=function(){var m=M.prototype;m.scaleX=m.scaleY=m.globalScaleRatio=1,m.x=m.y=m.originX=m.originY=m.skewX=m.skewY=m.rotation=m.anchorX=m.anchorY=0}(),M}(),l=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function _(M,m){for(var T=0;T<l.length;T++){var y=l[T];M[y]=m[y]}}q.ZP=a},66159:function(ht,q){"use strict";var R=Math.round(Math.random()*9),p=typeof Object.defineProperty=="function",s=function(){function t(){this._id="__ec_inner_"+R++}return t.prototype.get=function(r){return this._guard(r)[this._id]},t.prototype.set=function(r,e){var n=this._guard(r);return p?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(r){return this.has(r)?(delete this._guard(r)[this._id],!0):!1},t.prototype.has=function(r){return!!this._guard(r)[this._id]},t.prototype._guard=function(r){if(r!==Object(r))throw TypeError("Value of WeakMap is not a non-null object.");return r},t}();q.Z=s},19169:function(ht,q,R){"use strict";R.d(q,{H9:function(){return T},mJ:function(){return y},qL:function(){return P},u4:function(){return _},zk:function(){return l}});var p=R(85755),s=R(14296),t=Math.min,r=Math.max,e=Math.sin,n=Math.cos,o=Math.PI*2,h=p.Ue(),i=p.Ue(),a=p.Ue();function l(C,O,Z){if(C.length!==0){for(var U=C[0],b=U[0],w=U[0],A=U[1],E=U[1],d=1;d<C.length;d++)U=C[d],b=t(b,U[0]),w=r(w,U[0]),A=t(A,U[1]),E=r(E,U[1]);O[0]=b,O[1]=A,Z[0]=w,Z[1]=E}}function _(C,O,Z,U,b,w){b[0]=t(C,Z),b[1]=t(O,U),w[0]=r(C,Z),w[1]=r(O,U)}var M=[],m=[];function T(C,O,Z,U,b,w,A,E,d,f){var u=s.pP,v=s.af,c=u(C,Z,b,A,M);d[0]=1/0,d[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var g=0;g<c;g++){var D=v(C,Z,b,A,M[g]);d[0]=t(D,d[0]),f[0]=r(D,f[0])}c=u(O,U,w,E,m);for(var g=0;g<c;g++){var x=v(O,U,w,E,m[g]);d[1]=t(x,d[1]),f[1]=r(x,f[1])}d[0]=t(C,d[0]),f[0]=r(C,f[0]),d[0]=t(A,d[0]),f[0]=r(A,f[0]),d[1]=t(O,d[1]),f[1]=r(O,f[1]),d[1]=t(E,d[1]),f[1]=r(E,f[1])}function y(C,O,Z,U,b,w,A,E){var d=s.QC,f=s.Zm,u=r(t(d(C,Z,b),1),0),v=r(t(d(O,U,w),1),0),c=f(C,Z,b,u),g=f(O,U,w,v);A[0]=t(C,b,c),A[1]=t(O,w,g),E[0]=r(C,b,c),E[1]=r(O,w,g)}function P(C,O,Z,U,b,w,A,E,d){var f=p.VV,u=p.Fp,v=Math.abs(b-w);if(v%o<1e-4&&v>1e-4){E[0]=C-Z,E[1]=O-U,d[0]=C+Z,d[1]=O+U;return}if(h[0]=n(b)*Z+C,h[1]=e(b)*U+O,i[0]=n(w)*Z+C,i[1]=e(w)*U+O,f(E,h,i),u(d,h,i),b=b%o,b<0&&(b=b+o),w=w%o,w<0&&(w=w+o),b>w&&!A?w+=o:b<w&&A&&(b+=o),A){var c=w;w=b,b=c}for(var g=0;g<w;g+=Math.PI/2)g>b&&(a[0]=n(g)*Z+C,a[1]=e(g)*U+O,f(E,a,E),u(d,a,d))}},14296:function(ht,q,R){"use strict";R.d(q,{AZ:function(){return U},Ci:function(){return O},Jz:function(){return b},Lx:function(){return A},QC:function(){return w},Vz:function(){return P},Wr:function(){return E},X_:function(){return m},Zm:function(){return Z},af:function(){return M},kD:function(){return T},pP:function(){return y},t1:function(){return C},wQ:function(){return d}});var p=R(85755),s=Math.pow,t=Math.sqrt,r=1e-8,e=1e-4,n=t(3),o=1/3,h=(0,p.Ue)(),i=(0,p.Ue)(),a=(0,p.Ue)();function l(f){return f>-r&&f<r}function _(f){return f>r||f<-r}function M(f,u,v,c,g){var D=1-g;return D*D*(D*f+3*g*u)+g*g*(g*c+3*D*v)}function m(f,u,v,c,g){var D=1-g;return 3*(((u-f)*D+2*(v-u)*g)*D+(c-v)*g*g)}function T(f,u,v,c,g,D){var x=c+3*(u-v)-f,L=3*(v-u*2+f),I=3*(u-f),N=f-g,G=L*L-3*x*I,K=L*I-9*x*N,J=I*I-3*L*N,F=0;if(l(G)&&l(K))if(l(L))D[0]=0;else{var H=-I/L;H>=0&&H<=1&&(D[F++]=H)}else{var V=K*K-4*G*J;if(l(V)){var S=K/G,H=-L/x+S,W=-S/2;H>=0&&H<=1&&(D[F++]=H),W>=0&&W<=1&&(D[F++]=W)}else if(V>0){var B=t(V),X=G*L+1.5*x*(-K+B),Y=G*L+1.5*x*(-K-B);X<0?X=-s(-X,o):X=s(X,o),Y<0?Y=-s(-Y,o):Y=s(Y,o);var H=(-L-(X+Y))/(3*x);H>=0&&H<=1&&(D[F++]=H)}else{var nt=(2*G*L-3*x*K)/(2*t(G*G*G)),z=Math.acos(nt)/3,j=t(G),at=Math.cos(z),H=(-L-2*j*at)/(3*x),W=(-L+j*(at+n*Math.sin(z)))/(3*x),ft=(-L+j*(at-n*Math.sin(z)))/(3*x);H>=0&&H<=1&&(D[F++]=H),W>=0&&W<=1&&(D[F++]=W),ft>=0&&ft<=1&&(D[F++]=ft)}}return F}function y(f,u,v,c,g){var D=6*v-12*u+6*f,x=9*u+3*c-3*f-9*v,L=3*u-3*f,I=0;if(l(x)){if(_(D)){var N=-L/D;N>=0&&N<=1&&(g[I++]=N)}}else{var G=D*D-4*x*L;if(l(G))g[0]=-D/(2*x);else if(G>0){var K=t(G),N=(-D+K)/(2*x),J=(-D-K)/(2*x);N>=0&&N<=1&&(g[I++]=N),J>=0&&J<=1&&(g[I++]=J)}}return I}function P(f,u,v,c,g,D){var x=(u-f)*g+f,L=(v-u)*g+u,I=(c-v)*g+v,N=(L-x)*g+x,G=(I-L)*g+L,K=(G-N)*g+N;D[0]=f,D[1]=x,D[2]=N,D[3]=K,D[4]=K,D[5]=G,D[6]=I,D[7]=c}function C(f,u,v,c,g,D,x,L,I,N,G){var K,J=.005,F=1/0,H,V,S,W;h[0]=I,h[1]=N;for(var B=0;B<1;B+=.05)i[0]=M(f,v,g,x,B),i[1]=M(u,c,D,L,B),S=(0,p.WU)(h,i),S<F&&(K=B,F=S);F=1/0;for(var X=0;X<32&&!(J<e);X++)H=K-J,V=K+J,i[0]=M(f,v,g,x,H),i[1]=M(u,c,D,L,H),S=(0,p.WU)(i,h),H>=0&&S<F?(K=H,F=S):(a[0]=M(f,v,g,x,V),a[1]=M(u,c,D,L,V),W=(0,p.WU)(a,h),V<=1&&W<F?(K=V,F=W):J*=.5);return G&&(G[0]=M(f,v,g,x,K),G[1]=M(u,c,D,L,K)),t(F)}function O(f,u,v,c,g,D,x,L,I){for(var N=f,G=u,K=0,J=1/I,F=1;F<=I;F++){var H=F*J,V=M(f,v,g,x,H),S=M(u,c,D,L,H),W=V-N,B=S-G;K+=Math.sqrt(W*W+B*B),N=V,G=S}return K}function Z(f,u,v,c){var g=1-c;return g*(g*f+2*c*u)+c*c*v}function U(f,u,v,c){return 2*((1-c)*(u-f)+c*(v-u))}function b(f,u,v,c,g){var D=f-2*u+v,x=2*(u-f),L=f-c,I=0;if(l(D)){if(_(x)){var N=-L/x;N>=0&&N<=1&&(g[I++]=N)}}else{var G=x*x-4*D*L;if(l(G)){var N=-x/(2*D);N>=0&&N<=1&&(g[I++]=N)}else if(G>0){var K=t(G),N=(-x+K)/(2*D),J=(-x-K)/(2*D);N>=0&&N<=1&&(g[I++]=N),J>=0&&J<=1&&(g[I++]=J)}}return I}function w(f,u,v){var c=f+v-2*u;return c===0?.5:(f-u)/c}function A(f,u,v,c,g){var D=(u-f)*c+f,x=(v-u)*c+u,L=(x-D)*c+D;g[0]=f,g[1]=D,g[2]=L,g[3]=L,g[4]=x,g[5]=v}function E(f,u,v,c,g,D,x,L,I){var N,G=.005,K=1/0;h[0]=x,h[1]=L;for(var J=0;J<1;J+=.05){i[0]=Z(f,v,g,J),i[1]=Z(u,c,D,J);var F=(0,p.WU)(h,i);F<K&&(N=J,K=F)}K=1/0;for(var H=0;H<32&&!(G<e);H++){var V=N-G,S=N+G;i[0]=Z(f,v,g,V),i[1]=Z(u,c,D,V);var F=(0,p.WU)(i,h);if(V>=0&&F<K)N=V,K=F;else{a[0]=Z(f,v,g,S),a[1]=Z(u,c,D,S);var W=(0,p.WU)(a,h);S<=1&&W<K?(N=S,K=W):G*=.5}}return I&&(I[0]=Z(f,v,g,N),I[1]=Z(u,c,D,N)),t(K)}function d(f,u,v,c,g,D,x){for(var L=f,I=u,N=0,G=1/x,K=1;K<=x;K++){var J=K*G,F=Z(f,v,g,J),H=Z(u,c,D,J),V=F-L,S=H-I;N+=Math.sqrt(V*V+S*S),L=F,I=H}return N}},80400:function(ht,q,R){"use strict";R.d(q,{F1:function(){return m},UK:function(){return l},A4:function(){return h},YB:function(){return o}});var p=R(54490),s=Math.log(2);function t(T,y,P,C,O,Z){var U=C+"-"+O,b=T.length;if(Z.hasOwnProperty(U))return Z[U];if(y===1){var w=Math.round(Math.log((1<<b)-1&~O)/s);return T[P][w]}for(var A=C|1<<P,E=P+1;C&1<<E;)E++;for(var d=0,f=0,u=0;f<b;f++){var v=1<<f;v&O||(d+=(u%2?-1:1)*T[P][f]*t(T,y-1,E,A,O|v,Z),u++)}return Z[U]=d,d}function r(T,y){var P=[[T[0],T[1],1,0,0,0,-y[0]*T[0],-y[0]*T[1]],[0,0,0,T[0],T[1],1,-y[1]*T[0],-y[1]*T[1]],[T[2],T[3],1,0,0,0,-y[2]*T[2],-y[2]*T[3]],[0,0,0,T[2],T[3],1,-y[3]*T[2],-y[3]*T[3]],[T[4],T[5],1,0,0,0,-y[4]*T[4],-y[4]*T[5]],[0,0,0,T[4],T[5],1,-y[5]*T[4],-y[5]*T[5]],[T[6],T[7],1,0,0,0,-y[6]*T[6],-y[6]*T[7]],[0,0,0,T[6],T[7],1,-y[7]*T[6],-y[7]*T[7]]],C={},O=t(P,8,0,0,0,C);if(O!==0){for(var Z=[],U=0;U<8;U++)for(var b=0;b<8;b++)Z[b]==null&&(Z[b]=0),Z[b]+=((U+b)%2?-1:1)*t(P,7,U===0?1:0,1<<U,1<<b,C)/O*y[U];return function(w,A,E){var d=A*Z[6]+E*Z[7]+1;w[0]=(A*Z[0]+E*Z[1]+Z[2])/d,w[1]=(A*Z[3]+E*Z[4]+Z[5])/d}}}var e="___zrEVENTSAVED",n=[];function o(T,y,P,C,O){return h(n,y,C,O,!0)&&h(T,P,n[0],n[1])}function h(T,y,P,C,O){if(y.getBoundingClientRect&&p.Z.domSupported&&!l(y)){var Z=y[e]||(y[e]={}),U=i(y,Z),b=a(U,Z,O);if(b)return b(T,P,C),!0}return!1}function i(T,y){var P=y.markers;if(P)return P;P=y.markers=[];for(var C=["left","right"],O=["top","bottom"],Z=0;Z<4;Z++){var U=document.createElement("div"),b=U.style,w=Z%2,A=(Z>>1)%2;b.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",C[w]+":0",O[A]+":0",C[1-w]+":auto",O[1-A]+":auto",""].join("!important;"),T.appendChild(U),P.push(U)}return P}function a(T,y,P){for(var C=P?"invTrans":"trans",O=y[C],Z=y.srcCoords,U=[],b=[],w=!0,A=0;A<4;A++){var E=T[A].getBoundingClientRect(),d=2*A,f=E.left,u=E.top;U.push(f,u),w=w&&Z&&f===Z[d]&&u===Z[d+1],b.push(T[A].offsetLeft,T[A].offsetTop)}return w&&O?O:(y.srcCoords=U,y[C]=P?r(b,U):r(U,b))}function l(T){return T.nodeName.toUpperCase()==="CANVAS"}var _=/([&<>"'])/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function m(T){return T==null?"":(T+"").replace(_,function(y,P){return M[P]})}},54490:function(ht,q){"use strict";var R=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),p=function(){function r(){this.browser=new R,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return r}(),s=new p;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(s.wxa=!0,s.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?s.worker=!0:typeof navigator=="undefined"?(s.node=!0,s.svgSupported=!0):t(navigator.userAgent,s);function t(r,e){var n=e.browser,o=r.match(/Firefox\/([\d.]+)/),h=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),i=r.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(r);o&&(n.firefox=!0,n.version=o[1]),h&&(n.ie=!0,n.version=h[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),a&&(n.weChat=!0),e.svgSupported=typeof SVGRect!="undefined",e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=typeof document!="undefined";var l=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in l||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}q.Z=s},11300:function(ht,q,R){"use strict";R.d(q,{OD:function(){return i},Oo:function(){return l},eV:function(){return n},iP:function(){return h},sT:function(){return M},x1:function(){return m},xg:function(){return _}});var p=R(54490),s=R(80400),t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,r=[],e=p.Z.browser.firefox&&+p.Z.browser.version.split(".")[0]<39;function n(T,y,P,C){return P=P||{},C?o(T,y,P):e&&y.layerX!=null&&y.layerX!==y.offsetX?(P.zrX=y.layerX,P.zrY=y.layerY):y.offsetX!=null?(P.zrX=y.offsetX,P.zrY=y.offsetY):o(T,y,P),P}function o(T,y,P){if(p.Z.domSupported&&T.getBoundingClientRect){var C=y.clientX,O=y.clientY;if((0,s.UK)(T)){var Z=T.getBoundingClientRect();P.zrX=C-Z.left,P.zrY=O-Z.top;return}else if((0,s.A4)(r,T,C,O)){P.zrX=r[0],P.zrY=r[1];return}}P.zrX=P.zrY=0}function h(T){return T||window.event}function i(T,y,P){if(y=h(y),y.zrX!=null)return y;var C=y.type,O=C&&C.indexOf("touch")>=0;if(O){var U=C!=="touchend"?y.targetTouches[0]:y.changedTouches[0];U&&n(T,U,y,P)}else{n(T,y,y,P);var Z=a(y);y.zrDelta=Z?Z/120:-(y.detail||0)/3}var b=y.button;return y.which==null&&b!==void 0&&t.test(y.type)&&(y.which=b&1?1:b&2?3:b&4?2:0),y}function a(T){var y=T.wheelDelta;if(y)return y;var P=T.deltaX,C=T.deltaY;if(P==null||C==null)return y;var O=Math.abs(C!==0?C:P),Z=C>0?-1:C<0?1:P>0?-1:1;return 3*O*Z}function l(T,y,P,C){T.addEventListener(y,P,C)}function _(T,y,P,C){T.removeEventListener(y,P,C)}var M=function(T){T.preventDefault(),T.stopPropagation(),T.cancelBubble=!0};function m(T){return T.which===2||T.which===3}},58427:function(ht,q,R){"use strict";R.d(q,{Iu:function(){return e},JG:function(){return t},U1:function(){return n},U_:function(){return h},Ue:function(){return p},bA:function(){return o},d9:function(){return i},dC:function(){return r},yR:function(){return s}});function p(){return[1,0,0,1,0,0]}function s(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function t(a,l){return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a}function r(a,l,_){var M=l[0]*_[0]+l[2]*_[1],m=l[1]*_[0]+l[3]*_[1],T=l[0]*_[2]+l[2]*_[3],y=l[1]*_[2]+l[3]*_[3],P=l[0]*_[4]+l[2]*_[5]+l[4],C=l[1]*_[4]+l[3]*_[5]+l[5];return a[0]=M,a[1]=m,a[2]=T,a[3]=y,a[4]=P,a[5]=C,a}function e(a,l,_){return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4]+_[0],a[5]=l[5]+_[1],a}function n(a,l,_){var M=l[0],m=l[2],T=l[4],y=l[1],P=l[3],C=l[5],O=Math.sin(_),Z=Math.cos(_);return a[0]=M*Z+y*O,a[1]=-M*O+y*Z,a[2]=m*Z+P*O,a[3]=-m*O+Z*P,a[4]=Z*T+O*C,a[5]=Z*C-O*T,a}function o(a,l,_){var M=_[0],m=_[1];return a[0]=l[0]*M,a[1]=l[1]*m,a[2]=l[2]*M,a[3]=l[3]*m,a[4]=l[4]*M,a[5]=l[5]*m,a}function h(a,l){var _=l[0],M=l[2],m=l[4],T=l[1],y=l[3],P=l[5],C=_*y-T*M;return C?(C=1/C,a[0]=y*C,a[1]=-T*C,a[2]=-M*C,a[3]=_*C,a[4]=(M*P-y*m)*C,a[5]=(T*m-_*P)*C,a):null}function i(a){var l=p();return t(l,a),l}},47297:function(ht,q,R){"use strict";R.d(q,{Uo:function(){return t},n5:function(){return p},qW:function(){return i},rk:function(){return s}});var p=12,s="sans-serif",t=p+"px "+s,r=20,e=100,n="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function o(l){var _={};if(typeof JSON=="undefined")return _;for(var M=0;M<l.length;M++){var m=String.fromCharCode(M+32),T=(l.charCodeAt(M)-r)/e;_[m]=T}return _}var h=o(n),i={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var l,_;return function(M,m){if(!l){var T=i.createCanvas();l=T&&T.getContext("2d")}if(l)return _!==m&&(_=l.font=m||t),l.measureText(M);M=M||"",m=m||t;var y=/(\d+)px/.exec(m),P=y&&+y[1]||p,C=0;if(m.indexOf("mono")>=0)C=P*M.length;else for(var O=0;O<M.length;O++){var Z=h[M[O]];C+=Z==null?P:Z*P}return{width:C}}}(),loadImage:function(l,_,M){var m=new Image;return m.onload=_,m.onerror=M,m.src=l,m}};function a(l){for(var _ in i)l[_]&&(i[_]=l[_])}},59330:function(ht,q,R){"use strict";R.d(q,{Z:function(){return l}});var p=32,s=7,t=256;function r(_){for(var M=0;_>=p;)M|=_&1,_>>=1;return _+M}function e(_,M,m,T){var y=M+1;if(y===m)return 1;if(T(_[y++],_[M])<0){for(;y<m&&T(_[y],_[y-1])<0;)y++;n(_,M,y)}else for(;y<m&&T(_[y],_[y-1])>=0;)y++;return y-M}function n(_,M,m){for(m--;M<m;){var T=_[M];_[M++]=_[m],_[m--]=T}}function o(_,M,m,T,y){for(T===M&&T++;T<m;T++){for(var P=_[T],C=M,O=T,Z;C<O;)Z=C+O>>>1,y(P,_[Z])<0?O=Z:C=Z+1;var U=T-C;switch(U){case 3:_[C+3]=_[C+2];case 2:_[C+2]=_[C+1];case 1:_[C+1]=_[C];break;default:for(;U>0;)_[C+U]=_[C+U-1],U--}_[C]=P}}function h(_,M,m,T,y,P){var C=0,O=0,Z=1;if(P(_,M[m+y])>0){for(O=T-y;Z<O&&P(_,M[m+y+Z])>0;)C=Z,Z=(Z<<1)+1,Z<=0&&(Z=O);Z>O&&(Z=O),C+=y,Z+=y}else{for(O=y+1;Z<O&&P(_,M[m+y-Z])<=0;)C=Z,Z=(Z<<1)+1,Z<=0&&(Z=O);Z>O&&(Z=O);var U=C;C=y-Z,Z=y-U}for(C++;C<Z;){var b=C+(Z-C>>>1);P(_,M[m+b])>0?C=b+1:Z=b}return Z}function i(_,M,m,T,y,P){var C=0,O=0,Z=1;if(P(_,M[m+y])<0){for(O=y+1;Z<O&&P(_,M[m+y-Z])<0;)C=Z,Z=(Z<<1)+1,Z<=0&&(Z=O);Z>O&&(Z=O);var U=C;C=y-Z,Z=y-U}else{for(O=T-y;Z<O&&P(_,M[m+y+Z])>=0;)C=Z,Z=(Z<<1)+1,Z<=0&&(Z=O);Z>O&&(Z=O),C+=y,Z+=y}for(C++;C<Z;){var b=C+(Z-C>>>1);P(_,M[m+b])<0?Z=b:C=b+1}return Z}function a(_,M){var m=s,T=0,y=t,P=0,C,O,Z=0;T=_.length,T<2*t&&(y=T>>>1);var U=[];P=T<120?5:T<1542?10:T<119151?19:40,C=[],O=[];function b(u,v){C[Z]=u,O[Z]=v,Z+=1}function w(){for(;Z>1;){var u=Z-2;if(u>=1&&O[u-1]<=O[u]+O[u+1]||u>=2&&O[u-2]<=O[u]+O[u-1])O[u-1]<O[u+1]&&u--;else if(O[u]>O[u+1])break;E(u)}}function A(){for(;Z>1;){var u=Z-2;u>0&&O[u-1]<O[u+1]&&u--,E(u)}}function E(u){var v=C[u],c=O[u],g=C[u+1],D=O[u+1];O[u]=c+D,u===Z-3&&(C[u+1]=C[u+2],O[u+1]=O[u+2]),Z--;var x=i(_[g],_,v,c,0,M);v+=x,c-=x,c!==0&&(D=h(_[v+c-1],_,g,D,D-1,M),D!==0&&(c<=D?d(v,c,g,D):f(v,c,g,D)))}function d(u,v,c,g){var D=0;for(D=0;D<v;D++)U[D]=_[u+D];var x=0,L=c,I=u;if(_[I++]=_[L++],--g===0){for(D=0;D<v;D++)_[I+D]=U[x+D];return}if(v===1){for(D=0;D<g;D++)_[I+D]=_[L+D];_[I+g]=U[x];return}for(var N=m,G,K,J;;){G=0,K=0,J=!1;do if(M(_[L],U[x])<0){if(_[I++]=_[L++],K++,G=0,--g===0){J=!0;break}}else if(_[I++]=U[x++],G++,K=0,--v===1){J=!0;break}while((G|K)<N);if(J)break;do{if(G=i(_[L],U,x,v,0,M),G!==0){for(D=0;D<G;D++)_[I+D]=U[x+D];if(I+=G,x+=G,v-=G,v<=1){J=!0;break}}if(_[I++]=_[L++],--g===0){J=!0;break}if(K=h(U[x],_,L,g,0,M),K!==0){for(D=0;D<K;D++)_[I+D]=_[L+D];if(I+=K,L+=K,g-=K,g===0){J=!0;break}}if(_[I++]=U[x++],--v===1){J=!0;break}N--}while(G>=s||K>=s);if(J)break;N<0&&(N=0),N+=2}if(m=N,m<1&&(m=1),v===1){for(D=0;D<g;D++)_[I+D]=_[L+D];_[I+g]=U[x]}else{if(v===0)throw new Error;for(D=0;D<v;D++)_[I+D]=U[x+D]}}function f(u,v,c,g){var D=0;for(D=0;D<g;D++)U[D]=_[c+D];var x=u+v-1,L=g-1,I=c+g-1,N=0,G=0;if(_[I--]=_[x--],--v===0){for(N=I-(g-1),D=0;D<g;D++)_[N+D]=U[D];return}if(g===1){for(I-=v,x-=v,G=I+1,N=x+1,D=v-1;D>=0;D--)_[G+D]=_[N+D];_[I]=U[L];return}for(var K=m;;){var J=0,F=0,H=!1;do if(M(U[L],_[x])<0){if(_[I--]=_[x--],J++,F=0,--v===0){H=!0;break}}else if(_[I--]=U[L--],F++,J=0,--g===1){H=!0;break}while((J|F)<K);if(H)break;do{if(J=v-i(U[L],_,u,v,v-1,M),J!==0){for(I-=J,x-=J,v-=J,G=I+1,N=x+1,D=J-1;D>=0;D--)_[G+D]=_[N+D];if(v===0){H=!0;break}}if(_[I--]=U[L--],--g===1){H=!0;break}if(F=g-h(_[x],U,0,g,g-1,M),F!==0){for(I-=F,L-=F,g-=F,G=I+1,N=L+1,D=0;D<F;D++)_[G+D]=U[N+D];if(g<=1){H=!0;break}}if(_[I--]=_[x--],--v===0){H=!0;break}K--}while(J>=s||F>=s);if(H)break;K<0&&(K=0),K+=2}if(m=K,m<1&&(m=1),g===1){for(I-=v,x-=v,G=I+1,N=x+1,D=v-1;D>=0;D--)_[G+D]=_[N+D];_[I]=U[L]}else{if(g===0)throw new Error;for(N=I-(g-1),D=0;D<g;D++)_[N+D]=U[D]}}return{mergeRuns:w,forceMergeRuns:A,pushRun:b}}function l(_,M,m,T){m||(m=0),T||(T=_.length);var y=T-m;if(!(y<2)){var P=0;if(y<p){P=e(_,m,T,M),o(_,m,T,m+P,M);return}var C=a(_,M),O=r(y);do{if(P=e(_,m,T,M),P<O){var Z=y;Z>O&&(Z=O),o(_,m,m+Z,m+P,M),P=Z}C.pushRun(m,P),C.mergeRuns(),y-=P,m+=P}while(y!==0);C.forceMergeRuns()}}},70324:function(ht,q,R){"use strict";R.d(q,{$j:function(){return It},Bu:function(){return Y},H:function(){return T},HD:function(){return G},I3:function(){return Rt},Jn:function(){return C},Jv:function(){return nt},Kj:function(){return X},Kn:function(){return F},M8:function(){return m},MY:function(){return ft},Mh:function(){return S},Qq:function(){return W},R1:function(){return j},RI:function(){return mt},S6:function(){return d},TS:function(){return P},UI:function(){return f},WA:function(){return L},WW:function(){return Et},XP:function(){return g},XW:function(){return w},ZT:function(){return xt},ak:function(){return x},cd:function(){return K},ce:function(){return Z},cq:function(){return b},d9:function(){return y},dL:function(){return B},fU:function(){return V},fy:function(){return rt},hX:function(){return v},hj:function(){return J},hu:function(){return pt},jB:function(){return A},kJ:function(){return I},kW:function(){return Dt},l7:function(){return O},mf:function(){return N},nW:function(){return St},pD:function(){return z},s7:function(){return ut},sE:function(){return c},tP:function(){return at},u4:function(){return u},zG:function(){return E}});var p=R(47297),s=u(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(k,tt){return k["[object "+tt+"]"]=!0,k},{}),t=u(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(k,tt){return k["[object "+tt+"Array]"]=!0,k},{}),r=Object.prototype.toString,e=Array.prototype,n=e.forEach,o=e.filter,h=e.slice,i=e.map,a=function(){}.constructor,l=a?a.prototype:null,_="__proto__",M=2311;function m(){return M++}function T(){for(var k=[],tt=0;tt<arguments.length;tt++)k[tt]=arguments[tt];typeof console!="undefined"&&console.error.apply(console,k)}function y(k){if(k==null||typeof k!="object")return k;var tt=k,gt=r.call(k);if(gt==="[object Array]"){if(!dt(k)){tt=[];for(var Pt=0,Q=k.length;Pt<Q;Pt++)tt[Pt]=y(k[Pt])}}else if(t[gt]){if(!dt(k)){var $=k.constructor;if($.from)tt=$.from(k);else{tt=new $(k.length);for(var Pt=0,Q=k.length;Pt<Q;Pt++)tt[Pt]=k[Pt]}}}else if(!s[gt]&&!dt(k)&&!S(k)){tt={};for(var it in k)k.hasOwnProperty(it)&&it!==_&&(tt[it]=y(k[it]))}return tt}function P(k,tt,gt){if(!F(tt)||!F(k))return gt?y(tt):k;for(var Pt in tt)if(tt.hasOwnProperty(Pt)&&Pt!==_){var Q=k[Pt],$=tt[Pt];F($)&&F(Q)&&!I($)&&!I(Q)&&!S($)&&!S(Q)&&!H($)&&!H(Q)&&!dt($)&&!dt(Q)?P(Q,$,gt):(gt||!(Pt in k))&&(k[Pt]=y(tt[Pt]))}return k}function C(k,tt){for(var gt=k[0],Pt=1,Q=k.length;Pt<Q;Pt++)gt=P(gt,k[Pt],tt);return gt}function O(k,tt){if(Object.assign)Object.assign(k,tt);else for(var gt in tt)tt.hasOwnProperty(gt)&&gt!==_&&(k[gt]=tt[gt]);return k}function Z(k,tt,gt){for(var Pt=g(tt),Q=0;Q<Pt.length;Q++){var $=Pt[Q];(gt?tt[$]!=null:k[$]==null)&&(k[$]=tt[$])}return k}var U=p.qW.createCanvas;function b(k,tt){if(k){if(k.indexOf)return k.indexOf(tt);for(var gt=0,Pt=k.length;gt<Pt;gt++)if(k[gt]===tt)return gt}return-1}function w(k,tt){var gt=k.prototype;function Pt(){}Pt.prototype=tt.prototype,k.prototype=new Pt;for(var Q in gt)gt.hasOwnProperty(Q)&&(k.prototype[Q]=gt[Q]);k.prototype.constructor=k,k.superClass=tt}function A(k,tt,gt){if(k="prototype"in k?k.prototype:k,tt="prototype"in tt?tt.prototype:tt,Object.getOwnPropertyNames)for(var Pt=Object.getOwnPropertyNames(tt),Q=0;Q<Pt.length;Q++){var $=Pt[Q];$!=="constructor"&&(gt?tt[$]!=null:k[$]==null)&&(k[$]=tt[$])}else Z(k,tt,gt)}function E(k){return!k||typeof k=="string"?!1:typeof k.length=="number"}function d(k,tt,gt){if(k&&tt)if(k.forEach&&k.forEach===n)k.forEach(tt,gt);else if(k.length===+k.length)for(var Pt=0,Q=k.length;Pt<Q;Pt++)tt.call(gt,k[Pt],Pt,k);else for(var $ in k)k.hasOwnProperty($)&&tt.call(gt,k[$],$,k)}function f(k,tt,gt){if(!k)return[];if(!tt)return at(k);if(k.map&&k.map===i)return k.map(tt,gt);for(var Pt=[],Q=0,$=k.length;Q<$;Q++)Pt.push(tt.call(gt,k[Q],Q,k));return Pt}function u(k,tt,gt,Pt){if(k&&tt){for(var Q=0,$=k.length;Q<$;Q++)gt=tt.call(Pt,gt,k[Q],Q,k);return gt}}function v(k,tt,gt){if(!k)return[];if(!tt)return at(k);if(k.filter&&k.filter===o)return k.filter(tt,gt);for(var Pt=[],Q=0,$=k.length;Q<$;Q++)tt.call(gt,k[Q],Q,k)&&Pt.push(k[Q]);return Pt}function c(k,tt,gt){if(k&&tt){for(var Pt=0,Q=k.length;Pt<Q;Pt++)if(tt.call(gt,k[Pt],Pt,k))return k[Pt]}}function g(k){if(!k)return[];if(Object.keys)return Object.keys(k);var tt=[];for(var gt in k)k.hasOwnProperty(gt)&&tt.push(gt);return tt}function D(k,tt){for(var gt=[],Pt=2;Pt<arguments.length;Pt++)gt[Pt-2]=arguments[Pt];return function(){return k.apply(tt,gt.concat(h.call(arguments)))}}var x=l&&N(l.bind)?l.call.bind(l.bind):D;function L(k){for(var tt=[],gt=1;gt<arguments.length;gt++)tt[gt-1]=arguments[gt];return function(){return k.apply(this,tt.concat(h.call(arguments)))}}function I(k){return Array.isArray?Array.isArray(k):r.call(k)==="[object Array]"}function N(k){return typeof k=="function"}function G(k){return typeof k=="string"}function K(k){return r.call(k)==="[object String]"}function J(k){return typeof k=="number"}function F(k){var tt=typeof k;return tt==="function"||!!k&&tt==="object"}function H(k){return!!s[r.call(k)]}function V(k){return!!t[r.call(k)]}function S(k){return typeof k=="object"&&typeof k.nodeType=="number"&&typeof k.ownerDocument=="object"}function W(k){return k.colorStops!=null}function B(k){return k.image!=null}function X(k){return r.call(k)==="[object RegExp]"}function Y(k){return k!==k}function nt(){for(var k=[],tt=0;tt<arguments.length;tt++)k[tt]=arguments[tt];for(var gt=0,Pt=k.length;gt<Pt;gt++)if(k[gt]!=null)return k[gt]}function z(k,tt){return k!=null?k:tt}function j(k,tt,gt){return k!=null?k:tt!=null?tt:gt}function at(k){for(var tt=[],gt=1;gt<arguments.length;gt++)tt[gt-1]=arguments[gt];return h.apply(k,tt)}function ft(k){if(typeof k=="number")return[k,k,k,k];var tt=k.length;return tt===2?[k[0],k[1],k[0],k[1]]:tt===3?[k[0],k[1],k[2],k[1]]:k}function pt(k,tt){if(!k)throw new Error(tt)}function rt(k){return k==null?null:typeof k.trim=="function"?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var et="__ec_primitive__";function ut(k){k[et]=!0}function dt(k){return k[et]}var ot=function(){function k(){this.data={}}return k.prototype.delete=function(tt){var gt=this.has(tt);return gt&&delete this.data[tt],gt},k.prototype.has=function(tt){return this.data.hasOwnProperty(tt)},k.prototype.get=function(tt){return this.data[tt]},k.prototype.set=function(tt,gt){return this.data[tt]=gt,this},k.prototype.keys=function(){return g(this.data)},k.prototype.forEach=function(tt){var gt=this.data;for(var Pt in gt)gt.hasOwnProperty(Pt)&&tt(gt[Pt],Pt)},k}(),_t=typeof Map=="function";function lt(){return _t?new Map:new ot}var Mt=function(){function k(tt){var gt=I(tt);this.data=lt();var Pt=this;tt instanceof k?tt.each(Q):tt&&d(tt,Q);function Q($,it){gt?Pt.set($,it):Pt.set(it,$)}}return k.prototype.hasKey=function(tt){return this.data.has(tt)},k.prototype.get=function(tt){return this.data.get(tt)},k.prototype.set=function(tt,gt){return this.data.set(tt,gt),gt},k.prototype.each=function(tt,gt){this.data.forEach(function(Pt,Q){tt.call(gt,Pt,Q)})},k.prototype.keys=function(){var tt=this.data.keys();return _t?Array.from(tt):tt},k.prototype.removeKey=function(tt){this.data.delete(tt)},k}();function Dt(k){return new Mt(k)}function Et(k,tt){for(var gt=new k.constructor(k.length+tt.length),Pt=0;Pt<k.length;Pt++)gt[Pt]=k[Pt];for(var Q=k.length,Pt=0;Pt<tt.length;Pt++)gt[Pt+Q]=tt[Pt];return gt}function St(k,tt){var gt;if(Object.create)gt=Object.create(k);else{var Pt=function(){};Pt.prototype=k,gt=new Pt}return tt&&O(gt,tt),gt}function It(k){var tt=k.style;tt.webkitUserSelect="none",tt.userSelect="none",tt.webkitTapHighlightColor="rgba(0,0,0,0)",tt["-webkit-touch-callout"]="none"}function mt(k,tt){return k.hasOwnProperty(tt)}function xt(){}var Rt=180/Math.PI},85755:function(ht,q,R){"use strict";R.d(q,{Fp:function(){return E},Fv:function(){return y},IH:function(){return e},JG:function(){return s},Ne:function(){return w},TE:function(){return P},TK:function(){return C},Ue:function(){return p},VV:function(){return A},WU:function(){return Z},Zh:function(){return h},bA:function(){return T},d9:function(){return t},lu:function(){return o},od:function(){return n},t7:function(){return b},t8:function(){return r}});function p(d,f){return d==null&&(d=0),f==null&&(f=0),[d,f]}function s(d,f){return d[0]=f[0],d[1]=f[1],d}function t(d){return[d[0],d[1]]}function r(d,f,u){return d[0]=f,d[1]=u,d}function e(d,f,u){return d[0]=f[0]+u[0],d[1]=f[1]+u[1],d}function n(d,f,u,v){return d[0]=f[0]+u[0]*v,d[1]=f[1]+u[1]*v,d}function o(d,f,u){return d[0]=f[0]-u[0],d[1]=f[1]-u[1],d}function h(d){return Math.sqrt(a(d))}var i=null;function a(d){return d[0]*d[0]+d[1]*d[1]}var l=null;function _(d,f,u){return d[0]=f[0]*u[0],d[1]=f[1]*u[1],d}function M(d,f,u){return d[0]=f[0]/u[0],d[1]=f[1]/u[1],d}function m(d,f){return d[0]*f[0]+d[1]*f[1]}function T(d,f,u){return d[0]=f[0]*u,d[1]=f[1]*u,d}function y(d,f){var u=h(f);return u===0?(d[0]=0,d[1]=0):(d[0]=f[0]/u,d[1]=f[1]/u),d}function P(d,f){return Math.sqrt((d[0]-f[0])*(d[0]-f[0])+(d[1]-f[1])*(d[1]-f[1]))}var C=P;function O(d,f){return(d[0]-f[0])*(d[0]-f[0])+(d[1]-f[1])*(d[1]-f[1])}var Z=O;function U(d,f){return d[0]=-f[0],d[1]=-f[1],d}function b(d,f,u,v){return d[0]=f[0]+v*(u[0]-f[0]),d[1]=f[1]+v*(u[1]-f[1]),d}function w(d,f,u){var v=f[0],c=f[1];return d[0]=u[0]*v+u[2]*c+u[4],d[1]=u[1]*v+u[3]*c+u[5],d}function A(d,f,u){return d[0]=Math.min(f[0],u[0]),d[1]=Math.min(f[1],u[1]),d}function E(d,f,u){return d[0]=Math.max(f[0],u[0]),d[1]=Math.max(f[1],u[1]),d}},99464:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=function(r){(0,p.ZT)(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.type="compound",n}return e.prototype._updatePathDirty=function(){for(var n=this.shape.paths,o=this.shapeChanged(),h=0;h<n.length;h++)o=o||n[h].shapeChanged();o&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],o=this.getGlobalScale(),h=0;h<n.length;h++)n[h].path||n[h].createPathProxy(),n[h].path.setScale(o[0],o[1],n[h].segmentIgnoreThreshold)},e.prototype.buildPath=function(n,o){for(var h=o.paths||[],i=0;i<h.length;i++)h[i].buildPath(n,h[i].shape,!0)},e.prototype.afterBrush=function(){for(var n=this.shape.paths||[],o=0;o<n.length;o++)n[o].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),s.ZP.prototype.getBoundingRect.call(this)},e}(s.ZP);q.Z=t},11635:function(ht,q,R){"use strict";R.d(q,{ik:function(){return h},tj:function(){return o}});var p=R(12012),s=R(12434),t=R(16128),r=R(70324),e=R(53197),n="__zr_style_"+Math.round(Math.random()*10),o={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},h={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};o[n]=!0;var i=["z","z2","invisible"],a=["invisible"],l=function(T){(0,p.ZT)(y,T);function y(P){return T.call(this,P)||this}return y.prototype._init=function(P){for(var C=(0,r.XP)(P),O=0;O<C.length;O++){var Z=C[O];Z==="style"?this.useStyle(P[Z]):T.prototype.attrKV.call(this,Z,P[Z])}this.style||this.useStyle({})},y.prototype.beforeBrush=function(){},y.prototype.afterBrush=function(){},y.prototype.innerBeforeBrush=function(){},y.prototype.innerAfterBrush=function(){},y.prototype.shouldBePainted=function(P,C,O,Z){var U=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&m(this,P,C)||U&&!U[0]&&!U[3])return!1;if(O&&this.__clipPaths){for(var b=0;b<this.__clipPaths.length;++b)if(this.__clipPaths[b].isZeroArea())return!1}if(Z&&this.parent)for(var w=this.parent;w;){if(w.ignore)return!1;w=w.parent}return!0},y.prototype.contain=function(P,C){return this.rectContain(P,C)},y.prototype.traverse=function(P,C){P.call(C,this)},y.prototype.rectContain=function(P,C){var O=this.transformCoordToLocal(P,C),Z=this.getBoundingRect();return Z.contain(O[0],O[1])},y.prototype.getPaintRect=function(){var P=this._paintRect;if(!this._paintRect||this.__dirty){var C=this.transform,O=this.getBoundingRect(),Z=this.style,U=Z.shadowBlur||0,b=Z.shadowOffsetX||0,w=Z.shadowOffsetY||0;P=this._paintRect||(this._paintRect=new t.Z(0,0,0,0)),C?t.Z.applyTransform(P,O,C):P.copy(O),(U||b||w)&&(P.width+=U*2+Math.abs(b),P.height+=U*2+Math.abs(w),P.x=Math.min(P.x,P.x+b-U),P.y=Math.min(P.y,P.y+w-U));var A=this.dirtyRectTolerance;P.isZero()||(P.x=Math.floor(P.x-A),P.y=Math.floor(P.y-A),P.width=Math.ceil(P.width+1+A*2),P.height=Math.ceil(P.height+1+A*2))}return P},y.prototype.setPrevPaintRect=function(P){P?(this._prevPaintRect=this._prevPaintRect||new t.Z(0,0,0,0),this._prevPaintRect.copy(P)):this._prevPaintRect=null},y.prototype.getPrevPaintRect=function(){return this._prevPaintRect},y.prototype.animateStyle=function(P){return this.animate("style",P)},y.prototype.updateDuringAnimation=function(P){P==="style"?this.dirtyStyle():this.markRedraw()},y.prototype.attrKV=function(P,C){P!=="style"?T.prototype.attrKV.call(this,P,C):this.style?this.setStyle(C):this.useStyle(C)},y.prototype.setStyle=function(P,C){return typeof P=="string"?this.style[P]=C:(0,r.l7)(this.style,P),this.dirtyStyle(),this},y.prototype.dirtyStyle=function(P){P||this.markRedraw(),this.__dirty|=e.SE,this._rect&&(this._rect=null)},y.prototype.dirty=function(){this.dirtyStyle()},y.prototype.styleChanged=function(){return!!(this.__dirty&e.SE)},y.prototype.styleUpdated=function(){this.__dirty&=~e.SE},y.prototype.createStyle=function(P){return(0,r.nW)(o,P)},y.prototype.useStyle=function(P){P[n]||(P=this.createStyle(P)),this.__inHover?this.__hoverStyle=P:this.style=P,this.dirtyStyle()},y.prototype.isStyleObject=function(P){return P[n]},y.prototype._innerSaveToNormal=function(P){T.prototype._innerSaveToNormal.call(this,P);var C=this._normalState;P.style&&!C.style&&(C.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(P,C,i)},y.prototype._applyStateObj=function(P,C,O,Z,U,b){T.prototype._applyStateObj.call(this,P,C,O,Z,U,b);var w=!(C&&Z),A;if(C&&C.style?U?Z?A=C.style:(A=this._mergeStyle(this.createStyle(),O.style),this._mergeStyle(A,C.style)):(A=this._mergeStyle(this.createStyle(),Z?this.style:O.style),this._mergeStyle(A,C.style)):w&&(A=O.style),A)if(U){var E=this.style;if(this.style=this.createStyle(w?{}:E),w)for(var d=(0,r.XP)(E),f=0;f<d.length;f++){var u=d[f];u in A&&(A[u]=A[u],this.style[u]=E[u])}for(var v=(0,r.XP)(A),f=0;f<v.length;f++){var u=v[f];this.style[u]=this.style[u]}this._transitionState(P,{style:A},b,this.getAnimationStyleProps())}else this.useStyle(A);for(var c=this.__inHover?a:i,f=0;f<c.length;f++){var u=c[f];C&&C[u]!=null?this[u]=C[u]:w&&O[u]!=null&&(this[u]=O[u])}},y.prototype._mergeStates=function(P){for(var C=T.prototype._mergeStates.call(this,P),O,Z=0;Z<P.length;Z++){var U=P[Z];U.style&&(O=O||{},this._mergeStyle(O,U.style))}return O&&(C.style=O),C},y.prototype._mergeStyle=function(P,C){return(0,r.l7)(P,C),P},y.prototype.getAnimationStyleProps=function(){return h},y.initDefaultProps=function(){var P=y.prototype;P.type="displayable",P.invisible=!1,P.z=0,P.z2=0,P.zlevel=0,P.culling=!1,P.cursor="pointer",P.rectHover=!1,P.incremental=!1,P._rect=null,P.dirtyRectTolerance=0,P.__dirty=e.YV|e.SE}(),y}(s.Z),_=new t.Z(0,0,0,0),M=new t.Z(0,0,0,0);function m(T,y,P){return _.copy(T.getBoundingRect()),T.transform&&_.applyTransform(T.transform),M.width=y,M.height=P,!_.intersect(M)}q.ZP=l},2413:function(ht,q){"use strict";var R=function(){function p(s){this.colorStops=s||[]}return p.prototype.addColorStop=function(s,t){this.colorStops.push({offset:s,color:t})},p}();q.Z=R},2574:function(ht,q,R){"use strict";var p=R(12012),s=R(70324),t=R(12434),r=R(16128),e=function(n){(0,p.ZT)(o,n);function o(h){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(h),i}return o.prototype.childrenRef=function(){return this._children},o.prototype.children=function(){return this._children.slice()},o.prototype.childAt=function(h){return this._children[h]},o.prototype.childOfName=function(h){for(var i=this._children,a=0;a<i.length;a++)if(i[a].name===h)return i[a]},o.prototype.childCount=function(){return this._children.length},o.prototype.add=function(h){return h&&h!==this&&h.parent!==this&&(this._children.push(h),this._doAdd(h)),this},o.prototype.addBefore=function(h,i){if(h&&h!==this&&h.parent!==this&&i&&i.parent===this){var a=this._children,l=a.indexOf(i);l>=0&&(a.splice(l,0,h),this._doAdd(h))}return this},o.prototype.replace=function(h,i){var a=s.cq(this._children,h);return a>=0&&this.replaceAt(i,a),this},o.prototype.replaceAt=function(h,i){var a=this._children,l=a[i];if(h&&h!==this&&h.parent!==this&&h!==l){a[i]=h,l.parent=null;var _=this.__zr;_&&l.removeSelfFromZr(_),this._doAdd(h)}return this},o.prototype._doAdd=function(h){h.parent&&h.parent.remove(h),h.parent=this;var i=this.__zr;i&&i!==h.__zr&&h.addSelfToZr(i),i&&i.refresh()},o.prototype.remove=function(h){var i=this.__zr,a=this._children,l=s.cq(a,h);return l<0?this:(a.splice(l,1),h.parent=null,i&&h.removeSelfFromZr(i),i&&i.refresh(),this)},o.prototype.removeAll=function(){for(var h=this._children,i=this.__zr,a=0;a<h.length;a++){var l=h[a];i&&l.removeSelfFromZr(i),l.parent=null}return h.length=0,this},o.prototype.eachChild=function(h,i){for(var a=this._children,l=0;l<a.length;l++){var _=a[l];h.call(i,_,l)}return this},o.prototype.traverse=function(h,i){for(var a=0;a<this._children.length;a++){var l=this._children[a],_=h.call(i,l);l.isGroup&&!_&&l.traverse(h,i)}return this},o.prototype.addSelfToZr=function(h){n.prototype.addSelfToZr.call(this,h);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.addSelfToZr(h)}},o.prototype.removeSelfFromZr=function(h){n.prototype.removeSelfFromZr.call(this,h);for(var i=0;i<this._children.length;i++){var a=this._children[i];a.removeSelfFromZr(h)}},o.prototype.getBoundingRect=function(h){for(var i=new r.Z(0,0,0,0),a=h||this._children,l=[],_=null,M=0;M<a.length;M++){var m=a[M];if(!(m.ignore||m.invisible)){var T=m.getBoundingRect(),y=m.getLocalTransform(l);y?(r.Z.applyTransform(i,T,y),_=_||i.clone(),_.union(i)):(_=_||T.clone(),_.union(T))}}return _||i},o}(t.Z);e.prototype.type="group",q.Z=e},13806:function(ht,q,R){"use strict";var p=R(12012),s=R(11635),t=R(16128),r=R(70324),e=(0,r.ce)({x:0,y:0},s.tj),n={style:(0,r.ce)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},s.ik.style)};function o(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var h=function(i){(0,p.ZT)(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.createStyle=function(l){return(0,r.nW)(e,l)},a.prototype._getSize=function(l){var _=this.style,M=_[l];if(M!=null)return M;var m=o(_.image)?_.image:this.__image;if(!m)return 0;var T=l==="width"?"height":"width",y=_[T];return y==null?m[l]:m[l]/m[T]*y},a.prototype.getWidth=function(){return this._getSize("width")},a.prototype.getHeight=function(){return this._getSize("height")},a.prototype.getAnimationStyleProps=function(){return n},a.prototype.getBoundingRect=function(){var l=this.style;return this._rect||(this._rect=new t.Z(l.x||0,l.y||0,this.getWidth(),this.getHeight())),this._rect},a}(s.ZP);h.prototype.type="image",q.ZP=h},87768:function(ht,q,R){"use strict";var p=R(12012),s=R(11635),t=R(16128),r=[],e=function(n){(0,p.ZT)(o,n);function o(){var h=n!==null&&n.apply(this,arguments)||this;return h.notClear=!0,h.incremental=!0,h._displayables=[],h._temporaryDisplayables=[],h._cursor=0,h}return o.prototype.traverse=function(h,i){h.call(i,this)},o.prototype.useStyle=function(){this.style={}},o.prototype.getCursor=function(){return this._cursor},o.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},o.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},o.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},o.prototype.addDisplayable=function(h,i){i?this._temporaryDisplayables.push(h):this._displayables.push(h),this.markRedraw()},o.prototype.addDisplayables=function(h,i){i=i||!1;for(var a=0;a<h.length;a++)this.addDisplayable(h[a],i)},o.prototype.getDisplayables=function(){return this._displayables},o.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},o.prototype.eachPendingDisplayable=function(h){for(var i=this._cursor;i<this._displayables.length;i++)h&&h(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)h&&h(this._temporaryDisplayables[i])},o.prototype.update=function(){this.updateTransform();for(var h=this._cursor;h<this._displayables.length;h++){var i=this._displayables[h];i.parent=this,i.update(),i.parent=null}for(var h=0;h<this._temporaryDisplayables.length;h++){var i=this._temporaryDisplayables[h];i.parent=this,i.update(),i.parent=null}},o.prototype.getBoundingRect=function(){if(!this._rect){for(var h=new t.Z(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var a=this._displayables[i],l=a.getBoundingRect().clone();a.needLocalTransform()&&l.applyTransform(a.getLocalTransform(r)),h.union(l)}this._rect=h}return this._rect},o.prototype.contain=function(h,i){var a=this.transformCoordToLocal(h,i),l=this.getBoundingRect();if(l.contain(a[0],a[1]))for(var _=0;_<this._displayables.length;_++){var M=this._displayables[_];if(M.contain(h,i))return!0}return!1},o}(s.ZP);q.Z=e},55602:function(ht,q,R){"use strict";var p=R(12012),s=R(2413),t=function(r){(0,p.ZT)(e,r);function e(n,o,h,i,a,l){var _=r.call(this,a)||this;return _.x=n==null?0:n,_.y=o==null?0:o,_.x2=h==null?1:h,_.y2=i==null?0:i,_.type="linear",_.global=l||!1,_}return e}(s.Z);q.Z=t},66210:function(ht,q,R){"use strict";R.d(q,{$t:function(){return c},ZP:function(){return L}});var p=R(12012),s=R(11635),t=R(29436),r=R(35849),e=R(14296);function n(I,N,G,K,J,F,H,V,S,W,B){if(S===0)return!1;var X=S;if(B>N+X&&B>K+X&&B>F+X&&B>V+X||B<N-X&&B<K-X&&B<F-X&&B<V-X||W>I+X&&W>G+X&&W>J+X&&W>H+X||W<I-X&&W<G-X&&W<J-X&&W<H-X)return!1;var Y=e.t1(I,N,G,K,J,F,H,V,W,B,null);return Y<=X/2}var o=R(48610),h=R(47833),i=Math.PI*2;function a(I,N,G,K,J,F,H,V,S){if(H===0)return!1;var W=H;V-=I,S-=N;var B=Math.sqrt(V*V+S*S);if(B-W>G||B+W<G)return!1;if(Math.abs(K-J)%i<1e-4)return!0;if(F){var X=K;K=(0,h.m)(J),J=(0,h.m)(X)}else K=(0,h.m)(K),J=(0,h.m)(J);K>J&&(J+=i);var Y=Math.atan2(S,V);return Y<0&&(Y+=i),Y>=K&&Y<=J||Y+i>=K&&Y+i<=J}var l=R(99271),_=t.Z.CMD,M=Math.PI*2,m=1e-4;function T(I,N){return Math.abs(I-N)<m}var y=[-1,-1,-1],P=[-1,-1];function C(){var I=P[0];P[0]=P[1],P[1]=I}function O(I,N,G,K,J,F,H,V,S,W){if(W>N&&W>K&&W>F&&W>V||W<N&&W<K&&W<F&&W<V)return 0;var B=e.kD(N,K,F,V,W,y);if(B===0)return 0;for(var X=0,Y=-1,nt=void 0,z=void 0,j=0;j<B;j++){var at=y[j],ft=at===0||at===1?.5:1,pt=e.af(I,G,J,H,at);pt<S||(Y<0&&(Y=e.pP(N,K,F,V,P),P[1]<P[0]&&Y>1&&C(),nt=e.af(N,K,F,V,P[0]),Y>1&&(z=e.af(N,K,F,V,P[1]))),Y===2?at<P[0]?X+=nt<N?ft:-ft:at<P[1]?X+=z<nt?ft:-ft:X+=V<z?ft:-ft:at<P[0]?X+=nt<N?ft:-ft:X+=V<nt?ft:-ft)}return X}function Z(I,N,G,K,J,F,H,V){if(V>N&&V>K&&V>F||V<N&&V<K&&V<F)return 0;var S=e.Jz(N,K,F,V,y);if(S===0)return 0;var W=e.QC(N,K,F);if(W>=0&&W<=1){for(var B=0,X=e.Zm(N,K,F,W),Y=0;Y<S;Y++){var nt=y[Y]===0||y[Y]===1?.5:1,z=e.Zm(I,G,J,y[Y]);z<H||(y[Y]<W?B+=X<N?nt:-nt:B+=F<X?nt:-nt)}return B}else{var nt=y[0]===0||y[0]===1?.5:1,z=e.Zm(I,G,J,y[0]);return z<H?0:F<N?nt:-nt}}function U(I,N,G,K,J,F,H,V){if(V-=N,V>G||V<-G)return 0;var S=Math.sqrt(G*G-V*V);y[0]=-S,y[1]=S;var W=Math.abs(K-J);if(W<1e-4)return 0;if(W>=M-1e-4){K=0,J=M;var B=F?1:-1;return H>=y[0]+I&&H<=y[1]+I?B:0}if(K>J){var X=K;K=J,J=X}K<0&&(K+=M,J+=M);for(var Y=0,nt=0;nt<2;nt++){var z=y[nt];if(z+I>H){var j=Math.atan2(V,z),B=F?1:-1;j<0&&(j=M+j),(j>=K&&j<=J||j+M>=K&&j+M<=J)&&(j>Math.PI/2&&j<Math.PI*1.5&&(B=-B),Y+=B)}}return Y}function b(I,N,G,K,J){for(var F=I.data,H=I.len(),V=0,S=0,W=0,B=0,X=0,Y,nt,z=0;z<H;){var j=F[z++],at=z===1;switch(j===_.M&&z>1&&(G||(V+=(0,l.Z)(S,W,B,X,K,J))),at&&(S=F[z],W=F[z+1],B=S,X=W),j){case _.M:B=F[z++],X=F[z++],S=B,W=X;break;case _.L:if(G){if(r.m(S,W,F[z],F[z+1],N,K,J))return!0}else V+=(0,l.Z)(S,W,F[z],F[z+1],K,J)||0;S=F[z++],W=F[z++];break;case _.C:if(G){if(n(S,W,F[z++],F[z++],F[z++],F[z++],F[z],F[z+1],N,K,J))return!0}else V+=O(S,W,F[z++],F[z++],F[z++],F[z++],F[z],F[z+1],K,J)||0;S=F[z++],W=F[z++];break;case _.Q:if(G){if(o.m(S,W,F[z++],F[z++],F[z],F[z+1],N,K,J))return!0}else V+=Z(S,W,F[z++],F[z++],F[z],F[z+1],K,J)||0;S=F[z++],W=F[z++];break;case _.A:var ft=F[z++],pt=F[z++],rt=F[z++],et=F[z++],ut=F[z++],dt=F[z++];z+=1;var ot=!!(1-F[z++]);Y=Math.cos(ut)*rt+ft,nt=Math.sin(ut)*et+pt,at?(B=Y,X=nt):V+=(0,l.Z)(S,W,Y,nt,K,J);var _t=(K-ft)*et/rt+ft;if(G){if(a(ft,pt,et,ut,ut+dt,ot,N,_t,J))return!0}else V+=U(ft,pt,et,ut,ut+dt,ot,_t,J);S=Math.cos(ut+dt)*rt+ft,W=Math.sin(ut+dt)*et+pt;break;case _.R:B=S=F[z++],X=W=F[z++];var lt=F[z++],Mt=F[z++];if(Y=B+lt,nt=X+Mt,G){if(r.m(B,X,Y,X,N,K,J)||r.m(Y,X,Y,nt,N,K,J)||r.m(Y,nt,B,nt,N,K,J)||r.m(B,nt,B,X,N,K,J))return!0}else V+=(0,l.Z)(Y,X,Y,nt,K,J),V+=(0,l.Z)(B,nt,B,X,K,J);break;case _.Z:if(G){if(r.m(S,W,B,X,N,K,J))return!0}else V+=(0,l.Z)(S,W,B,X,K,J);S=B,W=X;break}}return!G&&!T(W,X)&&(V+=(0,l.Z)(S,W,B,X,K,J)||0),V!==0}function w(I,N,G){return b(I,0,!1,N,G)}function A(I,N,G,K){return b(I,N,!0,G,K)}var E=R(70324),d=R(96170),f=R(62623),u=R(53197),v=R(23463),c=(0,E.ce)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},s.tj),g={style:(0,E.ce)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},s.ik.style)},D=v.dN.concat(["invisible","culling","z","z2","zlevel","parent"]),x=function(I){(0,p.ZT)(N,I);function N(G){return I.call(this,G)||this}return N.prototype.update=function(){var G=this;I.prototype.update.call(this);var K=this.style;if(K.decal){var J=this._decalEl=this._decalEl||new N;J.buildPath===N.prototype.buildPath&&(J.buildPath=function(S){G.buildPath(S,G.shape)}),J.silent=!0;var F=J.style;for(var H in K)F[H]!==K[H]&&(F[H]=K[H]);F.fill=K.fill?K.decal:null,F.decal=null,F.shadowColor=null,K.strokeFirst&&(F.stroke=null);for(var V=0;V<D.length;++V)J[D[V]]=this[D[V]];J.__dirty|=u.YV}else this._decalEl&&(this._decalEl=null)},N.prototype.getDecalElement=function(){return this._decalEl},N.prototype._init=function(G){var K=(0,E.XP)(G);this.shape=this.getDefaultShape();var J=this.getDefaultStyle();J&&this.useStyle(J);for(var F=0;F<K.length;F++){var H=K[F],V=G[H];H==="style"?this.style?(0,E.l7)(this.style,V):this.useStyle(V):H==="shape"?(0,E.l7)(this.shape,V):I.prototype.attrKV.call(this,H,V)}this.style||this.useStyle({})},N.prototype.getDefaultStyle=function(){return null},N.prototype.getDefaultShape=function(){return{}},N.prototype.canBeInsideText=function(){return this.hasFill()},N.prototype.getInsideTextFill=function(){var G=this.style.fill;if(G!=="none"){if((0,E.HD)(G)){var K=(0,d.lum)(G,0);return K>.5?f.vU:K>.2?f.iv:f.GD}else if(G)return f.GD}return f.vU},N.prototype.getInsideTextStroke=function(G){var K=this.style.fill;if((0,E.HD)(K)){var J=this.__zr,F=!!(J&&J.isDarkMode()),H=(0,d.lum)(G,0)<f.Ak;if(F===H)return K}},N.prototype.buildPath=function(G,K,J){},N.prototype.pathUpdated=function(){this.__dirty&=~u.RH},N.prototype.getUpdatedPathProxy=function(G){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,G),this.path},N.prototype.createPathProxy=function(){this.path=new t.Z(!1)},N.prototype.hasStroke=function(){var G=this.style,K=G.stroke;return!(K==null||K==="none"||!(G.lineWidth>0))},N.prototype.hasFill=function(){var G=this.style,K=G.fill;return K!=null&&K!=="none"},N.prototype.getBoundingRect=function(){var G=this._rect,K=this.style,J=!G;if(J){var F=!1;this.path||(F=!0,this.createPathProxy());var H=this.path;(F||this.__dirty&u.RH)&&(H.beginPath(),this.buildPath(H,this.shape,!1),this.pathUpdated()),G=H.getBoundingRect()}if(this._rect=G,this.hasStroke()&&this.path&&this.path.len()>0){var V=this._rectStroke||(this._rectStroke=G.clone());if(this.__dirty||J){V.copy(G);var S=K.strokeNoScale?this.getLineScale():1,W=K.lineWidth;if(!this.hasFill()){var B=this.strokeContainThreshold;W=Math.max(W,B==null?4:B)}S>1e-10&&(V.width+=W/S,V.height+=W/S,V.x-=W/S/2,V.y-=W/S/2)}return V}return G},N.prototype.contain=function(G,K){var J=this.transformCoordToLocal(G,K),F=this.getBoundingRect(),H=this.style;if(G=J[0],K=J[1],F.contain(G,K)){var V=this.path;if(this.hasStroke()){var S=H.lineWidth,W=H.strokeNoScale?this.getLineScale():1;if(W>1e-10&&(this.hasFill()||(S=Math.max(S,this.strokeContainThreshold)),A(V,S/W,G,K)))return!0}if(this.hasFill())return w(V,G,K)}return!1},N.prototype.dirtyShape=function(){this.__dirty|=u.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},N.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},N.prototype.animateShape=function(G){return this.animate("shape",G)},N.prototype.updateDuringAnimation=function(G){G==="style"?this.dirtyStyle():G==="shape"?this.dirtyShape():this.markRedraw()},N.prototype.attrKV=function(G,K){G==="shape"?this.setShape(K):I.prototype.attrKV.call(this,G,K)},N.prototype.setShape=function(G,K){var J=this.shape;return J||(J=this.shape={}),typeof G=="string"?J[G]=K:(0,E.l7)(J,G),this.dirtyShape(),this},N.prototype.shapeChanged=function(){return!!(this.__dirty&u.RH)},N.prototype.createStyle=function(G){return(0,E.nW)(c,G)},N.prototype._innerSaveToNormal=function(G){I.prototype._innerSaveToNormal.call(this,G);var K=this._normalState;G.shape&&!K.shape&&(K.shape=(0,E.l7)({},this.shape))},N.prototype._applyStateObj=function(G,K,J,F,H,V){I.prototype._applyStateObj.call(this,G,K,J,F,H,V);var S=!(K&&F),W;if(K&&K.shape?H?F?W=K.shape:(W=(0,E.l7)({},J.shape),(0,E.l7)(W,K.shape)):(W=(0,E.l7)({},F?this.shape:J.shape),(0,E.l7)(W,K.shape)):S&&(W=J.shape),W)if(H){this.shape=(0,E.l7)({},this.shape);for(var B={},X=(0,E.XP)(W),Y=0;Y<X.length;Y++){var nt=X[Y];typeof W[nt]=="object"?this.shape[nt]=W[nt]:B[nt]=W[nt]}this._transitionState(G,{shape:B},V)}else this.shape=W,this.dirtyShape()},N.prototype._mergeStates=function(G){for(var K=I.prototype._mergeStates.call(this,G),J,F=0;F<G.length;F++){var H=G[F];H.shape&&(J=J||{},this._mergeStyle(J,H.shape))}return J&&(K.shape=J),K},N.prototype.getAnimationStyleProps=function(){return g},N.prototype.isZeroArea=function(){return!1},N.extend=function(G){var K=function(F){(0,p.ZT)(H,F);function H(V){var S=F.call(this,V)||this;return G.init&&G.init.call(S,V),S}return H.prototype.getDefaultStyle=function(){return(0,E.d9)(G.style)},H.prototype.getDefaultShape=function(){return(0,E.d9)(G.shape)},H}(N);for(var J in G)typeof G[J]=="function"&&(K.prototype[J]=G[J]);return K},N.initDefaultProps=function(){var G=N.prototype;G.type="path",G.strokeContainThreshold=5,G.segmentIgnoreThreshold=0,G.subPixelOptimize=!1,G.autoBatch=!1,G.__dirty=u.YV|u.SE|u.RH}(),N}(s.ZP),L=x},43606:function(ht,q,R){"use strict";var p=R(12012),s=R(2413),t=function(r){(0,p.ZT)(e,r);function e(n,o,h,i,a){var l=r.call(this,i)||this;return l.x=n==null?.5:n,l.y=o==null?.5:o,l.r=h==null?.5:h,l.type="radial",l.global=a||!1,l}return e}(s.Z);q.Z=t},83007:function(ht,q,R){"use strict";var p=R(12012),s=R(11635),t=R(98733),r=R(66210),e=R(70324),n=R(47297),o=(0,e.ce)({strokeFirst:!0,font:n.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},r.$t),h=function(i){(0,p.ZT)(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.hasStroke=function(){var l=this.style,_=l.stroke;return _!=null&&_!=="none"&&l.lineWidth>0},a.prototype.hasFill=function(){var l=this.style,_=l.fill;return _!=null&&_!=="none"},a.prototype.createStyle=function(l){return(0,e.nW)(o,l)},a.prototype.setBoundingRect=function(l){this._rect=l},a.prototype.getBoundingRect=function(){var l=this.style;if(!this._rect){var _=l.text;_!=null?_+="":_="";var M=(0,t.lP)(_,l.font,l.textAlign,l.textBaseline);if(M.x+=l.x||0,M.y+=l.y||0,this.hasStroke()){var m=l.lineWidth;M.x-=m/2,M.y-=m/2,M.width+=m,M.height+=m}this._rect=M}return this._rect},a.initDefaultProps=function(){var l=a.prototype;l.dirtyRectTolerance=10}(),a}(s.ZP);h.prototype.type="tspan",q.Z=h},95169:function(ht,q,R){"use strict";R.d(q,{VG:function(){return C},Y1:function(){return Z}});var p=R(12012),s=R(28185),t=R(83007),r=R(70324),e=R(98733),n=R(13806),o=R(73909),h=R(16128),i=R(11635),a=R(47297),l={fill:"#000"},_=2,M={style:(0,r.ce)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},i.ik.style)},m=function(u){(0,p.ZT)(v,u);function v(c){var g=u.call(this)||this;return g.type="text",g._children=[],g._defaultStyle=l,g.attr(c),g}return v.prototype.childrenRef=function(){return this._children},v.prototype.update=function(){u.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var c=0;c<this._children.length;c++){var g=this._children[c];g.zlevel=this.zlevel,g.z=this.z,g.z2=this.z2,g.culling=this.culling,g.cursor=this.cursor,g.invisible=this.invisible}},v.prototype.updateTransform=function(){var c=this.innerTransformable;c?(c.updateTransform(),c.transform&&(this.transform=c.transform)):u.prototype.updateTransform.call(this)},v.prototype.getLocalTransform=function(c){var g=this.innerTransformable;return g?g.getLocalTransform(c):u.prototype.getLocalTransform.call(this,c)},v.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),u.prototype.getComputedTransform.call(this)},v.prototype._updateSubTexts=function(){this._childCursor=0,U(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},v.prototype.addSelfToZr=function(c){u.prototype.addSelfToZr.call(this,c);for(var g=0;g<this._children.length;g++)this._children[g].__zr=c},v.prototype.removeSelfFromZr=function(c){u.prototype.removeSelfFromZr.call(this,c);for(var g=0;g<this._children.length;g++)this._children[g].__zr=null},v.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var c=new h.Z(0,0,0,0),g=this._children,D=[],x=null,L=0;L<g.length;L++){var I=g[L],N=I.getBoundingRect(),G=I.getLocalTransform(D);G?(c.copy(N),c.applyTransform(G),x=x||c.clone(),x.union(c)):(x=x||N.clone(),x.union(N))}this._rect=x||c}return this._rect},v.prototype.setDefaultTextStyle=function(c){this._defaultStyle=c||l},v.prototype.setTextContent=function(c){},v.prototype._mergeStyle=function(c,g){if(!g)return c;var D=g.rich,x=c.rich||D&&{};return(0,r.l7)(c,g),D&&x?(this._mergeRich(x,D),c.rich=x):x&&(c.rich=x),c},v.prototype._mergeRich=function(c,g){for(var D=(0,r.XP)(g),x=0;x<D.length;x++){var L=D[x];c[L]=c[L]||{},(0,r.l7)(c[L],g[L])}},v.prototype.getAnimationStyleProps=function(){return M},v.prototype._getOrCreateChild=function(c){var g=this._children[this._childCursor];return(!g||!(g instanceof c))&&(g=new c),this._children[this._childCursor++]=g,g.__zr=this.__zr,g.parent=this,g},v.prototype._updatePlainTexts=function(){var c=this.style,g=c.font||a.Uo,D=c.padding,x=d(c),L=(0,s.NY)(x,c),I=f(c),N=!!c.backgroundColor,G=L.outerHeight,K=L.outerWidth,J=L.contentWidth,F=L.lines,H=L.lineHeight,V=this._defaultStyle,S=c.x||0,W=c.y||0,B=c.align||V.align||"left",X=c.verticalAlign||V.verticalAlign||"top",Y=S,nt=(0,e.mU)(W,L.contentHeight,X);if(I||D){var z=(0,e.M3)(S,K,B),j=(0,e.mU)(W,G,X);I&&this._renderBackground(c,c,z,j,K,G)}nt+=H/2,D&&(Y=E(S,B,D),X==="top"?nt+=D[0]:X==="bottom"&&(nt-=D[2]));for(var at=0,ft=!1,pt=A("fill"in c?c.fill:(ft=!0,V.fill)),rt=w("stroke"in c?c.stroke:!N&&(!V.autoStroke||ft)?(at=_,V.stroke):null),et=c.textShadowBlur>0,ut=c.width!=null&&(c.overflow==="truncate"||c.overflow==="break"||c.overflow==="breakAll"),dt=L.calculatedLineHeight,ot=0;ot<F.length;ot++){var _t=this._getOrCreateChild(t.Z),lt=_t.createStyle();_t.useStyle(lt),lt.text=F[ot],lt.x=Y,lt.y=nt,B&&(lt.textAlign=B),lt.textBaseline="middle",lt.opacity=c.opacity,lt.strokeFirst=!0,et&&(lt.shadowBlur=c.textShadowBlur||0,lt.shadowColor=c.textShadowColor||"transparent",lt.shadowOffsetX=c.textShadowOffsetX||0,lt.shadowOffsetY=c.textShadowOffsetY||0),lt.stroke=rt,lt.fill=pt,rt&&(lt.lineWidth=c.lineWidth||at,lt.lineDash=c.lineDash,lt.lineDashOffset=c.lineDashOffset||0),lt.font=g,O(lt,c),nt+=H,ut&&_t.setBoundingRect(new h.Z((0,e.M3)(lt.x,c.width,lt.textAlign),(0,e.mU)(lt.y,dt,lt.textBaseline),J,dt))}},v.prototype._updateRichTexts=function(){var c=this.style,g=d(c),D=(0,s.$F)(g,c),x=D.width,L=D.outerWidth,I=D.outerHeight,N=c.padding,G=c.x||0,K=c.y||0,J=this._defaultStyle,F=c.align||J.align,H=c.verticalAlign||J.verticalAlign,V=(0,e.M3)(G,L,F),S=(0,e.mU)(K,I,H),W=V,B=S;N&&(W+=N[3],B+=N[0]);var X=W+x;f(c)&&this._renderBackground(c,c,V,S,L,I);for(var Y=!!c.backgroundColor,nt=0;nt<D.lines.length;nt++){for(var z=D.lines[nt],j=z.tokens,at=j.length,ft=z.lineHeight,pt=z.width,rt=0,et=W,ut=X,dt=at-1,ot=void 0;rt<at&&(ot=j[rt],!ot.align||ot.align==="left");)this._placeToken(ot,c,ft,B,et,"left",Y),pt-=ot.width,et+=ot.width,rt++;for(;dt>=0&&(ot=j[dt],ot.align==="right");)this._placeToken(ot,c,ft,B,ut,"right",Y),pt-=ot.width,ut-=ot.width,dt--;for(et+=(x-(et-W)-(X-ut)-pt)/2;rt<=dt;)ot=j[rt],this._placeToken(ot,c,ft,B,et+ot.width/2,"center",Y),et+=ot.width,rt++;B+=ft}},v.prototype._placeToken=function(c,g,D,x,L,I,N){var G=g.rich[c.styleName]||{};G.text=c.text;var K=c.verticalAlign,J=x+D/2;K==="top"?J=x+c.height/2:K==="bottom"&&(J=x+D-c.height/2);var F=!c.isLineHolder&&f(G);F&&this._renderBackground(G,g,I==="right"?L-c.width:I==="center"?L-c.width/2:L,J-c.height/2,c.width,c.height);var H=!!G.backgroundColor,V=c.textPadding;V&&(L=E(L,I,V),J-=c.height/2-V[0]-c.innerHeight/2);var S=this._getOrCreateChild(t.Z),W=S.createStyle();S.useStyle(W);var B=this._defaultStyle,X=!1,Y=0,nt=A("fill"in G?G.fill:"fill"in g?g.fill:(X=!0,B.fill)),z=w("stroke"in G?G.stroke:"stroke"in g?g.stroke:!H&&!N&&(!B.autoStroke||X)?(Y=_,B.stroke):null),j=G.textShadowBlur>0||g.textShadowBlur>0;W.text=c.text,W.x=L,W.y=J,j&&(W.shadowBlur=G.textShadowBlur||g.textShadowBlur||0,W.shadowColor=G.textShadowColor||g.textShadowColor||"transparent",W.shadowOffsetX=G.textShadowOffsetX||g.textShadowOffsetX||0,W.shadowOffsetY=G.textShadowOffsetY||g.textShadowOffsetY||0),W.textAlign=I,W.textBaseline="middle",W.font=c.font||a.Uo,W.opacity=(0,r.R1)(G.opacity,g.opacity,1),O(W,G),z&&(W.lineWidth=(0,r.R1)(G.lineWidth,g.lineWidth,Y),W.lineDash=(0,r.pD)(G.lineDash,g.lineDash),W.lineDashOffset=g.lineDashOffset||0,W.stroke=z),nt&&(W.fill=nt);var at=c.contentWidth,ft=c.contentHeight;S.setBoundingRect(new h.Z((0,e.M3)(W.x,at,W.textAlign),(0,e.mU)(W.y,ft,W.textBaseline),at,ft))},v.prototype._renderBackground=function(c,g,D,x,L,I){var N=c.backgroundColor,G=c.borderWidth,K=c.borderColor,J=N&&N.image,F=N&&!J,H=c.borderRadius,V=this,S,W;if(F||c.lineHeight||G&&K){S=this._getOrCreateChild(o.Z),S.useStyle(S.createStyle()),S.style.fill=null;var B=S.shape;B.x=D,B.y=x,B.width=L,B.height=I,B.r=H,S.dirtyShape()}if(F){var X=S.style;X.fill=N||null,X.fillOpacity=(0,r.pD)(c.fillOpacity,1)}else if(J){W=this._getOrCreateChild(n.ZP),W.onload=function(){V.dirtyStyle()};var Y=W.style;Y.image=N.image,Y.x=D,Y.y=x,Y.width=L,Y.height=I}if(G&&K){var X=S.style;X.lineWidth=G,X.stroke=K,X.strokeOpacity=(0,r.pD)(c.strokeOpacity,1),X.lineDash=c.borderDash,X.lineDashOffset=c.borderDashOffset||0,S.strokeContainThreshold=0,S.hasFill()&&S.hasStroke()&&(X.strokeFirst=!0,X.lineWidth*=2)}var nt=(S||W).style;nt.shadowBlur=c.shadowBlur||0,nt.shadowColor=c.shadowColor||"transparent",nt.shadowOffsetX=c.shadowOffsetX||0,nt.shadowOffsetY=c.shadowOffsetY||0,nt.opacity=(0,r.R1)(c.opacity,g.opacity,1)},v.makeFont=function(c){var g="";return Z(c)&&(g=[c.fontStyle,c.fontWeight,C(c.fontSize),c.fontFamily||"sans-serif"].join(" ")),g&&(0,r.fy)(g)||c.textFont||c.font},v}(i.ZP),T={left:!0,right:1,center:1},y={top:1,bottom:1,middle:1},P=["fontStyle","fontWeight","fontSize","fontFamily"];function C(u){return typeof u=="string"&&(u.indexOf("px")!==-1||u.indexOf("rem")!==-1||u.indexOf("em")!==-1)?u:isNaN(+u)?a.n5+"px":u+"px"}function O(u,v){for(var c=0;c<P.length;c++){var g=P[c],D=v[g];D!=null&&(u[g]=D)}}function Z(u){return u.fontSize!=null||u.fontFamily||u.fontWeight}function U(u){return b(u),(0,r.S6)(u.rich,b),u}function b(u){if(u){u.font=m.makeFont(u);var v=u.align;v==="middle"&&(v="center"),u.align=v==null||T[v]?v:"left";var c=u.verticalAlign;c==="center"&&(c="middle"),u.verticalAlign=c==null||y[c]?c:"top";var g=u.padding;g&&(u.padding=(0,r.MY)(u.padding))}}function w(u,v){return u==null||v<=0||u==="transparent"||u==="none"?null:u.image||u.colorStops?"#000":u}function A(u){return u==null||u==="none"?null:u.image||u.colorStops?"#000":u}function E(u,v,c){return v==="right"?u-c[1]:v==="center"?u+c[3]/2-c[1]/2:u+c[3]}function d(u){var v=u.text;return v!=null&&(v+=""),v}function f(u){return!!(u.backgroundColor||u.lineHeight||u.borderWidth&&u.borderColor)}q.ZP=m},53197:function(ht,q,R){"use strict";R.d(q,{RH:function(){return t},SE:function(){return s},YV:function(){return p}});var p=1,s=2,t=4},6850:function(ht,q,R){"use strict";R.d(q,{Gq:function(){return e},ko:function(){return r},v5:function(){return o}});var p=R(86280),s=R(47297),t=new p.ZP(50);function r(h){if(typeof h=="string"){var i=t.get(h);return i&&i.image}else return h}function e(h,i,a,l,_){if(h)if(typeof h=="string"){if(i&&i.__zrImageSrc===h||!a)return i;var M=t.get(h),m={hostEl:a,cb:l,cbPayload:_};return M?(i=M.image,!o(i)&&M.pending.push(m)):(i=s.qW.loadImage(h,n,n),i.__zrImageSrc=h,t.put(h,i.__cachedImgObj={image:i,pending:[m]})),i}else return h;else return i}function n(){var h=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<h.pending.length;i++){var a=h.pending[i],l=a.cb;l&&l(this,a.cbPayload),a.hostEl.dirty()}h.pending.length=0}function o(h){return h&&h.width&&h.height}},28185:function(ht,q,R){"use strict";R.d(q,{$F:function(){return M},NY:function(){return i},aF:function(){return e}});var p=R(6850),s=R(70324),t=R(98733),r=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function e(O,Z,U,b,w){if(!Z)return"";var A=(O+"").split(`
`);w=n(Z,U,b,w);for(var E=0,d=A.length;E<d;E++)A[E]=o(A[E],w);return A.join(`
`)}function n(O,Z,U,b){b=b||{};var w=(0,s.l7)({},b);w.font=Z,U=(0,s.pD)(U,"..."),w.maxIterations=(0,s.pD)(b.maxIterations,2);var A=w.minChar=(0,s.pD)(b.minChar,0);w.cnCharWidth=(0,t.dz)("\u56FD",Z);var E=w.ascCharWidth=(0,t.dz)("a",Z);w.placeholder=(0,s.pD)(b.placeholder,"");for(var d=O=Math.max(0,O-1),f=0;f<A&&d>=E;f++)d-=E;var u=(0,t.dz)(U,Z);return u>d&&(U="",u=0),d=O-u,w.ellipsis=U,w.ellipsisWidth=u,w.contentWidth=d,w.containerWidth=O,w}function o(O,Z){var U=Z.containerWidth,b=Z.font,w=Z.contentWidth;if(!U)return"";var A=(0,t.dz)(O,b);if(A<=U)return O;for(var E=0;;E++){if(A<=w||E>=Z.maxIterations){O+=Z.ellipsis;break}var d=E===0?h(O,w,Z.ascCharWidth,Z.cnCharWidth):A>0?Math.floor(O.length*w/A):0;O=O.substr(0,d),A=(0,t.dz)(O,b)}return O===""&&(O=Z.placeholder),O}function h(O,Z,U,b){for(var w=0,A=0,E=O.length;A<E&&w<Z;A++){var d=O.charCodeAt(A);w+=0<=d&&d<=127?U:b}return A}function i(O,Z){O!=null&&(O+="");var U=Z.overflow,b=Z.padding,w=Z.font,A=U==="truncate",E=(0,t.Dp)(w),d=(0,s.pD)(Z.lineHeight,E),f=!!Z.backgroundColor,u=Z.lineOverflow==="truncate",v=Z.width,c;v!=null&&(U==="break"||U==="breakAll")?c=O?C(O,Z.font,v,U==="breakAll",0).lines:[]:c=O?O.split(`
`):[];var g=c.length*d,D=(0,s.pD)(Z.height,g);if(g>D&&u){var x=Math.floor(D/d);c=c.slice(0,x)}if(O&&A&&v!=null)for(var L=n(v,w,Z.ellipsis,{minChar:Z.truncateMinChar,placeholder:Z.placeholder}),I=0;I<c.length;I++)c[I]=o(c[I],L);for(var N=D,G=0,I=0;I<c.length;I++)G=Math.max((0,t.dz)(c[I],w),G);v==null&&(v=G);var K=G;return b&&(N+=b[0]+b[2],K+=b[1]+b[3],v+=b[1]+b[3]),f&&(K=v),{lines:c,height:D,outerWidth:K,outerHeight:N,lineHeight:d,calculatedLineHeight:E,contentWidth:G,contentHeight:g,width:v}}var a=function(){function O(){}return O}(),l=function(){function O(Z){this.tokens=[],Z&&(this.tokens=Z)}return O}(),_=function(){function O(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return O}();function M(O,Z){var U=new _;if(O!=null&&(O+=""),!O)return U;for(var b=Z.width,w=Z.height,A=Z.overflow,E=(A==="break"||A==="breakAll")&&b!=null?{width:b,accumWidth:0,breakAll:A==="breakAll"}:null,d=r.lastIndex=0,f;(f=r.exec(O))!=null;){var u=f.index;u>d&&m(U,O.substring(d,u),Z,E),m(U,f[2],Z,E,f[1]),d=r.lastIndex}d<O.length&&m(U,O.substring(d,O.length),Z,E);var v=[],c=0,g=0,D=Z.padding,x=A==="truncate",L=Z.lineOverflow==="truncate";function I(pt,rt,et){pt.width=rt,pt.lineHeight=et,c+=et,g=Math.max(g,rt)}t:for(var N=0;N<U.lines.length;N++){for(var G=U.lines[N],K=0,J=0,F=0;F<G.tokens.length;F++){var H=G.tokens[F],V=H.styleName&&Z.rich[H.styleName]||{},S=H.textPadding=V.padding,W=S?S[1]+S[3]:0,B=H.font=V.font||Z.font;H.contentHeight=(0,t.Dp)(B);var X=(0,s.pD)(V.height,H.contentHeight);if(H.innerHeight=X,S&&(X+=S[0]+S[2]),H.height=X,H.lineHeight=(0,s.R1)(V.lineHeight,Z.lineHeight,X),H.align=V&&V.align||Z.align,H.verticalAlign=V&&V.verticalAlign||"middle",L&&w!=null&&c+H.lineHeight>w){F>0?(G.tokens=G.tokens.slice(0,F),I(G,J,K),U.lines=U.lines.slice(0,N+1)):U.lines=U.lines.slice(0,N);break t}var Y=V.width,nt=Y==null||Y==="auto";if(typeof Y=="string"&&Y.charAt(Y.length-1)==="%")H.percentWidth=Y,v.push(H),H.contentWidth=(0,t.dz)(H.text,B);else{if(nt){var z=V.backgroundColor,j=z&&z.image;j&&(j=p.ko(j),p.v5(j)&&(H.width=Math.max(H.width,j.width*X/j.height)))}var at=x&&b!=null?b-J:null;at!=null&&at<H.width?!nt||at<W?(H.text="",H.width=H.contentWidth=0):(H.text=e(H.text,at-W,B,Z.ellipsis,{minChar:Z.truncateMinChar}),H.width=H.contentWidth=(0,t.dz)(H.text,B)):H.contentWidth=(0,t.dz)(H.text,B)}H.width+=W,J+=H.width,V&&(K=Math.max(K,H.lineHeight))}I(G,J,K)}U.outerWidth=U.width=(0,s.pD)(b,g),U.outerHeight=U.height=(0,s.pD)(w,c),U.contentHeight=c,U.contentWidth=g,D&&(U.outerWidth+=D[1]+D[3],U.outerHeight+=D[0]+D[2]);for(var N=0;N<v.length;N++){var H=v[N],ft=H.percentWidth;H.width=parseInt(ft,10)/100*U.width}return U}function m(O,Z,U,b,w){var A=Z==="",E=w&&U.rich[w]||{},d=O.lines,f=E.font||U.font,u=!1,v,c;if(b){var g=E.padding,D=g?g[1]+g[3]:0;if(E.width!=null&&E.width!=="auto"){var x=(0,t.GM)(E.width,b.width)+D;d.length>0&&x+b.accumWidth>b.width&&(v=Z.split(`
`),u=!0),b.accumWidth=x}else{var L=C(Z,f,b.width,b.breakAll,b.accumWidth);b.accumWidth=L.accumWidth+D,c=L.linesWidths,v=L.lines}}else v=Z.split(`
`);for(var I=0;I<v.length;I++){var N=v[I],G=new a;if(G.styleName=w,G.text=N,G.isLineHolder=!N&&!A,typeof E.width=="number"?G.width=E.width:G.width=c?c[I]:(0,t.dz)(N,f),!I&&!u){var K=(d[d.length-1]||(d[0]=new l)).tokens,J=K.length;J===1&&K[0].isLineHolder?K[0]=G:(N||!J||A)&&K.push(G)}else d.push(new l([G]))}}function T(O){var Z=O.charCodeAt(0);return Z>=32&&Z<=591||Z>=880&&Z<=4351||Z>=4608&&Z<=5119||Z>=7680&&Z<=8303}var y=(0,s.u4)(",&?/;] ".split(""),function(O,Z){return O[Z]=!0,O},{});function P(O){return T(O)?!!y[O]:!0}function C(O,Z,U,b,w){for(var A=[],E=[],d="",f="",u=0,v=0,c=0;c<O.length;c++){var g=O.charAt(c);if(g===`
`){f&&(d+=f,v+=u),A.push(d),E.push(v),d="",f="",u=0,v=0;continue}var D=(0,t.dz)(g,Z),x=b?!1:!P(g);if(A.length?v+D>U:w+v+D>U){v?(d||f)&&(x?(d||(d=f,f="",u=0,v=u),A.push(d),E.push(v-u),f+=g,u+=D,d="",v=u):(f&&(d+=f,f="",u=0),A.push(d),E.push(v),d=g,v=D)):x?(A.push(f),E.push(u),f=g,u=D):(A.push(g),E.push(D));continue}v+=D,x?(f+=g,u+=D):(f&&(d+=f,f="",u=0),d+=g)}return!A.length&&!d&&(d=O,f="",u=0),f&&(d+=f),d&&(A.push(d),E.push(v)),A.length===1&&(v+=w),{accumWidth:v,lines:A,linesWidths:E}}},65155:function(ht,q,R){"use strict";R.d(q,{L:function(){return t}});var p=R(85755);function s(r,e,n,o){var h=[],i=[],a=[],l=[],_,M,m,T;if(o){m=[1/0,1/0],T=[-1/0,-1/0];for(var y=0,P=r.length;y<P;y++)(0,p.VV)(m,m,r[y]),(0,p.Fp)(T,T,r[y]);(0,p.VV)(m,m,o[0]),(0,p.Fp)(T,T,o[1])}for(var y=0,P=r.length;y<P;y++){var C=r[y];if(n)_=r[y?y-1:P-1],M=r[(y+1)%P];else if(y===0||y===P-1){h.push((0,p.d9)(r[y]));continue}else _=r[y-1],M=r[y+1];(0,p.lu)(i,M,_),(0,p.bA)(i,i,e);var O=(0,p.TE)(C,_),Z=(0,p.TE)(C,M),U=O+Z;U!==0&&(O/=U,Z/=U),(0,p.bA)(a,i,-O),(0,p.bA)(l,i,Z);var b=(0,p.IH)([],C,a),w=(0,p.IH)([],C,l);o&&((0,p.Fp)(b,b,m),(0,p.VV)(b,b,T),(0,p.Fp)(w,w,m),(0,p.VV)(w,w,T)),h.push(b),h.push(w)}return n&&h.push(h.shift()),h}function t(r,e,n){var o=e.smooth,h=e.points;if(h&&h.length>=2){if(o){var i=s(h,o,n,e.smoothConstraint);r.moveTo(h[0][0],h[0][1]);for(var a=h.length,l=0;l<(n?a:a-1);l++){var _=i[l*2],M=i[l*2+1],m=h[(l+1)%a];r.bezierCurveTo(_[0],_[1],M[0],M[1],m[0],m[1])}}else{r.moveTo(h[0][0],h[0][1]);for(var l=1,T=h.length;l<T;l++)r.lineTo(h[l][0],h[l][1])}n&&r.closePath()}}},51372:function(ht,q,R){"use strict";R.d(q,{Pw:function(){return t},_3:function(){return s},vu:function(){return r}});var p=Math.round;function s(e,n,o){if(n){var h=n.x1,i=n.x2,a=n.y1,l=n.y2;e.x1=h,e.x2=i,e.y1=a,e.y2=l;var _=o&&o.lineWidth;return _&&(p(h*2)===p(i*2)&&(e.x1=e.x2=r(h,_,!0)),p(a*2)===p(l*2)&&(e.y1=e.y2=r(a,_,!0))),e}}function t(e,n,o){if(n){var h=n.x,i=n.y,a=n.width,l=n.height;e.x=h,e.y=i,e.width=a,e.height=l;var _=o&&o.lineWidth;return _&&(e.x=r(h,_,!0),e.y=r(i,_,!0),e.width=Math.max(r(h+a,_,!1)-e.x,a===0?0:1),e.height=Math.max(r(i+l,_,!1)-e.y,l===0?0:1)),e}}function r(e,n,o){if(!n)return e;var h=p(e*2);return(h+p(n))%2===0?h/2:(h+(o?1:-1))/2}},5485:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),r=function(e){(0,p.ZT)(n,e);function n(o){return e.call(this,o)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new t},n.prototype.buildPath=function(o,h){var i=h.cx,a=h.cy,l=Math.max(h.r,0),_=h.startAngle,M=h.endAngle,m=h.clockwise,T=Math.cos(_),y=Math.sin(_);o.moveTo(T*l+i,y*l+a),o.arc(i,a,l,_,M,!m)},n}(s.ZP);r.prototype.type="arc",q.Z=r},32799:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=R(85755),r=R(14296),e=[],n=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i}();function o(i,a,l){var _=i.cpx2,M=i.cpy2;return _!=null||M!=null?[(l?r.X_:r.af)(i.x1,i.cpx1,i.cpx2,i.x2,a),(l?r.X_:r.af)(i.y1,i.cpy1,i.cpy2,i.y2,a)]:[(l?r.AZ:r.Zm)(i.x1,i.cpx1,i.x2,a),(l?r.AZ:r.Zm)(i.y1,i.cpy1,i.y2,a)]}var h=function(i){(0,p.ZT)(a,i);function a(l){return i.call(this,l)||this}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new n},a.prototype.buildPath=function(l,_){var M=_.x1,m=_.y1,T=_.x2,y=_.y2,P=_.cpx1,C=_.cpy1,O=_.cpx2,Z=_.cpy2,U=_.percent;U!==0&&(l.moveTo(M,m),O==null||Z==null?(U<1&&((0,r.Lx)(M,P,T,U,e),P=e[1],T=e[2],(0,r.Lx)(m,C,y,U,e),C=e[1],y=e[2]),l.quadraticCurveTo(P,C,T,y)):(U<1&&((0,r.Vz)(M,P,O,T,U,e),P=e[1],O=e[2],T=e[3],(0,r.Vz)(m,C,Z,y,U,e),C=e[1],Z=e[2],y=e[3]),l.bezierCurveTo(P,C,O,Z,T,y)))},a.prototype.pointAt=function(l){return o(this.shape,l,!1)},a.prototype.tangentAt=function(l){var _=o(this.shape,l,!0);return t.Fv(_,_)},a}(s.ZP);h.prototype.type="bezier-curve",q.Z=h},16513:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),r=function(e){(0,p.ZT)(n,e);function n(o){return e.call(this,o)||this}return n.prototype.getDefaultShape=function(){return new t},n.prototype.buildPath=function(o,h){o.moveTo(h.cx+h.r,h.cy),o.arc(h.cx,h.cy,h.r,0,Math.PI*2)},n}(s.ZP);r.prototype.type="circle",q.Z=r},15904:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),r=function(e){(0,p.ZT)(n,e);function n(o){return e.call(this,o)||this}return n.prototype.getDefaultShape=function(){return new t},n.prototype.buildPath=function(o,h){var i=.5522848,a=h.cx,l=h.cy,_=h.rx,M=h.ry,m=_*i,T=M*i;o.moveTo(a-_,l),o.bezierCurveTo(a-_,l-T,a-m,l-M,a,l-M),o.bezierCurveTo(a+m,l-M,a+_,l-T,a+_,l),o.bezierCurveTo(a+_,l+T,a+m,l+M,a,l+M),o.bezierCurveTo(a-m,l+M,a-_,l+T,a-_,l),o.closePath()},n}(s.ZP);r.prototype.type="ellipse",q.Z=r},40596:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=R(51372),r={},e=function(){function o(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return o}(),n=function(o){(0,p.ZT)(h,o);function h(i){return o.call(this,i)||this}return h.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},h.prototype.getDefaultShape=function(){return new e},h.prototype.buildPath=function(i,a){var l,_,M,m;if(this.subPixelOptimize){var T=(0,t._3)(r,a,this.style);l=T.x1,_=T.y1,M=T.x2,m=T.y2}else l=a.x1,_=a.y1,M=a.x2,m=a.y2;var y=a.percent;y!==0&&(i.moveTo(l,_),y<1&&(M=l*(1-y)+M*y,m=_*(1-y)+m*y),i.lineTo(M,m))},h.prototype.pointAt=function(i){var a=this.shape;return[a.x1*(1-i)+a.x2*i,a.y1*(1-i)+a.y2*i]},h}(s.ZP);n.prototype.type="line",q.Z=n},7228:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=R(65155),r=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),e=function(n){(0,p.ZT)(o,n);function o(h){return n.call(this,h)||this}return o.prototype.getDefaultShape=function(){return new r},o.prototype.buildPath=function(h,i){t.L(h,i,!0)},o}(s.ZP);e.prototype.type="polygon",q.Z=e},6224:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=R(65155),r=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),e=function(n){(0,p.ZT)(o,n);function o(h){return n.call(this,h)||this}return o.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},o.prototype.getDefaultShape=function(){return new r},o.prototype.buildPath=function(h,i){t.L(h,i,!1)},o}(s.ZP);e.prototype.type="polyline",q.Z=e},73909:function(ht,q,R){"use strict";R.d(q,{Z:function(){return h}});var p=R(12012),s=R(66210);function t(i,a){var l=a.x,_=a.y,M=a.width,m=a.height,T=a.r,y,P,C,O;M<0&&(l=l+M,M=-M),m<0&&(_=_+m,m=-m),typeof T=="number"?y=P=C=O=T:T instanceof Array?T.length===1?y=P=C=O=T[0]:T.length===2?(y=C=T[0],P=O=T[1]):T.length===3?(y=T[0],P=O=T[1],C=T[2]):(y=T[0],P=T[1],C=T[2],O=T[3]):y=P=C=O=0;var Z;y+P>M&&(Z=y+P,y*=M/Z,P*=M/Z),C+O>M&&(Z=C+O,C*=M/Z,O*=M/Z),P+C>m&&(Z=P+C,P*=m/Z,C*=m/Z),y+O>m&&(Z=y+O,y*=m/Z,O*=m/Z),i.moveTo(l+y,_),i.lineTo(l+M-P,_),P!==0&&i.arc(l+M-P,_+P,P,-Math.PI/2,0),i.lineTo(l+M,_+m-C),C!==0&&i.arc(l+M-C,_+m-C,C,0,Math.PI/2),i.lineTo(l+O,_+m),O!==0&&i.arc(l+O,_+m-O,O,Math.PI/2,Math.PI),i.lineTo(l,_+y),y!==0&&i.arc(l+y,_+y,y,Math.PI,Math.PI*1.5)}var r=R(51372),e=function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i}(),n={},o=function(i){(0,p.ZT)(a,i);function a(l){return i.call(this,l)||this}return a.prototype.getDefaultShape=function(){return new e},a.prototype.buildPath=function(l,_){var M,m,T,y;if(this.subPixelOptimize){var P=(0,r.Pw)(n,_,this.style);M=P.x,m=P.y,T=P.width,y=P.height,P.r=_.r,_=P}else M=_.x,m=_.y,T=_.width,y=_.height;_.r?t(l,_):l.rect(M,m,T,y)},a.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},a}(s.ZP);o.prototype.type="rect";var h=o},96449:function(ht,q,R){"use strict";var p=R(12012),s=R(66210),t=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),r=function(e){(0,p.ZT)(n,e);function n(o){return e.call(this,o)||this}return n.prototype.getDefaultShape=function(){return new t},n.prototype.buildPath=function(o,h){var i=h.cx,a=h.cy,l=Math.PI*2;o.moveTo(i+h.r,a),o.arc(i,a,h.r,0,l,!1),o.moveTo(i+h.r0,a),o.arc(i,a,h.r0,0,l,!0)},n}(s.ZP);r.prototype.type="ring",q.Z=r},29902:function(ht,q,R){"use strict";R.d(q,{C:function(){return U}});var p=R(12012),s=R(66210),t=R(70324),r=Math.PI,e=r*2,n=Math.sin,o=Math.cos,h=Math.acos,i=Math.atan2,a=Math.abs,l=Math.sqrt,_=Math.max,M=Math.min,m=1e-4;function T(b,w,A,E,d,f,u,v){var c=A-b,g=E-w,D=u-d,x=v-f,L=x*c-D*g;if(!(L*L<m))return L=(D*(w-f)-x*(b-d))/L,[b+L*c,w+L*g]}function y(b,w,A,E,d,f,u){var v=b-A,c=w-E,g=(u?f:-f)/l(v*v+c*c),D=g*c,x=-g*v,L=b+D,I=w+x,N=A+D,G=E+x,K=(L+N)/2,J=(I+G)/2,F=N-L,H=G-I,V=F*F+H*H,S=d-f,W=L*G-N*I,B=(H<0?-1:1)*l(_(0,S*S*V-W*W)),X=(W*H-F*B)/V,Y=(-W*F-H*B)/V,nt=(W*H+F*B)/V,z=(-W*F+H*B)/V,j=X-K,at=Y-J,ft=nt-K,pt=z-J;return j*j+at*at>ft*ft+pt*pt&&(X=nt,Y=z),{cx:X,cy:Y,x0:-D,y0:-x,x1:X*(d/S-1),y1:Y*(d/S-1)}}function P(b){var w;if((0,t.kJ)(b)){var A=b.length;if(!A)return b;A===1?w=[b[0],b[0],0,0]:A===2?w=[b[0],b[0],b[1],b[1]]:A===3?w=b.concat(b[2]):w=b}else w=[b,b,b,b];return w}function C(b,w){var A,E=_(w.r,0),d=_(w.r0||0,0),f=E>0,u=d>0;if(!(!f&&!u)){if(f||(E=d,d=0),d>E){var v=E;E=d,d=v}var c=w.startAngle,g=w.endAngle;if(!(isNaN(c)||isNaN(g))){var D=w.cx,x=w.cy,L=!!w.clockwise,I=a(g-c),N=I>e&&I%e;if(N>m&&(I=N),!(E>m))b.moveTo(D,x);else if(I>e-m)b.moveTo(D+E*o(c),x+E*n(c)),b.arc(D,x,E,c,g,!L),d>m&&(b.moveTo(D+d*o(g),x+d*n(g)),b.arc(D,x,d,g,c,L));else{var G=void 0,K=void 0,J=void 0,F=void 0,H=void 0,V=void 0,S=void 0,W=void 0,B=void 0,X=void 0,Y=void 0,nt=void 0,z=void 0,j=void 0,at=void 0,ft=void 0,pt=E*o(c),rt=E*n(c),et=d*o(g),ut=d*n(g),dt=I>m;if(dt){var ot=w.cornerRadius;ot&&(A=P(ot),G=A[0],K=A[1],J=A[2],F=A[3]);var _t=a(E-d)/2;if(H=M(_t,J),V=M(_t,F),S=M(_t,G),W=M(_t,K),Y=B=_(H,V),nt=X=_(S,W),(B>m||X>m)&&(z=E*o(g),j=E*n(g),at=d*o(c),ft=d*n(c),I<r)){var lt=T(pt,rt,at,ft,z,j,et,ut);if(lt){var Mt=pt-lt[0],Dt=rt-lt[1],Et=z-lt[0],St=j-lt[1],It=1/n(h((Mt*Et+Dt*St)/(l(Mt*Mt+Dt*Dt)*l(Et*Et+St*St)))/2),mt=l(lt[0]*lt[0]+lt[1]*lt[1]);Y=M(B,(E-mt)/(It+1)),nt=M(X,(d-mt)/(It-1))}}}if(!dt)b.moveTo(D+pt,x+rt);else if(Y>m){var xt=M(J,Y),Rt=M(F,Y),k=y(at,ft,pt,rt,E,xt,L),tt=y(z,j,et,ut,E,Rt,L);b.moveTo(D+k.cx+k.x0,x+k.cy+k.y0),Y<B&&xt===Rt?b.arc(D+k.cx,x+k.cy,Y,i(k.y0,k.x0),i(tt.y0,tt.x0),!L):(xt>0&&b.arc(D+k.cx,x+k.cy,xt,i(k.y0,k.x0),i(k.y1,k.x1),!L),b.arc(D,x,E,i(k.cy+k.y1,k.cx+k.x1),i(tt.cy+tt.y1,tt.cx+tt.x1),!L),Rt>0&&b.arc(D+tt.cx,x+tt.cy,Rt,i(tt.y1,tt.x1),i(tt.y0,tt.x0),!L))}else b.moveTo(D+pt,x+rt),b.arc(D,x,E,c,g,!L);if(!(d>m)||!dt)b.lineTo(D+et,x+ut);else if(nt>m){var xt=M(G,nt),Rt=M(K,nt),k=y(et,ut,z,j,d,-Rt,L),tt=y(pt,rt,at,ft,d,-xt,L);b.lineTo(D+k.cx+k.x0,x+k.cy+k.y0),nt<X&&xt===Rt?b.arc(D+k.cx,x+k.cy,nt,i(k.y0,k.x0),i(tt.y0,tt.x0),!L):(Rt>0&&b.arc(D+k.cx,x+k.cy,Rt,i(k.y0,k.x0),i(k.y1,k.x1),!L),b.arc(D,x,d,i(k.cy+k.y1,k.cx+k.x1),i(tt.cy+tt.y1,tt.cx+tt.x1),L),xt>0&&b.arc(D+tt.cx,x+tt.cy,xt,i(tt.y1,tt.x1),i(tt.y0,tt.x0),!L))}else b.lineTo(D+et,x+ut),b.arc(D,x,d,g,c,L)}b.closePath()}}}var O=function(){function b(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return b}(),Z=function(b){(0,p.ZT)(w,b);function w(A){return b.call(this,A)||this}return w.prototype.getDefaultShape=function(){return new O},w.prototype.buildPath=function(A,E){C(A,E)},w.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},w}(s.ZP);Z.prototype.type="sector";var U=Z},59993:function(ht,q,R){"use strict";R.d(q,{Z:function(){return Qr}});var p=R(72352),s=R(66210),t=R(13806),r=R(98733),e=R(83007),n=Math.sin,o=Math.cos,h=Math.PI,i=Math.PI*2,a=180/h,l=function(){function st(){}return st.prototype.reset=function(vt){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,vt||4)},st.prototype.moveTo=function(vt,yt){this._add("M",vt,yt)},st.prototype.lineTo=function(vt,yt){this._add("L",vt,yt)},st.prototype.bezierCurveTo=function(vt,yt,Tt,At,Ot,wt){this._add("C",vt,yt,Tt,At,Ot,wt)},st.prototype.quadraticCurveTo=function(vt,yt,Tt,At){this._add("Q",vt,yt,Tt,At)},st.prototype.arc=function(vt,yt,Tt,At,Ot,wt){this.ellipse(vt,yt,Tt,Tt,0,At,Ot,wt)},st.prototype.ellipse=function(vt,yt,Tt,At,Ot,wt,Bt,Nt){var Ut=Bt-wt,Wt=!Nt,Vt=Math.abs(Ut),Gt=(0,p.zT)(Vt-i)||(Wt?Ut>=i:-Ut>=i),Xt=Ut>0?Ut%i:Ut%i+i,Yt=!1;Gt?Yt=!0:(0,p.zT)(Vt)?Yt=!1:Yt=Xt>=h==!!Wt;var Kt=vt+Tt*o(wt),$t=yt+At*n(wt);this._start&&this._add("M",Kt,$t);var qt=Math.round(Ot*a);if(Gt){var tr=1/this._p,ar=(Wt?1:-1)*(i-tr);this._add("A",Tt,At,qt,1,+Wt,vt+Tt*o(wt+ar),yt+At*n(wt+ar)),tr>.01&&this._add("A",Tt,At,qt,0,+Wt,Kt,$t)}else{var rr=vt+Tt*o(Bt),lr=yt+At*n(Bt);this._add("A",Tt,At,qt,+Yt,+Wt,rr,lr)}},st.prototype.rect=function(vt,yt,Tt,At){this._add("M",vt,yt),this._add("l",Tt,0),this._add("l",0,At),this._add("l",-Tt,0),this._add("Z")},st.prototype.closePath=function(){this._d.length>0&&this._add("Z")},st.prototype._add=function(vt,yt,Tt,At,Ot,wt,Bt,Nt,Ut){for(var Wt=[],Vt=this._p,Gt=1;Gt<arguments.length;Gt++){var Xt=arguments[Gt];if(isNaN(Xt)){this._invalid=!0;return}Wt.push(Math.round(Xt*Vt)/Vt)}this._d.push(vt+Wt.join(" ")),this._start=vt==="Z"},st.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},st.prototype.getStr=function(){return this._str},st}(),_=l,M=R(85342),m=R(70324),T="none",y=Math.round;function P(st){var vt=st.fill;return vt!=null&&vt!==T}function C(st){var vt=st.stroke;return vt!=null&&vt!==T}var O=["lineCap","miterLimit","lineJoin"],Z=(0,m.UI)(O,function(st){return"stroke-"+st.toLowerCase()});function U(st,vt,yt,Tt){var At=vt.opacity==null?1:vt.opacity;if(yt instanceof t.ZP){st("opacity",At);return}if(P(vt)){var Ot=(0,p.ut)(vt.fill);st("fill",Ot.color);var wt=vt.fillOpacity!=null?vt.fillOpacity*Ot.opacity*At:Ot.opacity*At;(Tt||wt<1)&&st("fill-opacity",wt)}else st("fill",T);if(C(vt)){var Bt=(0,p.ut)(vt.stroke);st("stroke",Bt.color);var Nt=vt.strokeNoScale?yt.getLineScale():1,Ut=Nt?(vt.lineWidth||0)/Nt:0,Wt=vt.strokeOpacity!=null?vt.strokeOpacity*Bt.opacity*At:Bt.opacity*At,Vt=vt.strokeFirst;if((Tt||Ut!==1)&&st("stroke-width",Ut),(Tt||Vt)&&st("paint-order",Vt?"stroke":"fill"),(Tt||Wt<1)&&st("stroke-opacity",Wt),vt.lineDash){var Gt=(0,M.a)(yt),Xt=Gt[0],Yt=Gt[1];Xt&&(Yt=y(Yt||0),st("stroke-dasharray",Xt.join(",")),(Yt||Tt)&&st("stroke-dashoffset",Yt))}else Tt&&st("stroke-dasharray",T);for(var Kt=0;Kt<O.length;Kt++){var $t=O[Kt];if(Tt||vt[$t]!==s.$t[$t]){var qt=vt[$t]||s.$t[$t];qt&&st(Z[Kt],qt)}}}else Tt&&st("stroke",T)}var b=R(80400),w="http://www.w3.org/2000/svg",A="http://www.w3.org/1999/xlink",E="http://www.w3.org/2000/xmlns/",d="http://www.w3.org/XML/1998/namespace";function f(st){return document.createElementNS(w,st)}function u(st,vt,yt,Tt,At){return{tag:st,attrs:yt||{},children:Tt,text:At,key:vt}}function v(st,vt){var yt=[];if(vt)for(var Tt in vt){var At=vt[Tt],Ot=Tt;At!==!1&&(At!==!0&&At!=null&&(Ot+='="'+At+'"'),yt.push(Ot))}return"<"+st+" "+yt.join(" ")+">"}function c(st){return"</"+st+">"}function g(st,vt){vt=vt||{};var yt=vt.newline?`
`:"";function Tt(At){var Ot=At.children,wt=At.tag,Bt=At.attrs,Nt=At.text;return v(wt,Bt)+(wt!=="style"?(0,b.F1)(Nt):Nt||"")+(Ot?""+yt+(0,m.UI)(Ot,function(Ut){return Tt(Ut)}).join(yt)+yt:"")+c(wt)}return Tt(st)}function D(st,vt,yt){yt=yt||{};var Tt=yt.newline?`
`:"",At=" {"+Tt,Ot=Tt+"}",wt=(0,m.UI)((0,m.XP)(st),function(Nt){return Nt+At+(0,m.UI)((0,m.XP)(st[Nt]),function(Ut){return Ut+":"+st[Nt][Ut]+";"}).join(Tt)+Ot}).join(Tt),Bt=(0,m.UI)((0,m.XP)(vt),function(Nt){return"@keyframes "+Nt+At+(0,m.UI)((0,m.XP)(vt[Nt]),function(Ut){return Ut+At+(0,m.UI)((0,m.XP)(vt[Nt][Ut]),function(Wt){var Vt=vt[Nt][Ut][Wt];return Wt==="d"&&(Vt='path("'+Vt+'")'),Wt+":"+Vt+";"}).join(Tt)+Ot}).join(Tt)+Ot}).join(Tt);return!wt&&!Bt?"":["<![CDATA[",wt,Bt,"]]>"].join(Tt)}function x(st){return{zrId:st,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function L(st,vt,yt,Tt){return u("svg","root",{width:st,height:vt,xmlns:w,"xmlns:xlink":A,version:"1.1",baseProfile:"full",viewBox:Tt?"0 0 "+st+" "+vt:!1},yt)}var I=R(6850),N=R(23463),G=R(29436),K=R(99464),J=R(74720),F={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},H="transform-origin";function V(st,vt,yt){var Tt=(0,m.l7)({},st.shape);(0,m.l7)(Tt,vt),st.buildPath(yt,Tt);var At=new _;return At.reset((0,p.Gk)(st)),yt.rebuildPath(At,1),At.generateStr(),At.getStr()}function S(st,vt){var yt=vt.originX,Tt=vt.originY;(yt||Tt)&&(st[H]=yt+"px "+Tt+"px")}var W={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function B(st,vt){var yt=vt.zrId+"-ani-"+vt.cssAnimIdx++;return vt.cssAnims[yt]=st,yt}function X(st,vt,yt){var Tt=st.shape.paths,At={},Ot,wt;if((0,m.S6)(Tt,function(Nt){var Ut=x(yt.zrId);Ut.animation=!0,nt(Nt,{},Ut,!0);var Wt=Ut.cssAnims,Vt=Ut.cssNodes,Gt=(0,m.XP)(Wt),Xt=Gt.length;if(Xt){wt=Gt[Xt-1];var Yt=Wt[wt];for(var Kt in Yt){var $t=Yt[Kt];At[Kt]=At[Kt]||{d:""},At[Kt].d+=$t.d||""}for(var qt in Vt){var tr=Vt[qt].animation;tr.indexOf(wt)>=0&&(Ot=tr)}}}),!!Ot){vt.d=!1;var Bt=B(At,yt);return Ot.replace(wt,Bt)}}function Y(st){return(0,m.HD)(st)?F[st]?"cubic-bezier("+F[st]+")":(0,J.H)(st)?st:"":""}function nt(st,vt,yt,Tt){var At=st.animators,Ot=At.length,wt=[];if(st instanceof K.Z){var Bt=X(st,vt,yt);if(Bt)wt.push(Bt);else if(!Ot)return}else if(!Ot)return;for(var Nt={},Ut=0;Ut<Ot;Ut++){var Wt=At[Ut],Vt=[Wt.getMaxTime()/1e3+"s"],Gt=Y(Wt.getClip().easing),Xt=Wt.getDelay();Gt?Vt.push(Gt):Vt.push("linear"),Xt&&Vt.push(Xt/1e3+"s"),Wt.getLoop()&&Vt.push("infinite");var Yt=Vt.join(" ");Nt[Yt]=Nt[Yt]||[Yt,[]],Nt[Yt][1].push(Wt)}function Kt(tr){var ar=tr[1],rr=ar.length,lr={},_r={},er={},pr="animation-timing-function";function hr(Sr,Or,Xr){for(var Lr=Sr.getTracks(),re=Sr.getMaxTime(),Br=0;Br<Lr.length;Br++){var Ur=Lr[Br];if(Ur.needsAnimate()){var Kr=Ur.keyframes,wr=Ur.propName;if(Xr&&(wr=Xr(wr)),wr)for(var Fr=0;Fr<Kr.length;Fr++){var Ir=Kr[Fr],Zr=Math.round(Ir.time/re*100)+"%",Yr=Y(Ir.easing),jr=Ir.rawValue;((0,m.HD)(jr)||(0,m.hj)(jr))&&(Or[Zr]=Or[Zr]||{},Or[Zr][wr]=Ir.rawValue,Yr&&(Or[Zr][pr]=Yr))}}}}for(var ir=0;ir<rr;ir++){var cr=ar[ir],yr=cr.targetName;yr?yr==="shape"&&hr(cr,_r):!Tt&&hr(cr,lr)}for(var nr in lr){var vr={};(0,N.kY)(vr,st),(0,m.l7)(vr,lr[nr]);var Wr=(0,p.gA)(vr),Pr=lr[nr][pr];er[nr]=Wr?{transform:Wr}:{},S(er[nr],vr),Pr&&(er[nr][pr]=Pr)}var Tr,Hr=!0;for(var nr in _r){er[nr]=er[nr]||{};var Gr=!Tr,Pr=_r[nr][pr];Gr&&(Tr=new G.Z);var Jr=Tr.len();Tr.reset(),er[nr].d=V(st,_r[nr],Tr);var $r=Tr.len();if(!Gr&&Jr!==$r){Hr=!1;break}Pr&&(er[nr][pr]=Pr)}if(!Hr)for(var nr in er)delete er[nr].d;if(!Tt)for(var ir=0;ir<rr;ir++){var cr=ar[ir],yr=cr.targetName;yr==="style"&&hr(cr,er,function(Lr){return W[Lr]})}for(var Cr=(0,m.XP)(er),Vr=!0,Nr,ir=1;ir<Cr.length;ir++){var zr=Cr[ir-1],qr=Cr[ir];if(er[zr][H]!==er[qr][H]){Vr=!1;break}Nr=er[zr][H]}if(Vr&&Nr){for(var nr in er)er[nr][H]&&delete er[nr][H];vt[H]=Nr}if((0,m.hX)(Cr,function(Sr){return(0,m.XP)(er[Sr]).length>0}).length){var te=B(er,yt);return te+" "+tr[0]+" both"}}for(var $t in Nt){var Bt=Kt(Nt[$t]);Bt&&wt.push(Bt)}if(wt.length){var qt=yt.zrId+"-cls-"+yt.cssClassIdx++;yt.cssNodes["."+qt]={animation:wt.join(",")},vt.class=qt}}var z=R(95169),j=R(47297),at=Math.round;function ft(st){return st&&(0,m.HD)(st.src)}function pt(st){return st&&(0,m.mf)(st.toDataURL)}function rt(st,vt,yt,Tt){U(function(At,Ot){var wt=At==="fill"||At==="stroke";wt&&(0,p.H3)(Ot)?Rt(vt,st,At,Tt):wt&&(0,p.R)(Ot)?k(yt,st,At,Tt):st[At]=Ot},vt,yt,!1),xt(yt,st,Tt)}function et(st){return(0,p.zT)(st[0]-1)&&(0,p.zT)(st[1])&&(0,p.zT)(st[2])&&(0,p.zT)(st[3]-1)}function ut(st){return(0,p.zT)(st[4])&&(0,p.zT)(st[5])}function dt(st,vt,yt){if(vt&&!(ut(vt)&&et(vt))){var Tt=yt?10:1e4;st.transform=et(vt)?"translate("+at(vt[4]*Tt)/Tt+" "+at(vt[5]*Tt)/Tt+")":(0,p.qV)(vt)}}function ot(st,vt,yt){for(var Tt=st.points,At=[],Ot=0;Ot<Tt.length;Ot++)At.push(at(Tt[Ot][0]*yt)/yt),At.push(at(Tt[Ot][1]*yt)/yt);vt.points=At.join(" ")}function _t(st){return!st.smooth}function lt(st){var vt=(0,m.UI)(st,function(yt){return typeof yt=="string"?[yt,yt]:yt});return function(yt,Tt,At){for(var Ot=0;Ot<vt.length;Ot++){var wt=vt[Ot],Bt=yt[wt[0]];Bt!=null&&(Tt[wt[1]]=at(Bt*At)/At)}}}var Mt={circle:[lt(["cx","cy","r"])],polyline:[ot,_t],polygon:[ot,_t]};function Dt(st){for(var vt=st.animators,yt=0;yt<vt.length;yt++)if(vt[yt].targetName==="shape")return!0;return!1}function Et(st,vt){var yt=st.style,Tt=st.shape,At=Mt[st.type],Ot={},wt=vt.animation,Bt="path",Nt=st.style.strokePercent,Ut=vt.compress&&(0,p.Gk)(st)||4;if(At&&!vt.willUpdate&&!(At[1]&&!At[1](Tt))&&!(wt&&Dt(st))&&!(Nt<1)){Bt=st.type;var Wt=Math.pow(10,Ut);At[0](Tt,Ot,Wt)}else{var Vt=!st.path||st.shapeChanged();st.path||st.createPathProxy();var Gt=st.path;Vt&&(Gt.beginPath(),st.buildPath(Gt,st.shape),st.pathUpdated());var Xt=Gt.getVersion(),Yt=st,Kt=Yt.__svgPathBuilder;(Yt.__svgPathVersion!==Xt||!Kt||Nt!==Yt.__svgPathStrokePercent)&&(Kt||(Kt=Yt.__svgPathBuilder=new _),Kt.reset(Ut),Gt.rebuildPath(Kt,Nt),Kt.generateStr(),Yt.__svgPathVersion=Xt,Yt.__svgPathStrokePercent=Nt),Ot.d=Kt.getStr()}return dt(Ot,st.transform),rt(Ot,yt,st,vt),vt.animation&&nt(st,Ot,vt),u(Bt,st.id+"",Ot)}function St(st,vt){var yt=st.style,Tt=yt.image;if(Tt&&!(0,m.HD)(Tt)&&(ft(Tt)?Tt=Tt.src:pt(Tt)&&(Tt=Tt.toDataURL())),!!Tt){var At=yt.x||0,Ot=yt.y||0,wt=yt.width,Bt=yt.height,Nt={href:Tt,width:wt,height:Bt};return At&&(Nt.x=At),Ot&&(Nt.y=Ot),dt(Nt,st.transform),rt(Nt,yt,st,vt),vt.animation&&nt(st,Nt,vt),u("image",st.id+"",Nt)}}function It(st,vt){var yt=st.style,Tt=yt.text;if(Tt!=null&&(Tt+=""),!(!Tt||isNaN(yt.x)||isNaN(yt.y))){var At=yt.font||j.Uo,Ot=yt.x||0,wt=(0,p.mU)(yt.y||0,(0,r.Dp)(At),yt.textBaseline),Bt=p.jY[yt.textAlign]||yt.textAlign,Nt={"dominant-baseline":"central","text-anchor":Bt};if((0,z.Y1)(yt)){var Ut="",Wt=yt.fontStyle,Vt=(0,z.VG)(yt.fontSize);if(!parseFloat(Vt))return;var Gt=yt.fontFamily||j.rk,Xt=yt.fontWeight;Ut+="font-size:"+Vt+";font-family:"+Gt+";",Wt&&Wt!=="normal"&&(Ut+="font-style:"+Wt+";"),Xt&&Xt!=="normal"&&(Ut+="font-weight:"+Xt+";"),Nt.style=Ut}else Nt.style="font: "+At;return Tt.match(/\s/)&&(Nt["xml:space"]="preserve"),Ot&&(Nt.x=Ot),wt&&(Nt.y=wt),dt(Nt,st.transform),rt(Nt,yt,st,vt),vt.animation&&nt(st,Nt,vt),u("text",st.id+"",Nt,void 0,Tt)}}function mt(st,vt){if(st instanceof s.ZP)return Et(st,vt);if(st instanceof t.ZP)return St(st,vt);if(st instanceof e.Z)return It(st,vt)}function xt(st,vt,yt){var Tt=st.style;if((0,p.i2)(Tt)){var At=(0,p.n1)(st),Ot=yt.shadowCache,wt=Ot[At];if(!wt){var Bt=st.getGlobalScale(),Nt=Bt[0],Ut=Bt[1];if(!Nt||!Ut)return;var Wt=Tt.shadowOffsetX||0,Vt=Tt.shadowOffsetY||0,Gt=Tt.shadowBlur,Xt=(0,p.ut)(Tt.shadowColor),Yt=Xt.opacity,Kt=Xt.color,$t=Gt/2/Nt,qt=Gt/2/Ut,tr=$t+" "+qt;wt=yt.zrId+"-s"+yt.shadowIdx++,yt.defs[wt]=u("filter",wt,{id:wt,x:"-100%",y:"-100%",width:"300%",height:"300%"},[u("feDropShadow","",{dx:Wt/Nt,dy:Vt/Ut,stdDeviation:tr,"flood-color":Kt,"flood-opacity":Yt})]),Ot[At]=wt}vt.filter=(0,p.m1)(wt)}}function Rt(st,vt,yt,Tt){var At=st[yt],Ot,wt={gradientUnits:At.global?"userSpaceOnUse":"objectBoundingBox"};if((0,p.I1)(At))Ot="linearGradient",wt.x1=At.x,wt.y1=At.y,wt.x2=At.x2,wt.y2=At.y2;else if((0,p.gO)(At))Ot="radialGradient",wt.cx=(0,m.pD)(At.x,.5),wt.cy=(0,m.pD)(At.y,.5),wt.r=(0,m.pD)(At.r,.5);else return;for(var Bt=At.colorStops,Nt=[],Ut=0,Wt=Bt.length;Ut<Wt;++Ut){var Vt=(0,p.Pn)(Bt[Ut].offset)*100+"%",Gt=Bt[Ut].color,Xt=(0,p.ut)(Gt),Yt=Xt.color,Kt=Xt.opacity,$t={offset:Vt};$t["stop-color"]=Yt,Kt<1&&($t["stop-opacity"]=Kt),Nt.push(u("stop",Ut+"",$t))}var qt=u(Ot,"",wt,Nt),tr=g(qt),ar=Tt.gradientCache,rr=ar[tr];rr||(rr=Tt.zrId+"-g"+Tt.gradientIdx++,ar[tr]=rr,wt.id=rr,Tt.defs[rr]=u(Ot,rr,wt,Nt)),vt[yt]=(0,p.m1)(rr)}function k(st,vt,yt,Tt){var At=st.style[yt],Ot=st.getBoundingRect(),wt={},Bt=At.repeat,Nt=Bt==="no-repeat",Ut=Bt==="repeat-x",Wt=Bt==="repeat-y",Vt;if((0,p.Cv)(At)){var Gt=At.imageWidth,Xt=At.imageHeight,Yt=void 0,Kt=At.image;if((0,m.HD)(Kt)?Yt=Kt:ft(Kt)?Yt=Kt.src:pt(Kt)&&(Yt=Kt.toDataURL()),typeof Image=="undefined"){var $t="Image width/height must been given explictly in svg-ssr renderer.";(0,m.hu)(Gt,$t),(0,m.hu)(Xt,$t)}else if(Gt==null||Xt==null){var qt=function(ir,cr){if(ir){var yr=ir.elm,nr=Gt||cr.width,vr=Xt||cr.height;ir.tag==="pattern"&&(Ut?(vr=1,nr/=Ot.width):Wt&&(nr=1,vr/=Ot.height)),ir.attrs.width=nr,ir.attrs.height=vr,yr&&(yr.setAttribute("width",nr),yr.setAttribute("height",vr))}},tr=(0,I.Gq)(Yt,null,st,function(ir){Nt||qt(_r,ir),qt(Vt,ir)});tr&&tr.width&&tr.height&&(Gt=Gt||tr.width,Xt=Xt||tr.height)}Vt=u("image","img",{href:Yt,width:Gt,height:Xt}),wt.width=Gt,wt.height=Xt}else At.svgElement&&(Vt=(0,m.d9)(At.svgElement),wt.width=At.svgWidth,wt.height=At.svgHeight);if(Vt){var ar,rr;Nt?ar=rr=1:Ut?(rr=1,ar=wt.width/Ot.width):Wt?(ar=1,rr=wt.height/Ot.height):wt.patternUnits="userSpaceOnUse",ar!=null&&!isNaN(ar)&&(wt.width=ar),rr!=null&&!isNaN(rr)&&(wt.height=rr);var lr=(0,p.gA)(At);lr&&(wt.patternTransform=lr);var _r=u("pattern","",wt,[Vt]),er=g(_r),pr=Tt.patternCache,hr=pr[er];hr||(hr=Tt.zrId+"-p"+Tt.patternIdx++,pr[er]=hr,wt.id=hr,_r=Tt.defs[hr]=u("pattern",hr,wt,[Vt])),vt[yt]=(0,p.m1)(hr)}}function tt(st,vt,yt){var Tt=yt.clipPathCache,At=yt.defs,Ot=Tt[st.id];if(!Ot){Ot=yt.zrId+"-c"+yt.clipPathIdx++;var wt={id:Ot};Tt[st.id]=Ot,At[Ot]=u("clipPath",Ot,wt,[Et(st,yt)])}vt["clip-path"]=(0,p.m1)(Ot)}function gt(st){return document.createTextNode(st)}function Pt(st){return document.createComment(st)}function Q(st,vt,yt){st.insertBefore(vt,yt)}function $(st,vt){st.removeChild(vt)}function it(st,vt){st.appendChild(vt)}function ct(st){return st.parentNode}function Ct(st){return st.nextSibling}function Zt(st){return st.tagName}function Lt(st,vt){st.textContent=vt}function bt(st){return st.textContent}function Ft(st){return st.nodeType===1}function zt(st){return st.nodeType===3}function Ht(st){return st.nodeType===8}var jt=58,kt=120,Qt=u("","");function ur(st){return st===void 0}function Jt(st){return st!==void 0}function sr(st,vt,yt){for(var Tt={},At=vt;At<=yt;++At){var Ot=st[At].key;Ot!==void 0&&(Tt[Ot]=At)}return Tt}function or(st,vt){var yt=st.key===vt.key,Tt=st.tag===vt.tag;return Tt&&yt}function fr(st){var vt,yt=st.children,Tt=st.tag;if(Jt(Tt)){var At=st.elm=f(Tt);if(Er(Qt,st),(0,m.kJ)(yt))for(vt=0;vt<yt.length;++vt){var Ot=yt[vt];Ot!=null&&it(At,fr(Ot))}else Jt(st.text)&&!(0,m.Kn)(st.text)&&it(At,gt(st.text))}else st.elm=gt(st.text);return st.elm}function gr(st,vt,yt,Tt,At){for(;Tt<=At;++Tt){var Ot=yt[Tt];Ot!=null&&Q(st,fr(Ot),vt)}}function mr(st,vt,yt,Tt){for(;yt<=Tt;++yt){var At=vt[yt];if(At!=null)if(Jt(At.tag)){var Ot=ct(At.elm);$(Ot,At.elm)}else $(st,At.elm)}}function Er(st,vt){var yt,Tt=vt.elm,At=st&&st.attrs||{},Ot=vt.attrs||{};if(At!==Ot){for(yt in Ot){var wt=Ot[yt],Bt=At[yt];Bt!==wt&&(wt===!0?Tt.setAttribute(yt,""):wt===!1?Tt.removeAttribute(yt):yt.charCodeAt(0)!==kt?Tt.setAttribute(yt,wt):yt==="xmlns:xlink"||yt==="xmlns"?Tt.setAttributeNS(E,yt,wt):yt.charCodeAt(3)===jt?Tt.setAttributeNS(d,yt,wt):yt.charCodeAt(5)===jt?Tt.setAttributeNS(A,yt,wt):Tt.setAttribute(yt,wt))}for(yt in At)yt in Ot||Tt.removeAttribute(yt)}}function Ar(st,vt,yt){for(var Tt=0,At=0,Ot=vt.length-1,wt=vt[0],Bt=vt[Ot],Nt=yt.length-1,Ut=yt[0],Wt=yt[Nt],Vt,Gt,Xt,Yt;Tt<=Ot&&At<=Nt;)wt==null?wt=vt[++Tt]:Bt==null?Bt=vt[--Ot]:Ut==null?Ut=yt[++At]:Wt==null?Wt=yt[--Nt]:or(wt,Ut)?(dr(wt,Ut),wt=vt[++Tt],Ut=yt[++At]):or(Bt,Wt)?(dr(Bt,Wt),Bt=vt[--Ot],Wt=yt[--Nt]):or(wt,Wt)?(dr(wt,Wt),Q(st,wt.elm,Ct(Bt.elm)),wt=vt[++Tt],Wt=yt[--Nt]):or(Bt,Ut)?(dr(Bt,Ut),Q(st,Bt.elm,wt.elm),Bt=vt[--Ot],Ut=yt[++At]):(ur(Vt)&&(Vt=sr(vt,Tt,Ot)),Gt=Vt[Ut.key],ur(Gt)?Q(st,fr(Ut),wt.elm):(Xt=vt[Gt],Xt.tag!==Ut.tag?Q(st,fr(Ut),wt.elm):(dr(Xt,Ut),vt[Gt]=void 0,Q(st,Xt.elm,wt.elm))),Ut=yt[++At]);(Tt<=Ot||At<=Nt)&&(Tt>Ot?(Yt=yt[Nt+1]==null?null:yt[Nt+1].elm,gr(st,Yt,yt,At,Nt)):mr(st,vt,Tt,Ot))}function dr(st,vt){var yt=vt.elm=st.elm,Tt=st.children,At=vt.children;st!==vt&&(Er(st,vt),ur(vt.text)?Jt(Tt)&&Jt(At)?Tt!==At&&Ar(yt,Tt,At):Jt(At)?(Jt(st.text)&&Lt(yt,""),gr(yt,null,At,0,At.length-1)):Jt(Tt)?mr(yt,Tt,0,Tt.length-1):Jt(st.text)&&Lt(yt,""):st.text!==vt.text&&(Jt(Tt)&&mr(yt,Tt,0,Tt.length-1),Lt(yt,vt.text)))}function br(st,vt){if(or(st,vt))dr(st,vt);else{var yt=st.elm,Tt=ct(yt);fr(vt),Tt!==null&&(Q(Tt,vt.elm,Ct(yt)),mr(Tt,[st],0,0))}return vt}var xr=R(89625),Rr=0,Dr=function(){function st(vt,yt,Tt){if(this.type="svg",this.refreshHover=Mr("refreshHover"),this.configLayer=Mr("configLayer"),this.storage=yt,this._opts=Tt=(0,m.l7)({},Tt),this.root=vt,this._id="zr"+Rr++,this._oldVNode=L(Tt.width,Tt.height),vt&&!Tt.ssr){var At=this._viewport=document.createElement("div");At.style.cssText="position:relative;overflow:hidden";var Ot=this._svgDom=this._oldVNode.elm=f("svg");Er(null,this._oldVNode),At.appendChild(Ot),vt.appendChild(At)}this.resize(Tt.width,Tt.height)}return st.prototype.getType=function(){return this.type},st.prototype.getViewportRoot=function(){return this._viewport},st.prototype.getViewportRootOffset=function(){var vt=this.getViewportRoot();if(vt)return{offsetLeft:vt.offsetLeft||0,offsetTop:vt.offsetTop||0}},st.prototype.getSvgDom=function(){return this._svgDom},st.prototype.refresh=function(){if(this.root){var vt=this.renderToVNode({willUpdate:!0});vt.attrs.style="position:absolute;left:0;top:0;user-select:none",br(this._oldVNode,vt),this._oldVNode=vt}},st.prototype.renderOneToVNode=function(vt){return mt(vt,x(this._id))},st.prototype.renderToVNode=function(vt){vt=vt||{};var yt=this.storage.getDisplayList(!0),Tt=this._width,At=this._height,Ot=x(this._id);Ot.animation=vt.animation,Ot.willUpdate=vt.willUpdate,Ot.compress=vt.compress;var wt=[],Bt=this._bgVNode=kr(Tt,At,this._backgroundColor,Ot);Bt&&wt.push(Bt);var Nt=vt.compress?null:this._mainVNode=u("g","main",{},[]);this._paintList(yt,Ot,Nt?Nt.children:wt),Nt&&wt.push(Nt);var Ut=(0,m.UI)((0,m.XP)(Ot.defs),function(Gt){return Ot.defs[Gt]});if(Ut.length&&wt.push(u("defs","defs",{},Ut)),vt.animation){var Wt=D(Ot.cssNodes,Ot.cssAnims,{newline:!0});if(Wt){var Vt=u("style","stl",{},[],Wt);wt.push(Vt)}}return L(Tt,At,wt,vt.useViewBox)},st.prototype.renderToString=function(vt){return vt=vt||{},g(this.renderToVNode({animation:(0,m.pD)(vt.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:(0,m.pD)(vt.useViewBox,!0)}),{newline:!0})},st.prototype.setBackgroundColor=function(vt){this._backgroundColor=vt},st.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},st.prototype._paintList=function(vt,yt,Tt){for(var At=vt.length,Ot=[],wt=0,Bt,Nt,Ut=0,Wt=0;Wt<At;Wt++){var Vt=vt[Wt];if(!Vt.invisible){var Gt=Vt.__clipPaths,Xt=Gt&&Gt.length||0,Yt=Nt&&Nt.length||0,Kt=void 0;for(Kt=Math.max(Xt-1,Yt-1);Kt>=0&&!(Gt&&Nt&&Gt[Kt]===Nt[Kt]);Kt--);for(var $t=Yt-1;$t>Kt;$t--)wt--,Bt=Ot[wt-1];for(var qt=Kt+1;qt<Xt;qt++){var tr={};tt(Gt[qt],tr,yt);var ar=u("g","clip-g-"+Ut++,tr,[]);(Bt?Bt.children:Tt).push(ar),Ot[wt++]=ar,Bt=ar}Nt=Gt;var rr=mt(Vt,yt);rr&&(Bt?Bt.children:Tt).push(rr)}}},st.prototype.resize=function(vt,yt){var Tt=this._opts,At=this.root,Ot=this._viewport;if(vt!=null&&(Tt.width=vt),yt!=null&&(Tt.height=yt),At&&Ot&&(Ot.style.display="none",vt=(0,xr.ap)(At,0,Tt),yt=(0,xr.ap)(At,1,Tt),Ot.style.display=""),this._width!==vt||this._height!==yt){if(this._width=vt,this._height=yt,Ot){var wt=Ot.style;wt.width=vt+"px",wt.height=yt+"px"}if((0,p.R)(this._backgroundColor))this.refresh();else{var Bt=this._svgDom;Bt&&(Bt.setAttribute("width",vt),Bt.setAttribute("height",yt));var Nt=this._bgVNode&&this._bgVNode.elm;Nt&&(Nt.setAttribute("width",vt),Nt.setAttribute("height",yt))}}},st.prototype.getWidth=function(){return this._width},st.prototype.getHeight=function(){return this._height},st.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},st.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},st.prototype.toDataURL=function(vt){var yt=this.renderToString(),Tt="data:image/svg+xml;";return vt?(yt=(0,p.oF)(yt),yt&&Tt+"base64,"+yt):Tt+"charset=UTF-8,"+encodeURIComponent(yt)},st}();function Mr(st){return function(){}}function kr(st,vt,yt,Tt){var At;if(yt&&yt!=="none")if(At=u("rect","bg",{width:st,height:vt,x:"0",y:"0",id:"0"}),(0,p.H3)(yt))Rt({fill:yt},At.attrs,"fill",Tt);else if((0,p.R)(yt))k({style:{fill:yt},dirty:m.ZT,getBoundingRect:function(){return{width:st,height:vt}}},At.attrs,"fill",Tt);else{var Ot=(0,p.ut)(yt),wt=Ot.color,Bt=Ot.opacity;At.attrs.fill=wt,Bt<1&&(At.attrs["fill-opacity"]=Bt)}return At}var Qr=Dr},72352:function(ht,q,R){"use strict";R.d(q,{Cv:function(){return C},Gk:function(){return E},H3:function(){return w},I1:function(){return U},Pn:function(){return a},R:function(){return Z},gA:function(){return d},gO:function(){return b},i2:function(){return T},jY:function(){return M},m1:function(){return A},mU:function(){return m},n1:function(){return y},oF:function(){return f},qV:function(){return _},ut:function(){return n},zT:function(){return h}});var p=R(70324),s=R(96170),t=R(54490),r=R(36379).lW,e=Math.round;function n(u){var v;if(!u||u==="transparent")u="none";else if(typeof u=="string"&&u.indexOf("rgba")>-1){var c=(0,s.parse)(u);c&&(u="rgb("+c[0]+","+c[1]+","+c[2]+")",v=c[3])}return{color:u,opacity:v==null?1:v}}var o=1e-4;function h(u){return u<o&&u>-o}function i(u){return e(u*1e3)/1e3}function a(u){return e(u*1e4)/1e4}function l(u){return e(u*10)/10}function _(u){return"matrix("+i(u[0])+","+i(u[1])+","+i(u[2])+","+i(u[3])+","+a(u[4])+","+a(u[5])+")"}var M={left:"start",right:"end",center:"middle",middle:"middle"};function m(u,v,c){return c==="top"?u+=v/2:c==="bottom"&&(u-=v/2),u}function T(u){return u&&(u.shadowBlur||u.shadowOffsetX||u.shadowOffsetY)}function y(u){var v=u.style,c=u.getGlobalScale();return[v.shadowColor,(v.shadowBlur||0).toFixed(2),(v.shadowOffsetX||0).toFixed(2),(v.shadowOffsetY||0).toFixed(2),c[0],c[1]].join(",")}function P(u){var v=[];if(u)for(var c=0;c<u.length;c++){var g=u[c];v.push(g.id)}return v.join(",")}function C(u){return u&&!!u.image}function O(u){return u&&!!u.svgElement}function Z(u){return C(u)||O(u)}function U(u){return u.type==="linear"}function b(u){return u.type==="radial"}function w(u){return u&&(u.type==="linear"||u.type==="radial")}function A(u){return"url(#"+u+")"}function E(u){var v=u.getGlobalScale(),c=Math.max(v[0],v[1]);return Math.max(Math.ceil(Math.log(c)/Math.log(10)),1)}function d(u){var v=u.x||0,c=u.y||0,g=(u.rotation||0)*p.I3,D=(0,p.pD)(u.scaleX,1),x=(0,p.pD)(u.scaleY,1),L=u.skewX||0,I=u.skewY||0,N=[];return(v||c)&&N.push("translate("+v+"px,"+c+"px)"),g&&N.push("rotate("+g+")"),(D!==1||x!==1)&&N.push("scale("+D+","+x+")"),(L||I)&&N.push("skew("+e(L*p.I3)+"deg, "+e(I*p.I3)+"deg)"),N.join(" ")}var f=function(){return t.Z.hasGlobalWindow&&(0,p.mf)(window.btoa)?function(u){return window.btoa(unescape(encodeURIComponent(u)))}:typeof r!="undefined"?function(u){return r.from(u).toString("base64")}:function(u){return null}}()},96170:function(ht,q,R){"use strict";R.r(q),R.d(q,{fastLerp:function(){return Z},fastMapToColor:function(){return U},lerp:function(){return b},lift:function(){return C},lum:function(){return f},mapToColor:function(){return w},modifyAlpha:function(){return E},modifyHSL:function(){return A},parse:function(){return T},random:function(){return u},stringify:function(){return d},toHex:function(){return O}});var p=R(86280),s={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function t(v){return v=Math.round(v),v<0?0:v>255?255:v}function r(v){return v=Math.round(v),v<0?0:v>360?360:v}function e(v){return v<0?0:v>1?1:v}function n(v){var c=v;return c.length&&c.charAt(c.length-1)==="%"?t(parseFloat(c)/100*255):t(parseInt(c,10))}function o(v){var c=v;return c.length&&c.charAt(c.length-1)==="%"?e(parseFloat(c)/100):e(parseFloat(c))}function h(v,c,g){return g<0?g+=1:g>1&&(g-=1),g*6<1?v+(c-v)*g*6:g*2<1?c:g*3<2?v+(c-v)*(2/3-g)*6:v}function i(v,c,g){return v+(c-v)*g}function a(v,c,g,D,x){return v[0]=c,v[1]=g,v[2]=D,v[3]=x,v}function l(v,c){return v[0]=c[0],v[1]=c[1],v[2]=c[2],v[3]=c[3],v}var _=new p.ZP(20),M=null;function m(v,c){M&&l(M,c),M=_.put(v,M||c.slice())}function T(v,c){if(v){c=c||[];var g=_.get(v);if(g)return l(c,g);v=v+"";var D=v.replace(/ /g,"").toLowerCase();if(D in s)return l(c,s[D]),m(v,c),c;var x=D.length;if(D.charAt(0)==="#"){if(x===4||x===5){var L=parseInt(D.slice(1,4),16);if(!(L>=0&&L<=4095)){a(c,0,0,0,1);return}return a(c,(L&3840)>>4|(L&3840)>>8,L&240|(L&240)>>4,L&15|(L&15)<<4,x===5?parseInt(D.slice(4),16)/15:1),m(v,c),c}else if(x===7||x===9){var L=parseInt(D.slice(1,7),16);if(!(L>=0&&L<=16777215)){a(c,0,0,0,1);return}return a(c,(L&16711680)>>16,(L&65280)>>8,L&255,x===9?parseInt(D.slice(7),16)/255:1),m(v,c),c}return}var I=D.indexOf("("),N=D.indexOf(")");if(I!==-1&&N+1===x){var G=D.substr(0,I),K=D.substr(I+1,N-(I+1)).split(","),J=1;switch(G){case"rgba":if(K.length!==4)return K.length===3?a(c,+K[0],+K[1],+K[2],1):a(c,0,0,0,1);J=o(K.pop());case"rgb":if(K.length>=3)return a(c,n(K[0]),n(K[1]),n(K[2]),K.length===3?J:o(K[3])),m(v,c),c;a(c,0,0,0,1);return;case"hsla":if(K.length!==4){a(c,0,0,0,1);return}return K[3]=o(K[3]),y(K,c),m(v,c),c;case"hsl":if(K.length!==3){a(c,0,0,0,1);return}return y(K,c),m(v,c),c;default:return}}a(c,0,0,0,1)}}function y(v,c){var g=(parseFloat(v[0])%360+360)%360/360,D=o(v[1]),x=o(v[2]),L=x<=.5?x*(D+1):x+D-x*D,I=x*2-L;return c=c||[],a(c,t(h(I,L,g+1/3)*255),t(h(I,L,g)*255),t(h(I,L,g-1/3)*255),1),v.length===4&&(c[3]=v[3]),c}function P(v){if(v){var c=v[0]/255,g=v[1]/255,D=v[2]/255,x=Math.min(c,g,D),L=Math.max(c,g,D),I=L-x,N=(L+x)/2,G,K;if(I===0)G=0,K=0;else{N<.5?K=I/(L+x):K=I/(2-L-x);var J=((L-c)/6+I/2)/I,F=((L-g)/6+I/2)/I,H=((L-D)/6+I/2)/I;c===L?G=H-F:g===L?G=1/3+J-H:D===L&&(G=2/3+F-J),G<0&&(G+=1),G>1&&(G-=1)}var V=[G*360,K,N];return v[3]!=null&&V.push(v[3]),V}}function C(v,c){var g=T(v);if(g){for(var D=0;D<3;D++)c<0?g[D]=g[D]*(1-c)|0:g[D]=(255-g[D])*c+g[D]|0,g[D]>255?g[D]=255:g[D]<0&&(g[D]=0);return d(g,g.length===4?"rgba":"rgb")}}function O(v){var c=T(v);if(c)return((1<<24)+(c[0]<<16)+(c[1]<<8)+ +c[2]).toString(16).slice(1)}function Z(v,c,g){if(!(!(c&&c.length)||!(v>=0&&v<=1))){g=g||[];var D=v*(c.length-1),x=Math.floor(D),L=Math.ceil(D),I=c[x],N=c[L],G=D-x;return g[0]=t(i(I[0],N[0],G)),g[1]=t(i(I[1],N[1],G)),g[2]=t(i(I[2],N[2],G)),g[3]=e(i(I[3],N[3],G)),g}}var U=Z;function b(v,c,g){if(!(!(c&&c.length)||!(v>=0&&v<=1))){var D=v*(c.length-1),x=Math.floor(D),L=Math.ceil(D),I=T(c[x]),N=T(c[L]),G=D-x,K=d([t(i(I[0],N[0],G)),t(i(I[1],N[1],G)),t(i(I[2],N[2],G)),e(i(I[3],N[3],G))],"rgba");return g?{color:K,leftIndex:x,rightIndex:L,value:D}:K}}var w=b;function A(v,c,g,D){var x=T(v);if(v)return x=P(x),c!=null&&(x[0]=r(c)),g!=null&&(x[1]=o(g)),D!=null&&(x[2]=o(D)),d(y(x),"rgba")}function E(v,c){var g=T(v);if(g&&c!=null)return g[3]=e(c),d(g,"rgba")}function d(v,c){if(!(!v||!v.length)){var g=v[0]+","+v[1]+","+v[2];return(c==="rgba"||c==="hsva"||c==="hsla")&&(g+=","+v[3]),c+"("+g+")"}}function f(v,c){var g=T(v);return g?(.299*g[0]+.587*g[1]+.114*g[2])*g[3]/255+(1-g[3])*c:0}function u(){return d([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}},27033:function(ht,q,R){"use strict";R.d(q,{a4:function(){return ft},j:function(){return F},xQ:function(){return Y},nY:function(){return pt}});var p=R(14296),s=R(66210),t=R(70324),r=R(85755),e=R(1205),n=R(23463),o=R(19169),h=R(16128),i=R(73913),a=R(7228),l=R(73909),_=R(29902),M=R(29436),m=M.Z.CMD;function T(rt,et){return Math.abs(rt-et)<1e-5}function y(rt){var et=rt.data,ut=rt.len(),dt=[],ot,_t=0,lt=0,Mt=0,Dt=0;function Et(Ht,jt){ot&&ot.length>2&&dt.push(ot),ot=[Ht,jt]}function St(Ht,jt,kt,Qt){T(Ht,kt)&&T(jt,Qt)||ot.push(Ht,jt,kt,Qt,kt,Qt)}function It(Ht,jt,kt,Qt,ur,Jt){var sr=Math.abs(jt-Ht),or=Math.tan(sr/4)*4/3,fr=jt<Ht?-1:1,gr=Math.cos(Ht),mr=Math.sin(Ht),Er=Math.cos(jt),Ar=Math.sin(jt),dr=gr*ur+kt,br=mr*Jt+Qt,xr=Er*ur+kt,Rr=Ar*Jt+Qt,Dr=ur*or*fr,Mr=Jt*or*fr;ot.push(dr-Dr*mr,br+Mr*gr,xr+Dr*Ar,Rr-Mr*Er,xr,Rr)}for(var mt,xt,Rt,k,tt=0;tt<ut;){var gt=et[tt++],Pt=tt===1;switch(Pt&&(_t=et[tt],lt=et[tt+1],Mt=_t,Dt=lt,(gt===m.L||gt===m.C||gt===m.Q)&&(ot=[Mt,Dt])),gt){case m.M:_t=Mt=et[tt++],lt=Dt=et[tt++],Et(Mt,Dt);break;case m.L:mt=et[tt++],xt=et[tt++],St(_t,lt,mt,xt),_t=mt,lt=xt;break;case m.C:ot.push(et[tt++],et[tt++],et[tt++],et[tt++],_t=et[tt++],lt=et[tt++]);break;case m.Q:mt=et[tt++],xt=et[tt++],Rt=et[tt++],k=et[tt++],ot.push(_t+2/3*(mt-_t),lt+2/3*(xt-lt),Rt+2/3*(mt-Rt),k+2/3*(xt-k),Rt,k),_t=Rt,lt=k;break;case m.A:var Q=et[tt++],$=et[tt++],it=et[tt++],ct=et[tt++],Ct=et[tt++],Zt=et[tt++]+Ct;tt+=1;var Lt=!et[tt++];mt=Math.cos(Ct)*it+Q,xt=Math.sin(Ct)*ct+$,Pt?(Mt=mt,Dt=xt,Et(Mt,Dt)):St(_t,lt,mt,xt),_t=Math.cos(Zt)*it+Q,lt=Math.sin(Zt)*ct+$;for(var bt=(Lt?-1:1)*Math.PI/2,Ft=Ct;Lt?Ft>Zt:Ft<Zt;Ft+=bt){var zt=Lt?Math.max(Ft+bt,Zt):Math.min(Ft+bt,Zt);It(Ft,zt,Q,$,it,ct)}break;case m.R:Mt=_t=et[tt++],Dt=lt=et[tt++],mt=Mt+et[tt++],xt=Dt+et[tt++],Et(mt,Dt),St(mt,Dt,mt,xt),St(mt,xt,Mt,xt),St(Mt,xt,Mt,Dt),St(Mt,Dt,mt,Dt);break;case m.Z:ot&&St(_t,lt,Mt,Dt),_t=Mt,lt=Dt;break}}return ot&&ot.length>2&&dt.push(ot),dt}function P(rt,et,ut,dt,ot,_t,lt,Mt,Dt,Et){if(T(rt,ut)&&T(et,dt)&&T(ot,lt)&&T(_t,Mt)){Dt.push(lt,Mt);return}var St=2/Et,It=St*St,mt=lt-rt,xt=Mt-et,Rt=Math.sqrt(mt*mt+xt*xt);mt/=Rt,xt/=Rt;var k=ut-rt,tt=dt-et,gt=ot-lt,Pt=_t-Mt,Q=k*k+tt*tt,$=gt*gt+Pt*Pt;if(Q<It&&$<It){Dt.push(lt,Mt);return}var it=mt*k+xt*tt,ct=-mt*gt-xt*Pt,Ct=Q-it*it,Zt=$-ct*ct;if(Ct<It&&it>=0&&Zt<It&&ct>=0){Dt.push(lt,Mt);return}var Lt=[],bt=[];(0,p.Vz)(rt,ut,ot,lt,.5,Lt),(0,p.Vz)(et,dt,_t,Mt,.5,bt),P(Lt[0],bt[0],Lt[1],bt[1],Lt[2],bt[2],Lt[3],bt[3],Dt,Et),P(Lt[4],bt[4],Lt[5],bt[5],Lt[6],bt[6],Lt[7],bt[7],Dt,Et)}function C(rt,et){var ut=y(rt),dt=[];et=et||1;for(var ot=0;ot<ut.length;ot++){var _t=ut[ot],lt=[],Mt=_t[0],Dt=_t[1];lt.push(Mt,Dt);for(var Et=2;Et<_t.length;){var St=_t[Et++],It=_t[Et++],mt=_t[Et++],xt=_t[Et++],Rt=_t[Et++],k=_t[Et++];P(Mt,Dt,St,It,mt,xt,Rt,k,lt,et),Mt=Rt,Dt=k}dt.push(lt)}return dt}function O(rt,et,ut){var dt=rt[et],ot=rt[1-et],_t=Math.abs(dt/ot),lt=Math.ceil(Math.sqrt(_t*ut)),Mt=Math.floor(ut/lt);Mt===0&&(Mt=1,lt=ut);for(var Dt=[],Et=0;Et<lt;Et++)Dt.push(Mt);var St=lt*Mt,It=ut-St;if(It>0)for(var Et=0;Et<It;Et++)Dt[Et%lt]+=1;return Dt}function Z(rt,et,ut){for(var dt=rt.r0,ot=rt.r,_t=rt.startAngle,lt=rt.endAngle,Mt=Math.abs(lt-_t),Dt=Mt*ot,Et=ot-dt,St=Dt>Math.abs(Et),It=O([Dt,Et],St?0:1,et),mt=(St?Mt:Et)/It.length,xt=0;xt<It.length;xt++)for(var Rt=(St?Et:Mt)/It[xt],k=0;k<It[xt];k++){var tt={};St?(tt.startAngle=_t+mt*xt,tt.endAngle=_t+mt*(xt+1),tt.r0=dt+Rt*k,tt.r=dt+Rt*(k+1)):(tt.startAngle=_t+Rt*k,tt.endAngle=_t+Rt*(k+1),tt.r0=dt+mt*xt,tt.r=dt+mt*(xt+1)),tt.clockwise=rt.clockwise,tt.cx=rt.cx,tt.cy=rt.cy,ut.push(tt)}}function U(rt,et,ut){for(var dt=rt.width,ot=rt.height,_t=dt>ot,lt=O([dt,ot],_t?0:1,et),Mt=_t?"width":"height",Dt=_t?"height":"width",Et=_t?"x":"y",St=_t?"y":"x",It=rt[Mt]/lt.length,mt=0;mt<lt.length;mt++)for(var xt=rt[Dt]/lt[mt],Rt=0;Rt<lt[mt];Rt++){var k={};k[Et]=mt*It,k[St]=Rt*xt,k[Mt]=It,k[Dt]=xt,k.x+=rt.x,k.y+=rt.y,ut.push(k)}}function b(rt,et,ut,dt){return rt*dt-ut*et}function w(rt,et,ut,dt,ot,_t,lt,Mt){var Dt=ut-rt,Et=dt-et,St=lt-ot,It=Mt-_t,mt=b(St,It,Dt,Et);if(Math.abs(mt)<1e-6)return null;var xt=rt-ot,Rt=et-_t,k=b(xt,Rt,St,It)/mt;return k<0||k>1?null:new i.Z(k*Dt+rt,k*Et+et)}function A(rt,et,ut){var dt=new i.Z;i.Z.sub(dt,ut,et),dt.normalize();var ot=new i.Z;i.Z.sub(ot,rt,et);var _t=ot.dot(dt);return _t}function E(rt,et){var ut=rt[rt.length-1];ut&&ut[0]===et[0]&&ut[1]===et[1]||rt.push(et)}function d(rt,et,ut){for(var dt=rt.length,ot=[],_t=0;_t<dt;_t++){var lt=rt[_t],Mt=rt[(_t+1)%dt],Dt=w(lt[0],lt[1],Mt[0],Mt[1],et.x,et.y,ut.x,ut.y);Dt&&ot.push({projPt:A(Dt,et,ut),pt:Dt,idx:_t})}if(ot.length<2)return[{points:rt},{points:rt}];ot.sort(function(tt,gt){return tt.projPt-gt.projPt});var Et=ot[0],St=ot[ot.length-1];if(St.idx<Et.idx){var It=Et;Et=St,St=It}for(var mt=[Et.pt.x,Et.pt.y],xt=[St.pt.x,St.pt.y],Rt=[mt],k=[xt],_t=Et.idx+1;_t<=St.idx;_t++)E(Rt,rt[_t].slice());E(Rt,xt),E(Rt,mt);for(var _t=St.idx+1;_t<=Et.idx+dt;_t++)E(k,rt[_t%dt].slice());return E(k,mt),E(k,xt),[{points:Rt},{points:k}]}function f(rt){var et=rt.points,ut=[],dt=[];(0,o.zk)(et,ut,dt);var ot=new h.Z(ut[0],ut[1],dt[0]-ut[0],dt[1]-ut[1]),_t=ot.width,lt=ot.height,Mt=ot.x,Dt=ot.y,Et=new i.Z,St=new i.Z;return _t>lt?(Et.x=St.x=Mt+_t/2,Et.y=Dt,St.y=Dt+lt):(Et.y=St.y=Dt+lt/2,Et.x=Mt,St.x=Mt+_t),d(et,Et,St)}function u(rt,et,ut,dt){if(ut===1)dt.push(et);else{var ot=Math.floor(ut/2),_t=rt(et);u(rt,_t[0],ot,dt),u(rt,_t[1],ut-ot,dt)}return dt}function v(rt,et){for(var ut=[],dt=0;dt<et;dt++)ut.push((0,e.U5)(rt));return ut}function c(rt,et){et.setStyle(rt.style),et.z=rt.z,et.z2=rt.z2,et.zlevel=rt.zlevel}function g(rt){for(var et=[],ut=0;ut<rt.length;)et.push([rt[ut++],rt[ut++]]);return et}function D(rt,et){var ut=[],dt=rt.shape,ot;switch(rt.type){case"rect":U(dt,et,ut),ot=l.Z;break;case"sector":Z(dt,et,ut),ot=_.C;break;case"circle":Z({r0:0,r:dt.r,startAngle:0,endAngle:Math.PI*2,cx:dt.cx,cy:dt.cy},et,ut),ot=_.C;break;default:var _t=rt.getComputedTransform(),lt=_t?Math.sqrt(Math.max(_t[0]*_t[0]+_t[1]*_t[1],_t[2]*_t[2]+_t[3]*_t[3])):1,Mt=(0,t.UI)(C(rt.getUpdatedPathProxy(),lt),function(gt){return g(gt)}),Dt=Mt.length;if(Dt===0)u(f,{points:Mt[0]},et,ut);else if(Dt===et)for(var Et=0;Et<Dt;Et++)ut.push({points:Mt[Et]});else{var St=0,It=(0,t.UI)(Mt,function(gt){var Pt=[],Q=[];(0,o.zk)(gt,Pt,Q);var $=(Q[1]-Pt[1])*(Q[0]-Pt[0]);return St+=$,{poly:gt,area:$}});It.sort(function(gt,Pt){return Pt.area-gt.area});for(var mt=et,Et=0;Et<Dt;Et++){var xt=It[Et];if(mt<=0)break;var Rt=Et===Dt-1?mt:Math.ceil(xt.area/St*et);Rt<0||(u(f,{points:xt.poly},Rt,ut),mt-=Rt)}}ot=a.Z;break}if(!ot)return v(rt,et);for(var k=[],Et=0;Et<ut.length;Et++){var tt=new ot;tt.setShape(ut[Et]),c(rt,tt),k.push(tt)}return k}function x(rt,et){var ut=rt.length,dt=et.length;if(ut===dt)return[rt,et];for(var ot=[],_t=[],lt=ut<dt?rt:et,Mt=Math.min(ut,dt),Dt=Math.abs(dt-ut)/6,Et=(Mt-2)/6,St=Math.ceil(Dt/Et)+1,It=[lt[0],lt[1]],mt=Dt,xt=2;xt<Mt;){var Rt=lt[xt-2],k=lt[xt-1],tt=lt[xt++],gt=lt[xt++],Pt=lt[xt++],Q=lt[xt++],$=lt[xt++],it=lt[xt++];if(mt<=0){It.push(tt,gt,Pt,Q,$,it);continue}for(var ct=Math.min(mt,St-1)+1,Ct=1;Ct<=ct;Ct++){var Zt=Ct/ct;(0,p.Vz)(Rt,tt,Pt,$,Zt,ot),(0,p.Vz)(k,gt,Q,it,Zt,_t),Rt=ot[3],k=_t[3],It.push(ot[1],_t[1],ot[2],_t[2],Rt,k),tt=ot[5],gt=_t[5],Pt=ot[6],Q=_t[6]}mt-=ct-1}return lt===rt?[It,et]:[rt,It]}function L(rt,et){for(var ut=rt.length,dt=rt[ut-2],ot=rt[ut-1],_t=[],lt=0;lt<et.length;)_t[lt++]=dt,_t[lt++]=ot;return _t}function I(rt,et){for(var ut,dt,ot,_t=[],lt=[],Mt=0;Mt<Math.max(rt.length,et.length);Mt++){var Dt=rt[Mt],Et=et[Mt],St=void 0,It=void 0;Dt?Et?(ut=x(Dt,Et),St=ut[0],It=ut[1],dt=St,ot=It):(It=L(ot||Dt,Dt),St=Dt):(St=L(dt||Et,Et),It=Et),_t.push(St),lt.push(It)}return[_t,lt]}function N(rt){for(var et=0,ut=0,dt=0,ot=rt.length,_t=0,lt=ot-2;_t<ot;lt=_t,_t+=2){var Mt=rt[lt],Dt=rt[lt+1],Et=rt[_t],St=rt[_t+1],It=Mt*St-Et*Dt;et+=It,ut+=(Mt+Et)*It,dt+=(Dt+St)*It}return et===0?[rt[0]||0,rt[1]||0]:[ut/et/3,dt/et/3,et]}function G(rt,et,ut,dt){for(var ot=(rt.length-2)/6,_t=1/0,lt=0,Mt=rt.length,Dt=Mt-2,Et=0;Et<ot;Et++){for(var St=Et*6,It=0,mt=0;mt<Mt;mt+=2){var xt=mt===0?St:(St+mt-2)%Dt+2,Rt=rt[xt]-ut[0],k=rt[xt+1]-ut[1],tt=et[mt]-dt[0],gt=et[mt+1]-dt[1],Pt=tt-Rt,Q=gt-k;It+=Pt*Pt+Q*Q}It<_t&&(_t=It,lt=Et)}return lt}function K(rt){for(var et=[],ut=rt.length,dt=0;dt<ut;dt+=2)et[dt]=rt[ut-dt-2],et[dt+1]=rt[ut-dt-1];return et}function J(rt,et,ut,dt){for(var ot=[],_t,lt=0;lt<rt.length;lt++){var Mt=rt[lt],Dt=et[lt],Et=N(Mt),St=N(Dt);_t==null&&(_t=Et[2]<0!=St[2]<0);var It=[],mt=[],xt=0,Rt=1/0,k=[],tt=Mt.length;_t&&(Mt=K(Mt));for(var gt=G(Mt,Dt,Et,St)*6,Pt=tt-2,Q=0;Q<Pt;Q+=2){var $=(gt+Q)%Pt+2;It[Q+2]=Mt[$]-Et[0],It[Q+3]=Mt[$+1]-Et[1]}if(It[0]=Mt[gt]-Et[0],It[1]=Mt[gt+1]-Et[1],ut>0)for(var it=dt/ut,ct=-dt/2;ct<=dt/2;ct+=it){for(var Ct=Math.sin(ct),Zt=Math.cos(ct),Lt=0,Q=0;Q<Mt.length;Q+=2){var bt=It[Q],Ft=It[Q+1],zt=Dt[Q]-St[0],Ht=Dt[Q+1]-St[1],jt=zt*Zt-Ht*Ct,kt=zt*Ct+Ht*Zt;k[Q]=jt,k[Q+1]=kt;var Qt=jt-bt,ur=kt-Ft;Lt+=Qt*Qt+ur*ur}if(Lt<Rt){Rt=Lt,xt=ct;for(var Jt=0;Jt<k.length;Jt++)mt[Jt]=k[Jt]}}else for(var sr=0;sr<tt;sr+=2)mt[sr]=Dt[sr]-St[0],mt[sr+1]=Dt[sr+1]-St[1];ot.push({from:It,to:mt,fromCp:Et,toCp:St,rotation:-xt})}return ot}function F(rt){return rt.__isCombineMorphing}function H(rt){return rt.__morphT>=0}var V="__mOriginal_";function S(rt,et,ut){var dt=V+et,ot=rt[dt]||rt[et];rt[dt]||(rt[dt]=rt[et]);var _t=ut.replace,lt=ut.after,Mt=ut.before;rt[et]=function(){var Dt=arguments,Et;return Mt&&Mt.apply(this,Dt),_t?Et=_t.apply(this,Dt):Et=ot.apply(this,Dt),lt&&lt.apply(this,Dt),Et}}function W(rt,et){var ut=V+et;rt[ut]&&(rt[et]=rt[ut],rt[ut]=null)}function B(rt,et){for(var ut=0;ut<rt.length;ut++)for(var dt=rt[ut],ot=0;ot<dt.length;){var _t=dt[ot],lt=dt[ot+1];dt[ot++]=et[0]*_t+et[2]*lt+et[4],dt[ot++]=et[1]*_t+et[3]*lt+et[5]}}function X(rt,et){var ut=rt.getUpdatedPathProxy(),dt=et.getUpdatedPathProxy(),ot=I(y(ut),y(dt)),_t=ot[0],lt=ot[1],Mt=rt.getComputedTransform(),Dt=et.getComputedTransform();function Et(){this.transform=null}Mt&&B(_t,Mt),Dt&&B(lt,Dt),S(et,"updateTransform",{replace:Et}),et.transform=null;var St=J(_t,lt,10,Math.PI),It=[];S(et,"buildPath",{replace:function(mt){for(var xt=et.__morphT,Rt=1-xt,k=[],tt=0;tt<St.length;tt++){var gt=St[tt],Pt=gt.from,Q=gt.to,$=gt.rotation*xt,it=gt.fromCp,ct=gt.toCp,Ct=Math.sin($),Zt=Math.cos($);(0,r.t7)(k,it,ct,xt);for(var Lt=0;Lt<Pt.length;Lt+=2){var bt=Pt[Lt],Ft=Pt[Lt+1],zt=Q[Lt],Ht=Q[Lt+1],jt=bt*Rt+zt*xt,kt=Ft*Rt+Ht*xt;It[Lt]=jt*Zt-kt*Ct+k[0],It[Lt+1]=jt*Ct+kt*Zt+k[1]}var Qt=It[0],ur=It[1];mt.moveTo(Qt,ur);for(var Lt=2;Lt<Pt.length;){var zt=It[Lt++],Ht=It[Lt++],Jt=It[Lt++],sr=It[Lt++],or=It[Lt++],fr=It[Lt++];Qt===zt&&ur===Ht&&Jt===or&&sr===fr?mt.lineTo(or,fr):mt.bezierCurveTo(zt,Ht,Jt,sr,or,fr),Qt=or,ur=fr}}}})}function Y(rt,et,ut){if(!rt||!et)return et;var dt=ut.done,ot=ut.during;X(rt,et),et.__morphT=0;function _t(){W(et,"buildPath"),W(et,"updateTransform"),et.__morphT=-1,et.createPathProxy(),et.dirtyShape()}return et.animateTo({__morphT:1},(0,t.ce)({during:function(lt){et.dirtyShape(),ot&&ot(lt)},done:function(){_t(),dt&&dt()}},ut)),et}function nt(rt,et,ut,dt,ot,_t){var lt=16;rt=ot===ut?0:Math.round(32767*(rt-ut)/(ot-ut)),et=_t===dt?0:Math.round(32767*(et-dt)/(_t-dt));for(var Mt=0,Dt,Et=(1<<lt)/2;Et>0;Et/=2){var St=0,It=0;(rt&Et)>0&&(St=1),(et&Et)>0&&(It=1),Mt+=Et*Et*(3*St^It),It===0&&(St===1&&(rt=Et-1-rt,et=Et-1-et),Dt=rt,rt=et,et=Dt)}return Mt}function z(rt){var et=1/0,ut=1/0,dt=-1/0,ot=-1/0,_t=(0,t.UI)(rt,function(Mt){var Dt=Mt.getBoundingRect(),Et=Mt.getComputedTransform(),St=Dt.x+Dt.width/2+(Et?Et[4]:0),It=Dt.y+Dt.height/2+(Et?Et[5]:0);return et=Math.min(St,et),ut=Math.min(It,ut),dt=Math.max(St,dt),ot=Math.max(It,ot),[St,It]}),lt=(0,t.UI)(_t,function(Mt,Dt){return{cp:Mt,z:nt(Mt[0],Mt[1],et,ut,dt,ot),path:rt[Dt]}});return lt.sort(function(Mt,Dt){return Mt.z-Dt.z}).map(function(Mt){return Mt.path})}function j(rt){return D(rt.path,rt.count)}function at(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ft(rt,et,ut){var dt=[];function ot(it){for(var ct=0;ct<it.length;ct++){var Ct=it[ct];F(Ct)?ot(Ct.childrenRef()):Ct instanceof s.ZP&&dt.push(Ct)}}ot(rt);var _t=dt.length;if(!_t)return at();var lt=ut.dividePath||j,Mt=lt({path:et,count:_t});if(Mt.length!==_t)return console.error("Invalid morphing: unmatched splitted path"),at();dt=z(dt),Mt=z(Mt);for(var Dt=ut.done,Et=ut.during,St=ut.individualDelay,It=new n.ZP,mt=0;mt<_t;mt++){var xt=dt[mt],Rt=Mt[mt];Rt.parent=et,Rt.copyTransform(It),St||X(xt,Rt)}et.__isCombineMorphing=!0,et.childrenRef=function(){return Mt};function k(it){for(var ct=0;ct<Mt.length;ct++)Mt[ct].addSelfToZr(it)}S(et,"addSelfToZr",{after:function(it){k(it)}}),S(et,"removeSelfFromZr",{after:function(it){for(var ct=0;ct<Mt.length;ct++)Mt[ct].removeSelfFromZr(it)}});function tt(){et.__isCombineMorphing=!1,et.__morphT=-1,et.childrenRef=null,W(et,"addSelfToZr"),W(et,"removeSelfFromZr")}var gt=Mt.length;if(St)for(var Pt=gt,Q=function(){Pt--,Pt===0&&(tt(),Dt&&Dt())},mt=0;mt<gt;mt++){var $=St?(0,t.ce)({delay:(ut.delay||0)+St(mt,gt,dt[mt],Mt[mt]),done:Q},ut):ut;Y(dt[mt],Mt[mt],$)}else et.__morphT=0,et.animateTo({__morphT:1},(0,t.ce)({during:function(it){for(var ct=0;ct<gt;ct++){var Ct=Mt[ct];Ct.__morphT=et.__morphT,Ct.dirtyShape()}Et&&Et(it)},done:function(){tt();for(var it=0;it<rt.length;it++)W(rt[it],"updateTransform");Dt&&Dt()}},ut));return et.__zr&&k(et.__zr),{fromIndividuals:dt,toIndividuals:Mt,count:gt}}function pt(rt,et,ut){var dt=et.length,ot=[],_t=ut.dividePath||j;function lt(xt){for(var Rt=0;Rt<xt.length;Rt++){var k=xt[Rt];F(k)?lt(k.childrenRef()):k instanceof s.ZP&&ot.push(k)}}if(F(rt)){lt(rt.childrenRef());var Mt=ot.length;if(Mt<dt)for(var Dt=0,Et=Mt;Et<dt;Et++)ot.push((0,e.U5)(ot[Dt++%Mt]));ot.length=dt}else{ot=_t({path:rt,count:dt});for(var St=rt.getComputedTransform(),Et=0;Et<ot.length;Et++)ot[Et].setLocalTransform(St);if(ot.length!==dt)return console.error("Invalid morphing: unmatched splitted path"),at()}ot=z(ot),et=z(et);for(var It=ut.individualDelay,Et=0;Et<dt;Et++){var mt=It?(0,t.ce)({delay:(ut.delay||0)+It(Et,dt,ot[Et],et[Et])},ut):ut;Y(ot[Et],et[Et],mt)}return{fromIndividuals:ot,toIndividuals:et,count:et.length}}},29777:function(ht,q,R){"use strict";R.d(q,{hS:function(){return H},sd:function(){return F}});var p=R(2574),s=R(13806),t=R(16513),r=R(73909),e=R(15904),n=R(40596),o=R(7228),h=R(6224),i=R(58427),a=R(1205),l=R(70324),_=R(55602),M=R(43606),m=R(83007),T=R(9843),y,P={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},C=(0,l.XP)(P),O={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Z=(0,l.XP)(O),U=function(){function V(){this._defs={},this._root=null}return V.prototype.parse=function(S,W){W=W||{};var B=(0,T.s)(S);this._defsUsePending=[];var X=new p.Z;this._root=X;var Y=[],nt=B.getAttribute("viewBox")||"",z=parseFloat(B.getAttribute("width")||W.width),j=parseFloat(B.getAttribute("height")||W.height);isNaN(z)&&(z=null),isNaN(j)&&(j=null),f(B,X,null,!0,!1);for(var at=B.firstChild;at;)this._parseNode(at,X,Y,null,!1,!1),at=at.nextSibling;g(this._defs,this._defsUsePending),this._defsUsePending=[];var ft,pt;if(nt){var rt=x(nt);rt.length>=4&&(ft={x:parseFloat(rt[0]||0),y:parseFloat(rt[1]||0),width:parseFloat(rt[2]),height:parseFloat(rt[3])})}if(ft&&z!=null&&j!=null&&(pt=F(ft,{x:0,y:0,width:z,height:j}),!W.ignoreViewBox)){var et=X;X=new p.Z,X.add(et),et.scaleX=et.scaleY=pt.scale,et.x=pt.x,et.y=pt.y}return!W.ignoreRootClip&&z!=null&&j!=null&&X.setClipPath(new r.Z({shape:{x:0,y:0,width:z,height:j}})),{root:X,width:z,height:j,viewBoxRect:ft,viewBoxTransform:pt,named:Y}},V.prototype._parseNode=function(S,W,B,X,Y,nt){var z=S.nodeName.toLowerCase(),j,at=X;if(z==="defs"&&(Y=!0),z==="text"&&(nt=!0),z==="defs"||z==="switch")j=W;else{if(!Y){var ft=y[z];if(ft&&(0,l.RI)(y,z)){j=ft.call(this,S,W);var pt=S.getAttribute("name");if(pt){var rt={name:pt,namedFrom:null,svgNodeTagLower:z,el:j};B.push(rt),z==="g"&&(at=rt)}else X&&B.push({name:X.name,namedFrom:X,svgNodeTagLower:z,el:j});W.add(j)}}var et=b[z];if(et&&(0,l.RI)(b,z)){var ut=et.call(this,S),dt=S.getAttribute("id");dt&&(this._defs[dt]=ut)}}if(j&&j.isGroup)for(var ot=S.firstChild;ot;)ot.nodeType===1?this._parseNode(ot,j,B,at,Y,nt):ot.nodeType===3&&nt&&this._parseText(ot,j),ot=ot.nextSibling},V.prototype._parseText=function(S,W){var B=new m.Z({style:{text:S.textContent},silent:!0,x:this._textX||0,y:this._textY||0});E(W,B),f(S,B,this._defsUsePending,!1,!1),u(B,W);var X=B.style,Y=X.fontSize;Y&&Y<9&&(X.fontSize=9,B.scaleX*=Y/9,B.scaleY*=Y/9);var nt=(X.fontSize||X.fontFamily)&&[X.fontStyle,X.fontWeight,(X.fontSize||12)+"px",X.fontFamily||"sans-serif"].join(" ");X.font=nt;var z=B.getBoundingRect();return this._textX+=z.width,W.add(B),B},V.internalField=function(){y={g:function(S,W){var B=new p.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B},rect:function(S,W){var B=new r.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({x:parseFloat(S.getAttribute("x")||"0"),y:parseFloat(S.getAttribute("y")||"0"),width:parseFloat(S.getAttribute("width")||"0"),height:parseFloat(S.getAttribute("height")||"0")}),B.silent=!0,B},circle:function(S,W){var B=new t.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({cx:parseFloat(S.getAttribute("cx")||"0"),cy:parseFloat(S.getAttribute("cy")||"0"),r:parseFloat(S.getAttribute("r")||"0")}),B.silent=!0,B},line:function(S,W){var B=new n.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({x1:parseFloat(S.getAttribute("x1")||"0"),y1:parseFloat(S.getAttribute("y1")||"0"),x2:parseFloat(S.getAttribute("x2")||"0"),y2:parseFloat(S.getAttribute("y2")||"0")}),B.silent=!0,B},ellipse:function(S,W){var B=new e.Z;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setShape({cx:parseFloat(S.getAttribute("cx")||"0"),cy:parseFloat(S.getAttribute("cy")||"0"),rx:parseFloat(S.getAttribute("rx")||"0"),ry:parseFloat(S.getAttribute("ry")||"0")}),B.silent=!0,B},polygon:function(S,W){var B=S.getAttribute("points"),X;B&&(X=d(B));var Y=new o.Z({shape:{points:X||[]},silent:!0});return E(W,Y),f(S,Y,this._defsUsePending,!1,!1),Y},polyline:function(S,W){var B=S.getAttribute("points"),X;B&&(X=d(B));var Y=new h.Z({shape:{points:X||[]},silent:!0});return E(W,Y),f(S,Y,this._defsUsePending,!1,!1),Y},image:function(S,W){var B=new s.ZP;return E(W,B),f(S,B,this._defsUsePending,!1,!1),B.setStyle({image:S.getAttribute("xlink:href")||S.getAttribute("href"),x:+S.getAttribute("x"),y:+S.getAttribute("y"),width:+S.getAttribute("width"),height:+S.getAttribute("height")}),B.silent=!0,B},text:function(S,W){var B=S.getAttribute("x")||"0",X=S.getAttribute("y")||"0",Y=S.getAttribute("dx")||"0",nt=S.getAttribute("dy")||"0";this._textX=parseFloat(B)+parseFloat(Y),this._textY=parseFloat(X)+parseFloat(nt);var z=new p.Z;return E(W,z),f(S,z,this._defsUsePending,!1,!0),z},tspan:function(S,W){var B=S.getAttribute("x"),X=S.getAttribute("y");B!=null&&(this._textX=parseFloat(B)),X!=null&&(this._textY=parseFloat(X));var Y=S.getAttribute("dx")||"0",nt=S.getAttribute("dy")||"0",z=new p.Z;return E(W,z),f(S,z,this._defsUsePending,!1,!0),this._textX+=parseFloat(Y),this._textY+=parseFloat(nt),z},path:function(S,W){var B=S.getAttribute("d")||"",X=(0,a.iR)(B);return E(W,X),f(S,X,this._defsUsePending,!1,!1),X.silent=!0,X}}}(),V}(),b={lineargradient:function(V){var S=parseInt(V.getAttribute("x1")||"0",10),W=parseInt(V.getAttribute("y1")||"0",10),B=parseInt(V.getAttribute("x2")||"10",10),X=parseInt(V.getAttribute("y2")||"0",10),Y=new _.Z(S,W,B,X);return w(V,Y),A(V,Y),Y},radialgradient:function(V){var S=parseInt(V.getAttribute("cx")||"0",10),W=parseInt(V.getAttribute("cy")||"0",10),B=parseInt(V.getAttribute("r")||"0",10),X=new M.Z(S,W,B);return w(V,X),A(V,X),X}};function w(V,S){var W=V.getAttribute("gradientUnits");W==="userSpaceOnUse"&&(S.global=!0)}function A(V,S){for(var W=V.firstChild;W;){if(W.nodeType===1&&W.nodeName.toLocaleLowerCase()==="stop"){var B=W.getAttribute("offset"),X=void 0;B&&B.indexOf("%")>0?X=parseInt(B,10)/100:B?X=parseFloat(B):X=0;var Y={};K(W,Y,Y);var nt=Y.stopColor||W.getAttribute("stop-color")||"#000000";S.colorStops.push({offset:X,color:nt})}W=W.nextSibling}}function E(V,S){V&&V.__inheritedStyle&&(S.__inheritedStyle||(S.__inheritedStyle={}),(0,l.ce)(S.__inheritedStyle,V.__inheritedStyle))}function d(V){for(var S=x(V),W=[],B=0;B<S.length;B+=2){var X=parseFloat(S[B]),Y=parseFloat(S[B+1]);W.push([X,Y])}return W}function f(V,S,W,B,X){var Y=S,nt=Y.__inheritedStyle=Y.__inheritedStyle||{},z={};V.nodeType===1&&(N(V,S),K(V,nt,z),B||J(V,nt,z)),Y.style=Y.style||{},nt.fill!=null&&(Y.style.fill=c(Y,"fill",nt.fill,W)),nt.stroke!=null&&(Y.style.stroke=c(Y,"stroke",nt.stroke,W)),(0,l.S6)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(j){nt[j]!=null&&(Y.style[j]=parseFloat(nt[j]))}),(0,l.S6)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(j){nt[j]!=null&&(Y.style[j]=nt[j])}),X&&(Y.__selfStyle=z),nt.lineDash&&(Y.style.lineDash=(0,l.UI)(x(nt.lineDash),function(j){return parseFloat(j)})),(nt.visibility==="hidden"||nt.visibility==="collapse")&&(Y.invisible=!0),nt.display==="none"&&(Y.ignore=!0)}function u(V,S){var W=S.__selfStyle;if(W){var B=W.textBaseline,X=B;!B||B==="auto"||B==="baseline"?X="alphabetic":B==="before-edge"||B==="text-before-edge"?X="top":B==="after-edge"||B==="text-after-edge"?X="bottom":(B==="central"||B==="mathematical")&&(X="middle"),V.style.textBaseline=X}var Y=S.__inheritedStyle;if(Y){var nt=Y.textAlign,z=nt;nt&&(nt==="middle"&&(z="center"),V.style.textAlign=z)}}var v=/^url\(\s*#(.*?)\)/;function c(V,S,W,B){var X=W&&W.match(v);if(X){var Y=(0,l.fy)(X[1]);B.push([V,S,Y]);return}return W==="none"&&(W=null),W}function g(V,S){for(var W=0;W<S.length;W++){var B=S[W];B[0].style[B[1]]=V[B[2]]}}var D=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function x(V){return V.match(D)||[]}var L=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,I=Math.PI/180;function N(V,S){var W=V.getAttribute("transform");if(W){W=W.replace(/,/g," ");var B=[],X=null;W.replace(L,function(pt,rt,et){return B.push(rt,et),""});for(var Y=B.length-1;Y>0;Y-=2){var nt=B[Y],z=B[Y-1],j=x(nt);switch(X=X||i.Ue(),z){case"translate":i.Iu(X,X,[parseFloat(j[0]),parseFloat(j[1]||"0")]);break;case"scale":i.bA(X,X,[parseFloat(j[0]),parseFloat(j[1]||j[0])]);break;case"rotate":i.U1(X,X,-parseFloat(j[0])*I);break;case"skewX":var at=Math.tan(parseFloat(j[0])*I);i.dC(X,[1,0,at,1,0,0],X);break;case"skewY":var ft=Math.tan(parseFloat(j[0])*I);i.dC(X,[1,ft,0,1,0,0],X);break;case"matrix":X[0]=parseFloat(j[0]),X[1]=parseFloat(j[1]),X[2]=parseFloat(j[2]),X[3]=parseFloat(j[3]),X[4]=parseFloat(j[4]),X[5]=parseFloat(j[5]);break}}S.setLocalTransform(X)}}var G=/([^\s:;]+)\s*:\s*([^:;]+)/g;function K(V,S,W){var B=V.getAttribute("style");if(B){G.lastIndex=0;for(var X;(X=G.exec(B))!=null;){var Y=X[1],nt=(0,l.RI)(P,Y)?P[Y]:null;nt&&(S[nt]=X[2]);var z=(0,l.RI)(O,Y)?O[Y]:null;z&&(W[z]=X[2])}}}function J(V,S,W){for(var B=0;B<C.length;B++){var X=C[B],Y=V.getAttribute(X);Y!=null&&(S[P[X]]=Y)}for(var B=0;B<Z.length;B++){var X=Z[B],Y=V.getAttribute(X);Y!=null&&(W[O[X]]=Y)}}function F(V,S){var W=S.width/V.width,B=S.height/V.height,X=Math.min(W,B);return{scale:X,x:-(V.x+V.width/2)*X+(S.x+S.width/2),y:-(V.y+V.height/2)*X+(S.y+S.height/2)}}function H(V,S){var W=new U;return W.parse(V,S)}},9843:function(ht,q,R){"use strict";R.d(q,{s:function(){return s}});var p=R(70324);function s(t){if((0,p.HD)(t)){var r=new DOMParser;t=r.parseFromString(t,"text/xml")}var e=t;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}},1205:function(ht,q,R){"use strict";R.d(q,{U5:function(){return u},iR:function(){return E},Pc:function(){return d},AA:function(){return f}});var p=R(12012),s=R(66210),t=R(29436),r=R(85755),e=t.Z.CMD,n=[[],[],[]],o=Math.sqrt,h=Math.atan2;function i(v,c){if(c){var g=v.data,D=v.len(),x,L,I,N,G,K,J=e.M,F=e.C,H=e.L,V=e.R,S=e.A,W=e.Q;for(I=0,N=0;I<D;){switch(x=g[I++],N=I,L=0,x){case J:L=1;break;case H:L=1;break;case F:L=3;break;case W:L=2;break;case S:var B=c[4],X=c[5],Y=o(c[0]*c[0]+c[1]*c[1]),nt=o(c[2]*c[2]+c[3]*c[3]),z=h(-c[1]/nt,c[0]/Y);g[I]*=Y,g[I++]+=B,g[I]*=nt,g[I++]+=X,g[I++]*=Y,g[I++]*=nt,g[I++]+=z,g[I++]+=z,I+=2,N=I;break;case V:K[0]=g[I++],K[1]=g[I++],(0,r.Ne)(K,K,c),g[N++]=K[0],g[N++]=K[1],K[0]+=g[I++],K[1]+=g[I++],(0,r.Ne)(K,K,c),g[N++]=K[0],g[N++]=K[1]}for(G=0;G<L;G++){var j=n[G];j[0]=g[I++],j[1]=g[I++],(0,r.Ne)(j,j,c),g[N++]=j[0],g[N++]=j[1]}}v.increaseVersion()}}var a=R(70324),l=Math.sqrt,_=Math.sin,M=Math.cos,m=Math.PI;function T(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1])}function y(v,c){return(v[0]*c[0]+v[1]*c[1])/(T(v)*T(c))}function P(v,c){return(v[0]*c[1]<v[1]*c[0]?-1:1)*Math.acos(y(v,c))}function C(v,c,g,D,x,L,I,N,G,K,J){var F=G*(m/180),H=M(F)*(v-g)/2+_(F)*(c-D)/2,V=-1*_(F)*(v-g)/2+M(F)*(c-D)/2,S=H*H/(I*I)+V*V/(N*N);S>1&&(I*=l(S),N*=l(S));var W=(x===L?-1:1)*l((I*I*(N*N)-I*I*(V*V)-N*N*(H*H))/(I*I*(V*V)+N*N*(H*H)))||0,B=W*I*V/N,X=W*-N*H/I,Y=(v+g)/2+M(F)*B-_(F)*X,nt=(c+D)/2+_(F)*B+M(F)*X,z=P([1,0],[(H-B)/I,(V-X)/N]),j=[(H-B)/I,(V-X)/N],at=[(-1*H-B)/I,(-1*V-X)/N],ft=P(j,at);if(y(j,at)<=-1&&(ft=m),y(j,at)>=1&&(ft=0),ft<0){var pt=Math.round(ft/m*1e6)/1e6;ft=m*2+pt%2*m}J.addData(K,Y,nt,I,N,z,ft,F,L)}var O=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Z=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function U(v){var c=new t.Z;if(!v)return c;var g=0,D=0,x=g,L=D,I,N=t.Z.CMD,G=v.match(O);if(!G)return c;for(var K=0;K<G.length;K++){for(var J=G[K],F=J.charAt(0),H=void 0,V=J.match(Z)||[],S=V.length,W=0;W<S;W++)V[W]=parseFloat(V[W]);for(var B=0;B<S;){var X=void 0,Y=void 0,nt=void 0,z=void 0,j=void 0,at=void 0,ft=void 0,pt=g,rt=D,et=void 0,ut=void 0;switch(F){case"l":g+=V[B++],D+=V[B++],H=N.L,c.addData(H,g,D);break;case"L":g=V[B++],D=V[B++],H=N.L,c.addData(H,g,D);break;case"m":g+=V[B++],D+=V[B++],H=N.M,c.addData(H,g,D),x=g,L=D,F="l";break;case"M":g=V[B++],D=V[B++],H=N.M,c.addData(H,g,D),x=g,L=D,F="L";break;case"h":g+=V[B++],H=N.L,c.addData(H,g,D);break;case"H":g=V[B++],H=N.L,c.addData(H,g,D);break;case"v":D+=V[B++],H=N.L,c.addData(H,g,D);break;case"V":D=V[B++],H=N.L,c.addData(H,g,D);break;case"C":H=N.C,c.addData(H,V[B++],V[B++],V[B++],V[B++],V[B++],V[B++]),g=V[B-2],D=V[B-1];break;case"c":H=N.C,c.addData(H,V[B++]+g,V[B++]+D,V[B++]+g,V[B++]+D,V[B++]+g,V[B++]+D),g+=V[B-2],D+=V[B-1];break;case"S":X=g,Y=D,et=c.len(),ut=c.data,I===N.C&&(X+=g-ut[et-4],Y+=D-ut[et-3]),H=N.C,pt=V[B++],rt=V[B++],g=V[B++],D=V[B++],c.addData(H,X,Y,pt,rt,g,D);break;case"s":X=g,Y=D,et=c.len(),ut=c.data,I===N.C&&(X+=g-ut[et-4],Y+=D-ut[et-3]),H=N.C,pt=g+V[B++],rt=D+V[B++],g+=V[B++],D+=V[B++],c.addData(H,X,Y,pt,rt,g,D);break;case"Q":pt=V[B++],rt=V[B++],g=V[B++],D=V[B++],H=N.Q,c.addData(H,pt,rt,g,D);break;case"q":pt=V[B++]+g,rt=V[B++]+D,g+=V[B++],D+=V[B++],H=N.Q,c.addData(H,pt,rt,g,D);break;case"T":X=g,Y=D,et=c.len(),ut=c.data,I===N.Q&&(X+=g-ut[et-4],Y+=D-ut[et-3]),g=V[B++],D=V[B++],H=N.Q,c.addData(H,X,Y,g,D);break;case"t":X=g,Y=D,et=c.len(),ut=c.data,I===N.Q&&(X+=g-ut[et-4],Y+=D-ut[et-3]),g+=V[B++],D+=V[B++],H=N.Q,c.addData(H,X,Y,g,D);break;case"A":nt=V[B++],z=V[B++],j=V[B++],at=V[B++],ft=V[B++],pt=g,rt=D,g=V[B++],D=V[B++],H=N.A,C(pt,rt,g,D,at,ft,nt,z,j,H,c);break;case"a":nt=V[B++],z=V[B++],j=V[B++],at=V[B++],ft=V[B++],pt=g,rt=D,g+=V[B++],D+=V[B++],H=N.A,C(pt,rt,g,D,at,ft,nt,z,j,H,c);break}}(F==="z"||F==="Z")&&(H=N.Z,c.addData(H),g=x,D=L),I=H}return c.toStatic(),c}var b=function(v){(0,p.ZT)(c,v);function c(){return v!==null&&v.apply(this,arguments)||this}return c.prototype.applyTransform=function(g){},c}(s.ZP);function w(v){return v.setData!=null}function A(v,c){var g=U(v),D=(0,a.l7)({},c);return D.buildPath=function(x){if(w(x)){x.setData(g.data);var L=x.getContext();L&&x.rebuildPath(L,1)}else{var L=x;g.rebuildPath(L,1)}},D.applyTransform=function(x){i(g,x),this.dirtyShape()},D}function E(v,c){return new b(A(v,c))}function d(v,c){var g=A(v,c),D=function(x){(0,p.ZT)(L,x);function L(I){var N=x.call(this,I)||this;return N.applyTransform=g.applyTransform,N.buildPath=g.buildPath,N}return L}(b);return D}function f(v,c){for(var g=[],D=v.length,x=0;x<D;x++){var L=v[x];g.push(L.getUpdatedPathProxy(!0))}var I=new s.ZP(c);return I.createPathProxy(),I.buildPath=function(N){if(w(N)){N.appendPath(g);var G=N.getContext();G&&N.rebuildPath(G,1)}},I}function u(v,c){c=c||{};var g=new s.ZP;return v.shape&&g.setShape(v.shape),g.setStyle(v.style),c.bakeTransform?i(g.path,v.getComputedTransform()):c.toLocal?g.setLocalTransform(v.getComputedTransform()):g.copyTransform(v),g.buildPath=v.buildPath,g.applyTransform=g.applyTransform,g.z=v.z,g.z2=v.z2,g.zlevel=v.zlevel,g}},32389:function(ht,q,R){"use strict";R.r(q),R.d(q,{dispose:function(){return Rt},disposeAll:function(){return k},getInstance:function(){return tt},init:function(){return xt},registerPainter:function(){return gt},version:function(){return Pt}});var p=R(54490),s=R(70324),t=R(12012),r=R(85755),e=function(){function Q($,it){this.target=$,this.topTarget=it&&it.topTarget}return Q}(),n=function(){function Q($){this.handler=$,$.on("mousedown",this._dragStart,this),$.on("mousemove",this._drag,this),$.on("mouseup",this._dragEnd,this)}return Q.prototype._dragStart=function($){for(var it=$.target;it&&!it.draggable;)it=it.parent||it.__hostTarget;it&&(this._draggingTarget=it,it.dragging=!0,this._x=$.offsetX,this._y=$.offsetY,this.handler.dispatchToElement(new e(it,$),"dragstart",$.event))},Q.prototype._drag=function($){var it=this._draggingTarget;if(it){var ct=$.offsetX,Ct=$.offsetY,Zt=ct-this._x,Lt=Ct-this._y;this._x=ct,this._y=Ct,it.drift(Zt,Lt,$),this.handler.dispatchToElement(new e(it,$),"drag",$.event);var bt=this.handler.findHover(ct,Ct,it).target,Ft=this._dropTarget;this._dropTarget=bt,it!==bt&&(Ft&&bt!==Ft&&this.handler.dispatchToElement(new e(Ft,$),"dragleave",$.event),bt&&bt!==Ft&&this.handler.dispatchToElement(new e(bt,$),"dragenter",$.event))}},Q.prototype._dragEnd=function($){var it=this._draggingTarget;it&&(it.dragging=!1),this.handler.dispatchToElement(new e(it,$),"dragend",$.event),this._dropTarget&&this.handler.dispatchToElement(new e(this._dropTarget,$),"drop",$.event),this._draggingTarget=null,this._dropTarget=null},Q}(),o=n,h=R(10563),i=R(11300),a=function(){function Q(){this._track=[]}return Q.prototype.recognize=function($,it,ct){return this._doTrack($,it,ct),this._recognize($)},Q.prototype.clear=function(){return this._track.length=0,this},Q.prototype._doTrack=function($,it,ct){var Ct=$.touches;if(Ct){for(var Zt={points:[],touches:[],target:it,event:$},Lt=0,bt=Ct.length;Lt<bt;Lt++){var Ft=Ct[Lt],zt=i.eV(ct,Ft,{});Zt.points.push([zt.zrX,zt.zrY]),Zt.touches.push(Ft)}this._track.push(Zt)}},Q.prototype._recognize=function($){for(var it in M)if(M.hasOwnProperty(it)){var ct=M[it](this._track,$);if(ct)return ct}},Q}();function l(Q){var $=Q[1][0]-Q[0][0],it=Q[1][1]-Q[0][1];return Math.sqrt($*$+it*it)}function _(Q){return[(Q[0][0]+Q[1][0])/2,(Q[0][1]+Q[1][1])/2]}var M={pinch:function(Q,$){var it=Q.length;if(it){var ct=(Q[it-1]||{}).points,Ct=(Q[it-2]||{}).points||ct;if(Ct&&Ct.length>1&&ct&&ct.length>1){var Zt=l(ct)/l(Ct);!isFinite(Zt)&&(Zt=1),$.pinchScale=Zt;var Lt=_(ct);return $.pinchX=Lt[0],$.pinchY=Lt[1],{type:"pinch",target:Q[0].target,event:$}}}}},m=R(16128),T="silent";function y(Q,$,it){return{type:Q,event:it,target:$.target,topTarget:$.topTarget,cancelBubble:!1,offsetX:it.zrX,offsetY:it.zrY,gestureEvent:it.gestureEvent,pinchX:it.pinchX,pinchY:it.pinchY,pinchScale:it.pinchScale,wheelDelta:it.zrDelta,zrByTouch:it.zrByTouch,which:it.which,stop:P}}function P(){i.sT(this.event)}var C=function(Q){(0,t.ZT)($,Q);function $(){var it=Q!==null&&Q.apply(this,arguments)||this;return it.handler=null,it}return $.prototype.dispose=function(){},$.prototype.setCursor=function(){},$}(h.Z),O=function(){function Q($,it){this.x=$,this.y=it}return Q}(),Z=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],U=new m.Z(0,0,0,0),b=function(Q){(0,t.ZT)($,Q);function $(it,ct,Ct,Zt,Lt){var bt=Q.call(this)||this;return bt._hovered=new O(0,0),bt.storage=it,bt.painter=ct,bt.painterRoot=Zt,bt._pointerSize=Lt,Ct=Ct||new C,bt.proxy=null,bt.setHandlerProxy(Ct),bt._draggingMgr=new o(bt),bt}return $.prototype.setHandlerProxy=function(it){this.proxy&&this.proxy.dispose(),it&&(s.S6(Z,function(ct){it.on&&it.on(ct,this[ct],this)},this),it.handler=this),this.proxy=it},$.prototype.mousemove=function(it){var ct=it.zrX,Ct=it.zrY,Zt=E(this,ct,Ct),Lt=this._hovered,bt=Lt.target;bt&&!bt.__zr&&(Lt=this.findHover(Lt.x,Lt.y),bt=Lt.target);var Ft=this._hovered=Zt?new O(ct,Ct):this.findHover(ct,Ct),zt=Ft.target,Ht=this.proxy;Ht.setCursor&&Ht.setCursor(zt?zt.cursor:"default"),bt&&zt!==bt&&this.dispatchToElement(Lt,"mouseout",it),this.dispatchToElement(Ft,"mousemove",it),zt&&zt!==bt&&this.dispatchToElement(Ft,"mouseover",it)},$.prototype.mouseout=function(it){var ct=it.zrEventControl;ct!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",it),ct!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:it})},$.prototype.resize=function(){this._hovered=new O(0,0)},$.prototype.dispatch=function(it,ct){var Ct=this[it];Ct&&Ct.call(this,ct)},$.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},$.prototype.setCursorStyle=function(it){var ct=this.proxy;ct.setCursor&&ct.setCursor(it)},$.prototype.dispatchToElement=function(it,ct,Ct){it=it||{};var Zt=it.target;if(!(Zt&&Zt.silent)){for(var Lt="on"+ct,bt=y(ct,it,Ct);Zt&&(Zt[Lt]&&(bt.cancelBubble=!!Zt[Lt].call(Zt,bt)),Zt.trigger(ct,bt),Zt=Zt.__hostTarget?Zt.__hostTarget:Zt.parent,!bt.cancelBubble););bt.cancelBubble||(this.trigger(ct,bt),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(Ft){typeof Ft[Lt]=="function"&&Ft[Lt].call(Ft,bt),Ft.trigger&&Ft.trigger(ct,bt)}))}},$.prototype.findHover=function(it,ct,Ct){var Zt=this.storage.getDisplayList(),Lt=new O(it,ct);if(A(Zt,Lt,it,ct,Ct),this._pointerSize&&!Lt.target){for(var bt=[],Ft=this._pointerSize,zt=Ft/2,Ht=new m.Z(it-zt,ct-zt,Ft,Ft),jt=Zt.length-1;jt>=0;jt--){var kt=Zt[jt];kt!==Ct&&!kt.ignore&&!kt.ignoreCoarsePointer&&(!kt.parent||!kt.parent.ignoreCoarsePointer)&&(U.copy(kt.getBoundingRect()),kt.transform&&U.applyTransform(kt.transform),U.intersect(Ht)&&bt.push(kt))}if(bt.length)for(var Qt=4,ur=Math.PI/12,Jt=Math.PI*2,sr=0;sr<zt;sr+=Qt)for(var or=0;or<Jt;or+=ur){var fr=it+sr*Math.cos(or),gr=ct+sr*Math.sin(or);if(A(bt,Lt,fr,gr,Ct),Lt.target)return Lt}}return Lt},$.prototype.processGesture=function(it,ct){this._gestureMgr||(this._gestureMgr=new a);var Ct=this._gestureMgr;ct==="start"&&Ct.clear();var Zt=Ct.recognize(it,this.findHover(it.zrX,it.zrY,null).target,this.proxy.dom);if(ct==="end"&&Ct.clear(),Zt){var Lt=Zt.type;it.gestureEvent=Lt;var bt=new O;bt.target=Zt.target,this.dispatchToElement(bt,Lt,Zt.event)}},$}(h.Z);s.S6(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Q){b.prototype[Q]=function($){var it=$.zrX,ct=$.zrY,Ct=E(this,it,ct),Zt,Lt;if((Q!=="mouseup"||!Ct)&&(Zt=this.findHover(it,ct),Lt=Zt.target),Q==="mousedown")this._downEl=Lt,this._downPoint=[$.zrX,$.zrY],this._upEl=Lt;else if(Q==="mouseup")this._upEl=Lt;else if(Q==="click"){if(this._downEl!==this._upEl||!this._downPoint||r.TK(this._downPoint,[$.zrX,$.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Zt,Q,$)}});function w(Q,$,it){if(Q[Q.rectHover?"rectContain":"contain"]($,it)){for(var ct=Q,Ct=void 0,Zt=!1;ct;){if(ct.ignoreClip&&(Zt=!0),!Zt){var Lt=ct.getClipPath();if(Lt&&!Lt.contain($,it))return!1;ct.silent&&(Ct=!0)}var bt=ct.__hostTarget;ct=bt||ct.parent}return Ct?T:!0}return!1}function A(Q,$,it,ct,Ct){for(var Zt=Q.length-1;Zt>=0;Zt--){var Lt=Q[Zt],bt=void 0;if(Lt!==Ct&&!Lt.ignore&&(bt=w(Lt,it,ct))&&(!$.topTarget&&($.topTarget=Lt),bt!==T)){$.target=Lt;break}}}function E(Q,$,it){var ct=Q.painter;return $<0||$>ct.getWidth()||it<0||it>ct.getHeight()}var d=b,f=R(59330),u=R(53197),v=!1;function c(){v||(v=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function g(Q,$){return Q.zlevel===$.zlevel?Q.z===$.z?Q.z2-$.z2:Q.z-$.z:Q.zlevel-$.zlevel}var D=function(){function Q(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=g}return Q.prototype.traverse=function($,it){for(var ct=0;ct<this._roots.length;ct++)this._roots[ct].traverse($,it)},Q.prototype.getDisplayList=function($,it){it=it||!1;var ct=this._displayList;return($||!ct.length)&&this.updateDisplayList(it),ct},Q.prototype.updateDisplayList=function($){this._displayListLen=0;for(var it=this._roots,ct=this._displayList,Ct=0,Zt=it.length;Ct<Zt;Ct++)this._updateAndAddDisplayable(it[Ct],null,$);ct.length=this._displayListLen,(0,f.Z)(ct,g)},Q.prototype._updateAndAddDisplayable=function($,it,ct){if(!($.ignore&&!ct)){$.beforeUpdate(),$.update(),$.afterUpdate();var Ct=$.getClipPath();if($.ignoreClip)it=null;else if(Ct){it?it=it.slice():it=[];for(var Zt=Ct,Lt=$;Zt;)Zt.parent=Lt,Zt.updateTransform(),it.push(Zt),Lt=Zt,Zt=Zt.getClipPath()}if($.childrenRef){for(var bt=$.childrenRef(),Ft=0;Ft<bt.length;Ft++){var zt=bt[Ft];$.__dirty&&(zt.__dirty|=u.YV),this._updateAndAddDisplayable(zt,it,ct)}$.__dirty=0}else{var Ht=$;it&&it.length?Ht.__clipPaths=it:Ht.__clipPaths&&Ht.__clipPaths.length>0&&(Ht.__clipPaths=[]),isNaN(Ht.z)&&(c(),Ht.z=0),isNaN(Ht.z2)&&(c(),Ht.z2=0),isNaN(Ht.zlevel)&&(c(),Ht.zlevel=0),this._displayList[this._displayListLen++]=Ht}var jt=$.getDecalElement&&$.getDecalElement();jt&&this._updateAndAddDisplayable(jt,it,ct);var kt=$.getTextGuideLine();kt&&this._updateAndAddDisplayable(kt,it,ct);var Qt=$.getTextContent();Qt&&this._updateAndAddDisplayable(Qt,it,ct)}},Q.prototype.addRoot=function($){$.__zr&&$.__zr.storage===this||this._roots.push($)},Q.prototype.delRoot=function($){if($ instanceof Array){for(var it=0,ct=$.length;it<ct;it++)this.delRoot($[it]);return}var Ct=s.cq(this._roots,$);Ct>=0&&this._roots.splice(Ct,1)},Q.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Q.prototype.getRoots=function(){return this._roots},Q.prototype.dispose=function(){this._displayList=null,this._roots=null},Q}(),x=D,L=R(75820),I=R(70295);function N(){return new Date().getTime()}var G=function(Q){(0,t.ZT)($,Q);function $(it){var ct=Q.call(this)||this;return ct._running=!1,ct._time=0,ct._pausedTime=0,ct._pauseStart=0,ct._paused=!1,it=it||{},ct.stage=it.stage||{},ct}return $.prototype.addClip=function(it){it.animation&&this.removeClip(it),this._head?(this._tail.next=it,it.prev=this._tail,it.next=null,this._tail=it):this._head=this._tail=it,it.animation=this},$.prototype.addAnimator=function(it){it.animation=this;var ct=it.getClip();ct&&this.addClip(ct)},$.prototype.removeClip=function(it){if(it.animation){var ct=it.prev,Ct=it.next;ct?ct.next=Ct:this._head=Ct,Ct?Ct.prev=ct:this._tail=ct,it.next=it.prev=it.animation=null}},$.prototype.removeAnimator=function(it){var ct=it.getClip();ct&&this.removeClip(ct),it.animation=null},$.prototype.update=function(it){for(var ct=N()-this._pausedTime,Ct=ct-this._time,Zt=this._head;Zt;){var Lt=Zt.next,bt=Zt.step(ct,Ct);bt&&(Zt.ondestroy(),this.removeClip(Zt)),Zt=Lt}this._time=ct,it||(this.trigger("frame",Ct),this.stage.update&&this.stage.update())},$.prototype._startLoop=function(){var it=this;this._running=!0;function ct(){it._running&&((0,L.Z)(ct),!it._paused&&it.update())}(0,L.Z)(ct)},$.prototype.start=function(){this._running||(this._time=N(),this._pausedTime=0,this._startLoop())},$.prototype.stop=function(){this._running=!1},$.prototype.pause=function(){this._paused||(this._pauseStart=N(),this._paused=!0)},$.prototype.resume=function(){this._paused&&(this._pausedTime+=N()-this._pauseStart,this._paused=!1)},$.prototype.clear=function(){for(var it=this._head;it;){var ct=it.next;it.prev=it.next=it.animation=null,it=ct}this._head=this._tail=null},$.prototype.isFinished=function(){return this._head==null},$.prototype.animate=function(it,ct){ct=ct||{},this.start();var Ct=new I.Z(it,ct.loop);return this.addAnimator(Ct),Ct},$}(h.Z),K=G,J=300,F=p.Z.domSupported,H=function(){var Q=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],$=["touchstart","touchend","touchmove"],it={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},ct=s.UI(Q,function(Ct){var Zt=Ct.replace("mouse","pointer");return it.hasOwnProperty(Zt)?Zt:Ct});return{mouse:Q,touch:$,pointer:ct}}(),V={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},S=!1;function W(Q){var $=Q.pointerType;return $==="pen"||$==="touch"}function B(Q){Q.touching=!0,Q.touchTimer!=null&&(clearTimeout(Q.touchTimer),Q.touchTimer=null),Q.touchTimer=setTimeout(function(){Q.touching=!1,Q.touchTimer=null},700)}function X(Q){Q&&(Q.zrByTouch=!0)}function Y(Q,$){return(0,i.OD)(Q.dom,new z(Q,$),!0)}function nt(Q,$){for(var it=$,ct=!1;it&&it.nodeType!==9&&!(ct=it.domBelongToZr||it!==$&&it===Q.painterRoot);)it=it.parentNode;return ct}var z=function(){function Q($,it){this.stopPropagation=s.ZT,this.stopImmediatePropagation=s.ZT,this.preventDefault=s.ZT,this.type=it.type,this.target=this.currentTarget=$.dom,this.pointerType=it.pointerType,this.clientX=it.clientX,this.clientY=it.clientY}return Q}(),j={mousedown:function(Q){Q=(0,i.OD)(this.dom,Q),this.__mayPointerCapture=[Q.zrX,Q.zrY],this.trigger("mousedown",Q)},mousemove:function(Q){Q=(0,i.OD)(this.dom,Q);var $=this.__mayPointerCapture;$&&(Q.zrX!==$[0]||Q.zrY!==$[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",Q)},mouseup:function(Q){Q=(0,i.OD)(this.dom,Q),this.__togglePointerCapture(!1),this.trigger("mouseup",Q)},mouseout:function(Q){Q=(0,i.OD)(this.dom,Q);var $=Q.toElement||Q.relatedTarget;nt(this,$)||(this.__pointerCapturing&&(Q.zrEventControl="no_globalout"),this.trigger("mouseout",Q))},wheel:function(Q){S=!0,Q=(0,i.OD)(this.dom,Q),this.trigger("mousewheel",Q)},mousewheel:function(Q){S||(Q=(0,i.OD)(this.dom,Q),this.trigger("mousewheel",Q))},touchstart:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.__lastTouchMoment=new Date,this.handler.processGesture(Q,"start"),j.mousemove.call(this,Q),j.mousedown.call(this,Q)},touchmove:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.handler.processGesture(Q,"change"),j.mousemove.call(this,Q)},touchend:function(Q){Q=(0,i.OD)(this.dom,Q),X(Q),this.handler.processGesture(Q,"end"),j.mouseup.call(this,Q),+new Date-+this.__lastTouchMoment<J&&j.click.call(this,Q)},pointerdown:function(Q){j.mousedown.call(this,Q)},pointermove:function(Q){W(Q)||j.mousemove.call(this,Q)},pointerup:function(Q){j.mouseup.call(this,Q)},pointerout:function(Q){W(Q)||j.mouseout.call(this,Q)}};s.S6(["click","dblclick","contextmenu"],function(Q){j[Q]=function($){$=(0,i.OD)(this.dom,$),this.trigger(Q,$)}});var at={pointermove:function(Q){W(Q)||at.mousemove.call(this,Q)},pointerup:function(Q){at.mouseup.call(this,Q)},mousemove:function(Q){this.trigger("mousemove",Q)},mouseup:function(Q){var $=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",Q),$&&(Q.zrEventControl="only_globalout",this.trigger("mouseout",Q))}};function ft(Q,$){var it=$.domHandlers;p.Z.pointerEventsSupported?s.S6(H.pointer,function(ct){rt($,ct,function(Ct){it[ct].call(Q,Ct)})}):(p.Z.touchEventsSupported&&s.S6(H.touch,function(ct){rt($,ct,function(Ct){it[ct].call(Q,Ct),B($)})}),s.S6(H.mouse,function(ct){rt($,ct,function(Ct){Ct=(0,i.iP)(Ct),$.touching||it[ct].call(Q,Ct)})}))}function pt(Q,$){p.Z.pointerEventsSupported?s.S6(V.pointer,it):p.Z.touchEventsSupported||s.S6(V.mouse,it);function it(ct){function Ct(Zt){Zt=(0,i.iP)(Zt),nt(Q,Zt.target)||(Zt=Y(Q,Zt),$.domHandlers[ct].call(Q,Zt))}rt($,ct,Ct,{capture:!0})}}function rt(Q,$,it,ct){Q.mounted[$]=it,Q.listenerOpts[$]=ct,(0,i.Oo)(Q.domTarget,$,it,ct)}function et(Q){var $=Q.mounted;for(var it in $)$.hasOwnProperty(it)&&(0,i.xg)(Q.domTarget,it,$[it],Q.listenerOpts[it]);Q.mounted={}}var ut=function(){function Q($,it){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=$,this.domHandlers=it}return Q}(),dt=function(Q){(0,t.ZT)($,Q);function $(it,ct){var Ct=Q.call(this)||this;return Ct.__pointerCapturing=!1,Ct.dom=it,Ct.painterRoot=ct,Ct._localHandlerScope=new ut(it,j),F&&(Ct._globalHandlerScope=new ut(document,at)),ft(Ct,Ct._localHandlerScope),Ct}return $.prototype.dispose=function(){et(this._localHandlerScope),F&&et(this._globalHandlerScope)},$.prototype.setCursor=function(it){this.dom.style&&(this.dom.style.cursor=it||"default")},$.prototype.__togglePointerCapture=function(it){if(this.__mayPointerCapture=null,F&&+this.__pointerCapturing^+it){this.__pointerCapturing=it;var ct=this._globalHandlerScope;it?pt(this,ct):et(ct)}},$}(h.Z),ot=dt,_t=R(96170),lt=R(62623),Mt=R(2574);var Dt={},Et={};function St(Q){delete Et[Q]}function It(Q){if(!Q)return!1;if(typeof Q=="string")return(0,_t.lum)(Q,1)<lt.Ak;if(Q.colorStops){for(var $=Q.colorStops,it=0,ct=$.length,Ct=0;Ct<ct;Ct++)it+=(0,_t.lum)($[Ct].color,1);return it/=ct,it<lt.Ak}return!1}var mt=function(){function Q($,it,ct){var Ct=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,ct=ct||{},this.dom=it,this.id=$;var Zt=new x,Lt=ct.renderer||"canvas";Dt[Lt]||(Lt=s.XP(Dt)[0]),ct.useDirtyRect=ct.useDirtyRect==null?!1:ct.useDirtyRect;var bt=new Dt[Lt](it,Zt,ct,$),Ft=ct.ssr||bt.ssrOnly;this.storage=Zt,this.painter=bt;var zt=!p.Z.node&&!p.Z.worker&&!Ft?new ot(bt.getViewportRoot(),bt.root):null,Ht=ct.useCoarsePointer,jt=Ht==null||Ht==="auto"?p.Z.touchEventsSupported:!!Ht,kt=44,Qt;jt&&(Qt=s.pD(ct.pointerSize,kt)),this.handler=new d(Zt,bt,zt,bt.root,Qt),this.animation=new K({stage:{update:Ft?null:function(){return Ct._flush(!0)}}}),Ft||this.animation.start()}return Q.prototype.add=function($){$&&(this.storage.addRoot($),$.addSelfToZr(this),this.refresh())},Q.prototype.remove=function($){$&&(this.storage.delRoot($),$.removeSelfFromZr(this),this.refresh())},Q.prototype.configLayer=function($,it){this.painter.configLayer&&this.painter.configLayer($,it),this.refresh()},Q.prototype.setBackgroundColor=function($){this.painter.setBackgroundColor&&this.painter.setBackgroundColor($),this.refresh(),this._backgroundColor=$,this._darkMode=It($)},Q.prototype.getBackgroundColor=function(){return this._backgroundColor},Q.prototype.setDarkMode=function($){this._darkMode=$},Q.prototype.isDarkMode=function(){return this._darkMode},Q.prototype.refreshImmediately=function($){$||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},Q.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},Q.prototype.flush=function(){this._flush(!1)},Q.prototype._flush=function($){var it,ct=N();this._needsRefresh&&(it=!0,this.refreshImmediately($)),this._needsRefreshHover&&(it=!0,this.refreshHoverImmediately());var Ct=N();it?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Ct-ct})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Q.prototype.setSleepAfterStill=function($){this._sleepAfterStill=$},Q.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},Q.prototype.refreshHover=function(){this._needsRefreshHover=!0},Q.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},Q.prototype.resize=function($){$=$||{},this.painter.resize($.width,$.height),this.handler.resize()},Q.prototype.clearAnimation=function(){this.animation.clear()},Q.prototype.getWidth=function(){return this.painter.getWidth()},Q.prototype.getHeight=function(){return this.painter.getHeight()},Q.prototype.setCursorStyle=function($){this.handler.setCursorStyle($)},Q.prototype.findHover=function($,it){return this.handler.findHover($,it)},Q.prototype.on=function($,it,ct){return this.handler.on($,it,ct),this},Q.prototype.off=function($,it){this.handler.off($,it)},Q.prototype.trigger=function($,it){this.handler.trigger($,it)},Q.prototype.clear=function(){for(var $=this.storage.getRoots(),it=0;it<$.length;it++)$[it]instanceof Mt.Z&&$[it].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},Q.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,St(this.id)},Q}();function xt(Q,$){var it=new mt(s.M8(),Q,$);return Et[it.id]=it,it}function Rt(Q){Q.dispose()}function k(){for(var Q in Et)Et.hasOwnProperty(Q)&&Et[Q].dispose();Et={}}function tt(Q){return Et[Q]}function gt(Q,$){Dt[Q]=$}var Pt="5.4.3"},80488:function(ht){function q(R,p){(p==null||p>R.length)&&(p=R.length);for(var s=0,t=new Array(p);s<p;s++)t[s]=R[s];return t}ht.exports=q,ht.exports.__esModule=!0,ht.exports.default=ht.exports},62710:function(ht){function q(R){if(Array.isArray(R))return R}ht.exports=q,ht.exports.__esModule=!0,ht.exports.default=ht.exports},95223:function(ht,q,R){var p=R(72535);function s(t,r,e){return r=p(r),r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}ht.exports=s,ht.exports.__esModule=!0,ht.exports.default=ht.exports},2594:function(ht){function q(){return ht.exports=q=Object.assign?Object.assign.bind():function(R){for(var p=1;p<arguments.length;p++){var s=arguments[p];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(R[t]=s[t])}return R},ht.exports.__esModule=!0,ht.exports.default=ht.exports,q.apply(this,arguments)}ht.exports=q,ht.exports.__esModule=!0,ht.exports.default=ht.exports},40800:function(ht){function q(R,p){var s=R==null?null:typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(s!=null){var t,r,e,n,o=[],h=!0,i=!1;try{if(e=(s=s.call(R)).next,p===0){if(Object(s)!==s)return;h=!1}else for(;!(h=(t=e.call(s)).done)&&(o.push(t.value),o.length!==p);h=!0);}catch(a){i=!0,r=a}finally{try{if(!h&&s.return!=null&&(n=s.return(),Object(n)!==n))return}finally{if(i)throw r}}return o}}ht.exports=q,ht.exports.__esModule=!0,ht.exports.default=ht.exports},98575:function(ht){function q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ht.exports=q,ht.exports.__esModule=!0,ht.exports.default=ht.exports},75510:function(ht,q,R){var p=R(95223);function s(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(h){return Object.getOwnPropertyDescriptor(r,h).enumerable})),n.push.apply(n,o)}return n}function t(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(o){p(r,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))})}return r}ht.exports=t,ht.exports.__esModule=!0,ht.exports.default=ht.exports},44020:function(ht,q,R){var p=R(81104);function s(t,r){if(t==null)return{};var e=p(t,r),n,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(o=0;o<h.length;o++)n=h[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(e[n]=t[n])}return e}ht.exports=s,ht.exports.__esModule=!0,ht.exports.default=ht.exports},81104:function(ht){function q(R,p){if(R==null)return{};var s={},t=Object.keys(R),r,e;for(e=0;e<t.length;e++)r=t[e],!(p.indexOf(r)>=0)&&(s[r]=R[r]);return s}ht.exports=q,ht.exports.__esModule=!0,ht.exports.default=ht.exports},30346:function(ht,q,R){var p=R(62710),s=R(40800),t=R(44241),r=R(98575);function e(n,o){return p(n)||s(n,o)||t(n,o)||r()}ht.exports=e,ht.exports.__esModule=!0,ht.exports.default=ht.exports},94946:function(ht,q,R){var p=R(95543).default;function s(t,r){if(p(t)!=="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,r||"default");if(p(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}ht.exports=s,ht.exports.__esModule=!0,ht.exports.default=ht.exports},72535:function(ht,q,R){var p=R(95543).default,s=R(94946);function t(r){var e=s(r,"string");return p(e)==="symbol"?e:String(e)}ht.exports=t,ht.exports.__esModule=!0,ht.exports.default=ht.exports},95543:function(ht){function q(R){"@babel/helpers - typeof";return ht.exports=q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},ht.exports.__esModule=!0,ht.exports.default=ht.exports,q(R)}ht.exports=q,ht.exports.__esModule=!0,ht.exports.default=ht.exports},44241:function(ht,q,R){var p=R(80488);function s(t,r){if(t){if(typeof t=="string")return p(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return p(t,r)}}ht.exports=s,ht.exports.__esModule=!0,ht.exports.default=ht.exports}}]);
